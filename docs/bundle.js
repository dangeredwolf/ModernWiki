// This is solely property of Twitter, Inc. and is included for personal markup and research purposes only.

webpackJsonp([1], [function(e, t, i) {
    i(617),
    e.exports = i(575)
}
, , function(e, t, i) {
    var s = i(6)
      , n = i(45)
      , r = i(23)
      , o = i(24)
      , a = i(46)
      , c = "prototype"
      , l = function(e, t, i) {
        var u, d, h, m, p = e & l.F, f = e & l.G, g = e & l.S, v = e & l.P, T = e & l.B, w = f ? s : g ? s[t] || (s[t] = {}) : (s[t] || {})[c], b = f ? n : n[t] || (n[t] = {}), y = b[c] || (b[c] = {});
        f && (i = t);
        for (u in i)
            d = !p && w && void 0 !== w[u],
            h = (d ? w : i)[u],
            m = T && d ? a(h, s) : v && "function" == typeof h ? a(Function.call, h) : h,
            w && o(w, u, h, e & l.U),
            b[u] != h && r(b, u, m),
            v && y[u] != h && (y[u] = h)
    }
    ;
    s.core = n,
    l.F = 1,
    l.G = 2,
    l.S = 4,
    l.P = 8,
    l.B = 16,
    l.W = 32,
    l.U = 64,
    l.R = 128,
    e.exports = l
}
, [877, 10], function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.render = function(e, t) {
                this.$node.html(this.toHtml(e, t))
            }
            ,
            this.renderTemplate = function(e, t) {
                return $(TD.ui.template.render(e, t))
            }
            ,
            this.toHtml = function(e, t) {
                return TD.ui.template.render(e, t)
            }
            ,
            this.toHtmlFromRaw = function(e, t) {
                var i = Hogan.compile(e);
                return i.render(t)
            }
            ,
            this.toURLFromRaw = function(e, t) {
                return e.replace(/\{\{([^}]+?)\}\}/g, function(e, i) {
                    return encodeURIComponent(t[i])
                })
            }
        }
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t) {
    e.exports = function(e) {
        try {
            return !!e()
        } catch (t) {
            return !0
        }
    }
}
, function(e, t) {
    var i = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = i)
}
, , , function(e, t) {
    "use strict";
    function i(e) {
        e = e.replace(h, "/");
        var t = m[e];
        return void 0 === t && (t = c.getHogan(e),
        t = l.compile(t, p),
        m[e] = t),
        t
    }
    function s(e, t) {
        var s = this.partials[e];
        return t = t || {},
        t[s.name] || (t[s.name] = i(s.name)),
        Hogan.Template.prototype.ep.call(this, e, t)
    }
    function n(e, t, i) {
        for (var s = Hogan.parse.call(this, e, t, i), n = "", o = 0; o < s.length; o++)
            if ("_v" === s[o].tag && 0 === s[o].n.indexOf("%TRANSLATION-HINT")) {
                var a = s.splice(o, 1)[0];
                o--,
                n = a.n.substring(a.n.indexOf("mode=") + "mode=".length)
            }
        return r(s, n, t, i)
    }
    function r(e, t, i, s) {
        for (var n = [], c = 0; c < e.length; c++)
            if ("#" === e[c].tag && "_i" === e[c].n) {
                var l = a(i.substring(e[c].i, e[c].end), t);
                "raw" === l.tag ? n.push(l) : Array.prototype.push.apply(n, Hogan.parse(Hogan.scan(l, s.delimiters), i, s))
            } else
                "#" === e[c].tag || "^" === e[c].tag || "<" === e[c].tag || "$" === e[c].tag ? (e[c].nodes = r(e[c].nodes, t, i, s),
                n.push(e[c])) : n.push(e[c]);
        return o(n)
    }
    function o(e) {
        if (0 === e.length)
            return e;
        for (var t = [e[0]], i = 1; i < e.length; i++)
            if ("_t" !== t[t.length - 1].tag || "\n" !== e[i].tag && "_t" !== e[i].tag)
                t.push(e[i]);
            else {
                var s = t[t.length - 1]
                  , n = e[i].text;
                void 0 === n && (n = "\n"),
                s.text += "" + n
            }
        return t
    }
    function a(e, t) {
        var i;
        return i = "" !== t ? {
            text: e,
            mode: t
        } : e,
        TD.i(i, null , !0)
    }
    var c = {};
    e.exports = c;
    var l, u, d, h = /\\/g, m = {}, p = {
        sectionTags: [{
            o: "_i",
            c: "i"
        }]
    };
    d = function(e, t, i, n) {
        this.ep = s,
        Hogan.Template.call(this, e, t, i, n)
    }
    ,
    d.prototype = Hogan.Template.prototype,
    u = function() {}
    ,
    u.prototype = Hogan,
    l = new u,
    l.template = d,
    l.parse = n,
    c.getHogan = function(e) {
        var t = e + ".mustache"
          , i = TD.mustaches[t];
        return void 0 === i ? console.error('TD.mustaches["' + t + '"] is not defined') : i = i.trim(),
        i
    }
    ,
    c.render = function(e, t, s) {
        var n, r = i(e), o = [];
        t = t || {};
        for (var a in TD.globalRenderOptions)
            void 0 === t[a] && (t[a] = TD.globalRenderOptions[a],
            o.push(a));
        return n = r.render(t, s),
        o.forEach(function(e) {
            delete t[e]
        }),
        n.trim()
    }
    ,
    c.toHtml = function(e, t, i) {
        var s = l.compile(e, p);
        return s.render(t, i).trim()
    }
    ,
    c.toHtmlFromRaw = function(e, t) {
        var i = Hogan.compile(e);
        return i.render(t)
    }
    ,
    c.toURLFromRaw = function(e, t) {
        return e.replace(/\{\{([^}]+?)\}\}/g, function(e, i) {
            return encodeURIComponent(t[i])
        })
    }
}
, function(e, t) {
    e.exports = function(e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
    }
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.getClientByAccountKey = function(e) {
                var t;
                return t = e ? TD.controller.clients.getClient(e) : this.getTwitterClient("twitter")
            }
            ,
            this.getClientByAccount = function(e) {
                return this.getClientByAccountKey(e.getKey())
            }
            ,
            this.getPreferredClient = function(e) {
                return TD.controller.clients.getPreferredClient(e)
            }
            ,
            this.getTwitterClient = function() {
                return this.getPreferredClient("twitter")
            }
            ,
            this.getTweetDeckClient = function() {
                return this.getClientsByService("tweetdeck")[0]
            }
            ,
            this.getClientsByService = function(e) {
                return TD.controller.clients.getClientsByService(e)
            }
            ,
            this.getAccountData = function(e) {
                var t = this.getClientByAccountKey(e);
                if (!t)
                    return null ;
                var i = t.oauth.account;
                return {
                    accountKey: e,
                    id: i.getUserID(),
                    screenName: i.getUsername(),
                    profileImageURL: i.getProfileImageURL()
                }
            }
        }
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, [922, 110, 61, 6], [881, 5], [899, 3, 203, 41, 13], [917, 53], [918, 36], function(e, t) {
    var i = {}.hasOwnProperty;
    e.exports = function(e, t) {
        return i.call(e, t)
    }
}
, function(e, t, i) {
    e.exports = {
        "default": i(804),
        __esModule: !0
    }
}
, function(e, t, i) {
    e.exports = {
        "default": i(803),
        __esModule: !0
    }
}
, , , function(e, t, i) {
    var s;
    s = function() {
        function e() {
            this.attributes({
                service: "twitter",
                twitterUrlForOAuthEcho: "https://api.twitter.com/1.1/account/verify_credentials.json"
            }),
            this.getTwitterLoginAccount = function() {
                return this.serializeAccount(TD.storage.store.getTwitterLoginAccount())
            }
            ,
            this.getDefaultAccount = function() {
                return this.serializeAccount(TD.storage.accountController.getDefault()) || null
            }
            ,
            this.setDefaultAccount = function(e) {
                TD.storage.accountController.setDefault(e)
            }
            ,
            this.getAccount = function(e) {
                return this.serializeAccount(TD.storage.accountController.get(e))
            }
            ,
            this.removeAccount = function(e) {
                TD.controller.clients.removeClient(e)
            }
            ,
            this.getAccountsForService = function(e) {
                var t = TD.storage.accountController.getAccountsForService(e);
                return this.serializeAccounts(t).sort(this.sortAccounts)
            }
            ,
            this.getTwitterAccounts = function() {
                return this.getAccountsForService("twitter")
            }
            ,
            this.getAccountFromId = function(e) {
                return this.serializeAccount(TD.storage.accountController.getAccountFromId(e))
            }
            ,
            this.serializeAccount = function(e) {
                if (e) {
                    var t = TD.storage.accountController.getDefault()
                      , i = TD.storage.store.getTwitterLoginAccount();
                    return {
                        name: e.getName(),
                        accountKey: e.getKey(),
                        profileImageURL: e.getProfileImageURL(),
                        userId: e.getUserID(),
                        screenName: e.getUsername(),
                        isProtected: e.getIsPrivate(),
                        isDefault: e === t,
                        isTwoginAccount: e === i,
                        isAdmin: e.getIsAdmin(),
                        isContributor: e.isContributor(),
                        isCookieUser: e.isCookieUser(),
                        isMissingUserData: e.isMissingUserData(),
                        hasClient: !!TD.controller.clients.getClient(e.getKey())
                    }
                }
            }
            ,
            this.serializeAccounts = function(e) {
                return e.filter(Boolean).map(this.serializeAccount.bind(this))
            }
            ,
            this.filterAccountsWithClient = function(e) {
                return e.filter(function(e) {
                    return e.hasClient
                })
            }
            ,
            this.sortAccounts = function(e, t) {
                var i, s;
                if (TD.storage.store.getTwitterLoginAccount()) {
                    if (e.isTwoginAccount)
                        return -1;
                    if (t.isTwoginAccount)
                        return 1
                } else {
                    if (e.isDefault)
                        return -1;
                    if (t.isDefault)
                        return 1
                }
                return i = e.screenName.toLowerCase(),
                s = t.screenName.toLowerCase(),
                s > i ? -1 : i > s ? 1 : 0
            }
            ,
            this.reauthorizeAccount = function(e) {
                var t = TD.storage.accountController.get(e);
                TD.controller.clients.addClient(this.attr.service, t, !0)
            }
            ,
            this.addAccount = function() {
                TD.controller.clients.addClient(this.attr.service)
            }
            ,
            this.updateAccount = function(e, t) {
                var i = TD.storage.accountController.get(e);
                t.id === i.getUserID() && (i.setUsername(t.screenName),
                i.setName(t.name),
                i.setProfileImageURL(t.profileImageURL),
                i.setIsPrivate(t.isProtected),
                i.setUpdated((new Date).getTime()))
            }
            ,
            this.setIsAdmin = function(e, t) {
                var i = TD.storage.accountController.get(e);
                i.setIsAdmin(t)
            }
            ,
            this.getHttpHeadersForOAuthEcho = function() {
                return TD.net.ajax.signRequest(TD.storage.store.getTwitterLoginAccount(), this.attr.twitterUrlForOAuthEcho, "GET").addCallback(function(e) {
                    return {
                        "X-Auth-Service-Provider": e.data.url,
                        "X-Verify-Credentials-Authorization": e.data.headers.Authorization
                    }
                })
            }
        }
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, [885, 14, 52, 13], function(e, t, i) {
    var s = i(6)
      , n = i(23)
      , r = i(17)
      , o = i(61)("src")
      , a = "toString"
      , c = Function[a]
      , l = ("" + c).split(a);
    i(45).inspectSource = function(e) {
        return c.call(e)
    }
    ,
    (e.exports = function(e, t, i, a) {
        var c = "function" == typeof i;
        c && (r(i, "name") || n(i, "name", t)),
        e[t] !== i && (c && (r(i, o) || n(i, o, e[t] ? "" + e[t] : l.join(String(t)))),
        e === s ? e[t] = i : a ? e[t] ? e[t] = i : n(e, t, i) : (delete e[t],
        n(e, t, i)))
    }
    )(Function.prototype, a, function() {
        return "function" == typeof this && this[o] || c.call(this)
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(5)
      , r = i(36)
      , o = /"/g
      , a = function(e, t, i, s) {
        var n = String(r(e))
          , a = "<" + t;
        return "" !== i && (a += " " + i + '="' + String(s).replace(o, "&quot;") + '"'),
        a + ">" + n + "</" + t + ">"
    }
    ;
    e.exports = function(e, t) {
        var i = {};
        i[e] = t(a),
        s(s.P + s.F * n(function() {
            var t = ""[e]('"');
            return t !== t.toLowerCase() || t.split('"').length > 3
        }), "String", i)
    }
}
, [916, 82, 36], [922, 159, 117, 33], , function(e, t, i) {
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n, r = i(112), o = s(r), a = i(18), c = s(a);
    n = function(e) {
        var t = i(21)
          , s = {};
        return s.shallowEquals = function() {
            return function(e, t) {
                try {
                    return _.union((0,
                    c.default)(e), (0,
                    c.default)(t)).every(function(i) {
                        return t[i] === e[i]
                    })
                } catch (i) {
                    return !0
                }
            }
        }
        ,
        s.filterKeys = function(e) {
            return function(t) {
                return e && "object" === ("undefined" == typeof t ? "undefined" : (0,
                o.default)(t)) ? e.reduce(function(e, i) {
                    return t.hasOwnProperty(i) && (e[i] = t[i]),
                    e
                }, {}) : t
            }
        }
        ,
        s.fromDeferred = function(e) {
            var i = new t.AsyncSubject;
            return e.addCallbacksWith(i, function(e) {
                i.onNext(e),
                i.onCompleted()
            }, i.onError),
            i.asObservable()
        }
        ,
        s.makeFromDeferred = function(e, t) {
            return function() {
                return s.fromDeferred(e.apply(t || this, arguments))
            }
        }
        ,
        s.fromEventOnce = function(e, i) {
            var s = new t.AsyncSubject;
            return $(e).one(i, function(e) {
                s.onNext(e),
                s.onCompleted()
            }),
            s.asObservable()
        }
        ,
        s
    }
    .call(t, i, t, e),
    !(void 0 !== n && (e.exports = n))
}
, function(e, t, i) {
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n, r = i(18), o = s(r);
    n = function() {
        "use strict";
        function e() {
            this.before("initialize", function() {
                this.watchedDeciders = {},
                this.watchedAccessLevels = {}
            }),
            this.after("initialize", function() {
                this.on(document, "dataDeciderUpdated", this.handleDecidersChanged)
            }),
            this.watchAccessLevel = function(e, t, i) {
                if ("string" != typeof e)
                    throw new TypeError("watchAccessLevel feature must be a string");
                if ("string" != typeof t)
                    throw new TypeError("watchAccessLevel level must be a string");
                if ("function" != typeof i)
                    throw new TypeError("watchAccessLevel callback must be a function");
                var s = [e, t, i];
                this.watchedAccessLevels[s] = this.watchedAccessLevels[s] || {
                    feature: e,
                    level: t,
                    value: TD.decider.hasAccessLevel(e, t),
                    callback: i
                }
            }
            ,
            this.watchDecider = function(e, t) {
                if ("string" != typeof e)
                    throw new TypeError("watchDecider decider key list must be a string");
                if ("function" != typeof t)
                    throw new TypeError("watchDecider callback must be a function");
                e.split(" ").forEach(function(e) {
                    this.watchedDeciders[e] = this.watchedDeciders[e] || {
                        value: this.getDecider(e)
                    },
                    this.watchedDeciders[e].callback = t
                }
                .bind(this))
            }
            ,
            this.handleDecidersChanged = function() {
                (0,
                o.default)(this.watchedDeciders).forEach(function(e) {
                    var t = this.watchedDeciders[e]
                      , i = t.value
                      , s = this.getDecider(e);
                    i !== s && (t.value = s,
                    t.callback.call(this, s, i, e))
                }
                .bind(this)),
                (0,
                o.default)(this.watchedAccessLevels).forEach(function(e) {
                    var t = this.watchedAccessLevels[e]
                      , i = t.value
                      , s = TD.decider.hasAccessLevel(t.feature, t.level);
                    i !== s && (t.value = s,
                    t.callback.call(this, s, i, {
                        feature: t.feature,
                        level: t.level
                    }))
                }
                .bind(this))
            }
            ,
            this.getDecider = function(e) {
                return TD.decider.get(e)
            }
        }
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== n && (e.exports = n))
}
, [901, 83, 52, 26, 41, 17, 203, 13], [904, 17, 16, 142], 6, function(e, t) {
    e.exports = function(e) {
        if ("function" != typeof e)
            throw TypeError(e + " is not a function!");
        return e
    }
}
, function(e, t) {
    var i = {}.toString;
    e.exports = function(e) {
        return i.call(e).slice(8, -1)
    }
}
, function(e, t) {
    e.exports = function(e) {
        if (void 0 == e)
            throw TypeError("Can't call method on  " + e);
        return e
    }
}
, function(e, t, i) {
    var s = i(5);
    e.exports = function(e, t) {
        return !!e && s(function() {
            t ? e.call(null , function() {}, 1) : e.call(null )
        })
    }
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.measureElementHeight = function(e, t) {
                var i = $(e);
                return i.removeClass(t),
                i.height()
            }
            ,
            this.animateHeight = function(e, t, i, s) {
                var n, r, o = this.measureElementHeight(e, t), a = function() {
                    "function" == typeof i && i(),
                    "collapse" === s && e.css("height", "")
                }
                ;
                "expand" === s ? (n = 0,
                r = o) : (n = o,
                r = 0),
                this.animateHeightFromTo(e, n, r, t, a)
            }
            ,
            this.animateHeightFromTo = function(e, t, i, s, n) {
                var r = function() {
                    e.removeClass(s),
                    e.trigger("uiTransitionExpandEnd"),
                    "function" == typeof n && n()
                }
                ;
                return t === i ? void (n && n()) : (e.css({
                    height: t
                }),
                void _.defer(function() {
                    e.addClass(s),
                    e.trigger("uiTransitionExpandStart", {
                        delta: i - t
                    }),
                    e.one("transitionend", r),
                    e.height(i)
                }))
            }
            ,
            this.animateElementContentHeight = function(e, t, i, s) {
                var n = function() {
                    e.html(t)
                }
                ;
                this.animateElementHeightChange(e, n, i, s)
            }
            ,
            this.animateElementHeightChange = function(e, t, i, s) {
                var n, r = this.measureElementHeight(e, i);
                e.css({
                    height: ""
                }),
                t(),
                n = this.measureElementHeight(e),
                this.animateHeightFromTo(e, r, n, i, s)
            }
            ,
            this.deferredAnimateElementHeightChange = function(e, t, i) {
                i = _.defaults(i || {}, {
                    isAnimatingClass: ""
                });
                var s = new TD.core.defer.Deferred;
                return this.animateElementHeightChange(e, t, i.isAnimatingClass, s.callback.bind(s)),
                s
            }
            ,
            this.transitionExpand = function(e, t, i) {
                this.animateHeight(e, t, i, "expand")
            }
            ,
            this.transitionCollapse = function(e, t, i) {
                this.animateHeight(e, t, i, "collapse")
            }
            ,
            this.transitionTop = function(e, t, i, s) {
                var n = function() {
                    e.removeClass(t),
                    "function" == typeof s && s()
                }
                ;
                e.addClass(t),
                e.one("transitionend", n),
                e.css("top", i)
            }
            ,
            this.addAnimateClass = function(e, t, i) {
                i = i || function() {}
                ,
                e.one("animationend webkitAnimationEnd", function() {
                    e.removeClass(t),
                    i()
                }),
                e.addClass(t)
            }
            ,
            this.stopAnimation = function(e, t) {
                e.off("animationend webkitAnimationEnd"),
                e.removeClass(t)
            }
        }
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s = i(46)
      , n = i(82)
      , r = i(16)
      , o = i(15)
      , a = i(620);
    e.exports = function(e, t) {
        var i = 1 == e
          , c = 2 == e
          , l = 3 == e
          , u = 4 == e
          , d = 6 == e
          , h = 5 == e || d
          , m = t || a;
        return function(t, a, p) {
            for (var f, g, v = r(t), T = n(v), w = s(a, p, 3), b = o(T.length), y = 0, D = i ? m(t, b) : c ? m(t, 0) : void 0; b > y; y++)
                if ((h || y in T) && (f = T[y],
                g = w(f, y, v),
                e))
                    if (i)
                        D[y] = g;
                    else if (g)
                        switch (e) {
                        case 3:
                            return !0;
                        case 5:
                            return f;
                        case 6:
                            return y;
                        case 2:
                            D.push(f)
                        }
                    else if (u)
                        return !1;
            return d ? -1 : l || u ? u : D
        }
    }
}
, [907, 2, 45, 5], [919, 10], function(e, t) {
    var i = e.exports = {
        version: "2.3.0"
    };
    "number" == typeof __e && (__e = i)
}
, , function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(11);
        return function() {
            t.mixin(this, [s]),
            this.after("initialize", function() {
                this.attr.baseUrl = this.attr.baseUrl || TD.config.twitter_api_base,
                this.attr.apiVersion = this.attr.apiVersion || TD.config.twitter_api_version
            }),
            this.wrapTwitterApiErrback = function(e) {
                return function(t) {
                    var i = {
                        request: e.request,
                        response: t
                    };
                    "function" == typeof e.error ? e.error(i) : "string" == typeof e.error ? this.trigger(e.error, i) : this.trigger("dataTwitterApiError", {
                        error: "Unknown error"
                    })
                }
                .bind(this)
            }
            ,
            this.wrapTwitterApiCallback = function(e, t) {
                return function(i) {
                    var s = {
                        request: e.request,
                        response: i
                    };
                    "function" == typeof e.success ? e.success(s) : "string" == typeof e.success ? this.trigger(e.success, s) : this.trigger("dataTwitterApiSuccess", s),
                    e.processAsStreamData && t.processStreamData(i)
                }
                .bind(this)
            }
            ,
            this.makeTwitterApiCall = function(e) {
                e = e || {};
                var t, i, s = this.getClientByAccountKey(e.request.accountKey), n = this.wrapTwitterApiErrback(e, s), r = this.wrapTwitterApiCallback(e, s);
                t = this.withTwitterApiUrl(e),
                i = e.method || "GET";
                try {
                    return s.makeTwitterCall(t, e.params, i, e.dataProcessor, r, n, e.feedType)
                } catch (o) {
                    n()
                }
            }
            ,
            this.makeTwitterRequest = function(e, t, i) {
                var s = this.getClientByAccountKey(e)
                  , n = this.withTwitterApiUrl({
                    resource: t
                });
                return s ? s.request(n, i) : TD.core.defer.fail("Could not find client for " + e)
            }
            ,
            this.withTwitterApiUrl = function(e) {
                var t = [];
                return t.push(e.baseUrl || this.attr.baseUrl),
                t.push(e.apiVersion || this.attr.apiVersion),
                t.push(e.resource),
                t.join("/")
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, 42, [880, 34], function(e, t, i) {
    var s = i(219)
      , n = i(2)
      , r = i(110)("metadata")
      , o = r.store || (r.store = new (i(222)))
      , a = function(e, t, i) {
        var n = o.get(e);
        if (!n) {
            if (!i)
                return;
            o.set(e, n = new s)
        }
        var r = n.get(t);
        if (!r) {
            if (!i)
                return;
            n.set(t, r = new s)
        }
        return r
    }
      , c = function(e, t, i) {
        var s = a(t, i, !1);
        return void 0 === s ? !1 : s.has(e)
    }
      , l = function(e, t, i) {
        var s = a(t, i, !1);
        return void 0 === s ? void 0 : s.get(e)
    }
      , u = function(e, t, i, s) {
        a(i, s, !0).set(e, t)
    }
      , d = function(e, t) {
        var i = a(e, t, !1)
          , s = [];
        return i && i.forEach(function(e, t) {
            s.push(t)
        }),
        s
    }
      , h = function(e) {
        return void 0 === e || "symbol" == typeof e ? e : String(e)
    }
      , m = function(e) {
        n(n.S, "Reflect", e)
    }
    ;
    e.exports = {
        store: o,
        map: a,
        has: c,
        get: l,
        set: u,
        keys: d,
        key: h,
        exp: m
    }
}
, function(e, t, i) {
    "use strict";
    if (i(13)) {
        var s = i(56)
          , n = i(6)
          , r = i(5)
          , o = i(2)
          , a = i(111)
          , c = i(149)
          , l = i(46)
          , u = i(54)
          , d = i(52)
          , h = i(23)
          , m = i(73)
          , p = (i(137),
        i(53))
          , f = i(15)
          , g = i(60)
          , v = i(41)
          , T = i(17)
          , w = i(216)
          , b = i(72)
          , y = i(10)
          , D = i(16)
          , C = i(135)
          , _ = i(57)
          , S = i(32)
          , A = i(58).f
          , E = (i(627),
        i(151))
          , I = i(61)
          , k = i(12)
          , x = i(39)
          , M = i(100)
          , R = i(143)
          , F = i(152)
          , L = i(55)
          , O = i(106)
          , N = i(74)
          , U = i(128)
          , j = i(196)
          , P = i(14)
          , $ = i(31)
          , B = P.f
          , H = $.f
          , K = n.RangeError
          , z = n.TypeError
          , q = n.Uint8Array
          , W = "ArrayBuffer"
          , V = "Shared" + W
          , G = "BYTES_PER_ELEMENT"
          , Y = "prototype"
          , Q = Array[Y]
          , J = c.ArrayBuffer
          , X = c.DataView
          , Z = x(0)
          , ee = x(2)
          , te = x(3)
          , ie = x(4)
          , se = x(5)
          , ne = x(6)
          , re = M(!0)
          , oe = M(!1)
          , ae = F.values
          , ce = F.keys
          , le = F.entries
          , ue = Q.lastIndexOf
          , de = Q.reduce
          , he = Q.reduceRight
          , me = Q.join
          , pe = Q.sort
          , fe = Q.slice
          , ge = Q.toString
          , ve = Q.toLocaleString
          , Te = k("iterator")
          , we = k("toStringTag")
          , be = I("typed_constructor")
          , ye = I("def_constructor")
          , De = a.CONSTR
          , Ce = a.TYPED
          , _e = a.VIEW
          , Se = "Wrong length!"
          , Ae = x(1, function(e, t) {
            return Re(R(e, e[ye]), t)
        })
          , Ee = r(function() {
            return 1 === new q(new Uint16Array([1]).buffer)[0]
        })
          , Ie = !!q && !!q[Y].set && r(function() {
            new q(1).set({})
        })
          , ke = function(e, t) {
            if (void 0 === e)
                throw z(Se);
            var i = +e
              , s = f(e);
            if (t && !w(i, s))
                throw K(Se);
            return s
        }
          , xe = function(e, t) {
            var i = p(e);
            if (0 > i || i % t)
                throw K("Wrong offset!");
            return i
        }
          , Me = function(e) {
            if (y(e) && Ce in e)
                return e;
            throw z(e + " is not a typed array!")
        }
          , Re = function(e, t) {
            if (!(y(e) && be in e))
                throw z("It is not a typed array constructor!");
            return new e(t)
        }
          , Fe = function(e, t) {
            return Le(R(e, e[ye]), t)
        }
          , Le = function(e, t) {
            for (var i = 0, s = t.length, n = Re(e, s); s > i; )
                n[i] = t[i++];
            return n
        }
          , Oe = function(e, t, i) {
            B(e, t, {
                get: function() {
                    return this._d[i]
                }
            })
        }
          , Ne = function(e) {
            var t, i, s, n, r, o, a = D(e), c = arguments.length, u = c > 1 ? arguments[1] : void 0, d = void 0 !== u, h = E(a);
            if (void 0 != h && !C(h)) {
                for (o = h.call(a),
                s = [],
                t = 0; !(r = o.next()).done; t++)
                    s.push(r.value);
                a = s
            }
            for (d && c > 2 && (u = l(u, arguments[2], 2)),
            t = 0,
            i = f(a.length),
            n = Re(this, i); i > t; t++)
                n[t] = d ? u(a[t], t) : a[t];
            return n
        }
          , Ue = function() {
            for (var e = 0, t = arguments.length, i = Re(this, t); t > e; )
                i[e] = arguments[e++];
            return i
        }
          , je = !!q && r(function() {
            ve.call(new q(1))
        })
          , Pe = function() {
            return ve.apply(je ? fe.call(Me(this)) : Me(this), arguments)
        }
          , $e = {
            copyWithin: function(e, t) {
                return j.call(Me(this), e, t, arguments.length > 2 ? arguments[2] : void 0)
            },
            every: function(e) {
                return ie(Me(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            fill: function(e) {
                return U.apply(Me(this), arguments)
            },
            filter: function(e) {
                return Fe(this, ee(Me(this), e, arguments.length > 1 ? arguments[1] : void 0))
            },
            find: function(e) {
                return se(Me(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            findIndex: function(e) {
                return ne(Me(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            forEach: function(e) {
                Z(Me(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            indexOf: function(e) {
                return oe(Me(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            includes: function(e) {
                return re(Me(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            join: function(e) {
                return me.apply(Me(this), arguments)
            },
            lastIndexOf: function(e) {
                return ue.apply(Me(this), arguments)
            },
            map: function(e) {
                return Ae(Me(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            reduce: function(e) {
                return de.apply(Me(this), arguments)
            },
            reduceRight: function(e) {
                return he.apply(Me(this), arguments)
            },
            reverse: function() {
                for (var e, t = this, i = Me(t).length, s = Math.floor(i / 2), n = 0; s > n; )
                    e = t[n],
                    t[n++] = t[--i],
                    t[i] = e;
                return t
            },
            some: function(e) {
                return te(Me(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            sort: function(e) {
                return pe.call(Me(this), e)
            },
            subarray: function(e, t) {
                var i = Me(this)
                  , s = i.length
                  , n = g(e, s);
                return new (R(i, i[ye]))(i.buffer,i.byteOffset + n * i.BYTES_PER_ELEMENT,f((void 0 === t ? s : g(t, s)) - n))
            }
        }
          , Be = function(e, t) {
            return Fe(this, fe.call(Me(this), e, t))
        }
          , He = function(e) {
            Me(this);
            var t = xe(arguments[1], 1)
              , i = this.length
              , s = D(e)
              , n = f(s.length)
              , r = 0;
            if (n + t > i)
                throw K(Se);
            for (; n > r; )
                this[t + r] = s[r++]
        }
          , Ke = {
            entries: function() {
                return le.call(Me(this))
            },
            keys: function() {
                return ce.call(Me(this))
            },
            values: function() {
                return ae.call(Me(this))
            }
        }
          , ze = function(e, t) {
            return y(e) && e[Ce] && "symbol" != typeof t && t in e && String(+t) == String(t)
        }
          , qe = function(e, t) {
            return ze(e, t = v(t, !0)) ? d(2, e[t]) : H(e, t)
        }
          , We = function(e, t, i) {
            return !(ze(e, t = v(t, !0)) && y(i) && T(i, "value")) || T(i, "get") || T(i, "set") || i.configurable || T(i, "writable") && !i.writable || T(i, "enumerable") && !i.enumerable ? B(e, t, i) : (e[t] = i.value,
            e)
        }
        ;
        De || ($.f = qe,
        P.f = We),
        o(o.S + o.F * !De, "Object", {
            getOwnPropertyDescriptor: qe,
            defineProperty: We
        }),
        r(function() {
            ge.call({})
        }) && (ge = ve = function() {
            return me.call(this)
        }
        );
        var Ve = m({}, $e);
        m(Ve, Ke),
        h(Ve, Te, Ke.values),
        m(Ve, {
            slice: Be,
            set: He,
            constructor: function() {},
            toString: ge,
            toLocaleString: Pe
        }),
        Oe(Ve, "buffer", "b"),
        Oe(Ve, "byteOffset", "o"),
        Oe(Ve, "byteLength", "l"),
        Oe(Ve, "length", "e"),
        B(Ve, we, {
            get: function() {
                return this[Ce]
            }
        }),
        e.exports = function(e, t, i, c) {
            c = !!c;
            var l = e + (c ? "Clamped" : "") + "Array"
              , d = "Uint8Array" != l
              , m = "get" + e
              , p = "set" + e
              , g = n[l]
              , v = g || {}
              , T = g && S(g)
              , w = !g || !a.ABV
              , D = {}
              , C = g && g[Y]
              , E = function(e, i) {
                var s = e._d;
                return s.v[m](i * t + s.o, Ee)
            }
              , I = function(e, i, s) {
                var n = e._d;
                c && (s = (s = Math.round(s)) < 0 ? 0 : s > 255 ? 255 : 255 & s),
                n.v[p](i * t + n.o, s, Ee)
            }
              , k = function(e, t) {
                B(e, t, {
                    get: function() {
                        return E(this, t)
                    },
                    set: function(e) {
                        return I(this, t, e)
                    },
                    enumerable: !0
                })
            }
            ;
            w ? (g = i(function(e, i, s, n) {
                u(e, g, l, "_d");
                var r, o, a, c, d = 0, m = 0;
                if (y(i)) {
                    if (!(i instanceof J || (c = b(i)) == W || c == V))
                        return Ce in i ? Le(g, i) : Ne.call(g, i);
                    r = i,
                    m = xe(s, t);
                    var p = i.byteLength;
                    if (void 0 === n) {
                        if (p % t)
                            throw K(Se);
                        if (o = p - m,
                        0 > o)
                            throw K(Se)
                    } else if (o = f(n) * t,
                    o + m > p)
                        throw K(Se);
                    a = o / t
                } else
                    a = ke(i, !0),
                    o = a * t,
                    r = new J(o);
                for (h(e, "_d", {
                    b: r,
                    o: m,
                    l: o,
                    e: a,
                    v: new X(r)
                }); a > d; )
                    k(e, d++)
            }),
            C = g[Y] = _(Ve),
            h(C, "constructor", g)) : O(function(e) {
                new g(null ),
                new g(e)
            }, !0) || (g = i(function(e, i, s, n) {
                u(e, g, l);
                var r;
                return y(i) ? i instanceof J || (r = b(i)) == W || r == V ? void 0 !== n ? new v(i,xe(s, t),n) : void 0 !== s ? new v(i,xe(s, t)) : new v(i) : Ce in i ? Le(g, i) : Ne.call(g, i) : new v(ke(i, d))
            }),
            Z(T !== Function.prototype ? A(v).concat(A(T)) : A(v), function(e) {
                e in g || h(g, e, v[e])
            }),
            g[Y] = C,
            s || (C.constructor = g));
            var x = C[Te]
              , M = !!x && ("values" == x.name || void 0 == x.name)
              , R = Ke.values;
            h(g, be, !0),
            h(C, Ce, l),
            h(C, _e, !0),
            h(C, ye, g),
            (c ? new g(1)[we] == l : we in C) || B(C, we, {
                get: function() {
                    return l
                }
            }),
            D[l] = g,
            o(o.G + o.W + o.F * (g != v), D),
            o(o.S, l, {
                BYTES_PER_ELEMENT: t,
                from: Ne,
                of: Ue
            }),
            G in C || h(C, G, t),
            o(o.P, l, $e),
            N(l),
            o(o.P + o.F * Ie, l, {
                set: He
            }),
            o(o.P + o.F * !M, l, Ke),
            o(o.P + o.F * (C.toString != ge), l, {
                toString: ge
            }),
            o(o.P + o.F * r(function() {
                new g(1).slice()
            }), l, {
                slice: Be
            }),
            o(o.P + o.F * (r(function() {
                return [1, 2].toLocaleString() != new g([1, 2]).toLocaleString()
            }) || !r(function() {
                C.toLocaleString.call([1, 2])
            })), l, {
                toLocaleString: Pe
            }),
            L[l] = M ? x : R,
            s || M || h(C, Te, R)
        }
    } else
        e.exports = function() {}
}
, [877, 77], , [896, 61, 10, 17, 14, 5], function(e, t) {
    e.exports = function(e, t) {
        return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: t
        }
    }
}
, function(e, t) {
    var i = Math.ceil
      , s = Math.floor;
    e.exports = function(e) {
        return isNaN(e = +e) ? 0 : (e > 0 ? s : i)(e)
    }
}
, function(e, t) {
    e.exports = function(e, t, i, s) {
        if (!(e instanceof t) || void 0 !== s && s in e)
            throw TypeError(i + ": incorrect invocation!");
        return e
    }
}
, function(e, t) {
    e.exports = {}
}
, function(e, t) {
    e.exports = !1
}
, [898, 3, 209, 131, 142, 130, 133], [903, 211, 131], [906, 211, 131], [915, 53], function(e, t) {
    var i = 0
      , s = Math.random();
    e.exports = function(e) {
        return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++i + s).toString(36))
    }
}
, [881, 86], 17, [885, 65, 115, 62], [899, 49, 225, 161, 62], [916, 814, 154], , , function(e, t, i) {
    var s;
    s = function(e) {
        var t = function() {
            this.attributes({
                appColumnsContainerSelector: ".js-app-columns-container",
                columnsContainerSelector: ".js-app-columns",
                columnStateDetailViewClass: "js-column-state-detail-view",
                columnStateSocialProofClass: "js-column-state-social-proof",
                columnSelector: ".js-app-columns .js-column",
                scrollContainerSelector: ".js-column-scroller",
                columnDetailScrollerSelector: ".js-detail-container",
                columnOptionsSelector: ".js-column-options",
                columnOptionsContainerSelector: ".js-column-options-container",
                columnHeaderSelector: ".js-column-header",
                columnUnreadCountSelector: ".js-column-header .js-unread-count",
                columnContentSelector: ".js-column-content"
            }),
            this.getColumnScrollContainerByKey = function(e) {
                var t = this.getColumnElementByKey(e)
                  , i = t.find(this.attr.columnDetailScrollerSelector);
                return i.length > 0 ? i : t.find(this.attr.scrollContainerSelector)
            }
            ,
            this.getColumnElementByKey = function(e) {
                return this.select("columnSelector").filter('[data-column="' + e + '"]')
            }
            ,
            this.getKeyForColumnAtIndex = function(e) {
                return this.select("columnSelector").eq(e).attr("data-column")
            }
            ,
            this.getKeyForLastColumn = function() {
                return this.select("columnSelector").last().attr("data-column")
            }
        }
        ;
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        function e() {
            this.focusRequest = function() {
                this.trigger("uiFocusRequest", {
                    id: this.focusId
                })
            }
            ,
            this.focusRelease = function() {
                this.trigger("uiFocusRelease", {
                    id: this.focusId
                })
            }
            ,
            this.handleFocus = function(e, t) {
                t.id === this.focusId ? this.hasFocus = !0 : this.hasFocus = !1
            }
            ,
            this.whenHasFocus = function(e) {
                return function() {
                    return this.hasFocus ? e.apply(this, arguments) : void 0
                }
                .bind(this)
            }
            ,
            this.getNewFocusId = function() {
                return _.uniqueId("focus")
            }
            ,
            this.after("teardown", function() {
                this.hasFocus && this.trigger("uiFocusRelease", {
                    id: this.focusId
                })
            }),
            this.after("initialize", function() {
                this.focusId = this.attr.focusId || this.getNewFocusId(),
                this.hasFocus = !1,
                this.on(document, "uiFocus", this.handleFocus),
                this.attr.autoFocus === !0 && this.focusRequest()
            })
        }
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s = i(12)("unscopables")
      , n = Array.prototype;
    void 0 == n[s] && i(23)(n, s, {}),
    e.exports = function(e) {
        n[s][e] = !0
    }
}
, [879, 35, 12], function(e, t, i) {
    var s = i(24);
    e.exports = function(e, t, i) {
        for (var n in t)
            s(e, n, t[n], i);
        return e
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(6)
      , n = i(14)
      , r = i(13)
      , o = i(12)("species");
    e.exports = function(e) {
        var t = s[e];
        r && t && !t[o] && n.f(t, o, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}
, [909, 14, 17, 12], function(e, t, i) {
    var s = i(2)
      , n = i(36)
      , r = i(5)
      , o = i(147)
      , a = "[" + o + "]"
      , c = "​"
      , l = RegExp("^" + a + a + "*")
      , u = RegExp(a + a + "*$")
      , d = function(e, t, i) {
        var n = {}
          , a = r(function() {
            return !!o[e]() || c[e]() != c
        })
          , l = n[e] = a ? t(h) : o[e];
        i && (n[i] = l),
        s(s.P + s.F * a, "String", n)
    }
      , h = d.trim = function(e, t) {
        return e = String(n(e)),
        1 & t && (e = e.replace(l, "")),
        2 & t && (e = e.replace(u, "")),
        e
    }
    ;
    e.exports = d
}
, 10, , function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            s.mixin(this, [n]),
            this.attributes({
                dismissButton: ".js-dismiss",
                modal: ".js-modal",
                modalPanel: ".js-modal-panel",
                modalDragHandle: ".mdl-drag-handle",
                isDraggingClass: "is-dragging",
                isTouchModalClass: "is-touch-modal",
                openModalID: "#open-modal",
                autoFocus: !0
            }),
            this.handleDragStart = function() {
                var e = this.select("modalPanel");
                e.css({
                    position: "absolute",
                    top: e.offset().top,
                    left: e.offset().left
                }),
                this.$node.addClass(this.attr.isDraggingClass)
            }
            ,
            this.getDragDropBoundary = function() {
                return this.$node
            }
            ,
            this.dismiss = function(e) {
                this.attr.closeEvent && (e && e.preventDefault(),
                this.trigger(this.attr.closeEvent))
            }
            ,
            this.handleClickOnOverlay = function(e) {
                e.target === this.$node.get(0) && this.dismiss()
            }
            ,
            this.before("initialize", function() {
                $(document).trigger("uiCloseModal")
            }),
            this.after("initialize", function() {
                this.on(this.$node, "click", this.handleClickOnOverlay),
                this.on("click", {
                    dismissButton: this.dismiss
                }),
                this.on(document, "uiCloseModal", this.dismiss)
            }),
            this.after("render", function() {
                this.select("modalPanel").draggable({
                    boundary: this.getDragDropBoundary.bind(this),
                    handle: this.select("modalDragHandle")
                }),
                this.on("start.draggable", this.handleDragStart),
                this.focusRequest();
                var e = this.select("modalPanel").parent(this.attr.modal)
                  , t = $(this.attr.openModalID);
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_modals_v2") ? (e.addClass(this.attr.isTouchModalClass),
                t.addClass(this.attr.isTouchModalClass)) : (e.removeClass(this.attr.isTouchModalClass),
                t.removeClass(this.attr.isTouchModalClass))
            }),
            this.before("teardown", function() {
                this.$node.removeClass(this.attr.isDraggingClass)
            }),
            this.after("teardown", function() {
                this.$node.hide()
            })
        }
        var s = i(1).compose
          , n = i(70);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            s.mixin(this, [n]),
            this.highlightSubstring = function(e, t) {
                var i, s, n = -1;
                return t && (n = e.toLowerCase().indexOf(t.toLowerCase())),
                -1 !== n ? (s = {
                    before: e.substr(0, n),
                    highlight: e.substr(n, t.length),
                    after: e.substr(n + t.length)
                },
                i = this.toHtmlFromRaw("{{before}}<b>{{highlight}}</b>{{after}}", s)) : i = this.toHtmlFromRaw("{{text}}", {
                    text: e
                }),
                i
            }
            ,
            this.prettyNumber = function(e) {
                return TD.util.prettyNumber(e)
            }
        }
        var s = i(1).compose
          , n = i(4);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, [884, 46, 204, 135, 3, 15, 151], [888, 35], function(e, t) {
    t.f = {}.propertyIsEnumerable
}
, 35, [880, 153], 5, 55, [906, 231, 156], , , , , function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = i(533)
          , n = function() {
            this.attributes({
                searchControlSelector: ".js-search-input-control"
            }),
            this.waitingForAsyncResponse = function(e, t) {
                this.trigger(this.$searchControls, "uiAsyncFormWaitingForResponse")
            }
            ,
            this.receivedAsyncResponse = function(e, t) {
                this.trigger(this.$searchControls, "uiAsyncFormReceivedResponse")
            }
            ,
            this.handleSearchInputCleared = function() {
                this.$node.closest("form").submit()
            }
            ,
            this.destroy = function(e, t) {
                this.teardown()
            }
            ,
            this.before("teardown", function() {
                this.trigger(this.$searchControls, "uiSearchInputDestroy")
            }),
            this.after("initialize", function() {
                this.on("uiReceivedAsyncResponse", this.receivedAsyncResponse),
                this.on("uiWaitingForAsyncResponse", this.waitingForAsyncResponse),
                this.on("uiDestroyAsynchronousForm", this.destroy),
                this.on("uiSearchInputCleared", this.handleSearchInputCleared),
                this.$searchControls = this.select("searchControlSelector"),
                s.attachTo(this.$searchControls)
            })
        }
        ;
        return t(n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                eventMap: {
                    uiDragStart: "dragstart",
                    uiDragEnd: "dragend",
                    mousedown: "predrag"
                },
                dropTargetClass: "with-drop-target",
                draggableSelector: ".is-draggable"
            }),
            this.setupDragDrop = function(e) {
                e.type || (e.type = ["*"]),
                "string" == typeof e.type && (e.type = [e.type]),
                _.contains(e.type, "*") && (e.wantsAll = !0),
                "undefined" != typeof e.indicateDrop && (this.indicateDrop = !!e.indicateDrop),
                e.drop && this.indicateDrop !== !1 && (this.indicateDrop = !0),
                this.listeners.push(e)
            }
            ,
            this.hasSetupDragDrop = function() {
                return this.listeners.length > 0
            }
            ,
            this.wantsDragType = function(e) {
                return this.listeners.some(function(t) {
                    return t.wantsAll || _.contains(t.type, e)
                })
            }
            ,
            this.notifyListeners = function(e, t) {
                this.listeners.forEach(function(i) {
                    if (i.wantsAll || _.contains(i.type, t.type)) {
                        var s = i[e.type] || i[this.attr.eventMap[e.type]];
                        s && "function" == typeof s && s.call(i.context || this, e, t)
                    }
                }
                .bind(this))
            }
            ,
            this.saveDragState = function(e) {
                return function(t, i) {
                    return this.dragDropState = {
                        active: !0,
                        data: i
                    },
                    e.apply(this, [].slice.call(arguments))
                }
            }
            ,
            this.clearDragState = function(e) {
                return function(t, i) {
                    return this.dragDropState = this.dragDropStateInit,
                    e.apply(this, [].slice.call(arguments))
                }
            }
            ,
            this.retrieveDragState = function(e) {
                return function(t) {
                    return e.call(this, t, this.dragDropState.data)
                }
            }
            ,
            this.retrieveAndNotify = function() {
                return this.retrieveDragState(this.notifyListeners)
            }
            ,
            this.extractDataFromEvent = function(e) {
                var t = $(e.target).attr("data-drag-type")
                  , i = e.target.tagName.toLowerCase();
                return t = t || i,
                {
                    type: t,
                    el: e.target
                }
            }
            ,
            this.whenActive = function(e) {
                return function(t) {
                    var i = this.dragDropState.active && this.wantsDragType(this.dragDropState.data.type);
                    return i ? e.apply(this, arguments) : void 0
                }
                .bind(this)
            }
            ,
            this.whenSetup = function(e) {
                return function() {
                    return this.hasSetupDragDrop() ? e.apply(this, arguments) : void 0
                }
                .bind(this)
            }
            ,
            this.whenSetupAndActive = function(e) {
                return this.whenSetup(this.whenActive(e))
            }
            ,
            this.before("initialize", function() {
                this.listeners = [],
                this.dragDropState = this.dragDropStateInit = {
                    active: !1,
                    data: {}
                },
                this.indicateDrop = !0,
                this.dragDepth = 0
            }),
            this.after("initialize", function() {
                this.on(document, "uiDragStart", this.whenSetup(this.saveDragState(this.notifyListeners))),
                this.on(document, "uiDragEnd", this.whenSetup(function() {
                    this.dragDepth = 0,
                    this.clearDragState(this.notifyListeners).apply(this, arguments)
                })),
                this.on("drop", this.whenSetupAndActive(function(e) {
                    e.preventDefault(),
                    this.dragDepth = 0,
                    this.retrieveAndNotify().apply(this, arguments)
                })),
                this.on("dragenter", this.whenSetupAndActive(function(e) {
                    this.dragDepth += 1,
                    1 === this.dragDepth && this.retrieveAndNotify().apply(this, [].slice.call(arguments))
                })),
                this.on("dragleave", this.whenSetupAndActive(function(e) {
                    this.dragDepth -= 1,
                    this.dragDepth <= 0 && (this.dragDepth = 0,
                    this.retrieveAndNotify().apply(this, [].slice.call(arguments)))
                })),
                this.on("dragover", this.whenSetupAndActive(function(e) {
                    this.indicateDrop === !0 && e.preventDefault(),
                    this.retrieveAndNotify().apply(this, [].slice.call(arguments))
                })),
                this.on("mousedown", {
                    draggableSelector: this.whenSetup(function(e, t) {
                        var i = this.extractDataFromEvent({
                            target: t.el
                        });
                        this.notifyListeners(e, i)
                    })
                })
            })
        }
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        return function() {
            var e = "unknown"
              , t = "unknown_xauth";
            this.after("initialize", function() {
                this.apiErrors = {
                    0: TD.i("Something went wrong. Please check your connection and try again."),
                    32: TD.i("The username and password you entered did not match our records. Please double-check and try again."),
                    63: TD.i("This user has been suspended."),
                    64: TD.i("Your account has been suspended."),
                    130: TD.i("Twitter is temporarily over capacity. Please try again later."),
                    131: TD.i("There's something wrong. Please try again later."),
                    135: TD.i("Could not authenticate you."),
                    108: TD.i("There is no user by that name."),
                    150: TD.i("This user doesn't follow you. You can only send messages to people who do."),
                    151: TD.i("Something went wrong, but don't fret. It's not your fault."),
                    185: TD.i("You reached your daily tweet limit. Please try again tomorrow."),
                    187: TD.i("You already tweeted that."),
                    195: TD.i("Invalid search query."),
                    215: TD.i("Could not authenticate you."),
                    226: TD.i("This action was flagged as suspicious."),
                    231: TD.i("You need to generate a temporary password on twitter.com to log in."),
                    235: TD.i("Your login verification request has expired. Please log in again."),
                    236: TD.i("That is not the correct code. Please re-enter the code sent to your phone."),
                    241: TD.i("The login verification request sent to your phone was rejected."),
                    242: TD.i("Your account is deactivated. Please log in on twitter.com to reactivate."),
                    243: TD.i("You have too many failed login attempts. Please try again in an hour."),
                    244: TD.i("You must reset the password on this account. Please log in on twitter.com to do this."),
                    245: TD.i("You have initiated too many login requests. Please try logging in again in an hour."),
                    246: TD.i("You have entered too many incorrect codes. Please try logging in again."),
                    276: TD.i("Scheduled tweet was rejected. Please try again."),
                    297: TD.i("You cannot have both media and tweet."),
                    278: TD.i("You are not a member of this group"),
                    280: TD.i("You cannot add more people to this conversation. Try starting a new one."),
                    311: TD.i("You have already sent this message."),
                    429: TD.i("You have initiated too many login requests. Please try logging in again later."),
                    unknown_xauth: TD.i("Unknown log in error. Please try again."),
                    unknown: TD.i("Unknown error. Please try again.")
                }
            }),
            this.getXAuthErrorMessage = function(e) {
                return e = e || {},
                this.apiErrors[e.code] || e.message || this.apiErrors[t]
            }
            ,
            this.getApiErrorMessage = function(t) {
                return t = t || {},
                this.apiErrors[t.code] || t.message || this.apiErrors[e]
            }
            ,
            this.getXAuthErrorIs2FACodeError = function(e) {
                return 236 === e
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            s.mixin(this, [n, r]),
            this.attributes({
                dropdownContainerSelector: ".js-dropdown-container",
                dropdownContentSelector: ".js-dropdown-content",
                isSelectableClass: "is-selectable",
                isSelectableSelector: ".is-selectable",
                isSelectedClass: "is-selected",
                isSelectedSelector: ".is-selected",
                dropdownOptions: {
                    position: "",
                    toggle: !1
                },
                dropdownPositions: {
                    offsetLeft: "pos-l",
                    offsetRight: "pos-r",
                    underLeftIcon: "pos-r-under-icon",
                    verticalRight: "pos-br",
                    above: "pos-t"
                }
            }),
            this.after("initialize", function() {
                this.on(document, "uiDropdownShowing uiDetailViewOpening uiKeyEscape", this.teardownCurrentDropdown.bind(this)),
                this.dropdownFocusId = this.getNewFocusId(),
                this.on(document, "uiKeyEnter uiKeySpace", this.whenHasDropdownFocus(this.clickSelectedActionable)),
                this.on(document, "uiKeyUp", this.whenHasDropdownFocus(this.makeHandleChangeSelectionIndexBy(-1))),
                this.on(document, "uiKeyDown", this.whenHasDropdownFocus(this.makeHandleChangeSelectionIndexBy(1))),
                this.on(document, "uiKeyRight uiKeyLeft", this.whenHasDropdownFocus(this.jumpIntoDropdown))
            }),
            this.before("teardown", function() {
                this.teardownCurrentDropdown()
            }),
            this.renderDropdown = function(e, t, i, s) {
                if (!e || !e.length)
                    throw new Error("Please supply a node to render dropdown with.");
                if (!t)
                    throw new Error("Please supply a template.");
                i = i || {},
                s = _.defaults(s || {}, this.attr.dropdownOptions);
                var n = _.uniqueId("dropdown");
                if (this.dropdownIsOpen()) {
                    if (this.$dropdownSourceNode && e.get(0) === this.$dropdownSourceNode.get(0))
                        return s.toggle ? (this.trigger("uiDropdownToggling", {
                            id: n
                        }),
                        this.teardownCurrentDropdown()) : this.trigger("uiDropdownAlreadyOpen", {
                            id: n
                        });
                    this.teardownCurrentDropdown()
                }
                this.$dropdownSourceNode = e,
                this.trigger("uiDropdownShowing", {
                    id: n
                });
                var r = t;
                "string" == typeof t && (r = this.renderTemplate(t, i));
                var o = this.renderTemplate("menus/dropdown", s);
                return o.find(this.attr.dropdownContentSelector).append(r),
                e.after(o),
                this.currentDropdown = {
                    $el: o,
                    id: n
                },
                this.maybeRepositionDropdown(),
                this.attachDropdownInteractions(o, s),
                this.parentFocusId = this.focusId,
                this.focusId = this.dropdownFocusId,
                this.focusRequest(),
                this.on(document, "click", this.handleDocumentClick),
                this.trigger("uiDropdownShown", {
                    id: n
                }),
                o
            }
            ,
            this.handleDocumentClick = function(e) {
                this.teardownCurrentDropdown()
            }
            ,
            this.attachDropdownInteractions = function(e, t) {
                this.on(e, "mouseleave", this.removeCurrentSelection),
                this.on(e, "mouseover", {
                    isSelectableSelector: this.handleChangeSelectionToTarget
                }),
                this.on(e, "click", this.cancelEventIfNotFromSelectable);
                var i = e.find(this.attr.isSelectableSelector)
                  , s = i.filter(this.attr.isSelectedSelector)
                  , n = i.index(s);
                this.currentDropdown.$selectables = i,
                this.currentDropdown.selectedIndex = n,
                n > -1 && this.changeSelectionToIndex(n)
            }
            ,
            this.teardownCurrentDropdown = function(e, t) {
                if (e = e || {},
                t = t || {},
                this.dropdownIsOpen()) {
                    if (t.id === this.currentDropdown.id)
                        return;
                    this.$dropdownSourceNode = null ,
                    this.trigger("uiDropdownHiding", {
                        id: this.currentDropdown.id
                    }),
                    this.focusRelease(),
                    this.focusId = this.parentFocusId;
                    var i = this.currentDropdown.$el;
                    this.off(document, "click", this.handleDocumentClick),
                    this.off(i, "mouseleave", this.removeCurrentSelection),
                    this.off(i, "mouseover"),
                    this.off(i, "click", this.cancelEventIfNotFromSelectable),
                    this.currentDropdown.$el.remove();
                    var s = this.currentDropdown.id;
                    this.currentDropdown = null ,
                    this.trigger("uiDropdownHidden", {
                        id: s
                    })
                }
            }
            ,
            this.clickSelectedActionable = function() {
                this.currentDropdown.selectedIndex > -1 && this.currentDropdown.$selectables.eq(this.currentDropdown.selectedIndex).find("[data-action]").first().click()
            }
            ,
            this.changeSelection = function(e) {
                var t = $(e)
                  , i = this.currentDropdown.$selectables.index(t.get(0));
                this.removeCurrentSelection(),
                i > -1 && (this.currentDropdown.$selectables.eq(i).addClass(this.attr.isSelectedClass),
                this.currentDropdown.selectedIndex = i)
            }
            ,
            this.changeSelectionToIndex = function(e) {
                if (0 > e)
                    return this.removeCurrentSelection();
                var t = this.currentDropdown.$selectables.eq(e);
                this.changeSelection(t)
            }
            ,
            this.handleChangeSelectionToTarget = function(e, t) {
                this.changeSelection(t.el)
            }
            ,
            this.makeHandleChangeSelectionIndexBy = function(e) {
                return function(t, i) {
                    t.stopPropagation();
                    var s = this.getNewSelectedIndex(e);
                    this.changeSelectionToIndex(s)
                }
            }
            ,
            this.removeCurrentSelection = function() {
                this.currentDropdown.$selectables.eq(this.currentDropdown.selectedIndex).removeClass(this.attr.isSelectedClass),
                this.currentDropdown.selectedIndex = -1
            }
            ,
            this.getNewSelectedIndex = function(e) {
                "undefined" == typeof e && (e = 1);
                var t = this.currentDropdown.selectedIndex;
                if (0 === e)
                    return t;
                var i = this.currentDropdown.$selectables.length
                  , s = (t + e) % i;
                return 0 > t ? e > 0 ? 0 : i - 1 : 0 > s ? i + s : s
            }
            ,
            this.whenHasDropdownFocus = function(e) {
                return this.whenHasFocus(function() {
                    return this.focusId === this.dropdownFocusId ? e.apply(this, arguments) : void 0
                })
            }
            ,
            this.jumpIntoDropdown = function(e) {
                -1 === this.currentDropdown.selectedIndex && this.changeSelectionToIndex(0)
            }
            ,
            this.cancelEventIfNotFromSelectable = function(e) {
                var t = this.currentDropdown.$el
                  , i = $(e.target).closest(this.attr.isSelectableSelector, t);
                i.length || (event.stopPropagation(),
                event.preventDefault())
            }
            ,
            this.dropdownIsOpen = function() {
                return !(!this.currentDropdown || !this.currentDropdown.$el)
            }
            ,
            this.maybeRepositionDropdown = function() {
                var e, t, i, s, n, r = this.currentDropdown.$el, o = r.closest(this.attr.dropdownContainerSelector);
                o.length > 0 && !r.hasClass("pos-t") && (e = r.offset().top,
                n = r.outerHeight(),
                i = e + n,
                t = o.offset().top,
                s = t + o.height(),
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_dropdowns_v2") && TD.decider.get("touchdeck_tweet_controls_v3") && (n += 25),
                i >= s && e - n > t && r.addClass("pos-t"))
            }
        }
        var s = i(1).compose
          , n = i(4)
          , r = i(70);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        function e() {
            this.attributes({
                spinnerButtonSelector: ".js-spinner-button",
                spinnerButtonActiveSelector: ".js-spinner-button-active",
                spinnerButtonActiveClass: "spinner-button-is-active",
                spinnerButtonHiddenClass: "is-hidden"
            }),
            this.spinnerButtonToggle = function(e) {
                var t = this.select("spinnerButtonSelector")
                  , i = this.select("spinnerButtonActiveSelector");
                t.toggleClass(this.attr.spinnerButtonActiveClass, e),
                i.toggleClass(this.attr.spinnerButtonHiddenClass, !e)
            }
        }
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    function s() {}
    var n = i(1).component
      , r = i(28)
      , o = i(20);
    e.exports = n(r, s, o)
}
, function(e, t, i) {
    var s;
    s = function() {
        var e = {};
        return e.atMentionify = function(e) {
            return TD.util.atMentionify(e)
        }
        ,
        e.deMentionify = function(e) {
            return TD.util.deMentionify(e)
        }
        ,
        e.getTweetLength = function(e, t) {
            return twttrTxt.getTweetLength(e, t)
        }
        ,
        e.extractMentions = function(e) {
            return twttrTxt.extractMentions(e)
        }
        ,
        e.removeFirstMention = function(e) {
            var t, i = twttrTxt.extractMentionsWithIndices(e);
            return i.length && (t = i[0].indices,
            e = e.substring(0, t[0]).trim() + e.substring(t[1])),
            e
        }
        ,
        e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, [878, 26, 15, 60], function(e, t, i) {
    "use strict";
    var s = i(6)
      , n = i(2)
      , r = i(24)
      , o = i(73)
      , a = i(51)
      , c = i(81)
      , l = i(54)
      , u = i(10)
      , d = i(5)
      , h = i(106)
      , m = i(75)
      , p = i(134);
    e.exports = function(e, t, i, f, g, v) {
        var T = s[e]
          , w = T
          , b = g ? "set" : "add"
          , y = w && w.prototype
          , D = {}
          , C = function(e) {
            var t = y[e];
            r(y, e, "delete" == e ? function(e) {
                return v && !u(e) ? !1 : t.call(this, 0 === e ? 0 : e)
            }
            : "has" == e ? function(e) {
                return v && !u(e) ? !1 : t.call(this, 0 === e ? 0 : e)
            }
            : "get" == e ? function(e) {
                return v && !u(e) ? void 0 : t.call(this, 0 === e ? 0 : e)
            }
            : "add" == e ? function(e) {
                return t.call(this, 0 === e ? 0 : e),
                this
            }
            : function(e, i) {
                return t.call(this, 0 === e ? 0 : e, i),
                this
            }
            )
        }
        ;
        if ("function" == typeof w && (v || y.forEach && !d(function() {
            (new w).entries().next()
        }))) {
            var _ = new w
              , S = _[b](v ? {} : -0, 1) != _
              , A = d(function() {
                _.has(1)
            })
              , E = h(function(e) {
                new w(e)
            })
              , I = !v && d(function() {
                for (var e = new w, t = 5; t--; )
                    e[b](t, t);
                return !e.has(-0)
            });
            E || (w = t(function(t, i) {
                l(t, w, e);
                var s = p(new T, t, w);
                return void 0 != i && c(i, g, s[b], s),
                s
            }),
            w.prototype = y,
            y.constructor = w),
            (A || I) && (C("delete"),
            C("has"),
            g && C("get")),
            (I || S) && C(b),
            v && y.clear && delete y.clear
        } else
            w = f.getConstructor(t, e, g, b),
            o(w.prototype, i),
            a.NEED = !0;
        return m(w, e),
        D[e] = w,
        n(n.G + n.W + n.F * (w != T), D),
        v || f.setStrong(w, e, g),
        w
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(23)
      , n = i(24)
      , r = i(5)
      , o = i(36)
      , a = i(12);
    e.exports = function(e, t, i) {
        var c = a(e)
          , l = i(o, c, ""[e])
          , u = l[0]
          , d = l[1];
        r(function() {
            var t = {};
            return t[c] = function() {
                return 7
            }
            ,
            7 != ""[e](t)
        }) && (n(String.prototype, e, u),
        s(RegExp.prototype, c, 2 == t ? function(e, t) {
            return d.call(e, this, t)
        }
        : function(e) {
            return d.call(e, this)
        }
        ))
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(3);
    e.exports = function() {
        var e = s(this)
          , t = "";
        return e.global && (t += "g"),
        e.ignoreCase && (t += "i"),
        e.multiline && (t += "m"),
        e.unicode && (t += "u"),
        e.sticky && (t += "y"),
        t
    }
}
, function(e, t) {
    e.exports = function(e, t, i) {
        var s = void 0 === i;
        switch (t.length) {
        case 0:
            return s ? e() : e.call(i);
        case 1:
            return s ? e(t[0]) : e.call(i, t[0]);
        case 2:
            return s ? e(t[0], t[1]) : e.call(i, t[0], t[1]);
        case 3:
            return s ? e(t[0], t[1], t[2]) : e.call(i, t[0], t[1], t[2]);
        case 4:
            return s ? e(t[0], t[1], t[2], t[3]) : e.call(i, t[0], t[1], t[2], t[3])
        }
        return e.apply(i, t)
    }
}
, function(e, t, i) {
    var s = i(10)
      , n = i(35)
      , r = i(12)("match");
    e.exports = function(e) {
        var t;
        return s(e) && (void 0 !== (t = e[r]) ? !!t : "RegExp" == n(e))
    }
}
, [894, 12], function(e, t, i) {
    e.exports = i(56) || !i(5)(function() {
        var e = Math.random();
        __defineSetter__.call(null , e, function() {}),
        delete i(6)[e]
    })
}
, function(e, t) {
    t.f = Object.getOwnPropertySymbols
}
, [908, 10, 3, 46, 31], [911, 6], function(e, t, i) {
    for (var s, n = i(6), r = i(23), o = i(61), a = o("typed_array"), c = o("view"), l = !(!n.ArrayBuffer || !n.DataView), u = l, d = 0, h = 9, m = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); h > d; )
        (s = n[m[d++]]) ? (r(s.prototype, a, !0),
        r(s.prototype, c, !0)) : u = !1;
    e.exports = {
        ABV: l,
        CONSTR: u,
        TYPED: a,
        VIEW: c
    }
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    t.__esModule = !0;
    var n = i(802)
      , r = s(n)
      , o = i(801)
      , a = s(o)
      , c = "function" == typeof a.default && "symbol" == typeof r.default ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof a.default && e.constructor === a.default ? "symbol" : typeof e
    }
    ;
    t.default = "function" == typeof a.default && "symbol" === c(r.default) ? function(e) {
        return "undefined" == typeof e ? "undefined" : c(e)
    }
    : function(e) {
        return e && "function" == typeof a.default && e.constructor === a.default ? "symbol" : "undefined" == typeof e ? "undefined" : c(e)
    }
}
, function(e, t, i) {
    var s = i(33)
      , n = i(42)
      , r = i(85)
      , o = i(64)
      , a = "prototype"
      , c = function(e, t, i) {
        var l, u, d, h = e & c.F, m = e & c.G, p = e & c.S, f = e & c.P, g = e & c.B, v = e & c.W, T = m ? n : n[t] || (n[t] = {}), w = T[a], b = m ? s : p ? s[t] : (s[t] || {})[a];
        m && (i = t);
        for (l in i)
            u = !h && b && void 0 !== b[l],
            u && l in T || (d = u ? b[l] : i[l],
            T[l] = m && "function" != typeof b[l] ? i[l] : g && u ? r(d, s) : v && b[l] == d ? function(e) {
                var t = function(t, i, s) {
                    if (this instanceof e) {
                        switch (arguments.length) {
                        case 0:
                            return new e;
                        case 1:
                            return new e(t);
                        case 2:
                            return new e(t,i)
                        }
                        return new e(t,i,s)
                    }
                    return e.apply(this, arguments)
                }
                ;
                return t[a] = e[a],
                t
            }(d) : f && "function" == typeof d ? r(Function.call, d) : d,
            f && ((T.virtual || (T.virtual = {}))[l] = d,
            e & c.R && w && !w[l] && o(w, l, d)))
    }
    ;
    c.F = 1,
    c.G = 2,
    c.S = 4,
    c.P = 8,
    c.B = 16,
    c.W = 32,
    c.U = 64,
    c.R = 128,
    e.exports = c
}
, function(e, t) {
    e.exports = !0
}
, 52, [909, 65, 63, 27], 61, , , , , function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                characterCountInvalidClass: "invalid-char-count",
                stateSource: null
            }),
            this.after("initialize", function() {
                this.observe(this.requestResource(this.attr.stateSource)).map(o.filterKeys(["displayedCharacterCount", "hasValidCharacterCount", "hideCharacterCount"])).distinctUntilChanged().subscribeOnNext(this.render, this)
            }),
            this.render = function(e) {
                this.$node.toggle(!e.hideCharacterCount),
                this.$node.val(e.displayedCharacterCount),
                this.$node.toggleClass(this.attr.characterCountInvalidClass, !e.hasValidCharacterCount)
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8)
          , o = i(29);
        return s(r, t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                stateSource: null ,
                fixedHeight: !1,
                defaultHeight: 130,
                expandedHeight: 160,
                minimumHeightCharacters: 180
            }),
            this.after("initialize", function() {
                var e = this.observe(this.requestResource(this.attr.stateSource))
                  , t = e.pluck("tweetText").distinctUntilChanged();
                this.observe(t).filter(function(e) {
                    return this.$node.val() !== e
                }, this).subscribeOnNext(function(e) {
                    this.$node.val(e)
                }, this),
                this.observe(e).pluck("sendingStatus").map(this.shouldDisable, this).distinctUntilChanged().subscribeOnNext(this.toggleDisable, this),
                this.observe(e).pluck("selectionIndices").distinctUntilChanged().subscribeOnNext(this.setSelection, this),
                this.observe(e).pluck("tweetTextFocused").distinctUntilChanged().filter(this.isNotTouch).subscribeOnNext(this.toggleFocus, this),
                this.attr.fixedHeight || this.observe(t).map(this.calculateHeight, this).distinctUntilChanged().subscribeOnNext(this.setHeight, this),
                this.on("input propertychange change", this.handleChange),
                this.on("focus", this.triggerFocusChange.bind(this, !0)),
                this.on("blur", this.triggerFocusChange.bind(this, !1)),
                this.textAutoComplete = new TD.components.Autocomplete(this.$node)
            }),
            this.after("teardown", function() {
                this.textAutoComplete.destroy()
            }),
            this.handleChange = function(e) {
                this.trigger("uiComposeTextChanged", {
                    value: this.node.value
                })
            }
            ,
            this.triggerFocusChange = function(e) {
                this.trigger("uiComposeTextFocus", {
                    focused: e
                })
            }
            ,
            this.toggleFocus = function(e) {
                e ? this.node.focus() : this.node.blur()
            }
            ,
            this.shouldDisable = function(e) {
                return "ready" !== e
            }
            ,
            this.toggleDisable = function(e) {
                this.$node.prop("disabled", e)
            }
            ,
            this.setSelection = function(e) {
                var t = e[0]
                  , i = e[1];
                this.node.selectionStart = t,
                this.node.selectionEnd = i,
                setTimeout(function() {
                    this.node.selectionStart = t,
                    this.node.selectionEnd = i
                }
                .bind(this), 70),
                this.triggerFocusChange(!0)
            }
            ,
            this.calculateHeight = function(e) {
                return e.length > this.attr.minimumHeightCharacters ? this.attr.expandedHeight : this.attr.defaultHeight
            }
            ,
            this.setHeight = function(e) {
                this.$node.css({
                    height: e
                })
            }
            ,
            this.isNotTouch = function() {
                return !TD.util.isiOSDevice() || !TD.decider.get("touchdeck_compose_v2")
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8);
        return s(r, t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.showModal = function(e, t, i) {
                if (!e || "function" != typeof e || "function" != typeof e.attachTo)
                    throw new TypeError("Component must be a constructor and have an attachTo method.");
                t = t || {},
                t.isModal = !0,
                t.isNonDismissible = !!i.withNonDismissible,
                i = _.defaults(i || {}, {
                    id: _.uniqueId("modal")
                }),
                this.boundHandleModalContext = this.handleModalContext.bind(this, e, t, i),
                this.on(document, "uiModalContext", this.boundHandleModalContext),
                this.trigger("uiNeedsModalContext", i)
            }
            ,
            this.handleModalContext = function(e, t, i, n, r) {
                r.id === i.id && (this.off(document, "uiModalContext", this.boundHandleModalContext),
                r.$node && e.mixin(s).attachTo(r.$node, t))
            }
        }
        var s = i(521);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(38)
          , n = function() {
            t.mixin(this, [s]),
            this.attributes({
                accordionItemSelector: ".js-accordion-item",
                accordionIsExpandedClass: "is-expanded",
                accordionIsActiveClass: "is-active",
                accordionToggleSelector: ".js-accordion-toggle-view",
                accordionPanelSelector: ".js-accordion-panel",
                isAccordionPanelAnimatingClass: "is-accordion-panel-animating"
            }),
            this.expandAccordionItem = function(e) {
                this.trigger(e, "uiAccordionWillExpand");
                var t = e.find(this.attr.accordionPanelSelector);
                e.addClass(this.attr.accordionIsExpandedClass),
                e.addClass(this.attr.accordionIsActiveClass),
                this.transitionExpand(t, this.attr.isAccordionPanelAnimatingClass, function() {
                    this.updatePanelHeights(),
                    this.trigger(e, "uiAccordionDidExpand")
                }
                .bind(this)),
                this.trigger(e, "uiAccordionExpandAction")
            }
            ,
            this.collapseAccordionItem = function(e) {
                var t = e.find(this.attr.accordionPanelSelector);
                e.removeClass(this.attr.accordionIsActiveClass),
                this.transitionCollapse(t, this.attr.isAccordionPanelAnimatingClass, function() {
                    e.removeClass(this.attr.accordionIsExpandedClass)
                }
                .bind(this)),
                this.trigger(e, "uiAccordionCollapseAction")
            }
            ,
            this.getOpenAccordionItem = function() {
                return this.select("accordionItemSelector").filter(function(e, t) {
                    return $(t).hasClass(this.attr.accordionIsExpandedClass)
                }
                .bind(this))
            }
            ,
            this.accordionToggle = function(e) {
                var t = $(e.target).closest(this.attr.accordionItemSelector)
                  , i = this.getOpenAccordionItem();
                i.length > 0 && this.collapseAccordionItem(i),
                t.is(i) || this.expandAccordionItem(t)
            }
            ,
            this.showAccordionPanel = function(e) {
                var t = e.closest(this.attr.accordionItemSelector)
                  , i = this.getOpenAccordionItem();
                t.is(i) || (this.collapseAccordionItem(i),
                this.expandAccordionItem(t))
            }
            ,
            this.updatePanelHeights = function() {
                var e = ":visible:not(." + this.attr.isAccordionPanelAnimatingClass + ")";
                this.select("accordionPanelSelector").filter(e).each(function(e, t) {
                    var i = $(t);
                    i.css("height", ""),
                    i.height(i.height()),
                    this.trigger("uiAccordionTotalHeightChanged")
                }
                .bind(this))
            }
            ,
            this.after("initialize", function() {
                this.on("click", {
                    accordionToggleSelector: _.throttle(this.accordionToggle, 300).bind(this)
                }),
                this.on("uiAccordionUpdatePanelHeights", this.updatePanelHeights)
            })
        }
        ;
        return n
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t(e, t, i) {
            if (e.length && t.length) {
                i = _.defaults(i || {}, {
                    time: 300,
                    easing: "inOutQuad"
                });
                var r = e.outerHeight()
                  , o = t.outerHeight()
                  , a = e.scrollTop()
                  , c = s(e, t).top
                  , l = c + o
                  , u = a;
                return l > r && (u = a + (l - r)),
                0 > c && (u = a + c),
                n.ease({
                    from: a,
                    to: u,
                    time: i.time,
                    easing: n.easeFn(i.easing),
                    applicator: function(t) {
                        e.scrollTop(t)
                    }
                })
            }
        }
        function s(e, t) {
            var i = e.offset()
              , s = t.offset();
            return {
                top: s.top - i.top,
                left: s.left - i.left
            }
        }
        var n = i(189);
        return {
            makeElementVisible: t
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(19)
      , r = s(n)
      , o = {};
    e.exports = o;
    var a = 0
      , c = 2
      , l = 4
      , u = 8;
    o.maybe_log = function(e, t) {
        var i = _.isUndefined(t) ? 1 : t;
        TD.config.debug_level >= i && console.log(e)
    }
    ,
    o.NotJsonable = function(e) {
        _.extend(this, e),
        this.___ = e.toString()
    }
    ,
    o.NotJsonable.prototype = {};
    var d = function(e) {
        console.log.apply(console, _.map(e, function(e) {
            if (!_.isUndefined(e))
                try {
                    return JSON.parse((0,
                    r.default)(e))
                } catch (t) {
                    return new o.NotJsonable(e)
                }
        }))
    }
    ;
    o.stateLog = function() {
        TD.config.debug_level >= c && d(arguments)
    }
    ,
    o.verboseLog = function() {
        TD.config.debug_level >= l && d(_.toArray(arguments))
    }
    ,
    o.warn = function() {
        TD.config.debug_level >= a && console.log.apply(console, _.toArray(arguments))
    }
    ,
    o.trace = function(e, t) {
        o.maybe_log("TRACE: " + e + ": " + (t || ""), 1)
    }
    ,
    o.printStacktrace = function() {
        if (TD.config.debug_menu)
            try {
                throw new Error("stack trace or gtfo")
            } catch (e) {
                console.log(e.stack)
            }
    }
    ,
    o.getStack = function() {
        try {
            throw new Error("stack trace or gtfo")
        } catch (e) {
            return TD.util.isChromeApp() ? e.stack.split("\n").slice(2).join("\n") : ""
        }
    }
    ,
    o.errmark = function(e, t) {
        return e || (e = t,
        t = "missing message"),
        console.log("---ERROR--->>>>>->>>>->>>->>->--" + t + "--<-<<--"),
        o.maybe_log(e),
        console.log(e.stack),
        e
    }
    ,
    o.assert = function(e, t, i) {
        if (!e)
            throw console.log("------------------------------------------"),
            console.log(["ASSERT FAILURE", t, i]),
            o.printStacktrace(),
            console.log("------------------------------------------"),
            TD.sync.trace && TD.sync.trace.assert(t, i),
            new Error("AssertionError")
    }
    ,
    o.precondition = function(e, t, i) {
        if (!e)
            throw console.log("------------------------------------------"),
            console.log(["PRECONDITION FAILURE", t, i]),
            o.printStacktrace(),
            console.log("------------------------------------------"),
            TD.sync.trace && TD.sync.trace.assert("PRECONDITION " + t, i),
            new Error("PreconditionAssertionError")
    }
    ,
    o._break = function() {
        console.log("you might want to set a breakpoint here ;-)")
    }
    ,
    o.warning = function(e) {
        var t = _.toArray(arguments).slice(1);
        console.log(["WARNING", e, o.pformat(t)])
    }
    ,
    o.error = function(e) {
        var t = _.toArray(arguments).slice(1);
        console.log(["ERROR", e, o.pformat(t)])
    }
    ,
    o.list_to_set = function(e) {
        var t = {};
        return _.each(e, function(e) {
            t[e] = !0
        }),
        t
    }
    ,
    o.pprint = function(e) {
        return o.maybe_log((0,
        r.default)(e, null , "  "), c),
        e
    }
    ,
    o.pformat = function(e) {
        return (0,
        r.default)(e, null , "  ")
    }
    ,
    o.repr = function(e) {
        return (0,
        r.default)(e)
    }
    ,
    o.clone = function(e) {
        if (null === e || _.isUndefined(e))
            return e;
        try {
            return JSON.parse((0,
            r.default)(e))
        } catch (t) {
            return o.stateLog("util.clone couldn't parse object", e, t),
            ["<not jsonable>", e]
        }
    }
    ,
    o.dictMap = function(e, t, i) {
        var s = {};
        return _.each(_.map(e, t, i), function(e) {
            s[e[0]] = e[1]
        }),
        s
    }
    ,
    o.stall = function(e, t) {
        _.isUndefined(t) && (t = 0);
        var i = new TD.core.defer.Deferred;
        return _.delay(_.bind(i.callback, i), 1e3 * t, e),
        i
    }
    ,
    o.autoRetry = function(e, t, i) {
        var s = e();
        return t.forEach(function(t) {
            s.addErrback(function(s) {
                if (!i || i(s)) {
                    var n = new TD.core.defer.Deferred;
                    return n.addCallback(e),
                    setTimeout(function() {
                        n.callback()
                    }, t),
                    n
                }
                return s
            })
        }),
        s
    }
    ,
    o.DO_THING_ANYWAY = "doThingAnyway",
    o.deDupeDeferred = function(e, t) {
        function i(i) {
            var s = _.find(n, function(e) {
                return _.isEqual(e.args, i)
            });
            return s || (s = {
                args: _.cloneDeep(i),
                needsThingDone: !0,
                deferreds: [],
                doThing: function() {
                    var t = [null ].concat(_.cloneDeep(i));
                    return TD.core.defer.maybeDeferred(e.bind.apply(e, t))
                },
                beforeDeDupe: function() {
                    var e;
                    try {
                        e = t.apply(null , _.cloneDeep(i))
                    } catch (s) {}
                    return e
                }
            },
            n.push(s)),
            s
        }
        function s(e) {
            n = n.filter(function(t) {
                return t !== e
            });
            var t = [].slice.call(arguments, 1);
            e.deferreds.forEach(function(e) {
                e.callback.apply(e, t)
            })
        }
        var n = [];
        return t = t || function() {}
        ,
        function() {
            var e = [].slice.call(arguments)
              , t = i(e);
            if (!t.needsThingDone) {
                var n = t.beforeDeDupe() === o.DO_THING_ANYWAY;
                if (n)
                    return t.doThing()
            }
            var r = new TD.core.defer.Deferred;
            return t.deferreds.push(r),
            t.needsThingDone && (t.needsThingDone = !1,
            t.doThing().addBoth(s.bind(null , t))),
            r
        }
    }
    ,
    o.makeThingScheduler = function(e, t, i, s, n) {
        var r = !1
          , a = !1;
        s = s || function() {
            return !0
        }
        ,
        n = _.isUndefined(n) ? 1 : n;
        var c = []
          , l = function d() {
            if (o.maybe_log(["_maybe_do_stuff", i, "want stuff done:", r, "am doing stuff:", a], u),
            !r)
                return void o.maybe_log("not doing stuff; someone else did stuff before us", u);
            if (a)
                return void o.maybe_log("am already doing stuff", u);
            a = !0,
            r = !1;
            var s = TD.controller.progressIndicator;
            if (t)
                var n = s.addTask(t);
            var l = TD.core.defer.maybeDeferred(e);
            l.addCallback(function(e) {
                if (a = !1,
                t && s.deleteTask(n),
                r)
                    d();
                else {
                    var i = c;
                    c = [];
                    for (var o = 0; o < i.length; o++)
                        try {
                            i[o].callback(e)
                        } catch (l) {
                            _.defer(_.bind(i[o].errback, i[o]), l)
                        }
                }
            }),
            l.addErrback(function(r) {
                o.errmark(r, 'do_stuff for "' + i + '" yielded error when calling; ' + e),
                a = !1,
                t && s.taskFailed(n);
                var l = c;
                c = [];
                for (var u = 0; u < l.length; u++)
                    try {
                        l[u].errback(r)
                    } catch (d) {
                        _.defer(_.bind(l[u].errback, l[u]), d)
                    }
            })
        }
        ;
        return function(e) {
            if (!s())
                return o.maybe_log("not triggering (guarded): " + i, u),
                TD.core.defer.succeed();
            e = _.isUndefined(e) ? n : e,
            o.maybe_log('trigger func called "' + i + '"', u),
            r = !0;
            var t = new TD.core.defer.Deferred;
            return c.push(t),
            setTimeout(l, 1e3 * e),
            t
        }
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(16)
      , n = i(60)
      , r = i(15);
    e.exports = function(e) {
        for (var t = s(this), i = r(t.length), o = arguments.length, a = n(o > 1 ? arguments[1] : void 0, i), c = o > 2 ? arguments[2] : void 0, l = void 0 === c ? i : n(c, i); l > a; )
            t[a++] = e;
        return t
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(14)
      , n = i(52);
    e.exports = function(e, t, i) {
        t in e ? s.f(e, t, n(0, i)) : e[t] = i
    }
}
, [882, 10, 6], function(e, t) {
    e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}
, function(e, t, i) {
    var s = i(12)("match");
    e.exports = function(e) {
        var t = /./;
        try {
            "/./"[e](t)
        } catch (i) {
            try {
                return t[s] = !1,
                !"/./"[e](t)
            } catch (n) {}
        }
        return !0
    }
}
, [886, 6], function(e, t, i) {
    var s = i(10)
      , n = i(109).set;
    e.exports = function(e, t, i) {
        var r, o = t.constructor;
        return o !== i && "function" == typeof o && (r = o.prototype) !== i.prototype && s(r) && n && n(e, r),
        e
    }
}
, [889, 55, 12], [890, 35], function(e, t, i) {
    var s = i(10)
      , n = Math.floor;
    e.exports = function(e) {
        return !s(e) && isFinite(e) && n(e) === e
    }
}
, [892, 57, 52, 75, 23, 12], [893, 56, 2, 24, 23, 17, 55, 138, 75, 32, 12], function(e, t) {
    var i = Math.expm1;
    e.exports = !i || i(10) > 22025.465794806718 || i(10) < 22025.465794806718 || -2e-17 != i(-2e-17) ? function(e) {
        return 0 == (e = +e) ? e : e > -1e-6 && 1e-6 > e ? e + e * e / 2 : Math.exp(e) - 1
    }
    : i
}
, function(e, t) {
    e.exports = Math.sign || function(e) {
        return 0 == (e = +e) || e != e ? e : 0 > e ? -1 : 1
    }
}
, [910, 110, 61], [912, 3, 34, 12], [913, 53, 36], function(e, t, i) {
    var s = i(105)
      , n = i(36);
    e.exports = function(e, t, i) {
        if (s(t))
            throw TypeError("String#" + i + " doesn't accept regex!");
        return String(n(e))
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(53)
      , n = i(36);
    e.exports = function(e) {
        var t = String(n(this))
          , i = ""
          , r = s(e);
        if (0 > r || r == 1 / 0)
            throw RangeError("Count can't be negative");
        for (; r > 0; (r >>>= 1) && (t += t))
            1 & r && (i += t);
        return i
    }
}
, function(e, t) {
    e.exports = "	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"
}
, [914, 46, 104, 133, 130, 6, 35], function(e, t, i) {
    "use strict";
    var s = i(6)
      , n = i(13)
      , r = i(56)
      , o = i(111)
      , a = i(23)
      , c = i(73)
      , l = i(5)
      , u = i(54)
      , d = i(53)
      , h = i(15)
      , m = i(58).f
      , p = i(14).f
      , f = i(128)
      , g = i(75)
      , v = "ArrayBuffer"
      , T = "DataView"
      , w = "prototype"
      , b = "Wrong length!"
      , y = "Wrong index!"
      , D = s[v]
      , C = s[T]
      , _ = s.Math
      , S = (s.parseInt,
    s.RangeError)
      , A = s.Infinity
      , E = D
      , I = _.abs
      , k = _.pow
      , x = (_.min,
    _.floor)
      , M = _.log
      , R = _.LN2
      , F = "buffer"
      , L = "byteLength"
      , O = "byteOffset"
      , N = n ? "_b" : F
      , U = n ? "_l" : L
      , j = n ? "_o" : O
      , P = function(e, t, i) {
        var s, n, r, o = Array(i), a = 8 * i - t - 1, c = (1 << a) - 1, l = c >> 1, u = 23 === t ? k(2, -24) - k(2, -77) : 0, d = 0, h = 0 > e || 0 === e && 0 > 1 / e ? 1 : 0;
        for (e = I(e),
        e != e || e === A ? (n = e != e ? 1 : 0,
        s = c) : (s = x(M(e) / R),
        e * (r = k(2, -s)) < 1 && (s--,
        r *= 2),
        e += s + l >= 1 ? u / r : u * k(2, 1 - l),
        e * r >= 2 && (s++,
        r /= 2),
        s + l >= c ? (n = 0,
        s = c) : s + l >= 1 ? (n = (e * r - 1) * k(2, t),
        s += l) : (n = e * k(2, l - 1) * k(2, t),
        s = 0)); t >= 8; o[d++] = 255 & n,
        n /= 256,
        t -= 8)
            ;
        for (s = s << t | n,
        a += t; a > 0; o[d++] = 255 & s,
        s /= 256,
        a -= 8)
            ;
        return o[--d] |= 128 * h,
        o
    }
      , $ = function(e, t, i) {
        var s, n = 8 * i - t - 1, r = (1 << n) - 1, o = r >> 1, a = n - 7, c = i - 1, l = e[c--], u = 127 & l;
        for (l >>= 7; a > 0; u = 256 * u + e[c],
        c--,
        a -= 8)
            ;
        for (s = u & (1 << -a) - 1,
        u >>= -a,
        a += t; a > 0; s = 256 * s + e[c],
        c--,
        a -= 8)
            ;
        if (0 === u)
            u = 1 - o;
        else {
            if (u === r)
                return s ? NaN : l ? -A : A;
            s += k(2, t),
            u -= o
        }
        return (l ? -1 : 1) * s * k(2, u - t)
    }
      , B = function(e) {
        return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0]
    }
      , H = function(e) {
        return [255 & e]
    }
      , K = function(e) {
        return [255 & e, e >> 8 & 255]
    }
      , z = function(e) {
        return [255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255]
    }
      , q = function(e) {
        return P(e, 52, 8)
    }
      , W = function(e) {
        return P(e, 23, 4)
    }
      , V = function(e, t, i) {
        p(e[w], t, {
            get: function() {
                return this[i]
            }
        })
    }
      , G = function(e, t, i, s) {
        var n = +i
          , r = d(n);
        if (n != r || 0 > r || r + t > e[U])
            throw S(y);
        var o = e[N]._b
          , a = r + e[j]
          , c = o.slice(a, a + t);
        return s ? c : c.reverse()
    }
      , Y = function(e, t, i, s, n, r) {
        var o = +i
          , a = d(o);
        if (o != a || 0 > a || a + t > e[U])
            throw S(y);
        for (var c = e[N]._b, l = a + e[j], u = s(+n), h = 0; t > h; h++)
            c[l + h] = u[r ? h : t - h - 1]
    }
      , Q = function(e, t) {
        u(e, D, v);
        var i = +t
          , s = h(i);
        if (i != s)
            throw S(b);
        return s
    }
    ;
    if (o.ABV) {
        if (!l(function() {
            new D
        }) || !l(function() {
            new D(.5)
        })) {
            D = function(e) {
                return new E(Q(this, e))
            }
            ;
            for (var J, X = D[w] = E[w], Z = m(E), ee = 0; Z.length > ee; )
                (J = Z[ee++])in D || a(D, J, E[J]);
            r || (X.constructor = D)
        }
        var te = new C(new D(2))
          , ie = C[w].setInt8;
        te.setInt8(0, 2147483648),
        te.setInt8(1, 2147483649),
        (te.getInt8(0) || !te.getInt8(1)) && c(C[w], {
            setInt8: function(e, t) {
                ie.call(this, e, t << 24 >> 24)
            },
            setUint8: function(e, t) {
                ie.call(this, e, t << 24 >> 24)
            }
        }, !0)
    } else
        D = function(e) {
            var t = Q(this, e);
            this._b = f.call(Array(t), 0),
            this[U] = t
        }
        ,
        C = function(e, t, i) {
            u(this, C, T),
            u(e, D, T);
            var s = e[U]
              , n = d(t);
            if (0 > n || n > s)
                throw S("Wrong offset!");
            if (i = void 0 === i ? s - n : h(i),
            n + i > s)
                throw S(b);
            this[N] = e,
            this[j] = n,
            this[U] = i
        }
        ,
        n && (V(D, L, "_l"),
        V(C, F, "_b"),
        V(C, L, "_l"),
        V(C, O, "_o")),
        c(C[w], {
            getInt8: function(e) {
                return G(this, 1, e)[0] << 24 >> 24
            },
            getUint8: function(e) {
                return G(this, 1, e)[0]
            },
            getInt16: function(e) {
                var t = G(this, 2, e, arguments[1]);
                return (t[1] << 8 | t[0]) << 16 >> 16
            },
            getUint16: function(e) {
                var t = G(this, 2, e, arguments[1]);
                return t[1] << 8 | t[0]
            },
            getInt32: function(e) {
                return B(G(this, 4, e, arguments[1]))
            },
            getUint32: function(e) {
                return B(G(this, 4, e, arguments[1])) >>> 0
            },
            getFloat32: function(e) {
                return $(G(this, 4, e, arguments[1]), 23, 4)
            },
            getFloat64: function(e) {
                return $(G(this, 8, e, arguments[1]), 52, 8)
            },
            setInt8: function(e, t) {
                Y(this, 1, e, H, t)
            },
            setUint8: function(e, t) {
                Y(this, 1, e, H, t)
            },
            setInt16: function(e, t) {
                Y(this, 2, e, K, t, arguments[2])
            },
            setUint16: function(e, t) {
                Y(this, 2, e, K, t, arguments[2])
            },
            setInt32: function(e, t) {
                Y(this, 4, e, z, t, arguments[2])
            },
            setUint32: function(e, t) {
                Y(this, 4, e, z, t, arguments[2])
            },
            setFloat32: function(e, t) {
                Y(this, 4, e, W, t, arguments[2])
            },
            setFloat64: function(e, t) {
                Y(this, 8, e, q, t, arguments[2])
            }
        });
    g(D, v),
    g(C, T),
    a(C[w], o.VIEW, !0),
    t[v] = D,
    t[T] = C
}
, [920, 6, 45, 56, 218, 14], [923, 72, 12, 55, 45], [924, 71, 205, 55, 26, 139], 34, 36, [882, 77, 33], 131, 83, [910, 159, 117], [911, 33], 53, [919, 77], [920, 33, 42, 114, 163, 65], [921, 27], , , , , , function(e, t, i) {
    i(263),
    i(170),
    i(262),
    i(261),
    i(266),
    i(265),
    i(264),
    i(260)
}
, function(e, t) {
    !function(e) {
        e.createElement = function(t) {
            return e(document.createElement(t))
        }
    }(jQuery)
}
, function(e, t, i) {
    "use strict";
    var s = i(257);
    e.exports = {
        parse: function(e) {
            return s.parse(e, function(e, t, i) {
                switch (e) {
                case "a9":
                case "ae":
                case "2122":
                    return !1
                }
                return TD.assets.get("emoji", {
                    icon: e
                })
            })
        }
    }
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.before("initialize", function() {
                this.languages = TD.languages.getAllLanguages()
            })
        }
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            s.mixin(this, [n]),
            this.withMediaUploaderUpload = function(e, t) {
                if (e = e || {},
                !e.files || !e.files.length)
                    throw new Error("Missing file to upload.");
                if (!e.accountKey)
                    throw new Error("Missing account key to upload with.");
                t = _.defaults(t || {}, {
                    ttl: "ephemeral"
                });
                var i = this.getClientByAccountKey(e.accountKey)
                  , s = i.oauth.account
                  , n = new FormData;
                e.file = e.files[0],
                n.append("media", e.file),
                n.append("ttl", t.ttl);
                var r = TD.net.ajax.upload(n, s);
                return r.addCallback(function(e) {
                    if (e = e || {},
                    e.data = e.data || {},
                    "string" != typeof e.data.media_id_string)
                        throw new Error("Upload response missing media_id_string.");
                    return e.data.media_id_string
                }),
                r
            }
        }
        var s = i(1).compose
          , n = i(44);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                stateSource: null ,
                typeTextSelector: ".js-account-safeguard-text"
            }),
            this.after("initialize", function() {
                this.observe(this.requestResource(this.attr.stateSource)).map(a.filterKeys(["tweetType", "scheduledDate", "isSelectedAccountSafeguarded", "selectedAccountKeys", "tweetText", "files"])).distinctUntilChanged(null , a.shallowEquals()).subscribeOnNext(this.render, this),
                this.on(this.$node.find("input"), "change", this.handleChange)
            }),
            this.getText = function(e) {
                return "message" === e.tweetType ? TD.i("Ready to send?") : null !== e.scheduledDate ? TD.i("Ready to schedule?") : TD.i("Ready to Tweet?")
            }
            ,
            this.render = function(e) {
                this.select("typeTextSelector").html(this.getText(e)),
                this.$node.toggleClass("is-hidden", !e.isSelectedAccountSafeguarded),
                this.$node.find("input").prop("checked", !1).change()
            }
            ,
            this.handleChange = function(e) {
                this.trigger("uiAccountSafeguardCheckboxChange", {
                    checked: $(e.target).prop("checked")
                })
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8)
          , o = i(30)
          , a = i(29);
        return s(r, t, n, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                stateSource: null ,
                sendButtonSelector: ".js-send-button",
                composeSuccess: ".js-compose-sending-success"
            }),
            this.after("initialize", function() {
                this.$sendButton = this.select("sendButtonSelector"),
                this.on(this.$sendButton, "click keydown", this.handleClick);
                var e = this.observe(this.requestResource(this.attr.stateSource));
                e.pluck("sendButtonText").distinctUntilChanged().subscribeOnNext(this.renderButtonText, this),
                e.pluck("sendButtonTooltip").distinctUntilChanged().subscribeOnNext(this.renderTooltip, this),
                e.pluck("sendingStatus").distinctUntilChanged().subscribeOnNext(this.renderSendingStatus, this),
                e.pluck("canSend").distinctUntilChanged().subscribeOnNext(this.toggleEnabled, this)
            }),
            this.renderButtonText = function(e) {
                this.$sendButton.text(e)
            }
            ,
            this.renderTooltip = function(e) {
                var t = $("<div/>").html(e).text();
                this.$sendButton.attr("data-original-title", t)
            }
            ,
            this.renderSendingStatus = function(e) {
                this.spinnerButtonToggle("sending" === e),
                this.select("composeSuccess").toggleClass("is-hidden", "success" !== e),
                this.$sendButton.toggleClass("text-hidden", "ready" !== e)
            }
            ,
            this.toggleEnabled = function(e) {
                this.$sendButton.toggleClass("is-disabled", !e)
            }
            ,
            this.handleClick = function(e) {
                (!a.eventIsKey(e) || a.isEnter(e) || a.isSpacebar(e)) && this.trigger("uiComposeSendTweet", {})
            }
        }
        var s = i(1).component
          , n = i(97)
          , r = i(7)
          , o = i(8)
          , a = i(190);
        return s(o, t, n, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t(e, t) {
            if (e.scheduledDate)
                this.trigger("uiSendScheduledTweets", {
                    requestId: e.requestId,
                    requests: t,
                    scheduledDate: e.scheduledDate,
                    tokenToDelete: e.scheduledId,
                    metadata: e.metadata
                });
            else {
                var i = "message" === e.type ? "uiSendDm" : "uiSendTweet";
                this.trigger("metric", {
                    type: "metric",
                    key: "tweet:data:selected-accounts",
                    value: [t.length]
                }),
                t.forEach(function(e) {
                    this.trigger(i, e)
                }, this),
                this.trigger("uiSendScheduledTweets", {
                    requestId: e.requestId,
                    requests: [],
                    scheduledDate: e.scheduledDate,
                    tokenToDelete: e.scheduledId,
                    metadata: e.metadata
                })
            }
        }
        var s = i(1).compose
          , n = i(447)
          , r = i(11)
          , o = i(95);
        return function() {
            s.mixin(this, [n, r, o]);
            var e = []
              , i = null
              , a = [];
            this.after("initialize", function() {
                this.on(document, "dataTweetSent", this.forCurrentRequest(this.handleDataTweetSent)),
                this.on(document, "dataTweetError", this.forCurrentRequest(this.handleDataTweetError)),
                this.on(document, "dataDmSent", this.forCurrentRequest(this.handleDataDmSent)),
                this.on(document, "dataDmError", this.forCurrentRequest(this.handleDataDmError)),
                this.on(document, "dataScheduledTweetsSent", this.forCurrentRequest(this.handleDataScheduledTweetsSent)),
                this.on(document, "dataScheduledTweetsError", this.forCurrentRequest(this.handleDataScheduledTweetsError))
            }),
            this.forCurrentRequest = function(e) {
                return function(t, s) {
                    var n = i && s.request && s.request.requestId === i.requestId;
                    n && e.call(this, t, s)
                }
            }
            ,
            this.resetSendTweet = function() {
                e = [],
                a = [],
                i = null
            }
            ,
            this.sendTweet = function(e) {
                this.trigger("uiComposeTweetSending"),
                this.resetSendTweet(),
                i = e,
                this.maybeShortenTextLinks(e.text, function(t) {
                    e.text = t,
                    this.actuallySendTweet(e)
                }
                .bind(this))
            }
            ,
            this.actuallySendTweet = function(e) {
                var i = []
                  , s = e.from.map(function(t) {
                    var s = {
                        accountKey: t
                    };
                    return e.accountsMediaIds && (s.mediaIds = e.accountsMediaIds[t],
                    i.push(s.mediaIds)),
                    $.extend({}, e, s)
                });
                if (i.length) {
                    var n = new TD.core.defer.DeferredList(i);
                    n.addCallback(t.bind(this, e, s))
                } else
                    t.call(this, e, s)
            }
            ,
            this.handleTweetResponse = function(t) {
                a.push(t.request),
                a.length === i.from.length && (0 === e.length ? this.triggerTweetSuccess() : this.triggerTweetError())
            }
            ,
            this.handleDataTweetSent = function(e, t) {
                this.handleTweetResponse(t)
            }
            ,
            this.handleDataDmSent = function(e, t) {
                this.handleTweetResponse(t)
            }
            ,
            this.handleDataScheduledTweetsSent = function(e, t) {
                this.triggerTweetSuccess()
            }
            ,
            this.handleDataTweetError = function(t, i) {
                e.push(i),
                this.handleTweetResponse(i)
            }
            ,
            this.handleDataDmError = function(e, t) {
                this.handleDataTweetError(e, t)
            }
            ,
            this.handleDataScheduledTweetsError = function(e, t) {
                var i, s, n;
                if (t.response.humanReadableMessage)
                    i = t.response.humanReadableMessage;
                else {
                    try {
                        s = JSON.parse(t.response.req.responseText)
                    } catch (r) {}
                    n = s && s.error ? s.error : t.response.req.status,
                    i = TD.i("Scheduling failed. Please try again. ({{message}})", {
                        message: n
                    })
                }
                TD.controller.progressIndicator.addMessage(i),
                this.triggerTweetError()
            }
            ,
            this.showTweetErrors = function(e) {
                if (0 !== e.length) {
                    var t = e.map(function(e) {
                        var t = {};
                        try {
                            t = JSON.parse(e.response.responseText).errors[0]
                        } catch (s) {
                            e && e.response && TD.util.isNetworkFailure(e.response) && (t.code = "0")
                        }
                        var n = this.getApiErrorMessage(t);
                        e.response && e.response.message && (n = e.response.message);
                        var r = this.getAccountData(e.request.accountKey)
                          , o = r ? r.screenName : "unknown account";
                        switch (i.type) {
                        case "message":
                            return TD.i("Message from @{{screenName}} failed: " + n, {
                                screenName: o
                            });
                        default:
                            return TD.i("Tweet from @{{screenName}} failed: " + n, {
                                screenName: o
                            })
                        }
                    }, this);
                    TD.controller.progressIndicator.addMessage(t.join("\n"))
                }
            }
            ,
            this.triggerTweetSuccess = function() {
                this.trigger("uiComposeTweetSent")
            }
            ,
            this.triggerTweetError = function() {
                this.showTweetErrors(e),
                this.trigger("uiComposeTweetError", {
                    errors: i.scheduledDate ? null : e
                })
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = function() {
            this.attributes({
                account: null ,
                twitterUser: null ,
                follows: "s-follows"
            }),
            this.handleRelationshipData = function(e, t) {
                t && t.relationship && this.account.isSameUser(t.relationship.source.screen_name) && this.twitterUser.isSameUser(t.relationship.target.screen_name) && this.$node.toggleClass(this.attr.follows, t.relationship.target.following)
            }
            ,
            this.destroy = function(e) {
                e.stopPropagation(),
                this.teardown()
            }
            ,
            this.after("initialize", function() {
                if (this.account = this.attr.account,
                this.twitterUser = this.attr.twitterUser,
                !(this.account instanceof TD.storage.Account))
                    throw new Error("source must be instance of TD.storage.Account");
                if (!(this.twitterUser instanceof TD.services.TwitterUser))
                    throw new Error("target must be instance of TD.services.TwitterUser");
                this.on(document, "dataRelationship", this.handleRelationshipData),
                this.attr.closeEvent && this.on(this.attr.closeEvent, this.destroy),
                this.trigger("uiNeedsRelationship", {
                    account: this.account,
                    screenName: this.twitterUser.screenName
                })
            })
        }
        ;
        return t(s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                authType: "twitter",
                passwordFlow: {
                    url: "https://twitter.com/account/begin_password_reset?ref=td&account_identifier={{username}}",
                    windowWidth: 1e3,
                    windowHeight: 600
                }
            }),
            this.after("initialize", function() {
                this.on("uiForgotPassword", this.handleForgotPassword)
            }),
            this.handleForgotPassword = function() {
                var e = this.attr.passwordFlow.url.replace("{{username}}", this.getLoginFormData().username);
                window.open(e, null , "width=" + Math.min(this.attr.passwordFlow.windowWidth, screen.width) + ",height=" + Math.min(this.attr.passwordFlow.windowHeight, screen.height))
            }
        }
        var s = i(1).component
          , n = i(515);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        return function() {
            this.getLoginAccountAccessDeniedMessageId = function() {
                return "expired-login-error"
            }
            ,
            this.getLoginAccountAccessDeniedMessageData = function(e) {
                return {
                    id: this.getLoginAccountAccessDeniedMessageId(),
                    text: [TD.i("TweetDeck no longer has permission to access your main login account @{{1}}.", {
                        1: e.account.getUsername()
                    }), TD.i("You will be logged out to prevent unauthorized access.")].join(" "),
                    colors: {
                        background: "#b2d5ed",
                        foreground: "#555"
                    }
                }
            }
            ,
            this.getDataminrAccountAccessDeniedMessageData = function(e) {
                return {
                    id: "expired-dataminr-login-error",
                    text: TD.i("TweetDeck no longer has permission to access your Dataminr account.") + " " + TD.i("Please check your Dataminr settings."),
                    colors: {
                        background: "#b2d5ed",
                        foreground: "#555"
                    }
                }
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                account: null ,
                twitterUser: null ,
                states: {
                    blocking: "blocking",
                    following: "following",
                    me: "me",
                    notFollowing: "notFollowing",
                    pending: "pending",
                    unknown: "unknown"
                },
                classNamesForStates: {
                    blocking: "s-blocking",
                    following: "s-following",
                    me: "s-thats-you",
                    notFollowing: "s-not-following",
                    pending: "s-pending",
                    unknown: "unknown"
                },
                buttonEnabledForStates: {
                    blocking: !0,
                    following: !0,
                    me: !0,
                    notFollowing: !0,
                    pending: !1,
                    unknown: !1
                },
                followButton: ".js-follow-button"
            }),
            this.after("initialize", function() {
                this.account = this.attr.account,
                this.twitterUser = this.attr.twitterUser,
                this.state = this.attr.states.unknown,
                this.on(document, "dataRelationship", this.handleRelationshipData),
                this.on("click", {
                    followButton: this.handleFollowButtonClick
                }),
                this.on(document, "uiFollowAction dataUnfollowActionError", this.handleActionFactory("following")),
                this.on(document, "uiFollowProtectedUserAction", this.handleActionFactory("pending")),
                this.on(document, "uiUnfollowAction dataFollowActionError", this.handleActionFactory("notFollowing")),
                this.on(document, "uiBlockAction dataUnblockActionError", this.handleActionFactory("blocking")),
                this.on(document, "uiUnblockAction dataBlockActionError dataReportActionError", this.handleActionFactory("notFollowing")),
                $.subscribe("/user/" + this.screenName + "/block", this.handlePubSubEvent("blocking")),
                $.subscribe("/user/" + this.screenName + "/unblock", this.handlePubSubEvent("notFollowing")),
                this.attr.closeEvent && this.on(this.attr.closeEvent, this.destroy),
                this.trigger("uiNeedsRelationship", {
                    account: this.account,
                    screenName: this.twitterUser.screenName
                })
            }),
            this.resetState = function() {
                this.$node.removeClass(this.attr.classNamesForStates[this.state])
            }
            ,
            this.setState = function(e, t) {
                e.following ? this.state = this.attr.states.following : e.following_requested ? this.state = this.attr.states.pending : this.state = this.attr.states.notFollowing,
                e.id === t.id && (this.state = this.attr.states.me),
                e.blocking && (this.state = this.attr.states.blocking)
            }
            ,
            this.handleFollowButtonClick = function(e) {
                var t = {
                    account: this.account,
                    twitterUser: this.twitterUser
                };
                switch (this.state) {
                case this.attr.states.following:
                    this.trigger("uiUnfollowAction", t);
                    break;
                case this.attr.states.notFollowing:
                    this.twitterUser.isProtected ? this.trigger("uiFollowProtectedUserAction", t) : this.trigger("uiFollowAction", t);
                    break;
                case this.attr.states.blocking:
                    this.trigger("uiUnblockAction", t);
                    break;
                case this.attr.states.me:
                    TD.util.openURL("https://twitter.com/settings/profile")
                }
                e.stopPropagation()
            }
            ,
            this.toggleEnableButton = function(e) {
                this.select("followButton").prop("disabled", !e)
            }
            ,
            this.setTargetElementState = function() {
                this.$node.addClass(this.attr.classNamesForStates[this.state])
            }
            ,
            this.isRelevantRelationship = function(e) {
                return this.account.isSameUser(e.source.screen_name) && this.twitterUser.isSameUser(e.target.screen_name)
            }
            ,
            this.handleRelationshipData = function(e, t) {
                t && t.relationship && this.isRelevantRelationship(t.relationship) && (this.resetState(),
                this.setState(t.relationship.source, t.relationship.target),
                this.toggleEnableButton(this.attr.buttonEnabledForStates[this.state]),
                this.setTargetElementState())
            }
            ,
            this.isRelevantAction = function(e) {
                return e && e.twitterUser && e.twitterUser.isSameUser(this.twitterUser) && e.account === this.account
            }
            ,
            this.handleActionFactory = function(e) {
                var t = function(t, i) {
                    i = i || {},
                    this.isRelevantAction(i.request || i) && (this.resetState(),
                    this.state = this.attr.states[e],
                    this.setTargetElementState(),
                    this.toggleEnableButton(this.attr.buttonEnabledForStates[e]))
                }
                ;
                return t.bind(this)
            }
            ,
            this.handlePubSubEvent = function(e) {
                var t = function(t, i) {
                    i.getAccountKey() === this.account.getAccountKey() && (this.resetState(),
                    this.state = this.attr.states[e],
                    this.setTargetElementState())
                }
                ;
                return t.bind(this)
            }
            ,
            this.destroy = function(e) {
                e.stopPropagation(),
                this.teardown()
            }
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                inputSelector: ".js-app-search-input",
                dropdownSelector: ".js-typeahead-dropdown",
                itemsSelector: ".js-typeahead-item",
                itemSelectedClass: "is-selected",
                itemSelectedSelector: ".js-typeahead-item.is-selected",
                deciders: {
                    showDebugInfo: !1
                },
                datasources: ["topics", "savedSearches", "recentSearches", "users", "lists", "conversations"],
                limits: {
                    users: 5,
                    topics: 5,
                    lists: 2,
                    conversations: 3
                },
                datasourcesRecentOnly: ["recentSearches"],
                queryTypes: ["topic", "saved-search", "recent-search", "user", "conversation"],
                minHeight: 300,
                hideAfterSelect: !1,
                autoSelect: !1,
                withClickTrap: !1
            }),
            this.after("initialize", function() {
                if (this.query = null ,
                this.on(document, "dataTypeaheadSuggestions", this.handleDataTypeaheadSuggestions),
                this.on("uiTypeaheadInputFocus", this.handleTypeaheadInputFocus),
                this.on("uiTypeaheadInputBlur", this.handleTypeaheadInputBlur),
                this.on("uiTypeaheadInputSubmit", this.handleTypeaheadInputSubmit),
                this.on("uiTypeaheadInputChanged", this.handleTypeaheadInputChanged),
                this.on("uiTypeaheadInputMoveUp", this.handleTypeaheadInputMoveUp),
                this.on("uiTypeaheadInputMoveDown", this.handleTypeaheadInputMoveDown),
                this.on("uiTypeaheadInputRight", this.handleTypeaheadInputMoveRight),
                this.on("uiTypeaheadInputTab uiTypeaheadInputLeft", this.completeSelection),
                this.on("uiTypeaheadInputEscaped", this.handleTypeaheadInputEscaped),
                this.on("mouseover", {
                    itemsSelector: this.handleItemMouseover
                }),
                this.on("click", {
                    itemsSelector: this.handleItemClick
                }),
                this.attr.withClickTrap) {
                    var e = this.select("dropdownSelector").add(this.select("inputSelector"));
                    this.setClickTrapTarget(e),
                    this.onReceiveClick(this.handleClickTrapClick)
                }
            }),
            this.handleClickTrapClick = function() {
                this.hideDropdown(),
                this.trigger(this.select("inputSelector"), "uiTypeaheadNoItemSelected")
            }
            ,
            this.handleTypeaheadInputEscaped = function() {
                this.hideDropdown()
            }
            ,
            this.handleTypeaheadInputFocus = function(e, t) {
                this.hasFocus = !0,
                t.query !== this.query && this.handleTypeaheadInputChanged(e, t)
            }
            ,
            this.handleTypeaheadInputBlur = function() {
                this.hasFocus = !1,
                this.trigger("dataTypeaheadQueryReset")
            }
            ,
            this.handleItemMouseover = function(e, t) {
                this.select("itemsSelector").removeClass(this.attr.itemSelectedClass),
                $(t.el).addClass(this.attr.itemSelectedClass)
            }
            ,
            this.moveSelection = function(e) {
                var t, i = this.select("itemsSelector").filter(":visible"), s = i.filter(this.attr.itemSelectedSelector);
                s.removeClass(this.attr.itemSelectedClass),
                t = s.length ? i.index(s) + e : -1 + e,
                0 > t ? t = i.length - 1 : t >= i.length && (t = 0),
                i.eq(t).addClass(this.attr.itemSelectedClass)
            }
            ,
            this.getSelectedItemIndex = function() {
                var e = this.select("itemsSelector").filter(":visible")
                  , t = e.filter(this.attr.itemSelectedSelector);
                return e.index(t)
            }
            ,
            this.handleTypeaheadInputMoveUp = function(e) {
                this.moveSelection(-1)
            }
            ,
            this.handleTypeaheadInputMoveDown = function(e) {
                this.moveSelection(1)
            }
            ,
            this.handleTypeaheadInputMoveRight = function(e, t) {
                -1 === this.getSelectedItemIndex() ? this.moveSelection(1) : this.completeSelection(e, t)
            }
            ,
            this.handleTypeaheadInputChanged = function(e, t) {
                var i = t.query
                  , s = this.attr.datasources;
                0 === i.trim().length && (s = this.attr.datasourcesRecentOnly),
                this.query = i,
                this.select("itemsSelector").removeClass(this.attr.itemSelectedClass),
                this.trigger("uiNeedsTypeaheadSuggestions", {
                    query: i,
                    datasources: s,
                    dropdownId: this.getDropdownId(),
                    type: "search",
                    limits: this.attr.limits
                })
            }
            ,
            this.getDropdownId = function() {
                return this.dropdownId || (this.dropdownId = "swift_typeahead_dropdown_" + Date.now()),
                this.dropdownId
            }
            ,
            this.generateItemFromSelectedElement = function(e) {
                var t, i = e.attr("data-search-type");
                switch (i) {
                case "user":
                    t = {
                        id: e.attr("data-user-id"),
                        name: e.attr("data-user-name"),
                        screenName: e.attr("data-screen-name"),
                        profileImageURL: e.attr("data-profile-image-url"),
                        verified: "true" === e.attr("data-verified")
                    };
                    break;
                case "conversation":
                    t = {
                        conversationId: e.attr("data-conversation-id"),
                        accountKey: e.attr("data-account-key")
                    };
                    break;
                default:
                    t = {}
                }
                return t
            }
            ,
            this.triggerSelectionEvent = function(e) {
                var t = this.select("itemsSelector")
                  , i = t.index(e)
                  , s = this.query
                  , n = e.data("search-query");
                (s || n) && (this.trigger(e, "uiTypeaheadItemSelected", {
                    index: i,
                    searchType: e.data("search-type"),
                    query: n,
                    input: s,
                    item: this.generateItemFromSelectedElement(e)
                }),
                this.attr.hideAfterSelect && this.hideDropdown())
            }
            ,
            this.handleItemClick = function(e, t) {
                var i = $(t.el);
                this.triggerSelectionEvent(i)
            }
            ,
            this.handleTypeaheadInputSubmit = function(e) {
                var t = this.select("itemsSelector").filter(this.attr.itemSelectedSelector).filter(":visible").first();
                t.length ? this.triggerSelectionEvent(t) : this.trigger(this.select("inputSelector"), "uiTypeaheadNoItemSelected")
            }
            ,
            this.completeSelection = function(e, t) {
                var i = t && "rtl" === t.dir ? "rtl" : "ltr";
                if (!("rtl" === i && "uiTypeaheadInputRight" === e.type || -1 !== ["ltr", void 0, ""].indexOf(i) && "uiTypeaheadInputLeft" === e.type)) {
                    var s = this.select("itemsSelector").filter(this.attr.itemSelectedSelector).first();
                    if (!s.length) {
                        s = this.select("itemsSelector").first();
                        var n = s.data("search-query") !== this.query;
                        if (!n)
                            return void ("uiTypeaheadInputTab" === e.type && (this.hasFocus = !1))
                    }
                    var r = s.data("search-type")
                      , o = this.attr.queryTypes.some(function(e) {
                        return e === r
                    });
                    if (!o)
                        return void ("uiTypeaheadInputTab" === e.type && (this.hasFocus = !1));
                    var a = s.data("search-query")
                      , c = this.select("itemsSelector")
                      , l = c.index(s);
                    this.trigger("uiTypeaheadItemComplete", {
                        value: a,
                        searchType: s.data("search-type"),
                        index: l,
                        query: a,
                        item: this.generateItemFromSelectedElement(s)
                    }),
                    this.hideDropdown()
                }
            }
            ,
            this.hideDropdown = function() {
                this.attr.withClickTrap && this.disableClickTrap(),
                this.attr.hideAfterSelect && this.select("dropdownSelector").addClass("is-hidden")
            }
            ,
            this.showDropdown = function() {
                this.attr.hideAfterSelect && this.select("dropdownSelector").removeClass("is-hidden"),
                this.attr.withClickTrap && this.enableClickTrap()
            }
            ,
            this.handleDataTypeaheadSuggestions = function(e, t) {
                var i = this.select("itemsSelector").filter(this.attr.itemSelectedSelector);
                if (t.dropdownId === this.getDropdownId() && t.query === this.query && this.hasFocus && !i.length) {
                    this.trigger("uiTypeaheadRenderResults", t);
                    var s = this.attr.datasources.some(function(e) {
                        return t.suggestions[e] && t.suggestions[e].length
                    });
                    s ? (this.trigger("uiTypeaheadSuggestions"),
                    this.showDropdown(),
                    this.attr.autoSelect && 0 === this.select("itemSelectedSelector").length && this.select("itemsSelector").first().addClass("is-selected"),
                    this.select("itemsSelector").removeClass("list-item-first").removeClass("list-item-last").filter(":visible").first().addClass("list-item-first").end().last().addClass("list-item-last")) : this.trigger("uiTypeaheadNoSuggestions")
                }
            }
        }
        var s = i(1).component
          , n = i(183)
          , r = i(543)
          , o = i(541)
          , a = i(540)
          , c = i(542)
          , l = i(539)
          , u = i(538)
          , d = i(4);
        return s(t, n, d, o, r, c, l, a, u)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                focusOnInit: !0,
                clearOnSelect: !0,
                blurOnSelect: !0,
                templateName: "user_selector",
                placeholder: TD.i("Enter Twitter username…"),
                selectButtonIconClass: "icon-plus",
                selectButtonSelector: ".js-select-button",
                inputSelector: ".js-username-input",
                withSelectButton: !0
            }),
            this.after("initialize", function() {
                var e = o.render(this.attr.templateName, {
                    searchInputControlClass: "margin-tm",
                    selectButtonIconClass: this.attr.selectButtonIconClass,
                    placeholder: this.attr.placeholder,
                    withSelectButton: this.attr.withSelectButton
                });
                this.$node.html(e),
                this.attachChild(r, this.$node),
                this.on("click", {
                    selectButtonSelector: this.handleInputSelection
                }),
                this.on("uiInputSubmit", {
                    inputSelector: this.handleInputSelection
                }),
                this.autocomplete = new TD.components.Autocomplete(this.select("inputSelector"),{
                    dmMode: !0
                }),
                this.on(this.autocomplete.$node, "td-autocomplete-select", this.handleTDAutocompleteSelect),
                this.attr.focusOnInit && this.select("inputSelector").focus()
            }),
            this.handleTDAutocompleteSelect = function(e, t) {
                this.select("inputSelector").val(t.screenName),
                this.handleInputSelection()
            }
            ,
            this.handleInputSelection = function() {
                var e = this.select("inputSelector").val();
                if (e) {
                    this.trigger(this.attr.inputSelector, "uiWaitingForAsyncResponse");
                    var t = TD.cache.twitterUsers.getByScreenName(e);
                    t.addCallbacks(this.triggerSelection.bind(this), this.handleError.bind(this)),
                    t.addBoth(this.trigger.bind(this, this.attr.inputSelector, "uiReceivedAsyncResponse"))
                }
            }
            ,
            this.triggerSelection = function(e) {
                this.trigger("uiUserSelected", {
                    user: e
                }),
                this.attr.clearOnSelect && this.select("inputSelector").val(""),
                this.attr.blurOnSelect && this.select("inputSelector").blur()
            }
            ,
            this.handleError = function(e) {
                var t;
                try {
                    t = e.req.errors[0].message
                } finally {
                    t && TD.controller.progressIndicator.addMessage(t)
                }
            }
        }
        var s = i(1).component
          , n = i(20)
          , r = i(93)
          , o = i(9);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = function() {
            var e = []
              , t = []
              , i = !1;
            this.onReceiveClick = function(t) {
                e.push(t)
            }
            ,
            this.onLoseClick = function(e) {
                t.push(e)
            }
            ,
            this.runReceiveHandlers = function() {
                e.forEach(function(e) {
                    e.call(this)
                }, this)
            }
            ,
            this.runLoseHandlers = function(e) {
                this.targetWithinComponent(e.target) || t.forEach(function(e) {
                    e.call(this)
                }, this)
            }
            ,
            this.targetWithinComponent = function(e) {
                return $(e).closest(this.$clickTrapTarget || this.$node).length > 0
            }
            ,
            this.setClickTrapTarget = function(e) {
                this.$clickTrapTarget = e
            }
            ,
            this.enableClickTrap = function() {
                i || (_.defer(function() {
                    $("body").on("click.clicktrap", "*", this.runLoseHandlers.bind(this)),
                    this.$node.on("click.clicktrap", "*", this.runReceiveHandlers.bind(this))
                }
                .bind(this)),
                i = !0)
            }
            ,
            this.disableClickTrap = function() {
                i && ($("body").off("click.clicktrap"),
                this.$node.off("click.clicktrap"),
                i = !1)
            }
        }
        ;
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            s.mixin(this, [n, r]),
            this.after("initialize", function() {
                this.mouseDown = !1,
                this.setupDragDrop({
                    indicateDrop: !1,
                    dragstart: this.mouseDownOff,
                    dragend: function() {
                        this.mouseDownOff(),
                        this.destroyFlyover()
                    }
                }),
                this.on(document, "mousedown", this.mouseDownOn),
                this.on(document, "mouseup", this.mouseDownOff)
            }),
            this.mouseDownOn = function(e) {
                this.mouseDown = !0
            }
            ,
            this.mouseDownOff = function(e) {
                this.mouseDown = !1
            }
            ,
            this.renderFlyover = function(e, t) {
                if (!this.mouseDown) {
                    var i;
                    if (i = t && t.content ? t.content : e.data("title")) {
                        this.$flyover = this.renderTemplate("column_nav_flyout", {
                            content: i
                        }),
                        $("body").append(this.$flyover);
                        var s = e.height();
                        this.$flyover.css({
                            lineHeight: s + "px"
                        }),
                        this.$flyover.children().height(s),
                        this.repositionFlyover(e)
                    }
                }
            }
            ,
            this.destroyFlyover = function() {
                this.$flyover && (this.$flyover.remove(),
                this.$flyover = null )
            }
            ,
            this.repositionFlyover = function(e) {
                var t;
                this.$flyover && (t = e.offset().top - (this.$flyover.height() - e.height()) / 2,
                this.$flyover.css("top", t))
            }
        }
        var s = i(1).compose
          , n = i(4)
          , r = i(94);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(4)
          , n = i(526)
          , r = i(528)
          , o = i(532)
          , a = i(525)
          , c = i(527)
          , l = function() {
            t.mixin(this, [s]),
            this.attributes({
                searchAccordionTemplate: "menus/search_accordion",
                contentFilterSelector: ".js-content-filter",
                locationFilterSelector: ".js-location-filter",
                userFilterSelector: ".js-user-filter",
                actionFilterSelector: ".js-action-filter",
                engagementFilterSelector: ".js-engagement-filter",
                searchFilterSelector: ".js-search-filter",
                contentSummaryClass: "js-content-filter-summary",
                locationSummaryClass: "js-location-filter-summary",
                userSummaryClass: "js-user-filter-summary",
                actionSummaryClass: "js-action-filter-summary",
                engagementSummaryClass: "js-engagement-filter-summary",
                contentSummarySelector: ".js-content-filter-summary",
                locationSummarySelector: ".js-location-filter-summary",
                userSummarySelector: ".js-user-filter-summary",
                actionSummarySelector: ".js-action-filter-summary",
                engagementSummarySelector: ".js-engagement-filter-summary",
                excludingClass: "js-excluding",
                matchingClass: "js-matching",
                filterTypes: ["content", "location", "user", "action", "engagement"]
            }),
            this.isValidFilterType = function(e) {
                return this.attr.filterTypes.some(function(t) {
                    return e === t
                })
            }
            ,
            this.handleSearchFilterUpdate = function(e, t) {
                if (t.filter && this.isValidFilterType(t.type)) {
                    this.searchFilter[t.type] = t.filter;
                    var i = t.filter.getSummaryText(this.attr.columnType)
                      , s = this.select(t.type + "SummarySelector");
                    s.text(i),
                    TD.controller.stats.advancedSearchSettings(this.attr.scribeSection, t.type, t.filterName, t.value),
                    this.trigger(this.$accordion, "uiAccordionUpdatePanelHeights"),
                    this.trigger("uiColumnUpdateSearchFilter", this.searchFilter)
                }
            }
            ,
            this.renderSearchFilters = function(e, t) {
                this.searchFilter = e,
                this.$accordion = this.select("accordionSelector");
                var i = this.renderTemplate(this.attr.searchAccordionTemplate, {
                    content: {
                        summaryText: this.searchFilter.content.getSummaryText(),
                        iconClass: "icon-content",
                        title: TD.i("Content"),
                        jsClass: this.attr.contentSummaryClass,
                        isExpanded: t.expandContentFilter
                    },
                    location: t.withLocationFilter ? {
                        summaryText: this.searchFilter.location.getSummaryText(),
                        iconClass: "icon-geo",
                        title: TD.i("Location"),
                        jsClass: this.attr.locationSummaryClass,
                        isExpanded: t.expandLocationFilter
                    } : !1,
                    user: {
                        summaryText: this.searchFilter.user.getSummaryText(),
                        iconClass: "icon-user",
                        title: TD.i("Users"),
                        jsClass: this.attr.userSummaryClass,
                        isExpanded: t.expandUserFilter
                    },
                    action: t.withActionFilter ? {
                        summaryText: this.searchFilter.action.getSummaryText(this.attr.columnType),
                        iconClass: "icon-check",
                        title: TD.i("Showing"),
                        jsClass: this.attr.actionSummaryClass,
                        isExpanded: t.expandActionFilter
                    } : !1,
                    engagement: t.withEngagementFilter ? {
                        summaryText: this.searchFilter.engagement.getSummaryText(),
                        iconClass: "icon-retweet",
                        title: TD.i("Engagement"),
                        jsClass: this.attr.engagementSummaryClass,
                        isExpanded: t.expandEngagementFilter
                    } : !1
                });
                this.$accordion.append(i),
                this.trigger(this.select("contentFilterSelector"), "uiDestroyContentFilterForm"),
                this.trigger(this.select("locationFilterSelector"), "uiDestroyLocationFilterForm"),
                this.trigger(this.select("userFilterSelector"), "uiDestroyUserFilterForm"),
                n.attachTo(this.select("contentFilterSelector"), {
                    searchFilter: e,
                    renderOptions: t
                }),
                t.withLocationFilter && r.attachTo(this.select("locationFilterSelector"), {
                    searchFilter: e,
                    renderOptions: t
                }),
                o.attachTo(this.select("userFilterSelector"), {
                    searchFilter: e,
                    renderOptions: t
                }),
                t.withActionFilter && a.attachTo(this.select("actionFilterSelector"), {
                    searchFilter: e,
                    renderOptions: t,
                    columnType: this.attr.columnType
                }),
                t.withEngagementFilter && c.attachTo(this.select("engagementFilterSelector"), {
                    searchFilter: e,
                    renderOptions: t
                })
            }
            ,
            this.after("initialize", function() {
                this.searchFilter = this.searchFilter || new TD.vo.SearchFilter,
                this.$searchFilter = this.select("searchFilterSelector"),
                this.on("uiSearchFilterUpdateAction", this.handleSearchFilterUpdate)
            })
        }
        ;
        return l
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    !(e.exports = {
        getRemainingCharCount: function(e, t) {
            return e - t
        },
        isWithinCharLimit: function(e, t) {
            return e >= t
        },
        isOverCharLimit: function(e, t) {
            return t > e
        }
    })
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t(e) {
            var t = _.clone(e);
            t.configuration = t.configuration || {},
            t.settings = t.settings || {},
            t.hasMediaAttached = t.files ? t.files.length > 0 : !1,
            t.hasQuotedTweet = !!t.quotedTweet;
            var i = TD.decider.get("dev_beyond_140_compose")
              , d = "message" === t.tweetType
              , h = i && !d
              , m = i ? 1e4 : t.attr.maxCharCount
              , p = n.getTweetLength(t.tweetText.trim(), t.configuration)
              , f = t.configuration.characters_reserved_per_media + (t.scheduledDate ? 1 : 0)
              , g = t.hasMediaAttached ? f : 0
              , v = t.hasQuotedTweet ? t.configuration.short_url_length_https + 1 : 0;
            return t.characterCountLimit = d ? t.configuration.dm_text_character_limit : m,
            t.characterCount = p + g + v,
            t.hasValidCharacterCount = r.isWithinCharLimit(t.characterCountLimit, t.characterCount),
            t.remainingCharCount = r.getRemainingCharCount(t.characterCountLimit, t.characterCount),
            t.isJustWhitespace = 0 === t.characterCount,
            t.displayedCharacterCount = h ? t.characterCount : t.remainingCharCount,
            t.hideCharacterCount = d ? t.remainingCharCount >= 0 : i && t.isJustWhitespace,
            t.rawTweetText = t.tweetText + (t.quotedTweet ? " " + t.quotedTweet.getChirpURL() : ""),
            t.hasSelectedAccounts = t.selectedAccountKeys.length > 0,
            t.isSelectedAccountSafeguarded = o.isSelectedAccountSafeguarded(t),
            t.safeguardingOk = o.isSafeguardingOk(t),
            t.hasMessageRecipients = t.messageRecipients.length > 0 || t.messageConversation,
            t.hasValidScheduledDate = t.scheduledDate && t.scheduledDate > t.currentTime,
            t.schedulingOk = t.scheduledDate ? t.hasValidScheduledDate : !0,
            t.sendButtonText = a.getButtonText(t),
            t.sendButtonTooltip = a.getTooltipText(t),
            t.canAddImage = c.canAddImage(t),
            t.addImageButtonTooltip = c.getTooltipText(t),
            t.addImageButtonText = c.getButtonText(t),
            t.canSchedule = l.canSchedule(t),
            t.scheduleButtonTooltip = l.getTooltipText(t),
            t.scheduleButtonText = l.getButtonText(t),
            t.canSwitchTweetType = u.canSwitchTweetType(t),
            t.tweetTypeButtonTooltip = u.getTooltipText(t),
            t.canSend = s(t),
            t
        }
        function s(e) {
            return "sending" === e.sendingStatus ? !1 : e.hasValidCharacterCount && !e.isJustWhitespace && e.hasSelectedAccounts && e.safeguardingOk && e.schedulingOk && ("message" !== e.tweetType || e.hasMessageRecipients) ? e.hasQuotedTweet && e.hasMediaAttached ? !1 : !0 : !1
        }
        var n = i(99)
          , r = i(186)
          , o = i(560)
          , a = i(568)
          , c = i(561)
          , l = i(567)
          , u = i(570);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = {
            maxRecipientsReached: function(e) {
                return e.messageRecipients.length >= e.attr.maxRecipients
            },
            getMaxAllowedImages: function(e) {
                return "message" === e.tweetType || e.scheduledDate ? 1 : 4
            },
            shouldSetNewReplyTo: function(e) {
                return !e.inReplyTo || "" === e.tweetText
            },
            onlyOneAccountIsSelected: function(e) {
                return 1 === e.selectedAccountKeys.length
            },
            existingConversation: function(e) {
                return !(!e.messageConversation && !e.messageRecipients.length)
            },
            keyIsInSelectedAccounts: function(e, t) {
                return e.selectedAccountKeys.some(function(e) {
                    return e === t
                })
            }
        };
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n, r = i(112), o = s(r);
    n = function(e) {
        function t(e) {
            var t = r[e];
            if (!t)
                throw new Error("No such method");
            return function(e, i, s) {
                return i + s * t(e)
            }
        }
        function i(e) {
            if (e = e || {},
            [(0,
            o.default)(e.from), (0,
            o.default)(e.time), (0,
            o.default)(e.applicator)].indexOf("undefined") > -1)
                throw new Error("animate requires from, time and applicator.");
            var i = parseFloat(e.from);
            if (!_.isNumber(i))
                throw new Error("A numeric from value is required.");
            if ("undefined" == typeof e.to && "undefined" == typeof e.delta)
                throw new Error("animate either a to amount or a delta.");
            var r = parseFloat(e.to);
            if ("undefined" != typeof e.delta && (r = i + parseFloat(e.delta)),
            !_.isNumber(r))
                throw new Error("A numeric to value is required.");
            var a = e.time;
            _.isNumber(a) || (a = parseFloat(a));
            var c = e.easing;
            "function" != typeof c && (c = t("linear"));
            var l = e.applicator;
            if ("function" != typeof l)
                throw new Error("applicator must be a function.");
            var u = e.name
              , d = e.done || function() {}
              , h = Date.now()
              , m = r - i;
            0 !== m && (u && (s[u] = n),
            window.requestAnimationFrame(function p(e) {
                var t = Date.now() - h
                  , n = t / a;
                return t >= a ? (l(c(1, i, m)),
                d(t)) : u && s[u] !== e ? d(t) : (window.requestAnimationFrame(p.bind(this, e)),
                void l(c(n, i, m), i, n))
            }
            .bind(this, n)),
            n += 1)
        }
        var s = {}
          , n = 1
          , r = {
            linear: function(e) {
                return e
            },
            inQuad: function(e) {
                return e * e
            },
            outQuad: function(e) {
                return e * (2 - e)
            },
            inOutQuad: function(e) {
                return .5 > e ? 2 * e * e : -1 + (4 - 2 * e) * e
            },
            inCubic: function(e) {
                return e * e * e
            },
            outCubic: function(e) {
                return --e * e * e + 1
            },
            inOutCubic: function(e) {
                return .5 > e ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1
            },
            inQuart: function(e) {
                return e * e * e * e
            },
            outQuart: function(e) {
                return 1 - --e * e * e * e
            },
            inOutQuart: function(e) {
                return .5 > e ? 8 * e * e * e * e : 1 - 8 * --e * e * e * e
            },
            inQuint: function(e) {
                return e * e * e * e * e
            },
            outQuint: function(e) {
                return 1 + --e * e * e * e * e
            },
            inOutQuint: function(e) {
                return .5 > e ? 16 * e * e * e * e * e : 1 + 16 * --e * e * e * e * e
            }
        };
        return {
            easeFn: t,
            ease: i
        }
    }
    .call(t, i, t, e),
    !(void 0 !== n && (e.exports = n))
}
, function(e, t, i) {
    var s;
    s = function() {
        var e = {};
        return e.eventIsKey = function(e) {
            return e.which > 3
        }
        ,
        e.isEnter = function(e) {
            return e.which === TD.constants.keyCodes.enter
        }
        ,
        e.isSpacebar = function(e) {
            return e.which === TD.constants.keyCodes.spacebar
        }
        ,
        e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(68)
          , s = {
            getLoginUrl: function(e) {
                e = e || {};
                var i = new t(window.location.href);
                i.setQuery({
                    via_twitter_login: !0
                });
                var s = new t("https://twitter.com/login");
                return s.setQuery({
                    hide_message: !0,
                    redirect_after_login: i.href()
                }),
                e.usernameOrEmail && s.setQuery({
                    username_or_email: e.usernameOrEmail
                }),
                s.href()
            },
            getLogoutUrl: function() {
                var e = new t(window.location.href)
                  , i = new t("https://twitter.com/logout");
                return i.setQuery({
                    redirect_after_logout: e.href()
                }),
                i.href()
            }
        };
        return s
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(99)
          , s = {
            prependRecipients: function(e) {
                return e.messageRecipients.map(function(e) {
                    return t.atMentionify(e.screenName)
                }).join(" ") + " " + e.tweetText
            },
            appendText: function(e, t) {
                return (t.tweetText && t.tweetText.trim()) + " " + e
            },
            stripNamesFromText: function(e, t) {
                return _.difference(e.split(" "), t).join(" ").trim()
            },
            stripRepliesFromMentions: function(e, t) {
                return e.filter(function(e) {
                    return t.map(function(e) {
                        return e.toLowerCase()
                    }).indexOf(e.toLowerCase()) < 0
                })
            },
            getSelectionIndices: function(e, t, i) {
                if (0 === i.length)
                    return 0 === t.length ? [] : [t[0].length + 1, t[0].length + 1];
                var s = i.map(e.indexOf.bind(e)).reduce(function(e, t) {
                    return Math.min(e, t)
                })
                  , n = i.map(function(t) {
                    return e.indexOf(t) + t.length + 1
                }).reduce(function(e, t) {
                    return Math.max(e, t)
                });
                return [s, n]
            },
            getStackedRepliesText: function(e, t, i) {
                var n = s.stripNamesFromText(e, t.concat(i));
                return [].concat(t).concat(n.length ? n : []).concat(i).join(" ") + " "
            }
        };
        return s
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    function n() {
        this._initBackend()
    }
    var r = i(19)
      , o = s(r)
      , a = i(18)
      , c = s(a)
      , l = i(595)
      , u = i(127)
      , d = i(601)
      , h = "twitterAccountID"
      , m = "currentAuthType"
      , p = "__hasAlreadyReloaded"
      , f = "_session"
      , g = "sessionMigratedToWeb"
      , v = "accountsLastVerified"
      , T = "__version__"
      , w = "ScribeTransport"
      , b = "guestID"
      , y = [w]
      , D = y.concat([T, "previousMultiUserAccount", m, b, w])
      , C = {
        local: localStorage,
        session: sessionStorage
    };
    n.PERSISTENT_SESSION_ITEMS = [h, "_session", "__hasAlreadyReloaded"],
    n._testStore = function(e, t) {
        u.stateLog("_testStore()");
        for (var i = !1, s = !1, r = "__test__", o = "test", a = 1024; o.length < a; )
            o += o;
        try {
            e.setItem(r, o),
            i = e.getItem(r) === o,
            e.removeItem(r)
        } catch (c) {
            i = !1,
            s = c.code === window.DOMException.QUOTA_EXCEEDED_ERR,
            s && 0 === e.length && TD.sync.util.warn(c, "In Safari private browsing mode")
        }
        if (t && s)
            try {
                n.flushDataFromStore(e),
                i = n._testStore(e, !1)
            } catch (c) {
                i = !1
            }
        return i
    }
    ,
    n.flushDataFromStore = function(e, t) {
        t = (t || []).concat(D),
        n.wipe(e, t)
    }
    ,
    n.flushBackend = function(e, t) {
        return n.flushDataFromStore(C[e], t)
    }
    ,
    n.wipeAll = function() {
        [localStorage, sessionStorage].forEach(n.wipe)
    }
    ,
    n.wipe = function(e, t) {
        var i = {};
        t = _.uniq((t || []).concat(y)),
        t.forEach(function(t) {
            var s = e.getItem(t);
            s && (i[t] = s)
        });
        try {
            e.clear()
        } catch (s) {
            console.warn("Clearing", e, "failed:", s)
        }
        _.each(i, function(t, i) {
            e.setItem(i, t)
        })
    }
    ,
    n.shouldTryReload = function() {
        var e;
        try {
            e = !!sessionStorage.getItem(p),
            sessionStorage.setItem(p, !0)
        } catch (t) {
            e = !0
        }
        return !e
    }
    ,
    n.removeReloadedFlag = function() {
        sessionStorage.removeItem(p)
    }
    ,
    n.flushWebstorage = function(e) {
        TD.sync.util.trace("clearing web storage");
        try {
            (0,
            c.default)(C).forEach(function(t) {
                n.flushDataFromStore(C[t], e)
            })
        } catch (t) {
            console.error("Unable to clear webstorage.", t)
        }
    }
    ,
    n.clearOtherBackends = function(e) {
        (0,
        c.default)(C).forEach(function(t) {
            t !== e && n.wipe(C[t])
        })
    }
    ,
    n.prototype.storeLoginResult = function(e) {
        var t = e.account.uid
          , i = this.getTwitterLoginAccountID();
        i && t !== i && n.flushWebstorage(),
        this.setTwitterLoginAccountID(t)
    }
    ,
    n.prototype._initBackend = function() {
        this._backendType = "unknown",
        n._testStore(window.localStorage, !0) ? (this._migrateBackend(window.localStorage),
        this._backend = window.localStorage,
        this._backendType = "local") : n._testStore(window.sessionStorage, !0) ? (this._migrateBackend(window.sessionStorage),
        this._backend = window.sessionStorage,
        this._backendType = "session") : (u.stateLog("store._initBackend(): Falling back to MemoryStorage."),
        this._backend = new l,
        this._backendType = "memory"),
        this._tryUpgrade(),
        n.clearOtherBackends(this._backendType)
    }
    ,
    n.prototype._migrateBackend = function(e, t) {
        if (t = t || this._getPersistentBackend(),
        t !== e)
            for (var i in t)
                if (t.hasOwnProperty(i)) {
                    try {
                        e.setItem(i, t.getItem(i))
                    } catch (s) {
                        if (s.code === window.DOMException.QUOTA_EXCEEDED_ERR)
                            return void TD.sync.util.warn("Migration failed due to quota limits.", s);
                        throw s
                    }
                    t.removeItem(i)
                }
    }
    ,
    n.prototype._getPersistentBackend = function() {
        return this._backend instanceof l ? localStorage : this._backend
    }
    ,
    n.prototype._tryUpgrade = function() {
        try {
            d.doUpgrade(this)
        } catch (e) {
            TD.sync.util.warn("Error during store upgrade:", e),
            n.flushWebstorage()
        }
    }
    ,
    n.prototype.getTwitterLoginAccountID = function() {
        var e = this._backend.getItem(h);
        return e ? e : void u.stateLog("store.getTwitterLoginAccountID(): account invalid", e)
    }
    ,
    n.prototype.setTwitterLoginAccountID = function(e) {
        this._backend.setItem(h, e)
    }
    ,
    n.prototype.getTwitterLoginAccount = function() {
        var e = this.getTwitterLoginAccountID()
          , t = TD.storage.Account.generateKeyFor("twitter", e);
        return TD.storage.accountController.get(t)
    }
    ,
    n.prototype.getOrCreateGuestID = function() {
        var e = localStorage.getItem(b);
        if (!e) {
            e = this.createGuestID();
            try {
                localStorage.setItem(b, e)
            } catch (t) {
                this._backend.setItem(b, e)
            }
        }
        return e
    }
    ,
    n.prototype.createGuestID = function() {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
            var t = 16 * Math.random() | 0
              , i = "x" == e ? t : 3 & t | 8;
            return i.toString(16)
        })
    }
    ,
    n.prototype.getSessionMigratedToWeb = function() {
        return this._getPersistentBackend().getItem(g)
    }
    ,
    n.prototype.setSessionMigratedToWeb = function() {
        this._getPersistentBackend().setItem(g, !0)
    }
    ,
    n.prototype.removeSessionMigratedToWeb = function() {
        this._getPersistentBackend().removeItem(g)
    }
    ,
    n.prototype._getLastVerifiedTimestamps = function() {
        var e = {};
        try {
            e = this.getJSON(v)
        } catch (t) {
            u.stateLog("_getLastVerifiedTimestamps(): failed", t)
        }
        return e
    }
    ,
    n.prototype.getLastVerifiedTimestamp = function(e) {
        var t, i, s = this._getLastVerifiedTimestamps();
        return t = s[e.getKey()] || 0,
        i = e.getUpdated() || 0,
        Math.max(t, i)
    }
    ,
    n.prototype.setLastVerifiedTimestamp = function(e) {
        var t = this._getLastVerifiedTimestamps()
          , i = t[e.getKey()] || 0
          , s = e.getUpdated() || 0
          , n = Math.max(i, s);
        n !== i && (t[e.getKey()] = n,
        this.setJSON(v, t))
    }
    ,
    n.prototype.removeLastVerifiedTimestamp = function(e) {
        var t = this._getLastVerifiedTimestamps();
        delete t[e.getKey()],
        this.setJSON(v, t)
    }
    ,
    n.prototype.setLastVersionRefreshTimestamp = function(e) {
        this._getPersistentBackend().setItem("lastVersionRefreshTimestamp", "" + e)
    }
    ,
    n.prototype.getLastVersionRefreshTimestamp = function(e) {
        var t = parseInt("" + this._getPersistentBackend().getItem("lastVersionRefreshTimestamp"), 10);
        return "number" == typeof t && !isNaN(t) && t > 0 ? t : 0
    }
    ,
    n.prototype.getSessionData = function() {
        var e = {
            uid: this._backend.getItem(h),
            migrate: {},
            session: null
        };
        if (e.uid)
            try {
                e.session = JSON.parse(this._backend.getItem(f))
            } catch (t) {
                e.session = null
            }
        return e
    }
    ,
    n.prototype.setSessionData = function(e) {
        this._backend.setItem(f, (0,
        o.default)(e))
    }
    ,
    n.prototype.getSessionMigrationData = function() {
        var e = ["__version__", "previousMultiUserAccount", "currentAuthType", "guestID", "tweetdeckAccount", "_session", "accountsLastVerified"];
        return {
            local: e.reduce(function(e, t) {
                var i = localStorage.getItem(t);
                return null !== i && (e[t] = i),
                e
            }, {}),
            session: e.reduce(function(e, t) {
                var i = sessionStorage.getItem(t);
                return null !== i && (e[t] = i),
                e
            }, {})
        }
    }
    ,
    n.prototype.checkVersion = function() {
        var e = d.CURRENT_VERSION
          , t = this._backend.getItem(T);
        if (null !== t && ~t !== ~e)
            throw new Error("Wrong version number in store. (saved) %s != (given) %s",t,e)
    }
    ,
    n.prototype.setVersion = function(e) {
        this._backend.setItem(T, e)
    }
    ,
    n.prototype.getJSON = function(e) {
        return JSON.parse(this._backend.getItem(e) || "{}")
    }
    ,
    n.prototype.setJSON = function(e, t) {
        this._backend.setItem(e, (0,
        o.default)(t))
    }
    ,
    n.prototype.setJSONCritical = function(e, t, i) {
        try {
            this._backend.setItem(e, (0,
            o.default)(t))
        } catch (s) {
            if (s.code !== window.DOMException.QUOTA_EXCEEDED_ERR || i)
                throw s;
            $(document).trigger("dataStorageFull"),
            this.setJSONCritical(e, t, !0)
        }
    }
    ,
    e.exports = {
        Store: n,
        MemoryStorage: l,
        store: new n
    }
}
, function(e, t) {
    "use strict";
    var i = {};
    e.exports = i;
    var s;
    i.getMessage = function(e) {
        if ("undefined" != typeof TD_locale_messages) {
            var t = TD_locale_messages[e];
            return t && t.message ? t.message : void 0
        }
    }
    ,
    i.getLocale = function() {
        return s ? s : (TD.util.isChromeApp() && (s = i.getMessage("@@ui_locale")),
        s)
    }
}
, function(e, t, i) {
    var s = i(35);
    e.exports = function(e, t) {
        if ("number" != typeof e && "Number" != s(e))
            throw TypeError(t);
        return +e
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(16)
      , n = i(60)
      , r = i(15);
    e.exports = [].copyWithin || function(e, t) {
        var i = s(this)
          , o = r(i.length)
          , a = n(e, o)
          , c = n(t, o)
          , l = arguments.length > 2 ? arguments[2] : void 0
          , u = Math.min((void 0 === l ? o : n(l, o)) - c, o - a)
          , d = 1;
        for (a > c && c + u > a && (d = -1,
        c += u - 1,
        a += u - 1); u-- > 0; )
            c in i ? i[a] = i[c] : delete i[a],
            a += d,
            c += d;
        return i
    }
}
, function(e, t, i) {
    var s = i(81);
    e.exports = function(e, t) {
        var i = [];
        return s(e, !1, i.push, i, t),
        i
    }
}
, function(e, t, i) {
    var s = i(34)
      , n = i(16)
      , r = i(82)
      , o = i(15);
    e.exports = function(e, t, i, a, c) {
        s(t);
        var l = n(e)
          , u = r(l)
          , d = o(l.length)
          , h = c ? d - 1 : 0
          , m = c ? -1 : 1;
        if (2 > i)
            for (; ; ) {
                if (h in u) {
                    a = u[h],
                    h += m;
                    break
                }
                if (h += m,
                c ? 0 > h : h >= d)
                    throw TypeError("Reduce of empty array with no initial value")
            }
        for (; c ? h >= 0 : d > h; h += m)
            h in u && (a = t(a, u[h], h, l));
        return a
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(34)
      , n = i(10)
      , r = i(104)
      , o = [].slice
      , a = {}
      , c = function(e, t, i) {
        if (!(t in a)) {
            for (var s = [], n = 0; t > n; n++)
                s[n] = "a[" + n + "]";
            a[t] = Function("F,a", "return new F(" + s.join(",") + ")")
        }
        return a[t](e, i)
    }
    ;
    e.exports = Function.bind || function(e) {
        var t = s(this)
          , i = o.call(arguments, 1)
          , a = function() {
            var s = i.concat(o.call(arguments));
            return this instanceof a ? c(t, s.length, s) : r(t, s, e)
        }
        ;
        return n(t.prototype) && (a.prototype = t.prototype),
        a
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(14).f
      , n = i(57)
      , r = (i(23),
    i(73))
      , o = i(46)
      , a = i(54)
      , c = i(36)
      , l = i(81)
      , u = i(139)
      , d = i(205)
      , h = i(74)
      , m = i(13)
      , p = i(51).fastKey
      , f = m ? "_s" : "size"
      , g = function(e, t) {
        var i, s = p(t);
        if ("F" !== s)
            return e._i[s];
        for (i = e._f; i; i = i.n)
            if (i.k == t)
                return i
    }
    ;
    e.exports = {
        getConstructor: function(e, t, i, u) {
            var d = e(function(e, s) {
                a(e, d, t, "_i"),
                e._i = n(null ),
                e._f = void 0,
                e._l = void 0,
                e[f] = 0,
                void 0 != s && l(s, i, e[u], e)
            });
            return r(d.prototype, {
                clear: function() {
                    for (var e = this, t = e._i, i = e._f; i; i = i.n)
                        i.r = !0,
                        i.p && (i.p = i.p.n = void 0),
                        delete t[i.i];
                    e._f = e._l = void 0,
                    e[f] = 0
                },
                "delete": function(e) {
                    var t = this
                      , i = g(t, e);
                    if (i) {
                        var s = i.n
                          , n = i.p;
                        delete t._i[i.i],
                        i.r = !0,
                        n && (n.n = s),
                        s && (s.p = n),
                        t._f == i && (t._f = s),
                        t._l == i && (t._l = n),
                        t[f]--
                    }
                    return !!i
                },
                forEach: function(e) {
                    a(this, d, "forEach");
                    for (var t, i = o(e, arguments.length > 1 ? arguments[1] : void 0, 3); t = t ? t.n : this._f; )
                        for (i(t.v, t.k, this); t && t.r; )
                            t = t.p
                },
                has: function(e) {
                    return !!g(this, e)
                }
            }),
            m && s(d.prototype, "size", {
                get: function() {
                    return c(this[f])
                }
            }),
            d
        },
        def: function(e, t, i) {
            var s, n, r = g(e, t);
            return r ? r.v = i : (e._l = r = {
                i: n = p(t, !0),
                k: t,
                v: i,
                p: s = e._l,
                n: void 0,
                r: !1
            },
            e._f || (e._f = r),
            s && (s.n = r),
            e[f]++,
            "F" !== n && (e._i[n] = r)),
            e
        },
        getEntry: g,
        setStrong: function(e, t, i) {
            u(e, t, function(e, t) {
                this._t = e,
                this._k = t,
                this._l = void 0
            }, function() {
                for (var e = this, t = e._k, i = e._l; i && i.r; )
                    i = i.p;
                return e._t && (e._l = i = i ? i.n : e._t._f) ? "keys" == t ? d(0, i.k) : "values" == t ? d(0, i.v) : d(0, [i.k, i.v]) : (e._t = void 0,
                d(1))
            }, i ? "entries" : "values", !i, !0),
            h(t)
        }
    }
}
, function(e, t, i) {
    var s = i(72)
      , n = i(197);
    e.exports = function(e) {
        return function() {
            if (s(this) != e)
                throw TypeError(e + "#toJSON isn't generic");
            return n(this)
        }
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(73)
      , n = i(51).getWeak
      , r = i(3)
      , o = i(10)
      , a = i(54)
      , c = i(81)
      , l = i(39)
      , u = i(17)
      , d = l(5)
      , h = l(6)
      , m = 0
      , p = function(e) {
        return e._l || (e._l = new f)
    }
      , f = function() {
        this.a = []
    }
      , g = function(e, t) {
        return d(e.a, function(e) {
            return e[0] === t
        })
    }
    ;
    f.prototype = {
        get: function(e) {
            var t = g(this, e);
            return t ? t[1] : void 0
        },
        has: function(e) {
            return !!g(this, e)
        },
        set: function(e, t) {
            var i = g(this, e);
            i ? i[1] = t : this.a.push([e, t])
        },
        "delete": function(e) {
            var t = h(this.a, function(t) {
                return t[0] === e
            });
            return ~t && this.a.splice(t, 1),
            !!~t
        }
    },
    e.exports = {
        getConstructor: function(e, t, i, r) {
            var l = e(function(e, s) {
                a(e, l, t, "_i"),
                e._i = m++,
                e._l = void 0,
                void 0 != s && c(s, i, e[r], e)
            });
            return s(l.prototype, {
                "delete": function(e) {
                    if (!o(e))
                        return !1;
                    var t = n(e);
                    return t === !0 ? p(this).delete(e) : t && u(t, this._i) && delete t[this._i]
                },
                has: function(e) {
                    if (!o(e))
                        return !1;
                    var t = n(e);
                    return t === !0 ? p(this).has(e) : t && u(t, this._i)
                }
            }),
            l
        },
        def: function(e, t, i) {
            var s = n(r(t), !0);
            return s === !0 ? p(e).set(t, i) : s[e._i] = i,
            e
        },
        ufstore: p
    }
}
, [887, 13, 5, 130], [891, 3], function(e, t) {
    e.exports = function(e, t) {
        return {
            value: t,
            done: !!e
        }
    }
}
, function(e, t) {
    e.exports = Math.log1p || function(e) {
        return (e = +e) > -1e-8 && 1e-8 > e ? e - e * e / 2 : Math.log(1 + e)
    }
}
, [897, 6, 148, 35], function(e, t, i) {
    "use strict";
    var s = i(59)
      , n = i(108)
      , r = i(83)
      , o = i(16)
      , a = i(82)
      , c = Object.assign;
    e.exports = !c || i(5)(function() {
        var e = {}
          , t = {}
          , i = Symbol()
          , s = "abcdefghijklmnopqrst";
        return e[i] = 7,
        s.split("").forEach(function(e) {
            t[e] = e
        }),
        7 != c({}, e)[i] || Object.keys(c({}, t)).join("") != s
    }) ? function(e, t) {
        for (var i = o(e), c = arguments.length, l = 1, u = n.f, d = r.f; c > l; )
            for (var h, m = a(arguments[l++]), p = u ? s(m).concat(u(m)) : s(m), f = p.length, g = 0; f > g; )
                d.call(m, h = p[g++]) && (i[h] = m[h]);
        return i
    }
    : c
}
, [900, 14, 3, 59, 13], [902, 26, 58], [905, 17, 26, 100, 142], function(e, t, i) {
    var s = i(59)
      , n = i(26)
      , r = i(83).f;
    e.exports = function(e) {
        return function(t) {
            for (var i, o = n(t), a = s(o), c = a.length, l = 0, u = []; c > l; )
                r.call(o, i = a[l++]) && u.push(e ? [i, o[i]] : o[i]);
            return u
        }
    }
}
, function(e, t, i) {
    var s = i(58)
      , n = i(108)
      , r = i(3)
      , o = i(6).Reflect;
    e.exports = o && o.ownKeys || function(e) {
        var t = s.f(r(e))
          , i = n.f;
        return i ? t.concat(i(e)) : t
    }
}
, function(e, t, i) {
    var s = i(6).parseFloat
      , n = i(76).trim;
    e.exports = 1 / s(i(147) + "-0") !== -(1 / 0) ? function(e) {
        var t = n(String(e), 3)
          , i = s(t);
        return 0 === i && "-" == t.charAt(0) ? -0 : i
    }
    : s
}
, function(e, t, i) {
    var s = i(6).parseInt
      , n = i(76).trim
      , r = i(147)
      , o = /^[\-+]?0[xX]/;
    e.exports = 8 !== s(r + "08") || 22 !== s(r + "0x16") ? function(e, t) {
        var i = n(String(e), 3);
        return s(i, t >>> 0 || (o.test(i) ? 16 : 10))
    }
    : s
}
, function(e, t) {
    e.exports = Object.is || function(e, t) {
        return e === t ? 0 !== e || 1 / e === 1 / t : e != e && t != t
    }
}
, function(e, t, i) {
    var s = i(15)
      , n = i(146)
      , r = i(36);
    e.exports = function(e, t, i, o) {
        var a = String(r(e))
          , c = a.length
          , l = void 0 === i ? " " : String(i)
          , u = s(t);
        if (c >= u || "" == l)
            return a;
        var d = u - c
          , h = n.call(l, Math.ceil(d / l.length));
        return h.length > d && (h = h.slice(0, d)),
        o ? h + a : a + h
    }
}
, [921, 12], function(e, t, i) {
    "use strict";
    var s = i(200);
    e.exports = i(101)("Map", function(e) {
        return function() {
            return e(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        get: function(e) {
            var t = s.getEntry(this, e);
            return t && t.v
        },
        set: function(e, t) {
            return s.def(this, 0 === e ? 0 : e, t)
        }
    }, s, !0)
}
, function(e, t, i) {
    i(13) && "g" != /./g.flags && i(14).f(RegExp.prototype, "flags", {
        configurable: !0,
        get: i(103)
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(200);
    e.exports = i(101)("Set", function(e) {
        return function() {
            return e(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function(e) {
            return s.def(this, e = 0 === e ? 0 : e, e)
        }
    }, s)
}
, function(e, t, i) {
    "use strict";
    var s, n = i(39)(0), r = i(24), o = i(51), a = i(208), c = i(202), l = i(10), u = (i(17),
    o.getWeak), d = Object.isExtensible, h = c.ufstore, m = {}, p = function(e) {
        return function() {
            return e(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }
    , f = {
        get: function(e) {
            if (l(e)) {
                var t = u(e);
                return t === !0 ? h(this).get(e) : t ? t[this._i] : void 0
            }
        },
        set: function(e, t) {
            return c.def(this, e, t)
        }
    }, g = e.exports = i(101)("WeakMap", p, f, c, !0, !0);
    7 != (new g).set((Object.freeze || Object)(m), 7).get(m) && (s = c.getConstructor(p),
    a(s.prototype, f),
    o.NEED = !0,
    n(["delete", "has", "get", "set"], function(e) {
        var t = g.prototype
          , i = t[e];
        r(t, e, function(t, n) {
            if (l(t) && !d(t)) {
                this._f || (this._f = new s);
                var r = this._f[e](t, n);
                return "set" == e ? this : r
            }
            return i.call(this, t, n)
        })
    }))
}
, [879, 84, 27], [886, 33], [887, 62, 86, 155], [893, 114, 113, 232, 64, 63, 87, 818, 116, 826, 27], [898, 49, 824, 156, 158, 155, 224], [901, 157, 115, 66, 161, 63, 225, 62], [903, 231, 156], 108, [905, 63, 66, 810, 158], function(e, t, i) {
    e.exports = i(64)
}
, [914, 85, 813, 224, 155, 33, 84], [917, 160], [918, 154], function(e, t) {}
, [927, 832, 226], function(e, t, i) {
    i(835);
    for (var s = i(33), n = i(64), r = i(87), o = i(27)("toStringTag"), a = ["NodeList", "DOMTokenList", "MediaList", "StyleSheetList", "CSSRuleList"], c = 0; 5 > c; c++) {
        var l = a[c]
          , u = s[l]
          , d = u && u.prototype;
        d && !d[o] && n(d, o, l),
        r[l] = r.Array
    }
}
, , , , , , , , , , , , , , , , , , , , , function(e, t) {
    e.exports["account_settings_account_summary.mustache"] = '<div class="account-summary cf"> <div class="obj-left item-img"> <img class="tweet-avatar avatar pull-right" src="{{profileImageURL}}" width="48" height="48" alt="{{screenName}}\'s avatar"> </div>  <div class="account-summary-text nbfc padding-t--7 account-link"> <div class="{{#isBadged}}fullname-badged-container{{/isBadged}}"> <b class="fullname txt-ellipsis inline-block link-complex-target txt-base-medium {{#isBadged}}fullname-badged{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}} position-rel"> {{name}} </b> </div> <div> <span class="username txt-r-dark-gray txt-base-small">@{{screenName}} {{#isProtected}}<i class="icon icon-protected icon-match-context icon-tt"></i>{{/isProtected}}</span> </div> </div> </div>',
    e.exports["account_shared_warning.mustache"] = '{{< modal}} {{$modal_class}}mdl-account-shared-warning{{/modal_class}} {{$content}}  <p> {{_i}}Before you add another account, remember that anyone with the password for @{{signinAccount}} will have <strong>full access</strong> to any Twitter accounts you connect here, even if you keep the passwords for those connected accounts secret.{{/i}} </p> <br> <p> {{_i}}Take <strong>extra care</strong> not to share your password for @{{signinAccount}}. If you think you&rsquo;ve shared it already, please <a href="https://twitter.com/settings/password">change it now</a>.{{/i}} </p> {{/content}}  {{$footer_content}} <div class="pull-right"> <button class="js-account-shared-abort-btn btn btn-negative"></i>{{_i}}Cancel{{/i}}</button> <button class="js-account-shared-continue-btn btn btn-positive"></i>{{_i}}I understand &mdash; add a Twitter account{{/i}}</button> </div> {{/footer_content}} {{/modal}}',
    e.exports["account_summary.mustache"] = '<div class="account-summary cf"> <a class="obj-left item-img" href="{{getProfileURL}}" data-user-name="{{screenName}}" rel="user" target="_blank" tabindex="-1"> {{^withoutAvatar}} <img class="tweet-avatar avatar pull-right" src="{{profileImageURL}}" width="48" height="48" alt="{{screenName}}\'s avatar"> {{/withoutAvatar}} </a>  {{#withUserMenu}} <div class="obj-right with-dropdown position-rel"> <button class="js-user-actions-menu btn btn-alt btn-square" rel="actionsMenu" data-user-id="{{id}}"> <i class="icon icon-user-dd"></i> </button> </div> {{/withUserMenu}}  <div class="account-summary-text nbfc {{^withUserBio}}padding-t--7{{/withUserBio}}"> <a class="account-link link-complex block" href="{{getProfileURL}}" data-user-name="{{screenName}}" rel="user" target="_blank"> <div class="{{#isBadged}}fullname-badged-container{{/isBadged}}"> <a href="{{getProfileURL}}" class="account-link link-complex" target="_blank" data-user-name="{{screenName}}" rel="user"> <b class="fullname txt-ellipsis inline-block link-complex-target {{#isBadged}}fullname-badged{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}} position-rel"> {{name}} </b></a> </div> <div> <a href="{{getProfileURL}}" class="account-link link-complex" target="_blank" data-user-name="{{screenName}}" rel="user"> <span class="username txt-r-deep-gray">@{{screenName}} {{#isProtected}}<i class="icon icon-protected icon-match-context icon-tt"></i>{{/isProtected}}</span> </a> </div> </a> {{#withUserBio}} <p class="account-bio txt-sub-antialiased txt-r-dark-gray">{{{bio}}}</p> {{/withUserBio}} </div> </div>',
    e.exports["account_summary_inline.mustache"] = '<img class="avatar size16 avatar-inline neg-margin-bxs" src="{{profileImageURL}}" alt="{{screenName}}\'s avatar"> @{{screenName}}',
    e.exports["actions/action_dialog.mustache"] = '<div class="mdl-inner"> <div class="cf"> <div class="pull-right"> {{^isProtected}} <button data-action="quote" class="js-action-button btn">{{_i}}Quote Tweet{{/i}}</button> <button data-action="retweet" class="js-action-button js-retweet-button btn btn-positive">{{_i}}Retweet{{/i}}</button> {{/isProtected}} </div> </div> </div> <div class="js-inreply cmp-replyto item-box is-inverted-dark"></div>',
    e.exports["actions/action_header.mustache"] = '<div class="accs-header"> <h3>&nbsp;</h3> </div>',
    e.exports["actions/add_to_customtimeline_dialog.mustache"] = '<section> <form class="frm"> <fieldset> <ul class="control-group padding-bn"> {{#myCustomTimelines}} <li> <label class="checkbox"> <input type="checkbox" name="{{name}}" data-id="{{id}}" data-account="{{#account}}{{getKey}}{{/account}}"/> <span>{{>text/strong}}</span> </label> </li> {{/myCustomTimelines}} </ul> </fieldset> </form> </section>',
    e.exports["actions/add_to_list_dialog.mustache"] = '<section> <form class="frm"> <fieldset> <ul class="control-group padding-bs"> {{#myLists}} <li> <label class="checkbox"> <input type="checkbox" name="{{name}}" id="{{id}}" data-account="{{#account}}{{getKey}}{{/account}}"/> <span>{{_i}}{{>text/strong}}{{#isPrivate}}<i class="icon icon-protected icon-small  txt-base-medium"></i>{{/isPrivate}} by {{#user}}{{screenName}}{{/user}}{{/i}}</span> </label> </li> {{/myLists}} </ul> </fieldset> <a href="#" class="js-create-list">+ {{_i}}Create new list{{/i}}</a> </form> </section>',
    e.exports["actions/add_to_list_footer.mustache"] = '<button class="btn js-create-list">{{_i}}Create list{{/i}}</button>',
    e.exports["actions/follow_from.mustache"] = '<div class="js-follow-from l-table padding-al"> <div class="l-cell follow-from-accounts-button"> {{>follow_button}} </div> {{^hideFromAccountName}} <div class="js-from-username l-cell padding-lm txt-left follow-from-accounts-username"> {{#account}} <span>{{_i}}from{{/i}}</span> @{{getUsername}} {{/account}} </div> {{/hideFromAccountName}} </div>',
    e.exports["add_column_search_input.mustache"] = '<form action="#" class="search-input-list padding-as"> {{> search_input}} </form>',
    e.exports["app_container.mustache"] = '<div class="js-progress-indicator"></div> <div class="js-app-content app-content"> {{>drawer}} <div class="js-app-columns-container app-columns-container scroll-h needs-scroll-bottom-offset {{#styledScrollbar}}scroll-styled-h{{/styledScrollbar}}" id="container"> <div class="js-app-columns app-columns horizontal-flow-container"> <section class="js-app-add-panel"></section> </div> </div> </div>  <div id="compose-modal" class="js-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="open-modal" class="js-modal open-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="actions-modal" class="js-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="lists-modal" class="js-modal lists-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="splash-modal" class="js-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div> <div id="settings-modal" class="js-modal settings-modal ovl scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"></div>',
    e.exports["app_links.mustache"] = '<a href="https://www.twitter.com/tos" target="_blank">{{_i}}Terms of Service{{/i}}</a> &middot; <a href="https://twitter.com/privacy" target="_blank">{{_i}}Privacy Policy{{/i}}</a> &middot; <a href="https://support.twitter.com/articles/20170514" target="_blank">{{_i}}Cookies{{/i}}</a> &middot; <span class="inline-block"> {{version}} </span>',
    e.exports["buttons/favorite.mustache"] = '<button class="js-btn-fav js-show-tip btn btn-fav"> <div class="btn-loader"> <span> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_small_trans.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}"> </span> </div> <div class="btn-fav-fav-text"> <i class="icon icon-favorite icon-favorite-color"></i> {{#decider.hearts_and_likes2}}<span class="label">{{_i}}Like{{/i}}</span>{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}<span class="label">{{_i}}Favorite{{/i}}</span>{{/decider.hearts_and_likes2}} </div> <div class="btn-fav-faved-text"> {{#decider.hearts_and_likes2}}<span class="label">{{_i}}Liked{{/i}}</span>{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}<span class="label">{{_i}}Favorited{{/i}}</span>{{/decider.hearts_and_likes2}} </div> <div class="btn-fav-unfav-text"> {{#decider.hearts_and_likes2}}<span class="label">{{_i}}Unlike{{/i}}</span>{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}<span class="label">{{_i}}Unfavorite{{/i}}</span>{{/decider.hearts_and_likes2}} </div> <div class="btn-fav-protected-text"> <i class="icon icon-protected"></i> <span class="label">{{_i}}Protected{{/i}}</span> </div> </button>',
    e.exports["buttons/load_more.mustache"] = '<input type="button" name="remove-account" value="Load more" class="js-load-more small btn btn-alt margin-vl obj-center">',
    e.exports["cards/card_attribution.mustache"] = '{{#site}} <p> <a class="account-link link-complex {{#isProtected}}is-protected{{/isProtected}}" href="{{getProfileURL}}" target="_blank" rel="user"> <img class="avatar size16 card-site-avatar" src="{{miniProfileImageURL}}" alt="{{screenName}}\'s avatar"> <b class="fullname link-complex-target">{{name}}</b> {{#isVerified}}<i class="sprite sprite-verified-mini"></i>{{/isVerified}} <span class="username txt-mute">@{{screenName}}</span> {{#isProtected}}<i class="icon icon-protected txt-mute txt-base-medium"></i>{{/isProtected}} </a> </p> {{/site}}',
    e.exports["cards/card_layouts.mustache"] = "{{> cards/card_summary}} {{> cards/card_photo}} {{> cards/card_player}}",
    e.exports["cards/card_photo.mustache"] = '{{#photos}} <div class="{{#isPossiblySensitive}}js-media-preview-container media-sensitive-detail {{/isPossiblySensitive}} card-holder cf position-rel"> {{> cards/large_image}} {{> cards/header_text}} {{> cards/paragraph_text}} {{> cards/card_attribution}} {{> status/media_sensitive}} </div> {{/photos}}',
    e.exports["cards/card_player.mustache"] = '{{#players}} <div class="{{#isPossiblySensitive}}js-media-preview-container media-sensitive-detail{{/isPossiblySensitive}} card-holder cf position-rel"> {{> cards/media_player}} {{> cards/header_text}} {{> cards/paragraph_text}} {{> cards/card_attribution}} {{> status/media_sensitive}} </div> {{/players}}',
    e.exports["cards/card_summary.mustache"] = '{{#summaries}} <div class="card-holder cf"> {{> cards/header_text}} {{> cards/paragraph_text_with_image}} {{> cards/card_attribution}} </div> {{/summaries}}',
    e.exports["cards/header_text.mustache"] = '<h3 class="h3 margin-bs"> <a href="{{url}}" target="_blank" data-action="url-ext" rel="url">{{title}}</a> </h3> {{#author}} <p class="txt-small txt-mute"> By <a class="account-link link-complex {{#isProtected}}is-protected{{/isProtected}}" href="{{getProfileURL}}" target="_blank" rel="user"> <b class="link-complex-target">{{name}}</b> <span class="username txt-mute">@{{screenName}}</span> {{#isProtected}}<i class="icon icon-protected txt-mute txt-base-medium"></i>{{/isProtected}} </a> </p> {{/author}}',
    e.exports["cards/large_image.mustache"] = '{{#images}} {{#mobile}} <a href="{{url}}" target="_blank" rel="mediaPreview"> <img class="card-image margin-bm is-zoomable" src="{{image_url}}" width="{{width}}" alt="Story image" title="{{title}}"> </a> {{/mobile}} {{/images}}',
    e.exports["cards/media_player.mustache"] = '{{#players}} <div class="fluid-width-video-wrapper" style="padding-top: {{aspectRatio}}%"> <iframe class="card-player" src="{{source_url}}"/> </div> <div class="nbfc"> <p class="margin-ts margin-bm txt-small pull-right"> <a href="{{source_url}}" target="_blank" rel="mediaPreview"> {{_i}}View Larger{{/i}} </a> </p> </div> {{/players}}',
    e.exports["cards/media_player_gallery.mustache"] = '{{#players}} <iframe class="card-player" src="{{source_url}}" width="{{width}}px" height="{{height}}px"/> {{/players}}',
    e.exports["cards/paragraph_text.mustache"] = '<p class="margin-vl"> <a class="block link-clean" href="{{url}}" target="_blank" data-action="url-ext" rel="url"> <span class="txt-normal"> {{description}} </span> </a> </p>',
    e.exports["cards/paragraph_text_with_image.mustache"] = '<p class="margin-vl"> {{#images}} {{#mobile}} <a class="obj-right" href="{{url}}" target="_blank" data-action="url-ext" rel="url"> <img src="{{image_url}}" width="{{width}}" height= "{{height}}" alt="Story thumbnail"> </a> {{/mobile}} {{/images}} <a class="block link-clean" href="{{url}}" target="_blank" data-action="url-ext" rel="url"> <span class="txt-normal"> {{description}} </span> </a> </p>',
    e.exports["column.mustache"] = '<section class="js-column {{^isTemporary}}column{{/isTemporary}} {{#isTemporary}}column-temp is-inverted-dark{{/isTemporary}} {{columnclass}}" data-column="{{columnkey}}"> <div class="js-column-holder column-holder"> <div class="column-panel"> {{> column/column_header}} <div class="js-column-content column-content"> <div class="js-column-options-container column-options"> <div class="js-column-options {{#isTouchColumnOptions}}with-touch-txt-base{{/isTouchColumnOptions}}"></div> {{^isTemporary}} <div class="js-column-message scroll-none"></div> {{/isTemporary}} <div class="js-customtimeline-description scroll-none with-column-divider-bottom is-hidden"></div> </div> {{> column/chirp_container}} <div class="js-column-drag-drop-overlay column-drag-drop-overlay pin-all"> <div class="l-table column-drag-drop-overlay-inner"> <div class=" l-cell"> {{_i}}Add Tweet to collection{{/i}} </div> </div> </div> <div class="js-more-tweets-btn-container more-tweets-btn-container pin-top more-tweets-btn-container--hidden"> <div class="js-more-tweets-glow more-tweets-glow obj-center is-hidden"></div> <button class="js-more-tweets-btn btn btn-positive more-tweets-btn txt-size--12"> <div class="more-tweets-btn-inner-default"> <i class="icon icon-pointer-u icon-match-context icon-tt"></i> <span class="js-more-tweets-btn-text"></span> </div> <div class="more-tweets-btn-inner-mouse-release"> {{_i}}Release to refresh{{/i}} </div> <div class="more-tweets-btn-inner-loading">{{_i}}Loading...{{/i}}</div> </button> </div> </div> <div class="js-add-to-customtimeline add-by-url pin-bottom padding-hm is-hidden"></div> </div> <div class="js-column-detail column-detail column-panel"></div> <div class="js-column-social-proof column-detail-level-2 column-panel"></div> </div> </section>',
    e.exports["column/add_to_customtimeline.mustache"] = '<div class="input-group-button margin-tm"> <button class="js-add-to-customtimeline-button js-spinner-button pull-right btn no-radius btn-square"> <i class="icon icon-arrow-r"></i> <i class="js-spinner-button-active icon spinner-small-trans icon-center-16 is-hidden"></i> </button> <div class="nbfc"> <input class="js-add-to-customtimeline-input js-submittable-input input-group-input no-radius" type="text" placeholder="{{_i}}Enter Tweet URL{{/i}}" value="" data-account-key="{{accountKey}}" data-customtimeline-id="{{customTimelineId}}" > </div> </div>',
    e.exports["column/alerts_form.mustache"] = '<div class="js-accordion-item facet-type facet-type-alerts"> {{>menus/accordion_header}} <div class="js-alerts js-accordion-panel accordion-panel"> <div class="padding-hl control-s"> <div class="control-group"> {{#options}} <div class="controls"> <label class="txt-mute"> <input type="checkbox" {{#on}}checked{{/on}} data-action="{{action}}"> {{option}} </label> </div> {{/options}} </div> </div> </div> </div>',
    e.exports["column/chirp_container.mustache"] = '<div class="js-column-scroller js-dropdown-container column-scroller scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} {{#isTemporary}}column-background-fill scroll-alt{{/isTemporary}}"> <div class="js-chirp-container chirp-container" data-column="{{columnkey}}"> {{>column_loading_placeholder}} </div> </div>',
    e.exports["column/column_dm_participants.mustache"] = '{{> column/column_header_detail}}  {{#showAddUser}} <div class="js-conversation-adder add-participant padding-a--10"></div> {{/showAddUser}}  <div class="column-content {{#showAddUser}}column-dm-participants{{/showAddUser}}">  <div class="column-scroller scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}">  {{#users}} {{<stream_item}} {{$content}} {{>account_summary}} {{/content}} {{/stream_item}} {{/users}} {{^users}} {{>column_loading_placeholder}} {{/users}} </div> </div>',
    e.exports["column/column_filter_error.mustache"] = '<p class="is-actionable txt-uppercase txt-center padding-as" data-action="action-filter"> {{_i}}Filter error{{/i}} </p>',
    e.exports["column/column_header.mustache"] = '<header class="js-column-header js-action-header {{^isTemporary}}column-header{{/isTemporary}} {{#isTemporary}}column-header-temp{{/isTemporary}}" data-action="resetToTopColumn">  {{^isTemporary}} <i class="js-column-drag-handle is-movable column-drag-handle pull-left sprite sprite-drag-vertical"></i> {{/isTemporary}}  <i class="pull-left margin-hs column-type-icon icon {{columniconclass}}"> {{#withMarkAllRead}} <span class="js-unread-count msg-unread-count txt-base-small numbered-badge numbered-badge-onheader anim anim-slower {{#unreadCount}}is-visible{{/unreadCount}}">{{unreadCount}}</span> {{/withMarkAllRead}} </i>  {{#isTemporary}} <button class="js-action-header-button pull-right btn list-edit-button is-hidden" data-action="editList"></button> {{/isTemporary}}  {{^isTemporary}} <span class="column-number"></span> {{/isTemporary}}  {{^withEditableTitle}} <h1 class="column-title {{#withMarkAllRead}}column-title-messages{{/withMarkAllRead}} txt-ellipsis">{{{columntitle}}}</h1> {{/withEditableTitle}} {{#withEditableTitle}} <div class="column-title txt-ellipsis column-title-editable with-image-attribution {{#withMarkAllRead}}column-title-messages{{/withMarkAllRead}} "> {{{columntitle}}} </div> {{/withEditableTitle}}  {{#withDMComposeButton}} <a class="js-action-header-button column-header-link open-compose-dm-link" href="#" data-action="compose-dm"> <i class="js-show-tip icon icon-compose-dm" data-placement="bottom" title="{{_i}}Compose new message{{/i}}"></i> </a> {{/withDMComposeButton}}  {{#withMarkAllRead}} <a class="js-action-header-button column-header-link mark-all-read-link" href="#" data-action="mark-all-read"> <i class="js-show-tip icon icon-mark-read" data-placement="bottom" title="{{_i}}Mark all as read{{/i}}"></i> </a> {{/withMarkAllRead}}  {{^isTemporary}} <a class="js-action-header-button column-header-link column-settings-link" href="#" data-action="options"> <i class="icon icon-sliders"></i> </a> {{/isTemporary}} </header>',
    e.exports["column/column_header_detail.mustache"] = '<header class="{{headerClass}} column-header" data-action="{{headerAction}}"> <a class="{{headerLinkClass}} link-complex{{#getConversationTitleInformation}} l-table{{/getConversationTitleInformation}}" href="#"> {{^getConversationTitleInformation}} <div class="column-title-back txt-ellipsis"> <i class="icon icon-arrow-l"></i> <span class="js-tooltip-target link-complex-target">{{_i}}Back to {{{columntitle}}}{{/i}}</span> </div> {{/getConversationTitleInformation}} {{#getConversationTitleInformation}} <div class="column-title-back conversation-title txt-center l-cell"> <i class="icon icon-arrow-l"></i> {{! if there is a conversation name, show it as it is }} {{#name}} <span class="js-tooltip-target title-content">{{{name}}}</span> {{/name}} {{^name}} {{! currently showing name and screenName for one to one }} {{#isOneToOne}} {{#participants.0}} <span class="js-tooltip-target title-content"> <b>{{name}}</b> {{^isDeleted}} <span class="username txt-mute txt-small">@{{screenName}}</span> {{/isDeleted}} </span> {{/participants.0}} {{/isOneToOne}} {{! other two participants, need to wrap around names }} {{#isThreeway}} <span class="js-tooltip-target title-content"> {{#participants.0}} <span class="no-wrap">{{name}}</span>, {{/participants.0}} {{#participants.1}} <span class="no-wrap">{{name}}</span> {{/participants.1}} </span> {{/isThreeway}} {{! first participant name + the amount of participants }} {{#isOneToMany}} <span class="js-tooltip-target title-content"> {{#participants.0}}{{name}}{{/participants.0}} +{{numberOfOtherParticipants}} </span> {{/isOneToMany}} {{/name}} </div> {{/getConversationTitleInformation}} </a> {{#withConversationMenu}} {{^isTemporary}} <a class="js-action-header-button column-header-link column-settings-link link-no-focus" href="#" data-action="message-menu" data-conversation-id="{{conversationId}}" data-account-key="{{accountKey}}"> <i class="js-menu-target icon icon-more"></i> </a> {{/isTemporary}} {{> column/dm_rename_conversation }} {{/withConversationMenu}} </header>',
    e.exports["column/column_message.mustache"] = '<div class="is-actionable with-column-divider-bottom column-message cf padding-ll padding-rxs padding-vxs" data-action="options"> <p class="obj-left txt-base-smallest padding-axs">{{_i}}Filtered by:{{/i}}</p> <div class="obj-right"> {{#action}} <span data-action="action-filter" class="txt-base-largest padding-axs facet-action inline-block"> <i class="icon icon-tt icon-check icon-small"></i> </span> {{/action}} {{#location}} <span data-action="location-filter" class="txt-base-largest padding-axs facet-location inline-block"> <i class="icon icon-tt icon-geo icon-small"></i> </span> {{/location}} {{#content}} <span data-action="content-filter" class="txt-base-largest padding-axs facet-content inline-block"> <i class="icon icon-tt icon-content icon-small"></i> </span> {{/content}} {{#user}} <span data-action="user-filter" class="txt-base-largest padding-axs facet-user inline-block"> <i class="icon icon-tt icon-user icon-small"></i> </span> {{/user}} {{#engagement}} <span data-action="engagement-filter" class="txt-base-largest padding-axs facet-engagement inline-block"> <i class="icon icon-tt icon-retweet icon-small"></i> </span> {{/engagement}} </div> </div>',
    e.exports["column/column_options.mustache"] = '<form class="with-column-divider-bottom">  <fieldset class="js-search-filter"> <div class="js-accordion accordion"></div> </fieldset>  <fieldset class="js-thumb-size"></fieldset>  {{#isOwnList}} <button class="btn btn-neutral-positive full-width btn-bg-positive btn-options-tray-space" type="button" data-action="edit-list"> <i class="icon icon-edit txt-base-medium"></i> <span class="label margin-ln">{{_i}}Edit list{{/i}}</span> </button> {{/isOwnList}}  {{#isOwnCustomTimeline}} <button class="btn btn-neutral-negative full-width btn-bg-negative btn-options-tray-space" type="button" data-action="delete-customtimeline"> <i class="icon icon-trash icon-small-valigned"></i> <span class="label margin-ln">{{_i}}Delete collection{{/i}}</span> </button> {{/isOwnCustomTimeline}}  {{#isDataminr}} <a class="btn btn-neutral-positive full-width btn-bg-positive btn-options-tray-space url-ext" type="button" href="https://news.dataminr.com/app/core/news/settings.html" rel="url" data-scribe-element="dataminr_settings"> <i class="icon icon-dataminr icon-small-valigned"></i> <span class="label margin-ln">{{_i}}Dataminr settings{{/i}}</span> </a> {{/isDataminr}}  <fieldset class="accordion-divider-t button-tray padding-hs"> <div class="button-group"> <button type="button" class="btn btn-alt btn-square-narrow btn-neutral btn-options-tray pull-left padding-hn" data-action="left"> <i class="icon icon-arrow-l icon-small-valigned"></i> <span class="is-vishidden">{{_i}}Left{{/i}}</span> </button> <button type="button" class="btn btn-alt btn-square-narrow btn-neutral btn-options-tray pull-left padding-hn" data-action="right"> <i class="icon icon-arrow-r icon-small-valigned"></i> <span class="is-vishidden">{{_i}}Right{{/i}}</span> </button> </div>  <span class="position-rel"> <button type="button" class="js-share-column btn btn-alt btn-neutral btn-options-tray padding-hn {{^isShareableOrEmbeddable}}is-invisible{{/isShareableOrEmbeddable}}"> <i class="icon icon-share"></i> <span class="label">{{_i}}Share{{/i}}</span> </button> </span>  <button type="button" class="btn btn-alt btn-neutral btn-options-tray padding-hn {{^isClearable}}is-invisible{{/isClearable}}" data-action="clear"> <i class="icon icon-clear-timeline"></i> <span class="label">{{_i}}Clear{{/i}}</span> </button>  <button type="button" class="btn btn-alt btn-neutral btn-options-tray padding-hn padding-rs" data-action="remove"> <i class="icon icon-close"></i> <span class="label">Remove</span> </button> </fieldset>  <!-- Revisit IF needed for touch --> <!-- {{#isTouchColumnOptions}} <fieldset class="margin-hs padding-tm padding-bm column-options-divider"> <div class="button-group"> <a class="column-action-link is-actionable pull-left" data-action="left"> <i class="icon icon-chevron-left"></i> <span class="is-vishidden">{{_i}}Left{{/i}}</span> </a> <a class="column-action-link is-actionable pull-left" data-action="right"> <i class="icon icon-chevron-left"></i> <span class="is-vishidden">{{_i}}Right{{/i}}</span> </a> </div> <div class="pull-right"> {{#isEmbeddable}} <a class="column-action-link is-actionable" data-action="embed"><i class="icon icon-share"></i></a> {{/isEmbeddable}} {{#isClearable}} <a class="column-action-link is-actionable" data-action="clear">{{_i}}Clear column{{/i}}</a> {{/isClearable}} {{#isOwnCustomTimeline}} <a class="column-action-link is-actionable" data-action="delete-customtimeline">{{_i}}Delete collection{{/i}}</a> {{/isOwnCustomTimeline}} <button type="button" class="btn btn-negative btn-square" data-action="remove"><i class="icon icon-trash"></i></button> </div> </fieldset> {{/isTouchColumnOptions}} -->  </form>',
    e.exports["column/column_options_header.mustache"] = "",
    e.exports["column/custom_timeline_description.mustache"] = '{{#description}} {{#editable}} <button class="js-edit pull-right btn btn-neutral btn-square btn-alt margin-txs "> <i class="icon icon-edit txt-mute txt-base-medium padding-txs"></i> </button> {{/editable}} <div class="nbfc"> <p class="padding-al txt-mute txt-base-small">{{description}}</p> </div> {{/description}} {{^description}} {{#editable}} <button class="js-edit btn btn-neutral-positive full-width reset-height"> <i class="icon icon-plus icon-small"></i> <span class="label margin-ln">{{_i}}Add description{{/i}}</span> </button> {{/editable}} {{/description}}',
    e.exports["column/custom_timeline_edit_description.mustache"] = '<div class="padding-al"> <div class="pull-right margin-lm"> <input class="js-character-count character-count txt-center txt-bold padding-ts" disabled> <button class="js-cancel btn btn-neutral btn-square block reset-height padding-vxs"> <i class="icon icon-close icon-remove-color"></i> </button> <button class="js-save btn btn-neutral btn-square block reset-height padding-vn"> <i class="icon icon-check icon-submit-color"></i> </button> </div> <div class="nbfc"> <textarea class="js-input js-submittable-input js-compose-text scroll-v scroll-styled-v padding-tm" autofocus placeholder="{{_i}}Add description{{/i}}" style="height:80px">{{description}}</textarea> </div> </div>',
    e.exports["column/dm_rename_conversation.mustache"] = '<div class="js-edit-conversation-name edit-conversation-name bg-r-faded-yellow cf" data-conversation-id="{{conversationId}}" data-account-key="{{accountKey}}" > <div class="obj-right"> <button class="btn btn-neutral btn-square btn-square-narrow" data-action="confirm-edit-conversation"> <i class="icon icon-check txt-r-deep-green"></i> </button> <button class="btn btn-neutral btn-square btn-square-narrow" data-action="close-edit-conversation"> <i class="icon icon-close txt-r-deep-red"></i> </button> </div> <div class="nbfc"> <input class="js-conversation-name js-submittable-input js-escapable-input conversation-name" maxlength="20"> </div> </div>',
    e.exports["column/edit_customtimeline.mustache"] = '{{#withTitle}} <input class="js-customtimeline-title js-submittable-input" type="text" placeholder="{{_i}}Title{{/i}}" value="{{customTimelineName}}" style="margin-bottom: 5px"> {{/withTitle}} {{#withDescription}} <input class="js-customtimeline-desc js-submittable-input" type="text" placeholder="{{_i}}Description{{/i}}" value="{{customTimelineDescription}}"> {{/withDescription}}',
    e.exports["column/thumb_size_select.mustache"] = '<div class="facet-type facet-type-thumb-size"> <div class="accordion-header not-actionable link-clean block cf txt-base-medium"> <div class="obj-left facet-title"> <i class="icon icon-image facet-type-icon icon-small"></i> <span class="txt-base-smallest">{{_i}}Previews{{/i}}</span> </div> <div class="facet-subtitle nbfc"> <a href="#" class="js-toggle-item toggle-item" data-value="off">{{_i}}Off{{/i}}</a> &middot; <a href="#" class="js-toggle-item toggle-item" data-value="small"> <span class="toggle-item-text">{{_i}}Small{{/i}}</span> <span class="toggle-item-text-truncated">{{_i}}S{{/i}}</span> </a> &middot; <a href="#" class="js-toggle-item toggle-item" data-value="medium"> <span class="toggle-item-text">{{_i}}Medium{{/i}}</span> <span class="toggle-item-text-truncated">{{_i}}M{{/i}}</span> </a> &middot; <a href="#" class="js-toggle-item toggle-item" data-value="large"> <span class="toggle-item-text">{{_i}}Large{{/i}}</span> <span class="toggle-item-text-truncated">{{_i}}L{{/i}}</span> </a> </div> </div> </div>',
    e.exports["column/trend_select_item.mustache"] = '<option value="{{value}}" {{#isSelected}}selected{{/isSelected}}>{{title}}</option>',
    e.exports["column/trends_options.mustache"] = '<div class="padding-a--8"> <div class="position-rel"> <label for="select-trend-for" class="vertical-center pull-left txt-mute">Trends for</label> <select name="select-trend-for" class="js-trend-select trend-select"> </select> </div> <div class="js-city-select-panel position-rel margin-t--5 "> <label for="select-trend-for" class="vertical-center pull-left txt-mute">City</label> <select name="select-trend-for" class="js-cities-select trend-select"> </select> </div> </div>',
    e.exports["column_loading_placeholder.mustache"] = '<div class="js-column-loading-placeholder list-placeholder column-loading-placeholder"> <p><span class="spinner-small"></span> {{^isUpdating}}Loading&#8230;{{/isUpdating}}{{#isUpdating}}Updating&#8230;{{/isUpdating}}</p> </div>',
    e.exports["column_nav_flyout.mustache"] = '<div class="js-column-nav-menu-flyover column-nav-flyout"> <div class="column-nav-item padding-lm padding-rl txt-ellipsis">{{{content}}}</div> </div>',
    e.exports["column_title.mustache"] = '<span class="column-head-title">{{title}}</span> {{#needsUserAttribution}}<span class="attribution txt-mute txt-sub-antialiased">{{screenName}}</span>{{/needsUserAttribution}}',
    e.exports["column_title_editable.mustache"] = '<input type="text" class="js-submittable-input column-title-edit-box {{editableFieldClass}}" maxlength="{{maxLength}}" value="{{title}}"> <img class="js-show-tip avatar size24 image-attribution" title="{{screenName}}" data-placement="bottom" width="24" height="24" src="{{profileImageURL}}">',
    e.exports["compose/account_selector.mustache"] = '<div class="js-account-list margin-b--11 compose-accounts cf {{gridModeClass}}"> {{#accounts}} <a class="js-account-item {{^isList}}js-show-tip{{/isList}} compose-account is-actionable {{#isSelected}}is-selected{{/isSelected}} {{#isList}}cf{{/isList}} link-clean" tabindex="0" title="@{{screenName}}" data-account-key="{{accountKey}}"> {{#isList}} <div class="position-rel obj-left"> <img src="{{profileImageURL}}" alt="" width="{{avatarSize}}" height="{{avatarSize}}" class="avatar compose-account-img {{avatarSizeClass}}" /> <div class="compose-account-selected"><i class="icon icon-check icon-small"></i></div> </div> <div class="nbfc compose-account-names link-clean"> <b class="txt-base-medium txt-ellipsis inline-block">{{name}}</b> <p class="txt-base-small txt-ellipsis">@{{screenName}}</p> </div>  {{/isList}} {{^isList}} <img src="{{profileImageURL}}" alt="" width="{{avatarSize}}" height="{{avatarSize}}" class="avatar compose-account-img {{avatarSizeClass}}" /> <div class="compose-account-selected"><i class="icon icon-check icon-small"></i></div> {{/isList}} </a> {{/accounts}} </div>',
    e.exports["compose/account_selector_grid_toggle.mustache"] = '<a class="pull-left margin-r--6 is-actionable account-selector-grid-mode {{#grid}}is-selected{{/grid}}" data-grid-mode="grid"><i class="txt-r-white icon icon-compose-grid"></i><span class="is-vishidden">grid</span></a> <a class="pull-left margin-r--6 is-actionable account-selector-grid-mode {{#minigrid}}is-selected{{/minigrid}}" data-grid-mode="minigrid"><i class="txt-r-white icon icon-compose-minigrid"></i><span class="is-vishidden">grid</span></a> <a class="pull-left is-actionable account-selector-grid-mode {{#list}}is-selected{{/list}}" data-grid-mode="list"><i class="txt-r-white icon icon-compose-list"></i><span class="is-vishidden">grid</span></a>',
    e.exports["compose/accounts.mustache"] = '{{#accounts}} <li data-id="{{uid}}" title="{{username}}" data-service="{{service}}" class="acc-{{service}} js-account-item js-show-tip" data-placement="bottom"> <img src="{{picture}}" alt="account" class="acc-avatar"/> <i class="icon icon-twitter-bird"></i> </li> {{/accounts}}',
    e.exports["compose/autocomplete_hashtag.mustache"] = '{{#results}} <li class="typeahead-item padding-am cf is-actionable"> <p class="js-hashtag txt-ellipsis">{{{value}}}</p> </li> {{/results}}',
    e.exports["compose/autocomplete_twitter_user.mustache"] = '{{#results}} <li class="typeahead-item padding-am cf is-actionable" data-id="{{id}}"> <img src="{{pic}}" class="avatar obj-left size24"> <div class="nbfc txt-ellipsis padding-ts"> <strong class="fullname">{{{name}}}</strong> {{#isVerified}}<i class="js-show-tip sprite sprite-verified-mini" title="{{_i}}Verified account{{/i}}"></i>{{/isVerified}} <span class="username"><span>@</span><span class="js-screenname">{{{screenName}}}</span></span> </div> </li> {{/results}}',
    e.exports["compose/compose_inline_reply.mustache"] = '<div class="js-inline-reply inline-reply item-box-full-bleed is-inline-inactive is-inline-active"> <div class="padding-axl"> <div class="position-rel compose-text-container margin-bl"> <textarea class="js-compose-text compose-text scroll-v scroll-styled-v scroll-styled-h scroll-alt" placeholder="{{_i}}What\'s happening?{{/i}}" tabindex="100"></textarea> </div>  <!-- safeguard checkbox --> <div class="js-account-safeguard-checkbox cf"> <label for="inline-account-safeguard-checkbox" class="pull-right">Ready to Tweet? <input id="inline-account-safeguard-checkbox" class="on-blue" type="checkbox" tabindex="100" /></label> </div>  <div class="cf margin-t--4 full-width"> <div class="pull-right"> <input class="js-character-count character-count-compose margin-rl margin-txs pull-left" disabled="" value="140" /> <a class="js-account-item js-show-tip compose-account is-actionable is-selected margin-an margin-rl" tabindex="101" data-account-key="{{account.accountKey}}" title="@{{account.screenName}}"> <img src="{{account.profileImageURL}}" alt="" width="30" height="30" class="avatar compose-account-img size30" /> </a> <div class="js-send-button-container spinner-button-container"> <button class="js-send-button js-spinner-button js-show-tip btn btn-positive" tabindex="100"> {{_i}}Tweet{{/i}} </button> <i class="js-compose-sending-success icon-center-16 compose-send-button-success icon icon-check is-hidden"></i> <i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i> </div> </div> <div class="pull-left neg-margin-lm"> <button class="js-inline-compose-close btn btn-square btn-neutral" tabindex="103"> <i class="icon icon-close icon-medium"></i> </button> <button class="js-inline-compose-pop js-show-tip btn btn-square btn-neutral" tabindex="102" title="{{_i}}Popout{{/i}}"> <i class="icon icon-popout icon-medium"></i> </button>  {{! Needs revisiting. Camera button does not fit in narrow columns }} <button class="js-inline-compose-add-image btn btn-square btn-neutral is-hidden"> <i class="icon icon-camera icon-medium"></i> </button> </div> </div> </div> </div>',
    e.exports["compose/docked_compose.mustache"] = '<div class="js-docked-compose compose">  <div class="js-compose-scroller compose-content antiscroll-wrap pin-all"> <div class="antiscroll-inner scroll-v scroll-styled-v padding-h--15">  <header class="js-compose-header compose-header"> <div class="position-rel compose-title inline-block"> <h1 class="js-compose-title compose-title-text txt-ellipsis inline-block">{{_i}}New Tweet{{/i}}</h1> </div> <i class="js-drawer-close is-actionable icon icon-close margin-vm pull-right"></i> </header>  <div class="margin-v--14 cf"> <div class="pull-left compose-text-title"> {{_i}}From{{/i}} </div> <div class="js-account-selector-grid-toggle pull-right account-selector-grid-toggle"> </div> </div>  <!-- Accounts --> {{>compose/account_selector}} <!-- end Accounts -->  <!-- Direct Message --> <div class="js-compose-message-recipient-container compose-message-recipient-container margin-bxl position-rel cf"> <p class="padding-b--9 compose-text-title">{{_i}}To{{/i}}</p>  <div class="js-compose-message-recipient-input-container compose-message-recipient-input-container scroll-v position-rel bg-r-white"> <div class="js-compose-message-recipient-list compose-message-recipient-list position-rel is-hidden cf border-box padding-r--4 padding-b--4"> </div> <!-- message recipient input --> <input type="text" class="js-compose-message-account js-non-escapable-input compose-message-account"> <a href="#" class="js-clear-input txt-base-medium input-clear-control" tabindex="-1"> <i class="icon icon-close icon-small"></i> </a>  </div>  <div class="js-typeahead-dropdown border-box typeahead-dropdown dropdown-menu is-hidden scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} padding-t--0 padding-b--0"> <ul class="js-typeahead-conversation-list is-hidden"></ul> <ul class="js-typeahead-user-list is-hidden"></ul> </div> </div> <!-- end Direct Message -->  <div class="js-compose-message-header margin-b--9 compose-text-title"></div>  <!-- reply to tweet --> <div class="js-in-reply-to compose-reply-tweet padding-al is-hidden"></div> <!-- end reply to tweet -->  <!-- Compose box --> <div class="position-rel compose-text-container"> <textarea class="js-compose-text compose-text scroll-v scroll-styled-v scroll-styled-h scroll-alt padding-al" placeholder="{{_i}}What\'s happening?{{/i}}"></textarea> </div>  <!-- Media bar --> <div class="js-media-added is-hidden"></div>  <!-- Quote Tweet --> <div class="js-quote-tweet-holder padding-a--10 bg-r-white"></div> <!-- End compose box -->  <!-- Hint bar --> <div class="js-compose-hint margin-vl is-hidden"> </div>  <!-- safeguard checkbox --> <div class="js-account-safeguard-checkbox cf margin-t--10 margin-b---7"> <label for="account-safeguard-checkbox" class="pull-right"><span class="js-account-safeguard-text">Ready to Tweet?</span> <input id="account-safeguard-checkbox" class="on-blue" type="checkbox" /></label> </div>  <!-- Send tweet button  & character count --> <div class="cf margin-t--12 margin-b--30"> <div class="pull-right"> <input class="js-character-count character-count-compose margin-rl" disabled=""> <div class="js-send-button-container spinner-button-container"> <button class="js-send-button js-spinner-button js-show-tip is-disabled btn btn-positive btn-extra-height" {{_i}}Tweet{{/i}}> </button> <i class="js-compose-sending-success icon-center-16 compose-send-button-success icon icon-check is-hidden"></i> <i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i> </div> </div> </div>  <!-- Option buttons --> <button class="js-add-image-button js-show-tip needsclick btn btn-on-blue full-width txt-left margin-b--12 padding-v--9 is-disabled"> <i class="icon icon-camera"></i> <span class="js-add-image-button-label label padding-ls">{{_i}}Add image{{/i}}</span> </button>  <div class="js-scheduler"> <button class="js-schedule-button js-show-tip btn btn-on-blue full-width txt-left margin-b--12 padding-v--9 is-disabled"> <i class="icon icon-schedule"></i> <span class="js-schedule-button-label label padding-ls">{{_i}}Schedule Tweet{{/i}}</span> </button> <span class="js-schedule-datepicker-holder"/> </div>  <div class="js-tweet-type-button"> <button class="js-tweet-button btn btn-on-blue full-width txt-left margin-b--12 padding-v--9 is-hidden"> <i class="icon icon-twitter-bird"></i> <span class="label padding-ls">{{_i}}New Tweet{{/i}}</span> </button>  <button class="js-dm-button js-show-tip btn btn-on-blue full-width txt-left margin-b--12 padding-v--9"> <i class="icon icon-message"></i> <span class="label padding-ls">{{_i}}Direct message{{/i}}</span> </button> </div> <!-- end option buttons --> </div> </div>  <footer class="pin-bottom margin-a--15"> <label class="checkbox checkbox-reversed compose-remember-state pull-right"> {{_i}}Stay open{{/i}} <input class="js-compose-stay-open on-blue" type="checkbox"/> </label> </footer>  </div>',
    e.exports["compose/in_reply_to.mustache"] = '{{#user}} <header class="tweet-header padding-bm position-rel"> <a href="#" class="js-in-reply-to-remove pull-right compose-reply-tweet-remove margin-axs"><i class="icon icon-close"></i></a> <a class="account-link link-complex block txt-ellipsis margin-r--10" href="https://twitter.com/{{screenName}}" rel="user" target="_blank"> <img class="compose-reply-avatar avatar size24" src="{{profileImageURL}}" width="24" height="24"> <b class="fullname link-complex-target">{{name}}</b> {{#isVerified}}<i class="js-show-tip sprite sprite-verified-mini" title="{{_i}}Verified account{{/i}}"></i>{{/isVerified}} <span class="username txt-mute {{#isVerified}}block{{/isVerified}}">@{{screenName}}</span> </a> </header> {{/user}} <div class="tweet-body"> <p class="js-tweet-text tweet-text with-linebreaks">{{{htmlText}}}</p> </div> <div class="replyto-caret"></div>',
    e.exports["compose/media_bar_image.mustache"] = '{{#isMediaGridContent}} <div class="compose-media-grid-holder bg-r-white padding-am"> <div class="media-grid-container"> <div class="media-grid-{{mediaLength}}"> {{#mediaInfo}} <div class="media-image-container block position-rel"> <div class="pin-all media-image" style="background-image: url({{src}});" > <a class="js-media-bar-remove compose-media-grid-remove is-actionable" data-file-index="{{fileIndex}}"> <i class="sprite sprite-close"></i> </a> </div> </div> {{/mediaInfo}} </div> </div> </div> {{/isMediaGridContent}} {{^isMediaGridContent}} <div class="compose-media-bar-holder padding-al"> <div class="compose-media-bar"> <a class="js-media-bar-remove compose-media-bar-remove is-actionable"> <i class="sprite sprite-close"></i> </a> {{#mediaInfo}} <img class="js-media-bar-thumb compose-media-bar-thumb full-width" alt="" src="{{src}}"> {{/mediaInfo}} </div> </div> {{/isMediaGridContent}}',
    e.exports["compose/media_bar_infobar.mustache"] = '<div class="compose-media-info-bar-holder padding-al"> <div class="compose-media-info-bar cf padding-as"> <div class="obj-left"> <i class="icon icon-camera align-middle"></i> <span class="align-middle">{{_i}}Image added{{/i}}</span> </div> <div class="obj-right"> <a href="#" class="js-media-bar-remove align-middle">{{_i}}Remove{{/i}}</a> </div> </div> </div>',
    e.exports["compose/message_conversation.mustache"] = '{{#chirp}} <div class="js-compose-message-recipient pull-left border-box margin-t--4 padding-l--4 txt-r-dark-gray cf compose-message-recipient" data-conversation-id="{{conversationId}}"> {{^withMultipleAvatars}} {{#avatars.0}} <img class="pull-left" src="{{profileImageURL}}" width="24" height="24" alt="{{screenName}}\'s avatar"> {{/avatars.0}} {{/withMultipleAvatars}} {{#withMultipleAvatars}} <div class="pull-left media-grid-container multiple-avatar-grid-mini"> <div class="{{avatarsClass}}"> {{#avatars}} <div class="media-image-container media-image-container-mini"> <div class="media-image block position-rel" style="background-image: url({{profileImageURL}});" ></div> </div> {{/avatars}} </div> </div> {{/withMultipleAvatars}}  <a class="js-remove-conversation is-actionable remove-recipient txt-mute block pull-right"><i class="txt-r-light-grey icon icon-close txt-base-smallest padding-r--4 padding-l--4"></i></a>  <div class="nbfc padding-l--5 compose-message-recipient-name"> <span class="name txt-ellipsis inline-block position-rel"> {{#getConversationTitleInformation}} {{#name}} {{{name}}} {{/name}} {{^name}} {{#isOneToOne}} {{#participants.0}} {{name}} </a> {{/participants.0}} {{/isOneToOne}} {{#isThreeway}} {{#participants.0}} {{name}}, {{/participants.0}} {{#participants.1}} {{name}} {{/participants.1}} {{/isThreeway}} {{#isOneToMany}} {{#participants.0}} {{name}} + {{numberOfOtherParticipants}} {{/participants.0}} {{/isOneToMany}} {{/name}} {{/getConversationTitleInformation}} </span> </div> </div> {{/chirp}}',
    e.exports["compose/message_recipients.mustache"] = '{{#users}} <div class="js-compose-message-recipient pull-left border-box margin-t--4 padding-l--4 txt-r-dark-gray cf compose-message-recipient" data-user-id="{{id}}" data-screen-name="{{screenName}}"> <img class="pull-left" src="{{profileImageURL}}" width="24" height="24" /> <a class="js-remove-recipient is-actionable remove-recipient txt-mute block pull-right" data-user-id="{{id}}"><i class="txt-r-light-grey icon icon-close txt-base-smallest padding-r--4 padding-l--4"></i></a>  <div class="nbfc padding-l--5 compose-message-recipient-name"> <span class="name txt-ellipsis inline-block position-rel"> {{name}} </span> </div>  </div> {{/users}}',
    e.exports["compose/schedule.mustache"] = '<div class="popover popover-position-t margin-ll" style="display:block"> <div class="caret"> <span class="caret-outer"></span> <span class="caret-inner"></span> </div>  <div class="cal"> <header> <input id="scheduled-hour" type="text" pattern="\\d*" inputmode="numeric" tabindex="2"> <span>:</span> <input id="scheduled-minute" type="text" pattern="\\d*" inputmode="numeric" tabindex="3"> <a id="amPm" class="btn" data-value="{{isPM}}"> <span class="label">{{meridiemText}}</span> </a> </header>  <div id="calendar" class="form-calendar"> <div class="nav-group button-group"> <a id="prev-month" class="btn btn-square"><i class="icon icon-arrow-l icon-small"></i></a> <a id="next-month" class="btn btn-square"><i class="icon icon-arrow-r icon-small"></i></a> </div> <input type="date" name="datepicker" id="datepicker"> </div> </div>  <div class="padding-as"> <button class="js-remove btn btn-alt btn-negative full-width"><i class="icon icon-trash"></i><span class="label">{{_i}}Remove{{/i}}</span></button> </div> </div>',
    e.exports["contributor_list_account_summary.mustache"] = '<div class="account-summary cf"> <div class="obj-left item-img"> <img class="avatar size36 avatar pull-right" src="{{profileImageURL}}" width="36" height="36" alt="{{screenName}}\'s avatar"> </div>  <div class="account-summary-text nbfc account-link"> <div class="{{#isBadged}}fullname-badged-container{{/isBadged}}"> <b class="fullname txt-ellipsis inline-block link-complex-target txt-base-medium {{#isBadged}}fullname-badged{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}} position-rel"> {{name}} </b> </div> <div> <span class="username txt-r-deep-gray txt-base-smallest"> @{{screenName}} {{#isProtected}}<i class="icon icon-protected icon-match-context icon-tt"></i>{{/isProtected}} </span> </div> </div> </div>',
    e.exports["contributors/contributor_list.mustache"] = "{{#contributors}} {{>contributors/contributor_list_row}} {{/contributors}}",
    e.exports["contributors/contributor_list_error.mustache"] = '<div class="padding-axl margin-tl txt-r-medium-red"> {{_i}}Could not retrieve team members.{{/i}} </div>',
    e.exports["contributors/contributor_list_row.mustache"] = '{{#contributor}} <div class="js-contributor-row contributor-row position-rel padding-axl" data-state="{{initialState}}" data-state-error data-user-id="{{user.id}}" data-name="{{user.name}}" data-contributor-role="{{#isAdmin}}admin{{/isAdmin}}{{^isAdmin}}contributor{{/isAdmin}}"> {{#user}} {{>contributor_list_account_summary}} {{/user}}  <div class="contributor-detail cf txt-base-small txt-r-deep-gray" data-show-when-state="closed"> <span data-show-when-contributor-role="admin"> {{_i}}Admin{{/i}} </span> <span data-show-when-contributor-role="contributor"> {{_i}}Contributor{{/i}} </span> &middot; <a href="#" class="js-contributor-open-settings" data-user-id="{{user.id}}"> {{_i}}Change role{{/i}} </a> </div>  <div class="contributor-settings control-s margin-txl cf" data-show-when-state="settings confirmRemove"> <div class="contributor-settings-role margin-bxl padding-bxl margin-" data-hide-when-state="confirmRemove"> <div class="radio"> <label class="contributor-option cf block"> <input type="radio" name="contributor-role-{{user.id}}" class="js-contributor-role margin-tm block obj-left" data-user-id="{{user.id}}" data-contributor-role="contributor" {{^isAdmin}}checked="checked"{{/isAdmin}}> <div class="nbfc"> <strong class="block">{{_i}}Contributor{{/i}}</strong> <span class="txt-r-deep-gray">{{_i}}Can Tweet as @{{contributee.getUsername}}{{/i}}</span> </div> </label> <label class="contributor-option cf block"> <input type="radio" name="contributor-role-{{user.id}}" class="js-contributor-role margin-tm block obj-left" data-user-id="{{user.id}}" data-contributor-role="admin" {{#isAdmin}}checked="checked"{{/isAdmin}}> <div class="nbfc"> <strong class="block">{{_i}}Admin{{/i}}</strong> <span class="txt-r-deep-gray">{{_i}}Can Tweet and manage team{{/i}}</span> </div> </label> </div>  <div class="contributor-confirm-change cf margin-txl txt-center"> <button class="js-contributor-action-confirm btn btn-positive btn-extra-height share-width pull-left" data-user-id="{{user.id}}"> <i class="icon icon-check"></i> <span class="label">{{_i}}Confirm{{/i}}</span> </button> <button class="js-contributor-action-cancel cf btn btn-light-gray btn-extra-height share-width pull-right" data-user-id="{{user.id}}"> {{_i}}Cancel{{/i}} </button> </div> </div>  <div class="contributor-remove txt-center" data-hide-when-state="confirmRemove"> <button class="js-contributor-remove btn btn-negative full-width btn-extra-height" data-user-id="{{user.id}}"> <i class="icon icon-close"></i> <span class="label">{{_i}}Remove from team{{/i}}</span> </button> </div>  <div class="contributor-confirm-remove padding-bl txt-r-dark-gray txt-center" data-show-when-state="confirmRemove"> {{^isSigninAccount}} {{_i}}Remove @{{user.screenName}} from the team?{{/i}} {{/isSigninAccount}} {{#isSigninAccount}} {{_i}}You are signed in as @{{user.screenName}}, so this will remove @{{contributee.getUsername}} from your TweetDeck and you will no longer be able to manage the team.{{/i}} {{/isSigninAccount}} </div>  <div class="contributor-confirm-remove cf txt-center" data-show-when-state="confirmRemove"> <button class="js-contributor-action-confirm btn btn-negative btn-extra-height share-width pull-left" data-user-id="{{user.id}}"> <i class="icon icon-close"></i> <span class="label">{{_i}}Remove{{/i}}</span> </button> <button class="js-contributor-action-cancel cf btn btn-light-gray btn-extra-height share-width pull-right" data-user-id="{{user.id}}"> {{_i}}Cancel{{/i}} </button> </div> </div>  <div class="contributor-confirm-add padding-vxl txt-r-dark-gray" data-show-when-state="confirmAdd confirmAdd-added"> {{_i}}This user will be able to {{>text/open_strong}}use Twitter as @{{contributee.getUsername}}{{>text/close_strong}}, including:{{/i}} <ul class="padding-tl ul"> <li>{{_i}}Posting Tweets{{/i}}</li> <li>{{_i}}Accessing direct messages{{/i}}</li> <li>{{_i}}Like and retweet{{/i}}</li> </ul> </div>  <div class="contributor-confirm-add txt-center" data-show-when-state="confirmAdd confirmAdd-added"> <div class="cf"> <button class="js-contributor-action-confirm btn btn-positive btn-extra-height share-width pull-left" data-user-id="{{user.id}}"> <i class="icon icon-check"></i> <span class="label">{{_i}}Authorize{{/i}}</span> </button> <button class="js-contributor-action-cancel cf btn btn-light-gray btn-extra-height share-width pull-right" data-user-id="{{user.id}}"> {{_i}}Cancel{{/i}} </button> </div> </div>  <div class="contributor-confirm-deadmin padding-hs padding-vm txt-r-dark-gray" data-show-when-state="confirmDeadmin"> {{_i}}Warning: You will no longer be able to manage the team from this TweetDeck{{/i}} </div>  <div class="contributor-confirm-deadmin txt-center" data-show-when-state="confirmDeadmin"> <button class="js-contributor-action-confirm btn btn-positive btn-extra-height padding-h--20 pull-left" data-user-id="{{user.id}}"> <i class="icon icon-check"></i> <span class="label">{{_i}}Continue{{/i}}</span> </button> <button class="js-contributor-action-cancel cf btn btn-light-gray btn-extra-height padding-h--20 pull-right" data-user-id="{{user.id}}"> {{_i}}Cancel{{/i}} </button> </div>  <div class="js-contributor-error-message margin-txl txt-r-deep-red txt-center" data-show-when-state-error></div> </div> {{/contributor}}',
    e.exports["contributors/contributor_manager.mustache"] = '<div class="padding-txl padding-lxl padding-rxl padding-bn"> {{! Account summary }} {{#account}} <a class="account-link link-complex block" href="{{getProfileURL}}" data-user-name="{{screenName}}" rel="user" target="_blank"> <div class="margin-bxxl padding-al bg-r-faded-gray"> {{> account_settings_account_summary }} </div> </a> {{/account}}  {{! User search box }} <h1 class="txt-base-extra-large txt-weight-normal"> {{_i}}Team members{{/i}} </h1>  <p class="padding-tl txt-r-dark-gray"> {{_i}}Team members can use Twitter as @{{account.screenName}} without knowing the password.{{/i}} <a href="https://support.twitter.com/articles/20171753-using-team-accounts-on-tweetdeck" target="_blank" rel="url">{{_i}}Learn more{{/i}}</a>. </p> </div>  <div class="js-position-sticky position-sticky contributor-adder-block bg-r-light-gray"> <div class="js-contributor-adder contributor-adder padding-lxl padding-rxl margin-vxl"></div> </div>  <div class="js-contributor-list js-position-sticky-scroll-container contributor-list margin-bxl"></div>',
    e.exports["contributors/contributors_loading.mustache"] = '<div class="padding-hxl"> {{_i}}Loading team...{{/i}} </div>',
    e.exports["drawer.mustache"] = '<div class="js-drawer drawer" data-drawer="compose"> {{>compose/docked_compose}} </div> <div class="js-drawer drawer" data-drawer="accountSettings"> </div>',
    e.exports["emails/fileabug.mustache"] = "## Add bug details above this line ## 1. Subject: What problem did you encounter? 2. Body: Describe the steps to reproduce.  ## Please do not delete below ## Device Details Build ID: {{buildID}} Version: {{version}} Browser: {{userAgent}} TweetDeck Account: {{tdAccount}}",
    e.exports["embed_tweet.mustache"] = '{{< modal}} {{$modal_class}}s-nonav embed-modal{{/modal_class}} {{$content}}  <div class="margin-al"> <span class="block margin-bl txt-small">{{_i}}Add this Tweet to your website by copying the code below. If your CMS supports it, you can just paste in the link.{{/i}} <a class="url" target="_blank" href="https://dev.twitter.com/docs/embedded-tweets">{{_i}}Learn more{{/i}}</a></span>  <textarea class="js-embed-textarea block margin-bl" rows="2" readonly>{{html}}</textarea>  {{#isReply}} <label class="checkbox is-actionable block">{{_i}}Include parent Tweet{{/i}} <input type="checkbox" {{#includeParentTweet}}checked{{/includeParentTweet}} class="js-embed-include-parent"> </label> {{/isReply}} {{#hasMedia}} <label class="checkbox is-actionable block">{{_i}}Include media{{/i}} <input type="checkbox" {{#includeMedia}}checked{{/includeMedia}} class="js-embed-include-media"> </label> {{/hasMedia}}  </div>  <b class="block margin-ll">{{_i}}Preview{{/i}}</b>  <div class="js-embed-loading-container embed-loading-container margin-al"> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_large_white.gif{{/asset}}" class="embed-loading" alt="Loading…" /> </div>  <div class="js-embed-iframe-container embed-iframe-container"> <iframe class="js-embed-iframe embed-iframe"> </iframe> </div>  {{/content}} {{/modal}}',
    e.exports["favorite_from_options.mustache"] = '{{< modal}} {{$modal_class}}mdl-favorite-from-options s-fluid s-wide{{/modal_class}} {{$content}} {{#accounts}} <div class="l-table padding-al"> <div class="l-cell"> <div class="l-cell" rel="favorite-button" data-tweet-id="{{tweet.id}}" data-account-key="{{getKey}}"></div> <div class="l-cell padding-lm">from @{{getUsername}}</div> </div> </div> {{/accounts}} {{/content}}  {{$footer_content}} <button class="js-dismiss btn btn-positive"> <i class="icon icon-check icon-small padding-rs"></i> <span class="label">Done</span> </button> {{/footer_content}} {{/modal}}',
    e.exports["follow_button.mustache"] = '<div class="js-action-follow btn-relation-group"> {{#showAccountMenu}} {{> user_actions_btn_inv}} {{/showAccountMenu}}  <button class="js-follow-button {{^isSingleAccount}}js-show-tip{{/isSingleAccount}} follow-btn btn btn-alt" disabled="disabled" {{^isSingleAccount}}title="{{_i}}From {{#account}}@{{getUsername}}{{/account}}{{/i}}"{{/isSingleAccount}}> <div class="btn-loader"> <span> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_small_trans.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}"> </span> </div>  <div class="action-text follow-text"> <i class="icon icon-twitter-bird"></i> <span class="label">{{_i}}Follow{{/i}}</span> </div> <div class="label action-text following-text"> {{_i}}Following{{/i}} </div> <div class="label js-action-unfollow action-text unfollow-text"> {{_i}}Unfollow{{/i}} </div> <div class="label action-text block-text"> {{_i}}Blocked{{/i}} </div> <div class="label js-action-unblock action-text unblock-text action-text"> {{_i}}Unblock{{/i}} </div> <div class="label pending-text action-text"> {{_i}}Pending{{/i}} </div> <div class="label js-action-unfollow action-text cancel-req-text "> {{_i}}Cancel{{/i}} </div> <div class="label js-action-profile action-text thats-you-text"> {{_i}}Edit your profile{{/i}} </div> </button>  </div>',
    e.exports["follow_from_options.mustache"] = '{{< modal}} {{$modal_class}}mdl-favorite-from-options s-fluid s-wide{{/modal_class}} {{$content}} <!-- Populated by component code --> {{/content}}  {{$footer_content}} <button class="js-dismiss btn btn-positive"> <i class="icon icon-check icon-small padding-rs"></i> <span class="label">Done</span> </button> {{/footer_content}} {{/modal}}',
    e.exports["item_box.mustache"] = '<div class="item-box {{$item_box_classes}}{{/item_box_classes}}" {{$item_box_data}}{{/item_box_data}}>  {{$content}}{{/content}} </div>',
    e.exports["keyboard_shortcut_list.mustache"] = '{{< modal}} {{$modal_class}}s-nonav keyboard-shortcut-list-modal{{/modal_class}} {{$content}}  <dl class="keyboard-shortcut-list mdl-column"> <dt class="keyboard-shortcut-title"><b>Actions</b></dt> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">R</span>  Reply</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">T</span>  Retweet</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">F</span> {{#decider.hearts_and_likes2}} {{_i}}Like{{/i}}{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}} {{_i}}Favorite{{/i}}{{/decider.hearts_and_likes2}} </dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">N</span>  New Tweet</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">D</span>  Direct message</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">P</span>  View user profile</dd>  <dd class="keyboard-shortcut-definition"> <span class="text-like-keyboard-key">{{#isMac}}Return{{/isMac}}{{^isMac}}Enter{{/isMac}}</span> View Tweet Details </dd> <dd class="keyboard-shortcut-definition"> <span class="text-like-keyboard-key">Backspace</span> Close Tweet Details </dd>  <dd class="keyboard-shortcut-definition"> <span class="text-like-keyboard-key">{{#isMac}}Cmd &#8984;{{/isMac}}{{^isMac}}Ctrl{{/isMac}}</span> + <span class="text-like-keyboard-key">{{#isMac}}Return{{/isMac}}{{^isMac}}Enter{{/isMac}}</span> Send Tweet </dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">A</span>  Add Column</dd> </dl>  <dl class="keyboard-shortcut-list mdl-column"> <dt class="keyboard-shortcut-title"><b>Navigation</b></dt> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">?</span>  This menu</dd>  <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">&#8594;</span>  Right</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">&#8592;</span>  Left</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">&#8595;</span>  Down</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">&#8593;</span>  Up</dd>  <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">1</span> … <span class="text-like-keyboard-key">9</span>  Column 1－9</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">0</span>  Final column</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">X</span>  Expand/Collapse navigation</dd> <dd class="keyboard-shortcut-definition"><span class="text-like-keyboard-key">S</span>  Search</dd> </dl>  {{/content}} {{/modal}}',
    e.exports["large_modal.mustache"] = '<div class="js-modal-panel mdl s-tall-fixed is-inverted-dark"> {{> modal_header}} <div class="mdl-inner"> <div class="mdl-content js-mdl-content horizontal-flow-container"> </div> <footer class="mdl-buttonbar"></footer> </div> </div>',
    e.exports["list_module_account_item.mustache"] = '<li> <a href="#" class="list-account s-justify cf"> <img src="{{profileImageURL}}" alt="@{{username}}" class="avatar obj-left"> <div class="nbfc"> <strong class="fullname">{{fullname}}</strong> <span class="username">@{{username}}</span> </div> </a> </li>',
    e.exports["list_module_dataminr_watchlist.mustache"] = '<li> <a href="#" class="list-twitter-list" data-id="{{id}}"> <div class="inner" > <strong>{{name}}</strong> </div> <p>{{description}}</p> </a> </li>',
    e.exports["list_module_list_item.mustache"] = '<li class="{{#selected}}selected{{/selected}} {{classes}}"><a href="#" class="list-link" data-action="{{action}}"><strong>{{title}}</strong><i class="chev-right"></i></a></li>',
    e.exports["list_module_subtitle_item.mustache"] = '<li><a href="#" class="list-subtitle">{{title}}<span>{{subtitle}}</span><i class="chev-right"></i></a></li>',
    e.exports["list_module_trend_header.mustache"] = '<header class="margin-am"> <div class="js-trends control-group is-hidden"> <label class="padding-ts pull-left txt-mute cont">{{_i}}Trends{{/i}}</label> <div class="controls-space-58"> <select class="js-trends-select"></select> </div> </div> <div class="js-cities control-group is-hidden margin-ts"> <label class="padding-ts pull-left txt-mute cont">{{_i}}City{{/i}}</label> <div class="controls-space-58"> <select class="js-cities-select"></select> </div> </div> </header>',
    e.exports["list_module_trends.mustache"] = '<div class="lst-group"> {{^withLocationSelector}} <h3>{{_i}}Worldwide{{/i}}</h3> {{/withLocationSelector}} {{> list_module_trend_header}} <ul class="js-trend-list"></ul> </div>',
    e.exports["list_module_twitter_customtimeline_item.mustache"] = '<li> <a href="#" class="list-twitter-list"> <div class="inner" > <strong>{{title}}</strong> </div> <p>{{description}}</p> </a> </li>',
    e.exports["list_module_twitter_list_item.mustache"] = '<li> <a href="#" class="list-twitter-list"> <div class="inner" > {{#isPrivate}}<i class="icon icon-protected icon-small"></i>{{/isPrivate}} <strong>{{title}}</strong> <span class="bytext">{{by}}</span> </div> <p>{{description}}</p> <span class="subtitle">{{subtitle}}</span> <img src="{{miniProfileURL}}" alt="avatar" class="avatar size24"> </a> </li>',
    e.exports["list_option_dropdown.mustache"] = '<span class="btn-dropdown-group"> <a href="#" class="btn-dropdown"> <span class="js-menu-selected-item">{{choice}}</span> <i class="carrot-down"></i> </a> <ul class="options-dropdown dropdown-menu" style="display:block"> <li><a href="#">{{_i}}Ping{{/i}}</a></li> <li><a href="#">{{_i}}Ping 2{{/i}}</a></li> <li><a href="#">{{_i}}Ping 3{{/i}}</a></li> <li><a href="#">{{_i}}Ping 4{{/i}}</a></li> </ul> </span>',
    e.exports["list_trend_item.mustache"] = '<li><a href="#" data-action="search" data-query="{{name}}">{{name}}</a></li>',
    e.exports["list_trend_promoted_item.mustache"] = '<li><a class="promoted" href="#" data-action="search" data-query="{{name}}">{{name}}<i class="badge-promoted"></i><span>promoted</span></a></li>',
    e.exports["lists/edit_footer.mustache"] = '<span class="pull-right"> <button class="js-save btn btn-positive"><i class="add"></i>{{_i}}Save{{/i}}</button> </span>',
    e.exports["lists/edit_form.mustache"] = '<form action="#" id="list_details" accept-charset="utf-8" class="list-details frm s-fullform"> <fieldset> <legend class="frm-legend">{{_i}}List Details{{/i}}</legend>  <div id="list-edit-form" class="control-group"> <label for="list-account" class="control-label">{{_i}}Account{{/i}}</label> <div class="controls"> <select name="list-account" id="list-account"> {{#accounts}}<option value="{{getKey}}">{{getUsername}}</option>{{/accounts}} </select> </div> </div>  <div class="control-group"> <label for="list-name"  class="control-label">{{_i}}Name{{/i}}</label> <div class="controls"> <input class="xlarge" id="list-name" name="list-name" maxlength="25" required="required" type="text"> </div> </div>  <div class="control-group"> <label for="list-description"  class="control-label">{{_i}}Description{{/i}}</label> <div class="controls"> <input class="xlarge" id="list-description" name="list-description" maxlength="100" type="text"> </div> </div>  <div class="control-group"> <label for="list-mode"  class="control-label">{{_i}}Privacy{{/i}}</label> <div class="controls frm-inputs-list"> <label class="radio"> <input type="radio" value="public" id="list-mode-public" name="list-mode" checked="checked"> <span>{{_i}}Public{{/i}}</span> </label> <label class="radio"> <input type="radio" value="private" id="list-mode-private" name="list-mode"> <span>{{_i}}Private{{/i}}</span> </label> </div> </div> </fieldset></form>',
    e.exports["lists/edit_members_footer.mustache"] = '<button class="js-edit btn">{{_i}}Edit Details{{/i}}</button> <button class="js-delete btn btn-negative"><i class="icon icon-trash padding-rs"></i><span class="label">{{_i}}Delete list{{/i}}</span></button> <span class="pull-right"> <label class="js-add-column-option is-hidden pull-left checkbox frm-add-col"> <input type="checkbox" class="js-add-column-checkbox" name="add-column-checkbox"/> <span>{{_i}}Add column{{/i}}</span> </label> <button class="js-done btn btn-positive"></i>{{_i}}Done{{/i}}</button> </span>',
    e.exports["lists/member.mustache"] = '<li class="list-listmember cf"> <img src="{{profileImageURL}}" alt="@{{username}}" class="avatar"> <button class="js-add-remove btn btn-square"> <div class="working action-btn"> <span> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_small_trans.gif{{/asset}}" alt="Loading…"> </span> </div> <div class="member action-btn"><i class="icon icon-trash"></i></div> <div class="checked action-btn"><i class="icon icon-check icon-small"></i></div> <div class="nonmember action-btn"><i class="icon icon-plus icon-small"></i></div> </button> <div class="content"> <strong class="fullname">{{fullname}}</strong> <span class="username">@{{username}} {{#isProtected}}<i class="icon icon-protected"></i>{{/isProtected}}{{#isVerified}}<i title="{{_i}}Verified account{{/i}}" class="sprite sprite-verified js-show-tip"></i>{{/isVerified}}</span> </span> <p class="bio">{{description}}</p> </div> </li>',
    e.exports["lists/member_list.mustache"] = '<section id="{{columnkey}}" data-column="{{columnkey}}"> <header class="column-header column-header-temp"> <h1><strong>{{_i}}Members{{/i}}</strong> (<span class="js-member-count"></span>)</h1> </header> <div class="l-column-scrollv scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt column-content"> <ul class="js-member-list"></ul> </div> </section>',
    e.exports["login/2fa_verification.mustache"] = '<div class="startflow-message-wrap"> <div class="startflow-panel"> <div class="position-rel padding-axl padding-hxxl txt-center txt-extra-large-fixed bg-r-dark-blue txt-on-r-dark-blue"> <h1>{{_i}}Check your Twitter mobile app{{/i}}</h1> <div class="pin-top-only pin-right padding-axl"> <a href="#" class="js-dismiss txt-r-on-dark-blue"><i class="icon icon-close"></i></a> </div> </div>  <div class="js-login-error-message startflow-msg-error txt-center margin-vxl is-hidden"> {{_i}}Something has gone wrong. Please try logging in again.{{/i}} </div>  <div class="padding-axl padding-hxxl"> <p class="txt-large">{{_i}}When you receive a login verification request, accept it by tapping the checkmark button on your phone.{{/i}}</p> <p class="txt-large">{{_i}}<b>Didn&rsquo;t receive a notification?</b><br /> You can check your login requests manually in the Twitter mobile app, under Me &rarr; Settings &rarr; Choose Account &rarr; Security &rarr; Login requests{{/i}}</p> <p class="txt-center">Need help? Please contact <a href="https://support.twitter.com/articles/20170388-using-login-verification" target="_blank">Twitter Support</a>.</p> </div> </div> </div>',
    e.exports["login/2fa_verification_code.mustache"] = '<div class="startflow-message-wrap"> <div class="startflow-panel"> <div class="padding-axl padding-hxxl txt-center txt-extra-large-fixed bg-r-dark-blue txt-on-r-dark-blue"> <div class="margin-rxl"> <h1>{{_i}}We&rsquo;ve texted a verification code to your phone{{/i}}</b> </div> <div class="pin-top-only pin-right padding-axl"> <a href="#" class="js-dismiss txt-r-on-dark-blue"><i class="icon icon-close"></i></a> </div> </div>   <div class="padding-axl padding-hxxl padding-txxl"> <div class="js-login-error is-hidden padding-bm"> <div class="js-login-error-message form-message form-error-message startflow-msg-error padding-vl txt-center"> {{_i}}That&rsquo;s not the correct code. Check your phone and try again.{{/i}} </div> </div> <p class="txt-large padding-tn">{{_i}}Enter the verification code in the box below.{{/i}}</p> <form class="js-twogin-2fa-code-form padding-vl"> <input class="js-twogin-2fa-code form-verification margin-bl txt-base-medium" type="text" name="verificationcode" placeholder="Verification code" required autofocus> <div class="spinner-button-container"> <button type="submit" class="js-spinner-button btn btn-positive align-top" tabindex="4"> {{_i}}Continue{{/i}} </button> <i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i> </div> <a href="#" class="js-dismiss inline-block margin-ts margin-ll">{{_i}}Cancel{{/i}}</a> </form> <p class="txt-center">Need help? Please contact <a href="https://support.twitter.com/articles/20170388-using-login-verification" target="_blank">Twitter Support</a>.</p> </div> </div> </div>',
    e.exports["login/locked_account_warning.mustache"] = '<div class="startflow-panel startflow-panel-rounded padding-am"> <i class="icon icon-small icon-info txt-r-medium-red pull-left margin-rl"></i> <p class="nbfc"> {{_i}}You can no longer log in to TweetDeck with {{email}}. Please log in with {{#screenName}}the @{{>text/open_strong}}{{screenName}}{{>text/close_strong}}{{/screenName}}{{^screenName}}a{{/screenName}} Twitter username instead.{{/i}} <a href="https://support.twitter.com/articles/20171367#locked-transfer" class="startflow-link" target="_blank" rel="url">{{_i}}Why the change?{{/i}}</a> </p> </div>',
    e.exports["login/login_form.mustache"] = '<div class="js-header-container is-hidden app-signin-wrap padding-bxxl"></div> <div class="app-signin-wrap"> <div class="js-signin-ui app-signin-form pin-top-only pin-right txt-weight-normal"></div> {{> login/promo_for_login_form}} </div>',
    e.exports["login/login_form_footer.mustache"] = '<div class="spinner-button-container"> <button type="submit" class="js-spinner-button btn-login btn btn-positive align-top {{loginFormButtonClasses}}" tabindex="3"> {{loginFormButtonContent}} {{^loginFormButtonContent}} {{_i}}Log in{{/i}} {{/loginFormButtonContent}} {{#loginFormButtonIcon}} <i class="icon {{loginFormButtonIcon}} icon-small-valigned"></i> {{/loginFormButtonIcon}} <i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i> </button> </div> <div class="cf margin-tl"> {{#withForgotPassword}} <a href="#" class="js-login-forgot-password align-middle txt-size--14 startflow-link" tabindex="5">{{_i}}Forgot password?{{/i}}</a> {{/withForgotPassword}} </div>',
    e.exports["login/login_form_message.mustache"] = '<div class="js-login-success form-message form-success-message error txt-center padding-al margin-bxl is-hidden"> <p class="js-login-success-message">{{message}}</p> </div> <div class="js-login-error form-message form-error-message error txt-center padding-al margin-bxl is-hidden"> <p class="js-login-error-message">{{message}}</p> </div>',
    e.exports["login/promo_for_login_form.mustache"] = '<div class="app-info txt-large margin-txxl"> <div class="app-info-panel cf"> <div class="app-info-text pull-left"> <span class="app-info-title">Tweet like a pro.</span> <p>{{_i}}The most powerful Twitter tool for real-time tracking, organizing, and engagement. Reach your audiences and discover the best of Twitter.{{/i}}</p> </div> </div> </div>',
    e.exports["login/twitter_account_add_account_form.mustache"] = '<form class="js-login-form add-account" data-auth-type="twitter"> <legend class="block txt-r-text txt-bold margin-b--4"> {{_i}}Add another account{{/i}} </legend> <div class="txt-r-dark-gray txt-base-small margin-b--10"> {{_i}}Enter the details of the account you want to add.{{/i}} </div> <fieldset class=""> {{> login/login_form_message}} <input class="js-login-username margin-bl form-login-username" type="text" name="username" value="{{username}}{{twitterLoginUsername}}" placeholder="{{_i}}Email or username{{/i}}" required tabindex="1" /> <input class="js-login-password form-login-pwd margin-bl margin-txs" type="password" name="password" placeholder="{{_i}}Password{{/i}}" required tabindex="2" /> {{> login/login_form_footer}} </fieldset> </form>',
    e.exports["login/twitter_account_login_form.mustache"] = '<form class="js-login-form form-login startflow-panel-rounded" data-auth-type="twitter"> <legend class="form-legend padding-axl {{twitterLoginLegendClasses}}"> {{twitterLoginLegend}} {{^twitterLoginLegend}} {{_i}}Log in with your Twitter account{{/i}} {{/twitterLoginLegend}} </legend> <div class="margin-a--16"> {{> login/login_form_message}} <a href="{{twitterLoginUrl}}" class="btn btn-positive block txt-size--18"> Log in </a> </div> <div class="divider-bar margin-v--0 margin-h--16"></div> <div class="padding-axl"> {{_i}}New to Twitter?{{/i}} <a href="https://twitter.com/signup" class="startflow-link" rel="url" target="_blank">{{_i}}Sign up now{{/i}} &raquo;</a></p> </div> </form>',
    e.exports["media/animated_gif.mustache"] = '<div class="media-item nbfc {{thumbSizeClass}}"> <video class="js-media-gif media-item-gif full-width block {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}}" {{#withAutoplay}}autoplay{{/withAutoplay}}  loop src="{{src}}"> <source video-src="{{src}}" type="{{contentType}}" src="{{src}}"> </video> <div class="gif-badge"><i class="sprite sprite-gif"></i></div> <a class="js-gif-pause is-actionable gif-pause" rel="pause"><i class="sprite sprite-gif-pause"></i></a> <a class="js-gif-play pin-all gif-play" rel="play">{{> media/video_overlay}}</a> </div>',
    e.exports["media/media_gallery.mustache"] = '<div class="js-mediatable ovl-block is-inverted-light" tabindex="-1"> <div class="s-padded"> <div class="js-modal-panel mdl s-full med-fullpanel"> <a href="#" class="mdl-dismiss js-dismiss mdl-dismiss-media mdl-btn-media" rel="dismiss"><i class="icon txt-size--24 icon-close"></i></a> <div class="js-embeditem med-embeditem"> <div class="l-table"> <div class="l-cell"> <div class="med-tray js-mediaembed"></div> </div> </div> <a href="#" class="js-media-gallery-prev link-no-focus mdl-btn-media mdl-media-prev is-hidden"> <i class="icon txt-size--26 icon-arrow-l"></i> </a> <a href="#" class="js-media-gallery-next link-no-focus mdl-btn-media mdl-media-next is-hidden"> <i class="icon txt-size--26 icon-arrow-r"></i> </a> </div> <div id="media-gallery-tray"></div> <div class="js-med-tweet med-tweet"></div> </div> </div> </div>',
    e.exports["media/native_video.mustache"] = '<div class="position-rel"> <iframe src="https://amp.twimg.com/amplify-web-player/prod/source.html?image_src={{imageSrc}}&amp;media_id={{mediaId}}&amp;video_url={{videoUrl}}&amp;content_type={{contentType}}&amp;owner_id={{ownerId}}&amp;auto_buffer=1&amp;autoplay={{autoplay}}" class="js-media-native-video {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}}" height="{{height}}" width="{{width}}" frameborder="0" scrolling="no" allowfullscreen style="margin: 0px; padding: 0px; border: 0px;"> </iframe> {{> status/media_sensitive}} </div>',
    e.exports["media/video_overlay.mustache"] = '<div class="video-overlay icon-with-bg-round"> <i class="icon icon-bg-dot icon-twitter-blue-color"></i> <i class="icon icon-play-video"></i> </div>',
    e.exports["media/vine.mustache"] = '<iframe class="vine-player" width="{{width}}" height="{{height}}" src="https://vine.co/v/{{id}}/card" frameborder="0"> </iframe>',
    e.exports["media/youtube.mustache"] = '<iframe class="youtube-player" type="text/html" width="{{width}}" height="{{height}}" src="https://www.youtube.com/embed/{{id}}?autoplay={{autoplay}}{{#startTime}}&start={{startTime}}{{/startTime}}" allowfullscreen frameborder="0"> </iframe>',
    e.exports["menus/accordion_header.mustache"] = '<div class="js-accordion-toggle-view accordion-header is-actionable link-clean block cf txt-base-medium"> <div class="obj-left facet-title"> <i class="icon {{iconClass}} facet-type-icon"></i> <span class="txt-base-small">{{title}}</span> </div> <i class="icon icon-arrow-d pull-right txt-base-smallest"></i> <i class="icon icon-arrow-u pull-right txt-base-smallest"></i> <div class="{{jsClass}} facet-subtitle nbfc"> {{summaryText}} </div> </div>',
    e.exports["menus/actions.mustache"] = '<ul class="actions-menu-dropdown"> {{#user}} <li class="is-selectable"><a href="#" data-action="mention" class="txt-ellipsis">{{_i}}Tweet to @{{screenName}}{{/i}}</a></li> {{> menus/follow_menuitem }} {{#showFavorite}} <li class="is-selectable"> <a href="#" data-action="favoriteOrUnfavorite"> {{#decider.hearts_and_likes2}}{{_i}}Like from accounts…{{/i}}{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}{{_i}}Favorite from accounts…{{/i}}{{/decider.hearts_and_likes2}} </a> </li> {{/showFavorite}}  <li class="is-selectable"><a href="#" data-action="message">{{_i}}Send a Direct Message{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="lists">{{_i}}Add or remove from lists…{{/i}}</a></li> {{#chirp}}{{#user}}{{^isProtected}} <li class="feature-customtimelines is-selectable"><a href="#" data-action="customtimelines">{{_i}}Add to collection…{{/i}}</a></li> {{/isProtected}}{{/user}}{{/chirp}} {{^isMe}} <li class="drp-h-divider"></li> {{#chirp}} {{#hasMedia}} <li class="is-selectable"> <a class="js-flag-media-link {{#isFlagged}}is-hidden{{/isFlagged}}" href="#" data-action="flag-media">{{_i}}Flag media{{/i}}</a> <a class="js-flag-more-info-link {{^isFlagged}}is-hidden{{/isFlagged}}" href="https://support.twitter.com/articles/20069937" data-action target="_blank" rel="url">{{_i}}Flagged (learn more){{/i}}</a> </li> {{/hasMedia}} {{/chirp}} {{^isMuted}} <li class="is-selectable"><a href="#" data-action="mute" class="txt-ellipsis">{{_i}}Mute @{{screenName}}{{^decider.mute_native}} in TweetDeck{{/decider.mute_native}}{{/i}}</a></li> {{/isMuted}} {{#isMuted}} <li class="is-selectable"><a href="#" data-action="unmute" class="txt-ellipsis">{{_i}}Unmute @{{screenName}}{{^decider.mute_native}} in TweetDeck{{/decider.mute_native}}{{/i}}</a></li> {{/isMuted}} <li class="is-selectable"><a href="#" data-action="block" class="txt-ellipsis">{{_i}}Block @{{screenName}}{{/i}}</a></li> {{#chirp}} <li class="is-selectable"><a href="#" data-action="report-tweet" class="txt-ellipsis">{{_i}}Report Tweet{{/i}}</a></li> {{/chirp}} {{^chirp}} <li class="is-selectable"><a href="#" class="txt-ellipsis" data-action="report-spam">{{_i}}Report @{{screenName}}{{/i}}</a></li> {{/chirp}} {{/isMe}} {{/user}}   {{#chirp}} {{#user}}{{^isProtected}} <li class="drp-h-divider"></li> <li class="is-selectable"><a href="#" data-action="message-to">{{_i}}Share via Direct Message{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="email">{{_i}}Share via Email{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="embed">{{_i}}Embed this Tweet{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="reference-to">{{_i}}Link to this Tweet{{/i}}</a></li> {{/isProtected}}{{/user}} {{#isTranslatable}} <li class="is-selectable"><a href="#" data-action="translate">{{_i}}Translate this Tweet{{/i}}</a></li> {{/isTranslatable}} {{#isRetweeted}} <li class="drp-h-divider"></li> <li class="is-selectable"><a href="#" data-action="undo-retweet">{{_i}}Undo Retweet{{/i}}</a></li> {{/isRetweeted}} {{#isOwnChirp}} {{^isRetweeted}} <li class="drp-h-divider"></li> <li class="is-selectable"><a href="#" data-action="destroy">{{_i}}Delete{{/i}}</a></li> {{/isRetweeted}} {{/isOwnChirp}} {{/chirp}} </ul>',
    e.exports["menus/actions_directmessage.mustache"] = '<ul> {{#user}} {{> menus/follow_menuitem }} <li class="is-selectable"><a href="#" data-action="lists">{{_i}}Add or remove from lists…{{/i}}</a></li> {{^isMe}} <li class="drp-h-divider"></li> {{^isMuted}} <li class="is-selectable"><a href="#" data-action="mute">{{_i}}Mute @{{screenName}}{{^decider.mute_native}} in TweetDeck{{/decider.mute_native}}{{/i}}</a></li> {{/isMuted}} {{#isMuted}} <li class="is-selectable"><a href="#" data-action="unmute">{{_i}}Unmute @{{screenName}}{{^decider.mute_native}} in TweetDeck{{/decider.mute_native}}{{/i}}</a></li> {{/isMuted}} <li class="is-selectable"><a href="#" data-action="block">{{_i}}Block @{{screenName}}{{/i}}</a></li> <li class="is-selectable"><a href="#" data-action="report-tweet">{{_i}}Mark + delete message{{/i}}</a></li> {{/isMe}} {{/user}}  {{#chirp}} <li class="drp-h-divider"></li> <li class="is-selectable"><a href="#" data-action="destroy">{{_i}}Delete{{/i}}</a></li> {{/chirp}} </ul>',
    e.exports["menus/column_nav_menu.mustache"] = '<div class="js-column-nav-list"> <ul class="js-int-scroller"> {{#columns}} <li class="js-column-nav-menu-item column-nav-item {{#isNew}}is-new{{/isNew}} {{#customTimelineId}}js-droptarget{{/customTimelineId}}" data-column="{{key}}" data-customtimeline-id="{{customTimelineId}}" data-customtimeline-account="{{customTimelineAccount}}" > <i class="icon icon-xsmall icon-dot column-nav-updates"></i> <a class="js-header-action js-drag-handle drag-handle link-clean cf padding-hl column-nav-link txt-size--17" data-action="jumpto" data-column="{{key}}"> <div class="obj-left"> <i class="icon {{iconclass}} icon-large position-rel" data-action="drag"> {{#isMessageColumn}} <span class="js-unread-count msg-unread-count txt-base-small numbered-badge numbered-badge-onnav anim anim-slower {{#unreadCount}}is-visible{{/unreadCount}}">{{unreadCount}}</span> {{/isMessageColumn}} </i> </div> <div class="js-column-title nbfc hide-condensed">{{{title}}}</div> </a> </li> {{/columns}} </ul> <a class="js-header-action js-header-add-column link-clean cf app-nav-link padding-hl margin-tm with-nav-border-t" data-action="add-column" data-title="{{_i}}Add column{{/i}}"> <div class="obj-left"> <i class="icon icon-plus icon-large"></i> </div> <div class="nbfc padding-ts hide-condensed">{{_i}}Add column{{/i}}</div> </a> </div>',
    e.exports["menus/column_share.mustache"] = '<ul class="dropdown-text-large"> {{#isEmbeddable}} <li class="is-selectable"> <a href="#" data-action="embed"> <i class="icon icon-dropdown-context icon-share margin-rs"></i> {{_i}} {{>text/open_strong}}Embed{{>text/close_strong}} {{#isCollection}} collection {{/isCollection}} {{^isCollection}} timeline {{/isCollection}} {{/i}} </a> </li> {{/isEmbeddable}} {{#isViewable}} <li class="is-selectable"> <a href="#" data-action="view-on-web"> <i class="icon icon-dropdown-context icon-twitter-bird margin-rs"></i> {{_i}}{{>text/open_strong}}View{{>text/close_strong}} on twitter.com{{/i}} </a> </li> {{/isViewable}} {{#isShareable}} <li class="is-selectable"> <a href="#" data-action="reference-to"> <i class="icon icon-dropdown-context icon-compose margin-rs"></i> {{_i}}{{>text/open_strong}}Tweet{{>text/close_strong}} about this timeline{{/i}} </a> </li> {{/isShareable}} </ul>',
    e.exports["menus/dm_conversations_menu.mustache"] = '<ul> {{#showAddUser}} <li class="is-selectable"><a href="#" data-action="view-people">{{_i}}Add / view people{{/i}}</a></li> {{/showAddUser}} {{^showAddUser}} <li class="is-selectable"><a href="#" data-action="view-people">{{_i}}View people{{/i}}</a></li> {{/showAddUser}} {{#group}} <li class="is-selectable"><a href="#" data-action="rename-conversation">{{_i}}Edit group name{{/i}}</a></li> {{/group}} <li class="is-selectable"><a href="#" data-action="notify-conversation"> {{^notificationsDisabled}}{{_i}}Turn off notifications{{/i}}{{/notificationsDisabled}} {{#notificationsDisabled}}{{_i}}Turn on notifications{{/i}}{{/notificationsDisabled}} </a></li> <li class="is-selectable"><a href="#" data-action="leave-conversation">{{_i}}Leave{{/i}}</a></li> </ul>',
    e.exports["menus/dropdown.mustache"] = '<div class="js-dropdown dropdown-menu {{position}}"> <div class="caret"> <span class="caret-outer"></span> <span class="caret-inner"></span> </div> <div class="js-dropdown-content"> </div> </div>',
    e.exports["menus/flagged_media.mustache"] = "",
    e.exports["menus/follow_menuitem.mustache"] = '{{#isSingleAccount}} {{^isMe}} {{#following}} <li class="is-selectable"><a href="#" data-action="unfollow" class="txt-ellipsis">{{_i}}Unfollow @{{screenName}}{{/i}}</a></li> {{/following}} {{^following}} <li class="is-selectable"><a href="#" data-action="follow" class="txt-ellipsis">{{_i}}Follow @{{screenName}}{{/i}}</a></li> {{/following}} {{/isMe}} {{/isSingleAccount}} {{^isSingleAccount}} <li class="is-selectable"><a href="#" data-action="followOrUnfollow">{{_i}}Follow from accounts…{{/i}}</a></li> {{/isSingleAccount}}',
    e.exports["menus/search_accordion.mustache"] = '{{#action}} <div class="js-accordion-item facet-type facet-type-action {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-action-filter js-accordion-panel accordion-panel"> </div> </div> {{/action}} {{#content}} <div class="js-accordion-item facet-type facet-type-content {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-content-filter js-accordion-panel accordion-panel"> </div> </div> {{/content}} {{#location}} <div class="js-accordion-item facet-type facet-type-location {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-accordion-panel accordion-panel m-b--10"> <div class="js-location-filter" style="height: 180px"></div> </div> </div> {{/location}} {{#user}} <div class="js-accordion-item facet-type facet-type-user {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-user-filter js-accordion-panel accordion-panel"> </div> </div> {{/user}} {{#engagement}} <div class="js-accordion-item facet-type facet-type-engagement {{#isExpanded}}is-expanded is-active{{/isExpanded}}"> {{>menus/accordion_header}} <div class="js-engagement-filter js-accordion-panel accordion-panel"> </div> </div> {{/engagement}}',
    e.exports["menus/search_action_form.mustache"] = '<div class="padding-hl control-s"> <div class="control-group"> {{^isInActivityColumn}} <div class="controls"> <label class="txt-mute"> <input class="js-show-mentions" type="checkbox" value="mentions" {{#showMentions}}checked="checked"{{/showMentions}} /> <i class="icon icon-small-valigned icon-mention icon-mention-color"></i> {{_i}}Mentions{{/i}} </label> </div> {{#withQuotedTweets}} <div class="controls"> <label class="txt-mute"> <input class="js-show-quoted" type="checkbox" value="quoted" {{#showQuoted}}checked="checked"{{/showQuoted}} /> <i class="icon icon-small-valigned icon-content txt-r-dark-gray"></i> {{_i}}Quoted Tweets{{/i}} </label> </div> {{/withQuotedTweets}} <div class="controls"> <label class="txt-mute"> <input class="js-show-retweets" type="checkbox" value="retweets" {{#showRetweets}}checked="checked"{{/showRetweets}} /> <i class="icon icon-small-valigned icon-retweet txt-r-medium-green"></i> {{_i}}Retweets{{/i}} </label> </div> {{/isInActivityColumn}} <div class="controls"> <label class="txt-mute"> <input class="js-show-favorites" type="checkbox" value="favorites" {{#showFavorites}}checked="checked"{{/showFavorites}} /> <i class="icon icon-small-valigned icon-favorite icon-favorite-color"></i> {{#decider.hearts_and_likes2}}{{_i}}Likes{{/i}}{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}{{_i}}Favorites{{/i}}{{/decider.hearts_and_likes2}} </label> </div> <div class="controls"> <label class="txt-mute"> <input class="js-show-followers" type="checkbox" value="followers" {{#showFollowers}}checked="checked"{{/showFollowers}} /> <i class="icon icon-small-valigned icon-follow icon-follow-color"></i> {{_i}}Followers{{/i}} </label> </div> <div class="controls"> <label class="txt-mute"> <input class="js-show-lists" type="checkbox" value="lists" {{#showLists}}checked="checked"{{/showLists}} /> <i class="icon icon-small-valigned icon-list icon-list-color"></i> {{_i}}Lists{{/i}} </label> </div> {{^isInActivityColumn}} {{#withActionsOnRetweets}} <div class="controls padding-t--3"> <label class="txt-mute"> <input class="js-show-actions-on-retweets margin-r--1" type="checkbox" value="actionsOnRTs" {{#showActionsOnRetweets}}checked="checked"{{/showActionsOnRetweets}} /> {{_i}}Actions on my Retweets{{/i}} </label> </div> {{/withActionsOnRetweets}} {{/isInActivityColumn}}  </div> <div class="js-action-filter-error txt-center srt-error-msg margin-bm {{^showError}}is-hidden{{/showError}}"> {{_i}}Please select at least one interaction type{{/i}} </div> </div>',
    e.exports["menus/search_content_form.mustache"] = '<div class="padding-hl control-s"> {{#withContentType}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}Showing{{/i}}</label> <div class="controls"> <select class="js-containing" data-title="containing"> {{#containingOptions}} {{^hidden}} <option value="{{value}}">{{title}}</option> {{/hidden}} {{/containingOptions}} </select> </div> </div> {{/withContentType}} {{#withMatching}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}matching{{/i}}</label> {{>search_input}} </div> {{/withMatching}} {{#withExcluding}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}excluding{{/i}}</label> {{>search_input}} </div> {{/withExcluding}} {{#withLanguage}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}written in{{/i}}</label> <div class="controls"> <select class="js-written-in" data-title="written_in"> <option value="any" >{{_i}}any language{{/i}}</option> <option value="0" disabled="disabled">---</option>  {{#userLanguage}} <option value="{{code}}">{{name}}</option> <option value="0" disabled="disabled">---</option> {{/userLanguage}}  {{#allLanguages}} <option value="{{code}}">{{localized_name}} ({{name}})</option> {{/allLanguages}} </select> </div> </div> {{/withLanguage}} {{#withRetweetsToggle}} <div class="control-group"> <label class="control-label txt-mute">{{_i}}retweets{{/i}}</label> <div class="controls"> <select class="js-retweets" data-title="retweets"> {{#retweetOptions}} <option value="{{value}}">{{title}}</option> {{/retweetOptions}} </select> </div> </div> {{/withRetweetsToggle}} </div>',
    e.exports["menus/search_engagement_form.mustache"] = '<div class="padding-hl control-m"> <div class="control-group"> <label> <div class="control-label">{{_i}}At least{{/i}}</div> <div class="controls"> <input type="text" data-title="retweets" class="js-min-retweets frm-input-3-digit" value="{{minRetweets}}" inputmode="numeric" /> <i class="icon icon-small-valigned icon-retweet"></i> {{_i}}retweets{{/i}} </div> </label> <label> <div class="control-label">{{_i}}at least{{/i}}</div> <div class="controls"> <input type="text" data-title="favorites" class="js-min-favorites frm-input-3-digit" value="{{minFavorites}}" inputmode="numeric" /> <i class="icon icon-small-valigned icon-favorite"></i> {{#decider.hearts_and_likes2}}{{_i}}likes{{/i}}{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}{{_i}}favorites{{/i}}{{/decider.hearts_and_likes2}} </div> </label> <label> <div class="control-label">{{_i}}and at least{{/i}}</div> <div class="controls"> <input type="text" data-title="replies" class="js-min-replies frm-input-3-digit" value="{{minReplies}}" inputmode="numeric" /> <i class="icon icon-small-valigned icon-mention"></i> {{_i}}replies{{/i}} </div> </label> </div> </div>',
    e.exports["menus/search_location_form.mustache"] = '<div class="padding-hl control-s l-fullheight"> <div class="control-group map-group l-threequarterheight"> <div id="mapbox-map-{{identity}}" class="js-map-location l-fullheight"></div> </div> <div class="control-group radius-group l-quarterheight"> <label class="control-label txt-mute">{{_i}}Radius{{/i}}</label> <div class="controls"> <select class="js-radius" data-title="radius"> {{#radiusOptions}} <option value="{{value}}" {{#selected}} selected {{/selected}}>{{title}}</option> {{/radiusOptions}} </select> </div> </div> </div>',
    e.exports["menus/search_user_form.mustache"] = '<div class="padding-hl control-s"> <div class="control-group"> <label class="control-label txt-mute">{{_i}}By{{/i}}</label> <div class="controls"> <select class="js-tweets-from" data-title="tweets_from"> {{#tweetsFromOptions}} <option value="{{value}}">{{title}}</option> {{/tweetsFromOptions}} </select> </div> <div class="controls"> {{#tweetsFromUser}} {{>search_input}} {{/tweetsFromUser}} {{#tweetsFromList}} {{>search_input}} {{/tweetsFromList}} <select class="js-tweets-from-me margin-txs" data-title="from_me"> {{#myAccounts}} <option value="{{value}}" {{#isDefault}}selected="selected"{{/isDefault}}>{{title}}</option> {{/myAccounts}} </select> </div> </div> <div class="control-group"> <label class="control-label txt-mute">{{_i}}mentioning{{/i}}</label> <div class="controls"> <select class="js-mentioning" data-title="mentioning"> {{#mentioningOptions}} <option value="{{value}}">{{title}}</option> {{/mentioningOptions}} </select> </div> <div class="controls"> {{#mentioningUser}} {{>search_input}} {{/mentioningUser}} <select class="js-mentioning-me margin-txs" data-title="mentioning_me"> {{#myAccounts}} <option value="{{value}}" {{#isDefault}}selected="selected"{{/isDefault}}>{{title}}</option> {{/myAccounts}} </select> </div> </div> </div>',
    e.exports["menus/toggle_button.mustache"] = '<div class="button-group button-group-toggle"> {{#buttons}} <button class="js-toggle-button btn {{class}} {{#selected}}is-selected{{/selected}}" data-clickevent="{{clickEvent}}"><span>{{label}}</span></button> {{/buttons}} </div>',
    e.exports["menus/topbar_menu.mustache"] = '<ul> <li><b class="non-selectable-item txt-ellipsis"> @{{account}} </b></li> <li class="drp-h-divider"></li> {{^isTouchDevice}} <li class="is-selectable"> <a href="#" data-action="keyboardShortcutList">{{_i}}Keyboard shortcuts{{/i}}</a> </li> {{/isTouchDevice}} <li class="is-selectable"> <a href="#" data-action="globalSettings">{{_i}}Settings{{/i}}</a> </li> <li class="drp-h-divider"></li> <li class="is-selectable"> <a href="#" data-action="signOut">{{_i}}Log out{{/i}}</a> </li> </ul>',
    e.exports["menus/user_results.mustache"] = '<div class="js-dropdown-container scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt column-scroller column-background-fill margin-bs"> {{#users}} {{<stream_item}} {{$content}} {{> account_summary }} {{/content}} {{/stream_item}} {{/users}} </div>',
    e.exports["modal.mustache"] = '<div class="js-modal-panel mdl s-tall-fixed is-inverted-dark {{$modal_class}}{{/modal_class}} {{#loading}}is-loading{{/loading}}"> {{#loading}} <img src="{{#asset}}/web/assets/global/backgrounds/spinner_large_white.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}" /> {{/loading}}  {{^loading}} {{> modal_header}} <div class="mdl-inner"> <div class="mdl-content js-mdl-content {{^no_horiz_flow_container}}horizontal-flow-container{{/no_horiz_flow_container}}"> {{$content}}default content{{/content}} </div> <footer class="mdl-buttonbar"> {{$footer_content}}{{/footer_content}} </footer> </div> {{/loading}} </div>',
    e.exports["modal/modal_context.mustache"] = '<div class="js-modal-context {{#withClickTrap}}js-click-trap{{/withClickTrap}} {{#withNonDismissible}}js-non-dismissible{{/withNonDismissible}} overlay overlay-super scroll-v"> <div class="js-modal-inner mdl s-fluid"> {{#withHeader}} {{> modal/modal_context_header}} {{/withHeader}}  {{#withDragHandle}} <a href="#" class="js-drag-handle mdl-drag-handle"><i class="sprite sprite-drag"></i></a> {{/withDragHandle}}  {{#withDismissButton}} <a href="#" class="js-dismiss mdl-dismiss link-normal-dark"><i class="icon icon-close"></i></a> {{/withDismissButton}}  <div class="js-modal-content modal-content {{#withBorder}}modal-content-with-border{{/withBorder}} position-rel {{#withChrome}}padding-hxl{{/withChrome}}"></div>  {{#withFooter}} {{> modal/modal_context_footer}} {{/withFooter}} </div> </div>',
    e.exports["modal/modal_context_footer.mustache"] = '<footer class="padding-axl no-collapse {{#withCenteredFooter}}txt-center{{/withCenteredFooter}}"> {{#withDoneButton}} <button class="js-dismiss btn btn-positive"> <i class="icon icon-check icon-small padding-rs"></i> <span class="label">{{_i}}Done{{/i}}</span> </button> {{/withDoneButton}} </footer>',
    e.exports["modal/modal_context_header.mustache"] = '<header class="padding-axl no-collapse txt-seamful-black"> {{#title}} <h3 class="mdl-header-title">{{title}}</h3> {{/title}} </header>',
    e.exports["modal_header.mustache"] = '<header class="js-mdl-header mdl-header"> <h3 class="mdl-header-title js-header-title"></h3> <a href="#" class="mdl-drag-handle js-drag-handle"><i class="sprite sprite-drag"></i></a> <a href="#" class="mdl-dismiss js-dismiss link-normal-dark"><i class="{{$close_class}}icon icon-close{{/close_class}}"></i></a> </header>',
    e.exports["open_column_footer.mustache"] = '<button class="js-back btn btn-back">&larr; {{_i}}Back{{/i}}</button> <span class="pull-right"> <button class="js-add-column btn btn-positive"><i class="add"></i>{{_i}}Add Column{{/i}}</button> </span>',
    e.exports["open_column_home.mustache"] = '<ul class="lst-launcher cf"> {{#options}} <li class="js-item-launch {{class}} {{#isDisabled}}is-disabled{{/isDisabled}} {{#isHidden}}is-hidden{{/isHidden}}" data-type="{{type}}"> <a href="#" class="btn" {{#isDisabled}}disabled="disabled"{{/isDisabled}}> <i class="pull-left margin-rs column-type-icon icon {{columnIconClass}}"></i> <span>{{title}}</span> {{#attribution}} <span class="attribution">{{attribution}}</span> {{/attribution}} </a> </li> {{/options}} </ul>',
    e.exports["open_column_list_group.mustache"] = '{{#title}}<h3 class="js-title">{{title}}</h3>{{/title}} <ul class="js-list-container {{className}}"></ul>',
    e.exports["open_column_list_multi_group.mustache"] = '<div class="lst-group"> {{#groups}} {{>open_column_list_group}} {{/groups}} </div>',
    e.exports["open_column_list_with_header.mustache"] = '<div class="lst-group"> {{>open_column_list_group}} </div>',
    e.exports["open_column_modal.mustache"] = '<div class="js-modal-panel mdl s-tall-fixed "> {{> modal_header}} <div class="mdl-inner"> <div class="mdl-content js-mdl-content"> </div> <footer class="mdl-buttonbar"> </footer> </div> </div>',
    e.exports["open_column_shared_help.mustache"] = '<div class="l-table"> <div class="l-cell padding-axl font-size-largest"> Someone shared a column with you. You can add a copy of this column to your TweetDeck. </div> </div>',
    e.exports["open_column_temp_help.mustache"] = '<div class="l-table"> <div class="l-cell mdl-placeholder"> <p>{{helpText}}</p> </div> </div>',
    e.exports["open_split_menu.mustache"] = '<div class="l-column mdl-column mdl-column-med"> <div class="js-left-pinned pin-top"></div> <div class="l-column-scrollv scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt js-left-column"></div> </div> <div class="l-column mdl-column mdl-column-med mdl-column-rhs"> <div class="js-right-column scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt l-fullheight"></div> </div>',
    e.exports["overlay.mustache"] = '<div class="overlay is-hidden"></div>',
    e.exports["participants_tooltip.mustache"] = '<div class="js-tooltip margin-b--5 padding-h--5"> {{#title}}<b class="txt-base-medium block padding-v--10 conversation-tooltip-title">{{{title}}}</b>{{/title}} {{#participants}} <p class="txt-left txt-ellipsis padding-v--3"> <b class="txt-base-medium">{{name}}</b> <span class="txt-base-small">@{{screenName}}</span> </p> {{/participants}} </div>',
    e.exports["popover.mustache"] = '<div class="js-popover popover is-hidden is-inverted-dark"> <div class="caret"> <span class="caret-outer"></span> <span class="caret-inner"></span> </div> <div class="js-popover-content scroll-none"></div> </div>',
    e.exports["profile/profile_full.mustache"] = '<div class="media-item profile-bg-strip" style="background-image: url({{profileBannerURL}})"></div>  <div class="profile-full padding-hxl padding-bl"> <div class="profile-full-header cf pin-top-only"> <a class="prf-img profile-full-avatar obj-left link-clean" href="{{getProfileURL}}" target="_blank" data-user-name="{{screenName}}" rel="user"> <img src="{{biggerProfileImageURL}}" class="avatar size48"> </a> <div class="nbfc"> <div class="profile-follow-button"> {{>follow_button}} </div> </div> </div>  <div class="{{#isBadged}}fullname-badged-container{{/isBadged}}"> <a href="{{getProfileURL}}" class="account-link link-complex" target="_blank" data-user-name="{{screenName}}" rel="user"> <b class="fullname txt-ellipsis inline-block link-complex-target {{#isBadged}}fullname-badged{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}} position-rel txt-large"> {{name}} </b></a> </div> <div class=" txt-r-dark-gray"> <a href="{{getProfileURL}}" class="account-link link-complex" target="_blank" data-user-name="{{screenName}}" rel="user"> <span class="username txt-mute">@{{screenName}} {{#isProtected}}<i class="icon icon-protected icon-match-context icon-tt"></i>{{/isProtected}}</span> </a> </div>  <p class="profile-bio padding-tm padding-bs">{{{bio}}}</p>  <div class="padding-vm"> <a href="{{getFriendURL}}" rel="url" target="_blank" class="link-hover-override txt-uppercase txt-small txt-mute inline-block margin-rm" data-scribe-element="show_following">{{_i}}Following{{/i}}&nbsp;<b class="link-hover-target profile-full-bio-count">{{prettyFriendsCount}}</b></a> <a href="{{getFollowerURL}}" rel="url" target="_blank" class="link-hover-override txt-uppercase txt-small txt-mute inline-block" data-scribe-element="show_followers">{{_i}}Followers{{/i}}&nbsp;<b class="link-hover-target profile-full-bio-count">{{prettyFollowersCount}}</b></a> </div>  {{#location}}<p class="profile-location txt-ellipsis padding-ts"><i class="profile-icon icon icon-small-valigned icon-geo icon-tt"></i>&nbsp;{{location}}</p>{{/location}} {{#getDisplayURL}}<p class="profile-url txt-ellipsis padding-ts"><i class="profile-icon icon icon-small-valigned icon-link icon-tt"></i>&nbsp;<a href="{{url}}" class="prf-siteurl js-action-url" target="_blank" data-scribe-element="website">{{getDisplayURL}}</a></p> <p class="js-show-tip profile-joined-date padding-ts inline-block" data-original-title="{{prettyTimeDateJoinedDate}}"><i class="profile-icon icon icon-small-valigned icon-schedule icon-tt" ></i>&nbsp;{{_i}}Joined{{/i}}&nbsp;{{prettyJoinedDate}}</p>{{/getDisplayURL}} <p class="profile-media padding-ts"><i class="profile-icon icon icon-small-valigned icon-camera icon-tt"></i>&nbsp;<a href="{{getMediaURL}}" rel="search" data-search-term="{{getMediaSearchQuery}}" data-scribe-element="user_media">{{_i}}Photos &amp; videos{{/i}}</a></p> </div>',
    e.exports["profile_card_bio.mustache"] = '<div class="prf-bio"> <p class="bio">{{{bio}}}</p> </div>',
    e.exports["profile_card_stats.mustache"] = '<div class="prf-meta cf"> <div class="prf-follow-state padding-al"> {{> follow_button}} </div> {{#profile}} <ul class="prf-stats"> <li> <a href="https://twitter.com/{{screenName}}" data-action="open" data-type="tweets" class="js-action-url" target="_blank"> {{_i}}Tweets{{/i}} <strong>{{prettyStatusesCount}}</strong> </a> </li> <li> <a href="{{getFriendURL}}" class="js-action-url" target="_blank"> {{_i}}Following{{/i}} <strong>{{prettyFriendsCount}}</strong> </a> </li> <li> <a href="{{getFollowerURL}}" class="js-action-url" target="_blank"> {{_i}}Followers{{/i}} <strong>{{prettyFollowersCount}}</strong> </a> </li> <li> <a href="{{getListedURL}}" class="js-action-url" target="_blank"> {{_i}}Listed{{/i}} <strong>{{prettyListedCount}}</strong> </a> </li> </ul> {{/profile}} </div>',
    e.exports["report_flow.mustache"] = '<iframe class="report-flow" src="{{url}}"></iframe>',
    e.exports["report_message_options.mustache"] = '{{^showResult}} <p>{{_i}}Taking action here will permanently delete this message from @{{screenName}}.{{/i}}</p> <ul class="margin-lxl margin-txl"> <li class="margin-bm"><a href="#" class="js-report-spam">{{_i}}Report spam{{/i}}</a></li> <li class="margin-bm"><a href="#" class="js-mark-abusive">{{_i}}Mark as abusive{{/i}}</a></li> <ul> {{/showResult}}  {{#showResult}} <p class="padding-bl">{{_i}}This message has been deleted.{{/i}}</p> <a href="https://support.twitter.com/articles/15794-online-abuse" target="_blank" rel="url"> {{_i}}Read more information about how to handle abusive users.{{/i}} </a> {{/showResult}}',
    e.exports["report_tweet_options.mustache"] = '<fieldset> <legend>{{_i}}Report Tweet options{{/i}}</legend>  <div class="padding-hl padding-tl"> <label class="radio margin-bl"> <input checked type="radio" name="report-options" value="spam" class="js-report-option"> <b class="txt-base-medium">{{_i}}Spam{{/i}}</b> <p>{{_i}}This Tweet may be spam or from a spam account{{/i}}</p> </label>  <label class="radio margin-bl"> <input type="radio" name="report-options" value="compromised" class="js-report-option"> <b class="txt-base-medium">{{_i}}Compromised{{/i}}</b> <p>{{_i}}This user may not be in control of their account{{/i}}</p> </label>  <label class="radio margin-bl"> <input type="radio" name="report-options" value="abusive" class="js-report-option"> <b class="txt-base-medium">{{_i}}Abusive{{/i}}</b> <p>{{_i}}This Tweet may be in violation of the <a href="https://support.twitter.com/articles/18311-the-twitter-rules" target="_blank">Twitter Rules</a>. In order to file a report, you must still choose and complete a form. Select this option to continue.{{/i}}</p> </label> </div> <div class="divider-bar"></div> <div class="padding-hl"> <label class="checkbox"> <input type="checkbox" name="report-block" value="block" class="js-report-block"> <b class="txt-base-medium">{{_i}}Block and unfollow{{/i}} @{{screenName}}</b> <p>Blocking will hide @{{screenName}} Tweets. Learn more about what <a href="https://support.twitter.com/articles/117063-blocking-people-on-twitter" target="_blank">blocking</a> means.</p> </label> </div>  </fieldset>  <div class="padding-vl padding-l--27"> <button class="js-report-submit btn btn-positive" disabled></i>{{_i}}Submit{{/i}}</button> </div>',
    e.exports["report_tweet_options_abusive.mustache"] = '<p>{{_i}}Please choose the topic that best defines your issue. Once you complete and the submit the form your report will be filed with Twitter.{{/i}}</p>  <ul class="margin-txl margin-lxl"> <li class="margin-bm"> <a href="https://support.twitter.com/forms/impersonation?reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="impersonation" class="abuse-link">Impersonation</a> </li> <li class="margin-bm"> <a href="https://support.twitter.com/forms/trademark?reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="trademarks" class="abuse-link">Trademarks</a> </li> <li class="margin-bm"> <a href="https://support.twitter.com/forms/abusiveuser?reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="harassment" class="abuse-link">Harassment</a> </li> <li class="margin-bm"> <a href="https://support.twitter.com/forms/general?subtopic=self_harm&amp;reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="report_self_harm" class="abuse-link">Report self harm</a> </li> <li class="margin-bm"> <a href="https://support.twitter.com/forms/ad?reported_username={{screenName}}&amp;reported_tweet_id={{tweetId}}" target="_blank" data-scribe="report_an_ad" class="abuse-link">Report an ad</a> </li> </ul>',
    e.exports["search/search_in_popover.mustache"] = '<!-- app search --> <form class="js-search-form app-search app-search-in-popover margin-al"> <label class="is-vishidden">{{_i}}Search{{/i}}</label> {{>search_input}} </form> <!-- typeahead --> {{>typeahead/typeahead_dropdown}} <!-- search results --> {{>search/search_results}}',
    e.exports["search/search_results.mustache"] = '<div class="js-search-results-container is-hidden"> {{<with_fixed_header_and_footer}}  {{$header}} {{>search/search_results_header}} {{/header}}  {{$body}} <div class="js-tweet-results app-search-tweet-results"></div> <div class="js-user-results is-hidden"></div> {{/body}}  {{$footer}} {{>search/search_results_footer}} {{/footer}}  {{/with_fixed_header_and_footer}} </div>',
    e.exports["search/search_results_footer.mustache"] = '<div class="js-search-results-footer"> <button class="js-add-column btn btn-positive obj-center padding-vl">{{_i}}Add Column{{/i}}</button> </div>',
    e.exports["search/search_results_header.mustache"] = '<div class="js-search-results-header with-column-divider-bottom search-results {{#isTouchColumnOptions}}with-touch-txt-base{{/isTouchColumnOptions}}"> <div class="js-toggle padding-al"></div> <div class="js-search-filter js-accordion accordion accordion-divider-t"></div> </div>',
    e.exports["search_input.mustache"] = '<div class="js-search-input-control search-input-control {{searchInputControlClass}} {{#isControl}}controls{{/isControl}}"> <input type="text" class="{{searchInputClassName}} search-input" data-title="{{searchInputTitle}}" placeholder="{{searchInputPlaceholder}}" value="{{searchInputValue}}"> <a href="#" class="js-perform-search txt-base-medium search-input-perform-search" tabindex="-1"> <i class="icon icon-search icon-small"></i> </a> <a href="#" class="js-clear-search txt-base-medium search-input-clear-search" tabindex="-1"> <i class="icon icon-close icon-small"></i> </a> <span class="js-spinner txt-base-medium spinner-small spinner-small-trans search-input-spinner"></span> </div>',
    e.exports["search_no_tweets_placeholder.mustache"] = '<div class="list-placeholder l-table pin-all"> <div class="l-cell"> {{#isDropTarget}} <p><i class="icon icon-move icon-tb"></i> <span>{{_i}}Drag Tweets into this collection{{/i}}</span></p> {{/isDropTarget}} {{^isDropTarget}} <p>{{_i}}No recent Tweets.{{/i}}<br />{{_i}}New Tweets will appear here.{{/i}}</p> {{/isDropTarget}} </div>  {{#withAddByUrl}} <p class="pin-bottom txt-center">{{_i}}Or add by URL{{/i}}</p> {{/withAddByUrl}} </div>',
    e.exports["search_no_users_placeholder.mustache"] = '<div class="list-placeholder"> <p>{{_i}}No users found.{{/i}}</p> </div>',
    e.exports["settings/account_settings.mustache"] = '<div class="js-accounts-column-holder is-inverted-dark column-holder txt-base-medium"> <div class="js-account-manager-container column-panel border-box bg-r-light-gray">  <header class="drawer-header padding-lxl"> <h1 class="column-title"> <span class="drawer-header-title block drawer-column-header-title">{{_i}}Twitter accounts{{/i}}</span> </h1> <a class="js-drawer-close column-close-link txt-r-dark-gray" href="#" data-action="options"> <i class="icon icon-close icon-center-24"></i> </a> </header>  <div class="js-account-settings-scroll-container drawer-content pin-all scroll-v"> <div class="js-account-settings-accounts accordion"></div> <div class="js-account-invited-accounts"></div> <div class="js-add-account padding-lxl padding-rxl padding-bxl padding-tn margin-txl position-rel"></div> </div> </div>  <div class="js-contributor-manager-container column-panel border-box bg-r-light-gray"> <div class="drawer-header padding-lxl"> <h1 class="js-contributor-manager-back is-actionable txt-base-extra-large pull-left txt-weight-normal"> <span class="drawer-header-title block drawer-column-header-title"> <i class="icon icon-arrow-l icon-tt"></i> {{_i}}Manage team{{/i}} </span> </h1> <a class="js-drawer-close column-close-link txt-r-dark-gray" href="#"> <i class="icon icon-close icon-center-24"></i> </a> </div> <div class="js-contributor-manager contributor-manager drawer-content pin-all scroll-v"></div> </div> </div>',
    e.exports["settings/account_settings_add_account.mustache"] = '{{^decider.add_account_via_xauth_2}} <button class="js-account-action btn padding-vm btn-positive full-width btn-extra-height" data-action="add" data-service="twitter">{{_i}}Add another Twitter account{{/i}}</button> {{/decider.add_account_via_xauth_2}} {{#decider.add_account_via_xauth_2}} {{> login/twitter_account_add_account_form }} {{/decider.add_account_via_xauth_2}}',
    e.exports["settings/account_settings_detail.mustache"] = '<div class="padding-tm padding-hxl"> <div class="cf margin-bxl"> <ul class="account-stats"> <li class="pull-left margin-rxl"> <a class="js-account-profile-url txt-r-dark-gray" href="#" data-screen-name="{{screenName}}" rel="tweets"> <span class="txt-uppercase txt-base-smallest">{{_i}}Tweets{{/i}}</span> <span class="js-account-tweets-count block txt-base-largest txt-r-text-link" data-max-digits="4">0</span> </a> </li> <li class="pull-left margin-rxl"> <a class="js-account-friend-url txt-r-dark-gray" href="#" target="_blank"> <span class="txt-uppercase txt-base-smallest">{{_i}}Following{{/i}}</span> <span class="js-account-following-count block txt-base-largest txt-r-text-link" data-max-digits="4">0</span> </a> </li> <li class="pull-left"> <a class="js-account-follower-url txt-r-dark-gray" href="#" target="_blank"> <span class="txt-uppercase txt-base-smallest">{{_i}}Followers{{/i}}</span> <span class="js-account-followers-count block txt-base-largest txt-r-text-link" data-max-digits="4">0</span> </a> </li> </ul> </div>  {{^isInvited}} <a class="link-complex txt-medium block cf" data-user-name="{{screenName}}" href="#" rel="user"> <div class="obj-left"> <i class="icon icon-medium icon-user pull-right"></i> </div> <div class="link-complex-target txt-base-largest nbfcm padding-ts">{{_i}}Profile{{/i}}</div> </a>  <a class="js-account-action link-complex txt-medium margin-vm block cf" data-action="showLists" data-user-name="{{screenName}}" href="#"> <div class="obj-left"> <i class="icon icon-medium icon-list pull-right"></i> </div> <div class="link-complex-target txt-base-largest nbfcm padding-ts">{{_i}}Lists{{/i}}</div> </a>  <a class="js-account-action link-complex txt-medium margin-vm block cf" data-action="showCustomTimelines" data-user-name="{{screenName}}" href="#"> <div class="obj-left"> <i class="icon icon-medium icon-custom-timeline pull-right"></i> </div> <div class="link-complex-target txt-base-largest nbfcm padding-ts">{{_i}}Collections{{/i}}</div> </a> {{/isInvited}}  {{^isInvited}}{{#withManageTeam}} <div class="js-manage-team-disabled txt-medium txt-r-dark-gray margin-vm cf"> <div class="obj-left"> <i class="icon icon-medium icon-user-team-mgr pull-right"></i> </div> <div class="nbfc"> <p class="nbfc txt-base-largest padding-txs">{{_i}}Team @{{screenName}}{{/i}}</p> <p class="nbfc txt-base-small padding-ts"> {{_i}}You\'re on the team! Only admins of this account can manage the team.{{/i}} <a href="https://support.twitter.com/articles/20171753-using-team-accounts-on-tweetdeck" target="_blank" rel="url">{{_i}}Learn more{{/i}}</a>. </p> </div> </div> <a class="js-account-action js-manage-team link-complex txt-medium margin-vm cf is-hidden" href="#" data-action="manageContributors" data-account-key="{{accountKey}}"> <div class="obj-left"> <i class="icon icon-medium icon-user-team-mgr pull-right"></i> </div> <div class="nbfc"> <p class="nbfc link-complex-target txt-base-largest padding-txs">{{_i}}Team @{{screenName}}{{/i}}</p> <p class="nbfc txt-r-dark-gray txt-base-small padding-ts"> {{_i}}Let colleagues use Twitter as @{{screenName}} without sharing your password{{/i}} </p> </div> </a> {{/withManageTeam}}{{/isInvited}}  {{^isInvited}} <a class="js-account-action link-complex txt-medium margin-vm cf" href="#" data-action="setAccountSafeguard" data-account-key="{{accountKey}}"> <div class="obj-left"> <div class="toggle-switch" style="width:24px; margin-top:4px;"> <input id="account-safeguard-{{accountKey}}" type="checkbox" class="js-account-safeguard-switch toggle-switch-input" {{#isSafeguarded}}checked{{/isSafeguarded}} /> <label for="account-safeguard-{{accountKey}}" class="toggle-switch-label"></label> </div> </div> <div class="nbfc"> <p class="nbfc link-complex-target txt-base-largest padding-txs link-complex-target">{{_i}}Confirmation step{{/i}}</p> <p class="nbfc txt-r-dark-gray txt-base-small padding-ts">{{_i}}Add a confirmation step before Tweeting as{{/i}} @{{screenName}}</p> </div> </a> {{/isInvited}}  {{^isInvited}} {{#isDefault}} <div class="margin-bs padding-txxl txt-center txt-bold is-active"> <i class="icon icon-check icon-tb"></i> {{_i}}Default account{{/i}} </div> {{/isDefault}} {{^isDefault}} <button class="js-account-action btn btn-light-gray full-width margin-tl btn-extra-height" data-action="setDefault" data-account-key="{{accountKey}}"> {{_i}}Set as default account{{/i}} </button> {{/isDefault}} {{/isInvited}} </div>  {{^isInvited}} <div class="account-remove padding-hxl"> <button {{#notRemovable}}title="{{notRemovableMessage}}"{{/notRemovable}} class="js-account-action js-show-tip btn btn-negative full-width margin-tm btn-extra-height {{#notRemovable}}is-disabled{{/notRemovable}}" data-action="removeCheck" data-account-key="{{accountKey}}"> <i class="icon icon-close"></i> <span class="label">{{_i}}Remove account{{/i}}</span> </button> </div>  <div class="js-account-remove-check account-remove-check cf margin-tm padding-axl bg-r-faded-gray txt-center"> <div class="account-remove-check-message padding-bxl"> Remove @{{screenName}}? </div> <button class="js-account-action btn btn-negative btn-extra-height share-width pull-left" data-action="remove" data-account-key="{{accountKey}}"> <i class="icon icon-close"></i> <span class="label">{{_i}}Remove{{/i}}</span> </button> <button class="js-account-action cf btn btn-light-gray btn-extra-height share-width pull-right" data-action="removeCancel" data-account-key="{{accountKey}}"> {{_i}}Cancel{{/i}} </button> </div> {{/isInvited}} {{#isInvited}} <div class="account-invited cf margin-tm padding-hxl bg-r-faded-gray txt-center"> <div class="account-invited-message padding-bl"> <div class="padding-bl"> {{_i}}You have been invited to contribute to the @{{screenName}} team.{{/i}} </div> </div> <div class="cf"> <button class="js-account-action btn btn-positive btn-extra-height share-width pull-left" data-action="inviteAccept" data-account-key="{{accountKey}}"> <i class="icon icon-check"></i> {{_i}}Accept{{/i}} </button> <button class="js-account-action btn btn-negative btn-extra-height share-width pull-right" data-action="inviteCancel" data-account-key="{{accountKey}}"> <i class="icon icon-close"></i> <span class="label">{{_i}}Decline{{/i}}</span> </button> </div> <div class="margin-txl"> <a href="https://support.twitter.com/articles/20171753-share-your-twitter-account-without-sharing-passwords" target="_blank"> {{_i}}Read more about teams.{{/i}} </a> </div> </div> {{/isInvited}}',
    e.exports["settings/account_settings_invited_row.mustache"] = '<div class="js-account-settings-invited-row padding-vxl cf is-highlighted account-settings-row position-rel" data-account-key="{{accountKey}}" {{#isAdmin}}data-user-is-admin{{/isAdmin}} data-user-id="{{userId}}"> <div class="position-rel cf padding-hxl"> <div class="js-account-settings-summary nbfc"> {{>account_settings_account_summary}} </div> </div>  <div class="padding-an"> {{>settings/account_settings_detail}} </div> </div>',
    e.exports["settings/account_settings_row.mustache"] = '<div class="js-accordion-item js-account-settings-row padding-vxl cf account-row-separator-b {{#isExpanded}}is-expanded{{/isExpanded}} {{#isActive}}is-active{{/isActive}} account-settings-row position-rel" data-account-key="{{accountKey}}" data-user-id="{{userId}}"> <div class="js-accordion-toggle-view position-rel cf padding-hxl is-actionable"> <div class="obj-right padding-tm"> <i class="icon icon-arrow-u txt-r-dark-gray"></i> <i class="icon icon-arrow-d txt-r-dark-gray"></i> </div> <div class="js-account-settings-summary nbfc"> {{>account_settings_account_summary}} </div> </div>  <div class="js-accordion-panel js-account-settings-detail accordion-panel padding-an"> {{>settings/account_settings_detail}} </div> </div>',
    e.exports["settings/global_setting_filter.mustache"] = '{{#decider.mute_native}} <div class="txt-size--12 padding-t--6"> <i class="icon icon-info icon-large obj-left txt-r-medium-gray"></i> <p class="nbfc margin-t--2"> {{_i}}User mutes now work across TweetDeck & Twitter. To review your list of user mutes visit <a href="https://twitter.com/settings/muted" target="_blank" rel="url">twitter.com/settings/muted</a>.{{/i}} </p> </div> <div class="divider-bar"></div> {{/decider.mute_native}}  <fieldset id="global_filter_settings"> <legend class="frm-legend">{{_i}}Mute Settings{{/i}}</legend>  <div class="control-group"> <label for="filter-types" class="control-label">{{_i}}Mute{{/i}}</label> <div class="controls"> <select name="filter" id="filter-types"> <option value="phrase">{{_i}}Text content{{/i}}</option> {{^decider.mute_native}} <option value="sender">{{_i}}User{{/i}}</option> {{/decider.mute_native}} <option value="source">{{_i}}Source{{/i}}</option> </select> </div> </div>  <div class="control-group"> <label for="filter-input" class="control-label">{{_i}}Using{{/i}}</label> <div class="controls"> <input id="filter-input" name="filter-input" size="30" type="text"> </div> </div>  <div class="control-group"> <div class="controls"> <input type="button" name="add-filter" value="{{_i}}Mute{{/i}}"  id="add-filter" class="btn" /> </div> </div>  <ul id="filter-results"></ul>  </fieldset>',
    e.exports["settings/global_setting_filter_row.mustache"] = '<li class="list-filter cf"> {{_i}}Muting {{getDisplayType}} {{>text/global_filter_value}}{{/i}} <input type="button" name="remove-filter" value="{{_i}}Remove{{/i}}" data-id="{{id}}" class="js-remove-filter small btn btn-negative"> </li>',
    e.exports["settings/global_setting_general.mustache"] = '<fieldset id="general_settings"> <legend>{{_i}}General Settings{{/i}}</legend>  <div class="control-group"> <div class="toggle-switch js-streaming-form"> <input id="streaming-updates" type="checkbox" class="toggle-switch-input" /> <label for="streaming-updates" class="toggle-switch-label"> <span class="toggle-switch-label-text">{{_i}}Stream Tweets in realtime{{/i}}</span> </label> </div>  <div class="toggle-switch js-check-updates-form"> <input id="check-for-updates" type="checkbox" class="toggle-switch-input" /> <label for="check-for-updates" class="toggle-switch-label"> <span class="toggle-switch-label-text">{{_i}}Check for application updates{{/i}}</span> </label> </div>  <div class="toggle-switch js-show-startup-notifications"> <input id="show-startup-notifications" type="checkbox" class="toggle-switch-input" /> <label for="show-startup-notifications" class="toggle-switch-label"> <span class="toggle-switch-label-text">{{_i}}Show notifications on startup{{/i}}</span> </label> </div>  <div class="toggle-switch js-display-sensitive-media"> <input id="display-sensitive-media" type="checkbox" class="toggle-switch-input" /> <label for="display-sensitive-media" class="toggle-switch-label"> <span class="toggle-switch-label-text">{{_i}}Display media that may contain sensitive content{{/i}}</span> </label> </div>  <div class="toggle-switch js-minimize-to-tray"> <input id="minimize-to-tray" type="checkbox" class="toggle-switch-input" /> <label for="minimize-to-tray" class="toggle-switch-label"> <span class="toggle-switch-label-text">{{_i}}Minimize to tray on close{{/i}}</span> </label> </div>  <div class="divider-bar"></div>  <div class="cf"> <div class="obj-left"> <label class="fixed-width-label txt-uppercase touch-larger-label"><b>{{_i}}Theme{{/i}}</b></label> <label class="fixed-width-label radio"> <input type="radio" class="js-theme-radio touch-larger-label" name="theme" value="dark"> {{_i}}Dark{{/i}} </label> <label class="fixed-width-label radio"> <input type="radio" class="js-theme-radio touch-larger-label" name="theme" value="light"> {{_i}}Light{{/i}} </label> </div> <div class="obj-left"> <label class="fixed-width-label txt-uppercase touch-larger-label"><b>{{_i}}Columns{{/i}}</b></label> <label class="fixed-width-label radio"> <input type="radio" class="js-column-size-radio touch-larger-label" name="column-size" value="narrow"> {{_i}}Narrow{{/i}} </label> <label class="fixed-width-label radio"> <input type="radio" class="js-column-size-radio touch-larger-label" name="column-size" value="medium"> {{_i}}Medium{{/i}} </label> <label class="fixed-width-label radio"> <input type="radio" class="js-column-size-radio touch-larger-label" name="column-size" value="wide"> {{_i}}Wide{{/i}} </label> </div> <div class="obj-left"> <label class="fixed-width-label txt-uppercase touch-larger-label"><b>{{_i}}Font size{{/i}}</b></label> <label class="txt-base-smallest fixed-width-label radio"> <input type="radio" class="js-font-size-radio" name="font-size" value="smallest"> {{_i}}Smallest{{/i}} </label> <label class="txt-base-small fixed-width-label radio"> <input type="radio" class="js-font-size-radio" name="font-size" value="small"> {{_i}}Small{{/i}} </label> <label class="txt-base-medium fixed-width-label radio"> <input type="radio" class="js-font-size-radio" name="font-size" value="medium"> {{_i}}Medium{{/i}} </label> <label class="txt-base-large fixed-width-label radio"> <input type="radio" class="js-font-size-radio" name="font-size" value="large"> {{_i}}Large{{/i}} </label> <label class="txt-base-largest fixed-width-label radio"> <input type="radio" class="js-font-size-radio" name="font-size" value="largest"> {{_i}}Largest{{/i}} </label> </div> </div> </div>  <div class="mdl-links"> {{> app_links}} </div> </fieldset>',
    e.exports["settings/global_setting_services.mustache"] = '<!-- Services --> <fieldset id="services_settings" > <legend>{{_i}}Services Settings{{/i}}</legend>  <div id="streaming-form" class="control-group"> <label for="link-shortening" class="control-label">{{_i}}Link Shortening{{/i}}</label> <div class="controls"> <select name="link-shortening" id="link-shortening"> <option value="link-twitter">Twitter</option> <option value="link-bitly">Bit.ly</option> </select> </div> </div>  <div id="bitly-form"> <div class="control-group"> <label for="bitly-email" class="control-label">{{_i}}Bit.ly Username{{/i}}</label> <div class="controls"> <input id="bitly-email" name="bitly-email" size="30" type="text"> </div> </div> <div class="control-group"> <label for="bitly-key" class="control-label">{{_i}}Bit.ly API Key{{/i}}</label> <div class="controls"> <input id="bitly-key" name="bitly-key" size="40" type="text"> </div> </div> </div>  </fieldset>',
    e.exports["settings/global_settings_modal.mustache"] = '<div class="l-column mdl-column mdl-column-sml"> <div class="l-column-scrollv scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt "> <ul class="lst-group js-setting-list"> {{#tabs}} {{> list_module_list_item}} {{/tabs}} </ul> </div> </div> <div class="l-column mdl-column mdl-column-lrg"> <div class="l-column-scrollv scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt mdl-col-settings"> <form action="#" id="global-settings" accept-charset="utf-8" class="frm"></form> </div> </div>',
    e.exports["short_modal.mustache"] = '<div class="js-modal-panel mdl s-short is-inverted-dark"> {{> modal_header}} <div class="mdl-inner"> <div class="mdl-content js-mdl-content horizontal-flow-container"> {{{content}}} </div> <footer class="{{^centeredFooter}}mdl-buttonbar{{/centeredFooter}}{{#centeredFooter}}padding-vxl txt-center{{/centeredFooter}}"> {{#hasDoneButton}} <button class="js-dismiss btn btn-positive"> <i class="icon icon-check icon-small padding-rs"></i> <span class="label">{{_i}}Done{{/i}}</span> </button> {{/hasDoneButton}} </footer> </div> </div>',
    e.exports["spinner.mustache"] = '<div class="disp-table"> <div class="disp-cell"> <div class="spinner"></div> </div> </div>',
    e.exports["spinner_large.mustache"] = '<div class="js-infinitespinner spinner-large"></div>',
    e.exports["spinner_large_white.mustache"] = '<div class="{{spinnerClasses}}"> <img src="{{#asset}}/web/assets/global/backgrounds/spinner_large_white.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}"/> </div>',
    e.exports["splash/whats_new.mustache"] = '<div class="release-notes-header nbfc"> <img class="release-notes-image pull-left" src="{{#asset}}/web/assets/logos/64.png{{/asset}}" alt="{{_i}}TweetDeck logo{{/i}}"> <h1 class="release-notes-header-title">{{_i}}Welcome to TweetDeck{{/i}}</h1> </div>  <div class="release-notes"> <div class="release-notes-section nbfc"> <img class="release-notes-image-bullet pull-left" src="{{#asset}}/web/assets/global/backgrounds/td_whatsnew_01.png{{/asset}}" alt="{{_i}}Create collections{{/i}}"> <h2>{{_i}}Create a custom Twitter experience{{/i}}</h2> <p>{{_i}}Organize and build collections, keep track of lists, searches, activity and more. Click the + in the sidebar.{{/i}}</p> </div>  <div class="release-notes-section nbfc"> <img class="release-notes-image-bullet pull-left" src="{{#asset}}/web/assets/global/backgrounds/td_whatsnew_02.png{{/asset}}" alt="{{_i}}Create filters{{/i}}"> <h2>{{_i}}Find exactly what you&rsquo;re looking for{{/i}}</h2> <p>{{_i}}Create searches to track topics, events and hashtags. Refine the results with filters at the top of each timeline.{{/i}}</p> </div>  <div class="release-notes-section margin-bn nbfc"> <img class="release-notes-image-bullet pull-left" src="{{#asset}}/web/assets/global/backgrounds/td_whatsnew_03.png{{/asset}}" alt="{{_i}}Multiple accounts{{/i}}"> <h2>{{_i}}Manage multiple accounts{{/i}}</h2> <p>{{_i}}Tweet, monitor and follow new accounts from all &mdash; or just one of your accounts. Add another account in <a href="#" data-action="openSettings"><i class="icon icon-user-switch icon-bot"></i> Accounts</a>.{{/i}}</p> </div> </div>  <button class="js-done btn btn-positive btn-extra-padding obj-center margin-tl"><i class="add"></i>{{_i}}Get started{{/i}}</button>',
    e.exports["startflow_wrapper.mustache"] = '<div class="startflow-background pin-all anim anim-slower anim-fade-in"></div>  <div class="js-startflow-chrome app-masthead anim anim-slow anim-delayed anim-fade-in {{#withLoading}}is-hidden{{/withLoading}}"> <div class="app-signin-wrap"> <i class="sprite sprite-logo"></i> </div> </div>  <div class="js-startflow-content startflow anim anim-slow anim-fade-in"> {{$content}}{{/content}} </div>  <div class="js-startflow-chrome txt-center privacy-info pin-bottom padding-v--6 anim anim-slow anim-delayed anim-fade-in {{#withLoading}}is-hidden{{/withLoading}}"> <p> {{> app_links}} </p> </div>',
    e.exports["status/conversation.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}is-actionable {{#unread}}is-unread {{/unread}} {{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail {{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}}  <div class="tweet tweet-message js-chirp">  <header class="tweet-header"> {{>status/conversation_timestamp}} {{#hasValidParticipant}} <div class="js-conversation-header"> {{> status/conversation_header }} </div> {{/hasValidParticipant}} </header>  <div class="l-table">  <div class="l-cell"> <div class="l-table"> <p class="l-cell tweet-body align-top" style="width:100%;"> {{#showSenderName}} {{#sender}} <span class="tweet-text txt-mute">{{sender.name}}: </span> {{/sender}} {{/showSenderName}} {{#htmlText}} <span class="js-tweet-text tweet-text with-linebreaks">{{{htmlText}}}</span> {{/htmlText}} {{#previewText}} <span class="js-tweet-text tweet-text">{{{previewText}}}</span> {{/previewText}} {{#attachmentOnly}} <em>Attachment: image</em> {{/attachmentOnly}} </p> {{#hasMedia}} <div class="l-cell align-top padding-t--3 padding-r--8"> {{#getMedia}} <div class="tweet-message-attachment position-rel"> <div class="js-media-image-link media-item {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}} {{#needsSecureUrl}}js-needs-secure-url{{/needsSecureUrl}} is-zoomable" {{#needsSecureUrl}}data-original-url="{{mediaPreviewSrc}}{{imageSrc}}"{{/needsSecureUrl}} {{^needsSecureUrl}}{{^imageSrc}}style="background-image:url({{mediaPreviewSrc}})"{{/imageSrc}}{{/needsSecureUrl}}> </div> </div> {{/getMedia}} </div> {{/hasMedia}} </div> </div> <div class="pull-right txt-right"> <i class="icon {{#replied}}icon-reply{{/replied}} txt-mute txt-base-medium"></i> </div> </div>  </div>  {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/conversation_failed_participants.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$content}} {{#failedParticipants}} {{#participant}} <a href="{{profileURL}}" rel="user" target="_blank">{{name}}</a> {{/participant}} {{^isLastItem}}and{{/isLastItem}} {{/failedParticipants}} {{_i}}could not be added{{/i}} {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/conversation_failed_participants_preview.mustache"] = '<span class="txt-mute"> {{_i}}Some users could not be added.{{/i}} </span>',
    e.exports["status/conversation_header.mustache"] = '<div class="account-link"> <div class="obj-left item-img tweet-img"> {{^withMultipleAvatars}} {{#avatars.0}} <a class="account-inline account-link txt-ellipsis link-complex" rel="user" href="{{profileURL}}"> <img class="tweet-avatar avatar pull-right" src="{{profileImageURL}}" width="48" height="48" alt="{{screenName}}\'s avatar"> </a> {{/avatars.0}} {{/withMultipleAvatars}} {{#withMultipleAvatars}} <div class="tweet-avatar media-grid-container multiple-avatar-grid"> <div class="{{avatarsClass}}"> {{#avatars}} <div class="media-image-container media-image-container-compact"> <div class="media-image block position-rel" style="background-image: url({{profileImageURL}});" ></div> </div> {{/avatars}} </div> </div> {{/withMultipleAvatars}} </div> <div class="nbfc"> {{#getConversationTitleInformation}} {{#name}} <b class="inline-block txt-ellipsis">{{{name}}}</b> {{/name}} {{^name}} {{#isOneToOne}} {{#participants.0}} <a class="account-inline account-link txt-ellipsis link-complex" rel="user" href="{{profileURL}}"> <b class="link-complex-target">{{name}}</b> <span class="attribution username txt-mute txt-small">@{{screenName}}</span> </a> {{/participants.0}} {{/isOneToOne}} {{#isThreeway}} <span class="account-inline txt-ellipsis"> {{#participants.0}} <a class="account-link" rel="user" href="{{profileURL}}"><b>{{name}}</b></a><b>, </b> {{/participants.0}} {{#participants.1}} <a class="account-link" rel="user" href="{{profileURL}}"><b>{{name}}</b></a> {{/participants.1}} </span> {{/isThreeway}} {{#isOneToMany}} {{#participants.0}} <div class="conversation-title-container"> <span class="conversation-title txt-ellipsis inline-block position-rel"><a class="txt-ellipsis account-link" rel="user" href="{{profileURL}}"><b>{{name}}</b></a> <b>+ {{numberOfOtherParticipants}}</b> </span> </div>  {{/participants.0}} {{/isOneToMany}} {{/name}} {{/getConversationTitleInformation}} </div> </div>',
    e.exports["status/conversation_join.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$stream_item_data}} data-key="{{conversation.id}}" {{/stream_item_data}}  {{$content}} <p class="margin-b--5"> {{#getParticipants}} {{#participant}} <a href="{{profileURL}}" rel="user" target="_blank"><img class="avatar size24" src="{{miniProfileImageURL}}" width="24" height="24" alt="{{name}} {{screenName}}" /></a> {{/participant}} {{#isEndOfRow}}<br />{{/isEndOfRow}} {{/getParticipants}} </p> <p class="margin-b--5"> {{_i}}There are{{/i}} <a href="#" rel="viewConversationParticipants">{{numberOfParticipants}} {{_i}}other people{{/i}}</a> {{_i}}in this group{{/i}} </p>  {{#sender}} <a href="{{profileURL}}" rel="user" target="_blank">{{name}}</a> {{/sender}}  {{_i}}added you{{/i}} {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/conversation_join_preview.mustache"] = '{{#chirp}} <span class="txt-mute"> {{sender.name}} {{_i}}added you{{/i}} </span> {{/chirp}}',
    e.exports["status/conversation_name_update.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$content}}  {{#isOwnChirp}} {{_i}}You{{/i}} {{/isOwnChirp}} {{^isOwnChirp}} <a class="txt-mute conversation-participants-name-list" href="{{sender.profileURL}}" rel="user" target="_blank">{{sender.name}}</a> {{/isOwnChirp}}  {{#sanitizedConversationName}} {{_i}}changed the group name to{{/i}} {{{sanitizedConversationName}}} {{/sanitizedConversationName}} {{^sanitizedConversationName}} {{_i}}removed the group name{{/i}} {{/sanitizedConversationName}}  {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/conversation_name_update_preview.mustache"] = '{{#chirp}} <span class="txt-mute"> {{#isOwnChirp}} {{_i}}You{{/i}} {{/isOwnChirp}} {{^isOwnChirp}} {{sender.name}} {{/isOwnChirp}}  {{#sanitizedConversationName}} {{_i}}changed the group name to{{/i}} {{{sanitizedConversationName}}} {{/sanitizedConversationName}} {{^sanitizedConversationName}} {{_i}}removed the group name{{/i}} {{/sanitizedConversationName}} </span> {{/chirp}}',
    e.exports["status/conversation_participants_join.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$content}} {{#isOwnChirp}} {{_i}}You{{/i}} {{/isOwnChirp}} {{^isOwnChirp}} {{#sender}} <a href="{{profileURL}}" rel="user" target="_blank">{{name}}</a> {{/sender}} {{/isOwnChirp}}  {{_i}}added{{/i}}  {{#addedParticipants}} <a class="txt-mute conversation-participants-name-list" href="{{profileURL}}" rel="user" target="_blank">{{name}}</a> {{/addedParticipants}} {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/conversation_participants_join_preview.mustache"] = '{{#chirp}} <span class="txt-mute"> {{#isOwnChirp}} {{_i}}You added{{/i}} {{/isOwnChirp}} {{^isOwnChirp}} {{sender.name}} {{_i}}added{{/i}} {{/isOwnChirp}}  <!-- one new participant --> {{^addedParticipants.1}} {{addedParticipants.0.name}} {{/addedParticipants.1}}  {{#addedParticipants.1}}  <!-- two new participants --> {{^addedParticipants.2}} {{addedParticipants.0.name}} {{_i}}&amp;{{/i}} {{addedParticipants.1.name}} {{/addedParticipants.2}}  <!-- more than 2 new participants --> {{#addedParticipants.2}} {{addedParticipants.0.name}} {{_i}}+{{/i}} {{numberOfOtherParticipants}} {{/addedParticipants.2}} {{/addedParticipants.1}} </span>  {{/chirp}}',
    e.exports["status/conversation_participants_leave.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}conversation-event txt-mute padding-h--10{{/stream_item_classes}} {{$content}} {{#leftParticipants}} <a class="txt-mute conversation-participants-name-list" href="{{profileURL}}" rel="user" target="_blank">{{name}}</a> {{/leftParticipants}} {{_i}}left{{/i}} {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/conversation_participants_leave_preview.mustache"] = '{{#chirp}} <span class="txt-mute"> {{$content}} {{#leftParticipants}} {{name}} {{/leftParticipants}} {{_i}}left{{/i}} {{/content}} </span> {{/chirp}}',
    e.exports["status/conversation_timestamp.mustache"] = '{{#created}} <time class="tweet-timestamp js-timestamp pull-right" data-time="{{getTime}}"> {{/created}} <span class="txt-small txt-mute"> {{createdPretty}} </span> {{#created}} </time> {{/created}}',
    e.exports["status/dataminr.mustache"] = '{{#dataminr}} {{> status/dataminr_header}} {{/dataminr}} <div class="is-dataminr-tweet"> {{> status/tweet_single}} {{> status/media_large_preview }} </div> {{#dataminr}} {{> status/dataminr_single_footer}} {{/dataminr}}',
    e.exports["status/dataminr_footer.mustache"] = '<div class="padding-axl dataminr-external-link"> <a class="btn btn-light-gray btn-extra-padding full-width padding-hn url-ext hidden-in-dark" href="{{expandAlertURL}}" rel="external" data-scribe-element="dataminr"> <i class="icon icon-dataminr"></i> <span class="label">{{_i}}Open in Dataminr{{/i}}</span> </a> <a class="btn btn-dark-gray btn-extra-padding full-width padding-hn url-ext hidden-in-light" href="{{expandAlertURL}}" rel="external" data-scribe-element="dataminr"> <i class="icon icon-dataminr"></i> <span class="label">{{_i}}Open in Dataminr{{/i}}</span> </a> </div> {{#eventLocation}} <p class="dataminr-title padding-al padding-hxl txt-base-smallest txt-bold">{{_i}}Event Location{{/i}}{{#eventLocation.name}}: {{eventLocation.name}}{{/eventLocation.name}}</p> <div class="cf"> <a href="{{expandMapURL}}" target="_blank" rel="url" class="media-item block dataminr-map-img-full" style=\'background-image:url("{{eventMapLargeImageURL}}")\' data-scribe-element="map"></a> </div> {{/eventLocation}} <p class="dataminr-title padding-al padding-hxl txt-base-smallest txt-bold">{{_i}}Event Keywords{{/i}}</p> <ul class="padding-vl padding-hxl block dataminr-search-terms-detail"> {{#relatedTerms}} <li class="inline-block dataminr-term"><a href="{{twitterUrl}}" data-search-term="{{query}}" target="_blank" rel="search" data-scribe-element="search">{{text}}</a></li> {{/relatedTerms}} <li class="dataminr-search-terms txt-base-small padding-ts txt-bold"> <a href="{{anyRelatedTermsTwitterUrl}}" target="_blank" class="link-complex" rel="search" data-search-term="{{anyRelatedTermsQuery}}" data-scribe-element="search_any"> <i class="icon icon-search icon-match-context icon-tt"></i> <span class="link-complex-target">{{_i}}Search any{{/i}}</span> </a> or <a href="{{allRelatedTermsTwitterUrl}}" target="_blank" rel="search" data-search-term="{{allRelatedTermsQuery}}" data-scribe-element="search_all"> {{_i}}search all{{/i}} </a> </li> </ul>  <p class="dataminr-title padding-al padding-hxl txt-base-smallest txt-bold">{{_i}}Original Source{{/i}}</p> <div class="js-source-profile position-rel"></div> <div class="dataminr-user-profile padding-hxl padding-bl">  {{#userTopHashtags.length}} <p class="padding-tm"><i class="icon icon-small-valigned icon-hashtag profile-icon icon-tt"></i>&nbsp;{{_i}}Top Hashtags{{/i}}</p> <ul class="padding-vm"> {{#userTopHashtags}} <li class="padding-vs"> <a href="{{twitterUrl}}" class="txt-capitalize txt-base-small" target="_blank" rel="hashtag" data-scribe-element="hashtag">{{text}}</a> </li> {{/userTopHashtags}} </ul> {{/userTopHashtags.length}} </div> <p class="js-replies-header is-hidden dataminr-title padding-al padding-hxl txt-base-smallest txt-bold">{{_i}}Replies{{/i}}</p>',
    e.exports["status/dataminr_header.mustache"] = '<div class="dataminr-header cf txt-small padding-bm"> <div class="txt-ellipsis"> {{#publisherCategory.name}} <span class="dataminr-category-pill dataminr-category-{{publisherCategory.shortName}} inline-block txt-capitalize pull-left"> <span class="dataminr-category-full">{{publisherCategory.name}}</span><span class="dataminr-category-short txt-uppercase"><abbr title="{{publisherCategory.name}}">{{publisherCategory.shortName}}</abbr></span></span> {{/publisherCategory.name}} <span class="pull-right padding-txs txt-dataminr"> <span class="dataminr-volume margin-rs"><i class="icon icon-small icon-user icon-match-context icon-tt"></i> {{eventVolume}}</span> {{#alertType}} <span class="dataminr-label dataminr-label-{{id}} margin-rs txt-dataminr">{{name}}<i class="sprite {{alertTypeSprite}} margin-ls"></i></span> {{/alertType}} {{createdAt}} </span> </div> </div>',
    e.exports["status/dataminr_in_stream.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}is-actionable dataminr dataminr-separator{{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail{{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}} {{> status/dataminr }} {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/dataminr_single_footer.mustache"] = '<div class="margin-tm cf"> <div class="padding-bxxl"> {{#eventLocation}} <div class="obj-right txt-center dataminr-location"> <div class="cf"> {{#eventMapSmallImageURL}} <a href="{{expandMapURL}}" target="_blank" rel="url" class="media-item block dataminr-map-img pull-right" style=\'background-image:url("{{eventMapSmallImageURL}}")\' data-scribe-element="map"></a> {{/eventMapSmallImageURL}} </div> {{#name}} <div class="js-show-tip txt-ellipsis" data-original-title="{{name}}"> <a href="{{expandMapURL}}" target="_blank" rel="url" class="txt-small" data-scribe-element="map" >{{name}}</a> </div> {{/name}} </div> {{/eventLocation}}  <div class="nbfc"> <ul class="dataminr-related-terms"> {{#relatedTerms}} <li class="inline-block dataminr-term"><a href="{{twitterUrl}}" class="txt-base-small" data-search-term="{{query}}" target="_blank" rel="search"data-scribe-element="search">{{text}}</a></li> {{/relatedTerms}} </ul> {{#user}} <div class="margin-ts"> <span class="txt-base-smallest txt-dataminr inline-block margin-rm">{{_i}}Joined{{/i}}&nbsp;<b class="dataminr-bio-count">{{prettyJoinedDate}}</b></span> <a href="{{getFollowerURL}}" rel="url" target="_blank" class="txt-base-smallest inline-block" data-scribe-element="show_followers">{{_i}}Followers{{/i}}&nbsp;<b>{{prettyFollowersCount}}</b></a>&nbsp; </div> {{/user}} </div> </div> <a href="{{{expandAlertURL}}}" class="txt-base-small dataminr-openin-link txt-dataminr" target="_blank" rel="url" data-scribe-element="dataminr">{{_i}}Open in Dataminr{{/i}}<i class="icon icon-match-context icon-dataminr icon-tt link-clean padding-ls"></i></a> </div>',
    e.exports["status/follow_activity.mustache"] = "{{#withActivityHeader}} {{> status/tweet_activity_header }} {{/withActivityHeader}}  {{#getRelatedUser}} {{> account_summary }} {{/getRelatedUser}}",
    e.exports["status/follow_activity_in_box.mustache"] = '{{#data}} {{<item_box}}  {{$item_box_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/item_box_data}}  {{$content}} {{> status/follow_activity }} {{/content}}  {{/item_box}} {{/data}}',
    e.exports["status/follow_activity_in_stream.mustache"] = '{{#data}} {{<stream_item}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}} {{> status/follow_activity }} {{/content}}  {{/stream_item}} {{/data}}',
    e.exports["status/gap_in_stream.mustache"] = '{{<stream_item}}  {{$stream_item_classes}}is-actionable gap-chirp{{/stream_item_classes}}  {{$stream_item_content_classes}}js-expand-gap padding-v--18{{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{id}}" {{/stream_item_data}}  {{$content}} <div class="gap-chirp-text {{#showSize}}gap-chirp-text--with-size{{/showSize}} padding-v--4 padding-h--16"> {{^showSize}}{{_i}}Show more{{/i}}{{/showSize}} {{#showSize}}{{size}}+ {{_i}}more{{/i}}{{/showSize}} </div> <div class="gap-chirp-spinner margin-v--5"></div> {{/content}}  {{/stream_item}}',
    e.exports["status/list_activity.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}} <div class="obj-left item-img"> {{#sourceAvatar}}<img class="avatar pull-right size24 margin-lm" src="{{sourceAvatar}}" width="24" height="24">{{/sourceAvatar}} <i class="pull-right icon icon-list activity-indicator margin-ts"></i> </div> <div class="nbfc">{{{htmlText}}}</div> {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/media_image_container.mustache"] = '<div class="media-image-container {{#isMediaPreviewCompact}}media-image-container-compact{{/isMediaPreviewCompact}} block position-rel"> <a class="js-media-image-link {{#needsSecureUrl}}js-needs-secure-url{{/needsSecureUrl}} pin-all media-image block {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}}" {{#needsSecureUrl}}data-original-url="{{mediaPreviewSrc}}{{imageSrc}}"{{/needsSecureUrl}} {{^needsSecureUrl}}style="background-image:url({{mediaPreviewSrc}}{{imageSrc}})"{{/needsSecureUrl}} href="{{url}}" rel="mediaPreview" target="_blank" data-media-entity-id="{{mediaId}}" ></a> </div>',
    e.exports["status/media_large_preview.mustache"] = '{{#isMediaPreviewLarge}} {{#hasMedia}} <div class="js-media position-rel item-box-full-bleed margin-tm {{#isMediaGridContent}}media-size-large-height{{/isMediaGridContent}} {{#dataminr}}dataminr-large-preview{{/dataminr}}" data-key="{{id}}"> {{#withMediaPreview}} {{#isMediaGridContent}} <div class="media-caret"></div> <div class="media-grid-{{mediaLength}}"> {{#getMedia}} {{> status/media_image_container}} {{/getMedia}} </div> {{#isPossiblySensitive}} {{> status/media_sensitive}} {{/isPossiblySensitive}} {{/isMediaGridContent}} {{^isMediaGridContent}} {{#getMedia}} {{>status/media_thumb}} {{/getMedia}} {{/isMediaGridContent}} {{/withMediaPreview}} </div> {{/hasMedia}} {{/isMediaPreviewLarge}}',
    e.exports["status/media_preview.mustache"] = '{{#isMediaGridContent}} <div class="media-grid-{{mediaLength}}"> {{#getMedia}} {{> status/media_image_container}} {{/getMedia}} </div> {{#isPossiblySensitive}} {{> status/media_sensitive}} {{/isPossiblySensitive}} {{/isMediaGridContent}}  {{^isMediaGridContent}} {{#getMedia}} {{> status/media_thumb}} {{/getMedia}} {{/isMediaGridContent}}',
    e.exports["status/media_sensitive.mustache"] = '{{#isPossiblySensitive}} <div class="js-media-sensitive-overlay media-sensitive {{^isMediaPreviewSmall}}{{thumbSizeClass}}{{/isMediaPreviewSmall}} {{#isMediaPreviewSmall}}media-size-medium{{/isMediaPreviewSmall}} "> <div class="{{^isNarrowColumns}}media-sensitive-content{{/isNarrowColumns}} padding-am"> <b class="media-sensitive-title">{{_i}}The following media may contain sensitive material.{{/i}}</b> <p>{{_i}}Your <a href="#" rel="globalSettings">Tweet media display settings</a> are configured to inform you when media may be sensitive.{{/i}}</p> <a href="#" target="_blank" rel="showSensitiveMedia">{{_i}}View{{/i}}</a>&nbsp;&middot; <a href="#" target="_blank" rel="alwaysShowSensitiveMedia">{{_i}}Always show me sensitive media{{/i}}</a> </div> </div> {{/isPossiblySensitive}}',
    e.exports["status/media_thumb.mustache"] = '<div class="js-media-preview-container position-rel {{^isMediaPreviewLarge}}{{^isMediaPreviewCompact}}{{^isMediaPreviewInQuoted}}margin-vm{{/isMediaPreviewInQuoted}}{{/isMediaPreviewCompact}}{{/isMediaPreviewLarge}}  {{#isMediaPreviewSmall}}{{#isPossiblySensitive}}media-size-medium{{/isPossiblySensitive}}{{/isMediaPreviewSmall}} {{#isMediaPreviewCompact}}media-size-medium margin-t--8{{/isMediaPreviewCompact}} {{#isMediaPreviewInQuoted}}margin-tm{{/isMediaPreviewInQuoted}} {{#isAnimatedGif}}is-gif{{/isAnimatedGif}} {{#isVideo}}is-video{{/isVideo}}">  {{#isMediaPreviewLarge}} <div class="media-caret"></div> {{/isMediaPreviewLarge}}  {{#isAnimatedGif}} {{#animatedGif}} {{> media/animated_gif}} {{/animatedGif}} {{/isAnimatedGif}}  {{^isAnimatedGif}} <a class="js-media-image-link block med-link media-item {{thumbSizeClass}} {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}} {{#needsSecureUrl}}js-needs-secure-url{{/needsSecureUrl}} {{^isGalleryView}}is-zoomable{{/isGalleryView}}" {{#needsSecureUrl}}data-original-url="{{mediaPreviewSrc}}{{imageSrc}}"{{/needsSecureUrl}} href="{{url}}" rel="mediaPreview" target="_blank" {{^needsSecureUrl}}{{^imageSrc}}style="background-image:url({{mediaPreviewSrc}})"{{/imageSrc}}{{/needsSecureUrl}} data-media-entity-id="{{mediaId}}"> {{#isVideo}} {{> media/video_overlay}} {{/isVideo}}  {{#imageSrc}} <img class="{{thumbClass}}" src="{{^needsSecureUrl}}{{imageSrc}}{{/needsSecureUrl}}" alt="Media preview"> {{/imageSrc}} </a> {{/isAnimatedGif}} {{> status/media_sensitive}} </div>',
    e.exports["status/media_unique_preview.mustache"] = '<div class="media-grid-{{mediaLength}}"> {{#getUniqueMedia}} {{{renderGridView}}} {{/getUniqueMedia}} </div>',
    e.exports["status/message.mustache"] = '<div class="tweet js-chirp {{#quotedTweet}}is-quote-tweet{{/quotedTweet}}"> <header class="tweet-header"> {{> status/message_timestamp}}  {{#sender}} {{^isDeleted}} {{> status/tweet_single_header }} {{/isDeleted}} {{/sender}} </header>  <div class="tweet-body"> <p class="js-tweet-text tweet-text with-linebreaks">{{{htmlText}}}</p> {{#quotedTweet}} {{{ renderQuoted }}} {{/quotedTweet}} {{#quotedTweetMissing}} {{{ renderQuotedMissing }}} {{/quotedTweetMissing}} {{>status/tweet_media_wrapper}} {{#withFooter}} <footer class="tweet-footer cf"> <ul class="tweet-actions"> <li class="position-rel"> {{#getMainUser}} <a class="tweet-action" href="#" rel="actionsMenu" data-user-id="{{id}}" data-chirp-id="{{message.id}}" data-actions-menu-position="pos-r" data-account-key="{{accountKey}}"> <i class="icon icon-more"></i> <span class="is-vishidden">{{_i}}More options{{/i}}</span> </a> {{/getMainUser}} </li> </ul> </footer> {{/withFooter}} </div> </div>',
    e.exports["status/message_in_box.mustache"] = '{{#message}} {{<item_box}}  {{$item_box_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/item_box_data}}  {{$content}}  {{> status/message}}  {{/content}}  {{/item_box}} {{/message}}',
    e.exports["status/message_in_stream.mustache"] = '{{#message}} {{<stream_item}}  {{$stream_item_content_classes}}message-stream-item{{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}}  {{>status/message}}  {{/content}}  {{/stream_item}} {{/message}}',
    e.exports["status/message_thread.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}is-actionable {{#unread}}is-unread {{/unread}}{{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail {{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}}  <div class="tweet tweet-message js-chirp">  <header class="tweet-header"> {{>status/message_timestamp}}  {{#getMainUser}} {{> status/tweet_single_header }} {{/getMainUser}} </header>  <div class="l-table">  <div class="tweet-body l-cell"> <div class="l-table"> <p class="l-cell align-top"> {{#replied}} <i class="txt-base-medium txt-mute icon icon-reply"></i> {{/replied}} <span class="js-tweet-text tweet-text with-linebreaks">{{{htmlText}}}</span> {{#attachmentOnly}} <em>Attachment: image</em> {{/attachmentOnly}} </p> {{#hasMedia}} <div class="l-cell"> {{#getMedia}} <div class="tweet-message-attachment obj-right position-rel"> <div class="js-media-image-link media-item {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}} {{#needsSecureUrl}}js-needs-secure-url{{/needsSecureUrl}} is-zoomable" {{#needsSecureUrl}}data-original-url="{{mediaPreviewSrc}}{{imageSrc}}"{{/needsSecureUrl}} {{^needsSecureUrl}}{{^imageSrc}}style="background-image:url({{mediaPreviewSrc}})"{{/imageSrc}}{{/needsSecureUrl}}> </div> </div> {{/getMedia}} </div> {{/hasMedia}} </div> </div>  <div class="conversation-indicator l-cell"> <i class="icon icon-arrow-r"></i> </div>  </div>  </div>  {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/message_timestamp.mustache"] = '{{#created}} <time class="tweet-timestamp pull-right" datetime="{{toISOString}}" data-time="{{getTime}}"> {{/created}} <span class="txt-small txt-mute"> {{createdPrettyTimeOrDate}} </span> {{#created}} </time> {{/created}}',
    e.exports["status/message_wrapper.mustache"] = '{{> column/column_header_detail}}  <div class="column-content"> <div class="js-detail-container js-dropdown-container column-scroller scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"> <div> <div class="js-message-box"></div> <div class="js-message-detail"> {{> spinner_large}} </div> </div> </div> </div>',
    e.exports["status/poll.mustache"] = '<div class="js-poll margin-tl"> {{#poll}} <a rel="url" class="js-poll-link poll-link btn btn-alt" href="{{chirp.getChirpURL}}" target="_blank"> {{_i}}View poll{{/i}} </a> <span class="inline-block txt-small padding-ls"> {{#hasCount}} {{{prettyCount}}} {{#hasTimeLeft}}&middot;{{/hasTimeLeft}} {{/hasCount}} {{#hasTimeLeft}} {{{prettyTimeLeft}}} {{/hasTimeLeft}} </span> {{/poll}} </div>',
    e.exports["status/quoted_tweet.mustache"] = '{{#tweet}} <div class="js-quote-detail quoted-tweet nbfc padding-al margin-b--8 position-rel {{^inCompose}}margin-tm is-actionable {{/inCompose}}" data-tweet-id="{{id}}" data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" rel="viewDetails"> <div> <header class="tweet-header"> {{#user}} {{>status/tweet_single_header}} {{/user}} </header> <p class="js-quoted-tweet-text with-linebreaks">{{{htmlText}}}</p> {{>status/tweet_media_wrapper}} </div> {{#inCompose}} <a class="js-quote-tweet-remove compose-media-grid-remove is-actionable"> <i class="sprite sprite-close"></i> </a> {{/inCompose}} </div> {{/tweet}}',
    e.exports["status/quoted_tweet_missing.mustache"] = '<div class="quoted-tweet nbfc padding-al margin-t--5 quoted-tweet-unavailable{{#hideTweetUnavailableMsg}} is-vishidden{{/hideTweetUnavailableMsg}}"> <p class="txt-mute">{{_i}}This quoted Tweet is unavailable{{/i}}</p> </div>',
    e.exports["status/scheduled_tweet.mustache"] = '{{#inStream}} {{<stream_item}}  {{$stream_item_data}} data-key="{{chirp.key}}{{chirp.id}}" data-account-key="{{chirp.account.getKey}}" {{/stream_item_data}}  {{$content}}{{> status/scheduled_tweet_single }}{{/content}}  {{/stream_item}} {{/inStream}} {{#inBox}} {{<item_box}}  {{$item_box_classes}}js-tweet-box{{/item_box_classes}}  {{$item_box_data}} data-key="{{chirp.key}}{{chirp.id}}" data-account-key="{{chirp.account.getKey}}" {{/item_box_data}}  {{$content}}{{> status/scheduled_tweet_single }}{{/content}}  {{/item_box}} {{/inBox}}',
    e.exports["status/scheduled_tweet_single.mustache"] = '{{#chirp}}  {{#reasonText}} <div class="margin-bl padding-as srt-error-msg"> {{reasonText}} </div> {{/reasonText}}  <div class="obj-left item-img"> &nbsp; </div>  <div class="nbfc"> <div class="activity-header activity-header-wrapping"> {{_i}}Scheduled for:{{/i}} <b class="no-wrap">{{ prettyTime }}</b> </div>  <p class="with-linebreaks">{{{htmlText}}}</p>  {{#hasMedia}} <div class="js-media media-preview position-rel" data-key="{{id}}"> {{#getMedia}} {{>status/media_thumb}} {{/getMedia}} </div> {{/hasMedia}}   <div class="img-strip"> {{#updates}} <span class="img-strip-media"> <img class="avatar size24" src="{{user.avatar}}" width="24" height="24" alt="{{user.username}}\'s avatar"> </span> {{/updates}} </div>  <footer class="tweet-actions txt-mute txt-small {{#withTweetActionsVisible}}is-visible{{/withTweetActionsVisible}}"> {{#canEdit}} <a href="#" rel="edit">{{_i}}Edit{{/i}}</a> &middot; {{/canEdit}} <a href="#" rel="destroy">{{_i}}Delete{{/i}}</a> </footer> </div>  {{/chirp}}',
    e.exports["status/social_proof_for_tweet.mustache"] = '{{> column/column_header_detail}}  <div class="column-content"> <div class="column-scroller scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"> <div class="social-proof-for-tweet-title padding-vl txt-center txt-base-medium"> <b>{{title}}</b> </div> {{#users}} {{<stream_item}} {{$content}} {{>account_summary}} {{/content}} {{/stream_item}} {{/users}} {{^users}} {{>column_loading_placeholder}} {{/users}} </div> </div>',
    e.exports["status/trend_item.mustache"] = '{{#trends}}{{#trend}} <li class="padding-b--10"> <a href="#" class="js-trend-item trend-item link-complex txt-size-variable--13" data-action="search" data-query="{{target.query}}"> <b class="trend-item-name link-complex-target ">{{{name}}}</b> <span class="trend-item-context">{{{description}}}</span> <div class="trend-item-stats txt-mute">{{{meta_description}}}</div> </a> </li> {{/trend}}{{/trends}}',
    e.exports["status/truncation_affordance.mustache"] = '&hellip;&nbsp;<a class="tweet-truncation-more" rel="viewDetails" href="{{getChirpURL}}">{{_i}}More{{/i}}</a>',
    e.exports["status/tweet_activity.mustache"] = '{{#withActivityHeader}} {{> status/tweet_activity_header }} {{/withActivityHeader}}  {{#getRelatedTweet}} {{#withContentMute}}<span class="txt-mute">{{/withContentMute}} {{> status/tweet_single}} {{#withContentMute}}</span>{{/withContentMute}} {{/getRelatedTweet}}',
    e.exports["status/tweet_activity_header.mustache"] = '<div class="activity-header {{#sourceAvatar}}{{^withAlignAvatarToContent}}has-source-avatar activity-header-wrapping{{/withAlignAvatarToContent}}{{/sourceAvatar}} cf"> <div class="obj-left item-img {{#withAlignAvatarToContent}}align-below-header{{/withAlignAvatarToContent}}"> {{#sourceAvatar}}<img class="avatar pull-right size24" src="{{sourceAvatar}}" width="24" height="24">{{/sourceAvatar}} <i class="pull-right icon {{iconClass}} activity-indicator {{^sourceAvatar}}activity-icon-aligned{{/sourceAvatar}}"></i> </div> <div class="nbfc {{#withSourceMute}}txt-mute txt-small{{/withSourceMute}} {{#withAlignAvatarToContent}}txt-ellipsis{{/withAlignAvatarToContent}}"> {{{htmlText}}} </div> </div>',
    e.exports["status/tweet_activity_in_box.mustache"] = '{{#chirp}} {{<item_box}}  {{$item_box_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/item_box_data}}  {{$content}} {{> status/tweet_activity }} {{/content}}  {{/item_box}} {{/chirp}}',
    e.exports["status/tweet_activity_in_stream.mustache"] = '{{#chirp}} {{<stream_item}}  {{$stream_item_classes}}is-actionable{{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail {{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}} {{> status/tweet_activity }} {{> status/media_large_preview }} {{/content}}  {{/stream_item}} {{/chirp}}',
    e.exports["status/tweet_detail.mustache"] = '{{<stream_item}}  {{$stream_item_data}} {{#chirp}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/chirp}} {{/stream_item_data}}  {{$content}}  {{#chirp}} <div class="js-tweet tweet-detail {{#isFavorite}}is-favorite{{/isFavorite}} {{#isRetweeted}}is-retweet{{/isRetweeted}} {{#quotedTweet}}is-quote-tweet{{/quotedTweet}}"> {{#getMainUser}} {{> account_summary }} {{/getMainUser}}  <p class="js-tweet-text tweet-text txt-large margin-vl with-linebreaks {{#translation}}tweet-translation-original-text margin-bn{{/translation}}">{{{htmlTextFull}}}</p>  {{#translation}}{{>status/tweet_translation}}{{/translation}} {{#isTranslatable}}{{^translation}}<a class="js-translate-call-to-action txt-mute" href="#" rel="translateTweet">{{_i}}Translate Tweet{{/i}}</a>{{/translation}}{{/isTranslatable}}  {{>status/poll}}  {{#getMainTweet}}  <div class="js-tweet-media tweet-detail-media"></div>  {{#quotedTweet}} {{{ renderQuoted }}} {{/quotedTweet}}  {{#quotedTweetMissing}} {{{ renderQuotedMissing }}} {{/quotedTweetMissing}}  <div class="js-cards-container"></div>  <div class="margin-tl txt-mute txt-small"> <a href="{{getChirpURL}}" rel="url" target="_blank">{{createdPrettyFull}}</a> &middot; <a href="{{sourceUrl}}" rel="url" target="_blank">{{sourceNoHTML}}</a> </div>  {{#hasLocationData}} <div class="margin-bl txt-mute txt-small tweet-location"> <a href="{{getLocationURL}}" rel="url" target="_blank"><i class="icon icon-geo-valigned icon-geo"></i>{{getLocationFullName}}</a> </div> {{/hasLocationData}}  <footer> <div class="js-tweet-stats"></div>  {{> status/tweet_detail_actions}} </footer> {{/getMainTweet}}  <i class="sprite tweet-dogear"></i> </div> <div class="js-detail-view-inline detail-view-inline item-box-full-bleed padding-axl scroll-conversation"> <div rel="reply" class="js-detail-view-inline-text detail-view-inline-text padding-al inline-block full-width txt-ellipsis">{{_i}}Reply to{{/i}} {{mentions}}</div> </div> {{#dataminr}} <a class="js-skip-to-replies is-hidden is-actionable link-complex block item-box-full-bleed padding-hxl padding-bl scroll-conversation" rel="skipToReplies"> &#8595; <span class="link-complex-target align-middle">{{_i}}Skip to replies{{/i}}</span> </a> {{/dataminr}} {{/chirp}} {{/content}}  {{/stream_item}}',
    e.exports["status/tweet_detail_actions.mustache"] = '<ul class="tweet-detail-actions {{^withRemove}}{{^withDragHandle}}without-tweet-drag-handles{{/withDragHandle}}{{/withRemove}}"> <li class="tweet-detail-action-item margin-ln"> <a class="js-reply-action tweet-detail-action position-rel" href="#" rel="reply"> <i class="icon icon-reply"></i><span class="is-vishidden">{{_i}}Reply{{/i}}</span> <span class="reply-triangle"></span> </a> </li> <li class="tweet-detail-action-item"> <a class="tweet-detail-action" href="#" rel="retweet"> <i class="icon icon-retweet icon-retweet-toggle"></i><span class="is-vishidden">{{_i}}Retweet{{/i}}</span> </a> </li> <li class="tweet-detail-action-item"> {{#account}} <a class="js-show-tip tweet-detail-action" href="#" rel="favorite" title="{{>text/favorite_action}}"> <i class="icon icon-favorite icon-favorite-toggle"></i> <span class="is-vishidden"> {{#decider.hearts_and_likes2}}{{_i}}Like{{/i}}{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}{{_i}}Favorite{{/i}}{{/decider.hearts_and_likes2}} </span> </a> {{/account}} </li> <li class="tweet-detail-action-item position-rel"> {{#getMainUser}} <a class="tweet-detail-action" href="#" rel="actionsMenu" data-user-id="{{id}}" data-chirp-id="{{chirp.id}}" data-account-key="{{chirp.account.getKey}}"> <i class="icon icon-more"></i><span class="is-vishidden">{{_i}}Options{{/i}}</span> </a> {{/getMainUser}} </li> {{#withDragHandle}} <li class="feature-customtimelines tweet-drag-handle tweet-detail-action-item"> <a class="tweet-detail-action" href="{{getChirpURL}}" data-drag-type="tweet" data-tweet-id="{{#getMainTweet}}{{id}}{{/getMainTweet}}"> <i class="icon icon-move"></i><span class="is-vishidden">{{_i}}Drag to collection{{/i}}</span> </a> </li> {{/withDragHandle}} {{#withRemove}} <li class="feature-customtimelines tweet-detail-action-item"> <a class="js-show-tip tweet-detail-action tweet-detail-action" href="{{getChirpURL}}" rel="removeFromCustomTimeline" data-tweet-id="{{#getMainTweet}}{{id}}{{/getMainTweet}}" title="{{_i}}Remove from collection{{/i}}" data-placement="bottom"> <i class="icon icon-close"></i> </a> </li> {{/withRemove}} </ul>',
    e.exports["status/tweet_detail_inreplyto.mustache"] = '<div class="js-replies-before tweet-detail-reply"></div>',
    e.exports["status/tweet_detail_media.mustache"] = '{{#hasMedia}} {{#isMediaGridContent}} {{^isPossiblySensitive}} <div class="js-media media-preview detail-preview media-size-large"> {{> status/media_unique_preview}} </div> {{/isPossiblySensitive}} {{#isPossiblySensitive}} <div class="js-media media-preview detail-preview"> {{#getFirstMedia}} {{{renderDetailView}}} {{/getFirstMedia}} </div> {{/isPossiblySensitive}} {{/isMediaGridContent}} {{^isMediaGridContent}} <div class="js-media media-preview detail-preview"> {{#getUniqueMedia}} {{{renderDetailView}}} {{/getUniqueMedia}} </div> {{/isMediaGridContent}} {{/hasMedia}}',
    e.exports["status/tweet_detail_repliesto.mustache"] = '<div class="js-replies-to replies-after"></div>',
    e.exports["status/tweet_detail_replybar.mustache"] = '<div class="rpl"> <textarea name="inreplyto" class="js-reply-tweetbox scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-alt"></textarea> <div class="rpl-actions cf"> <button class="js-reply-popout js-show-tip btn btn-square btn-neutral dm-action" title="{{_i}}Popout{{/i}}"> <i class="icon icon-popout icon-medium"></i> </button> <button class="js-reply-add-image js-show-tip btn btn-square btn-neutral dm-action" title="{{_i}}Add image{{/i}}"> <i class="icon icon-camera icon-medium"></i> </button> <div class="pull-right"> <input type="text" readonly="readonly" class="js-reply-charcount pull-left"/> {{#avatarURL}} <img src="{{avatarURL}}" class="js-show-tip avatar size30 neg-margin-bl obj-left"title="@{{from}}"/> {{/avatarURL}} <button class="btn btn-positive js-send">{{_i}}Reply{{/i}}</button> </div> </div> </div>',
    e.exports["status/tweet_detail_socialstats.mustache"] = '{{#analytics}} <div class="tweet-stats tweet-stat txt-small txt-mute padding-t--5"> <a href="{{url}}" target="_blank" rel="url" class="js-open-analytics js-show-tip full-width" title="{{_i}}View on analytics.twitter.com{{/i}}" data-placement="bottom"> <i class="icon icon-analytics icon-tb"></i> <span class="txt-size-variable--10">{{text}}</span> </a> </div> {{/analytics}}  {{#stats.length}} <ul class="tweet-stats"> {{#stats}} <li data-type="{{type}}" class="js-tweet-stat tweet-stat txt-small txt-mute"> <a href="#"><b>{{count}}</b> <span class="stat-word txt-size-variable--10">{{label}}</span></a> </li> {{/stats}} </ul> {{/stats.length}}',
    e.exports["status/tweet_detail_wrapper.mustache"] = '{{> column/column_header_detail}}  <div class="column-content"> <div class="js-detail-container js-dropdown-container column-scroller scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}} scroll-conversation"> <div class="js-detail-content"> <div class="js-inreplyto"></div> {{#withDataminr}}<div class="js-dataminr-header dataminr padding-tm padding-hl padding-bn">Dataminr header</div>{{/withDataminr}} <div class="js-tweet-detail tweet-detail-wrapper"> {{> spinner_large}} </div> {{#withDataminr}}<div class="js-dataminr-footer dataminr">Dataminr footer</div>{{/withDataminr}} <div class="js-tweet-replies tweet-detail-reply"></div> </div> </div> </div>',
    e.exports["status/tweet_in_box.mustache"] = '{{#tweet}} {{<item_box}}  {{$item_box_classes}}js-tweet-box{{/item_box_classes}}  {{$item_box_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/item_box_data}}  {{$content}} {{> status/tweet_single }} {{/content}}  {{/item_box}} {{/tweet}}',
    e.exports["status/tweet_in_stream.mustache"] = '{{#tweet}} {{<stream_item}}  {{$stream_item_classes}}is-actionable{{/stream_item_classes}}  {{$stream_item_content_classes}}js-show-detail {{/stream_item_content_classes}}  {{$stream_item_data}} data-key="{{key}}{{id}}" data-account-key="{{#account}}{{getKey}}{{/account}}" {{/stream_item_data}}  {{$content}} {{> status/tweet_single }} {{> status/media_large_preview }} {{/content}}  {{/stream_item}} {{/tweet}}',
    e.exports["status/tweet_media_wrapper.mustache"] = '{{#hasMedia}} {{^isMediaPreviewLarge}} {{#withMediaPreview}} {{#isMediaGridContent}} <div class="js-media media-preview media-grid-container {{^isMediaPreviewCompact}} media-size-medium  margin-vm{{/isMediaPreviewCompact}} {{#isMediaPreviewCompact}} media-size-medium no-radius margin-t--8{{/isMediaPreviewCompact}}{{^withMediaPreview}}}is-hidden{{/withMediaPreview}}" data-key="{{id}}"> {{> status/media_preview}} </div> {{/isMediaGridContent}} {{^isMediaGridContent}} <div class="js-media media-preview {{#showThumbs}}detail-preview{{/showThumbs}} {{^withMediaPreview}}is-hidden{{/withMediaPreview}} {{#isMediaPreviewCompact}} no-radius{{/isMediaPreviewCompact}} position-rel" data-key="{{id}}"> {{> status/media_preview}} </div> {{/isMediaGridContent}} {{/withMediaPreview}} {{/isMediaPreviewLarge}} {{/hasMedia}}',
    e.exports["status/tweet_single.mustache"] = '<div class="js-tweet tweet {{#isFavorite}}is-favorite{{/isFavorite}} {{#isRetweeted}}is-retweet{{/isRetweeted}} {{#isInConvo}}is-conversation{{/isInConvo}} {{#isMinimalist}}is-minimalist{{/isMinimalist}} {{#quotedTweet}}is-quote-tweet{{/quotedTweet}} {{#quotedTweetMissing}}is-quote-tweet{{/quotedTweetMissing}}"> {{#isRetweetedStatus}} <div class="tweet-context txt-small txt-mute padding-bs"> <div class="obj-left item-img"> <i class="pull-right icon icon-retweet icon-small-context txt-seamful-green txt-base-largest"></i> </div> <div class="nbfc"> {{#user}} <a href="{{getProfileURL}}" rel="user" target="_blank">{{name}}</a>{{_i}} retweeted{{/i}} {{/user}} </div> </div> {{/isRetweetedStatus}} <header class="tweet-header"> {{#getMainTweet}} {{>status/tweet_timestamp}} {{/getMainTweet}} {{#getMainUser}} {{>status/tweet_single_header}} {{/getMainUser}} </header> <div class="tweet-body"> <p class="js-tweet-text tweet-text {{#withLinebreaks}}with-linebreaks{{/withLinebreaks}} {{#translation}}tweet-translation-original-text margin-bn{{/translation}}">{{{htmlText}}}</p> {{#quotedTweet}} {{{ renderQuoted }}} {{/quotedTweet}} {{#quotedTweetMissing}} {{{ renderQuotedMissing }}} {{/quotedTweetMissing}} {{#translation}}{{>status/tweet_translation}}{{/translation}} {{>status/tweet_media_wrapper}} {{>status/tweet_single_footer}} </div> <i class="sprite tweet-dogear"></i> </div>',
    e.exports["status/tweet_single_actions.mustache"] = '<ul class="js-tweet-actions tweet-actions full-width {{#withTweetActionsVisible}}is-visible{{/withTweetActionsVisible}}"> <li class="tweet-action-item pull-left margin-r--13"> <a class="js-reply-action tweet-action position-rel" href="#" rel="reply"> <i class="icon icon-reply txt-right"></i> <span class="is-vishidden">{{_i}}Reply{{/i}}</span> <span class="reply-triangle"></span> </a> </li> <li class="tweet-action-item pull-left margin-r--13"> <a class="tweet-action" href="#" rel="retweet"> <i class="icon icon-retweet icon-retweet-toggle txt-right"></i> <span class="is-vishidden">{{_i}}Retweet{{/i}}</span> </a> </li> <li class="tweet-action-item pull-left margin-r--13"> <a class="js-show-tip tweet-action" href="#" rel="favorite" title="{{>text/favorite_action}}"> <i class="icon icon-favorite icon-favorite-toggle txt-right"></i> <span class="is-vishidden"> {{#decider.hearts_and_likes2}}{{_i}}Like{{/i}}{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}{{_i}}Favorite{{/i}}{{/decider.hearts_and_likes2}} </span> </a> </li> <li class="tweet-action-item position-rel pull-left margin-r--13"> <a class="tweet-action" href="#" rel="actionsMenu" data-user-id="{{getMainUser.id}}" data-chirp-id="{{id}}" data-account-key="{{account.getKey}}" data-actions-menu-position="{{actionsMenuPosition}}" data-parent-chirp-id="{{chirp.id}}"> <i class="icon icon-more txt-right"></i> <span class="is-vishidden">{{_i}}More options{{/i}}</span> </a> </li> {{#withDragHandle}} <li class="feature-customtimelines tweet-drag-handle tweet-action-item pull-right margin-l--13"> <a class="tweet-action is-draggable" href="{{getChirpURL}}" data-drag-type="tweet" data-tweet-id="{{#getMainTweet}}{{id}}{{/getMainTweet}}"> <i class="icon icon-move txt-right txt-right"></i> <span class="is-vishidden">{{_i}}Drag to collection{{/i}}</span> </a> </li> {{/withDragHandle}} {{#withRemove}} <li class="feature-customtimelines tweet-action-item pull-right margin-l--13"> <a class="js-show-tip tweet-action" href="{{getChirpURL}}" rel="removeFromCustomTimeline" data-tweet-id="{{#getMainTweet}}{{id}}{{/getMainTweet}}" title="{{_i}}Remove from collection{{/i}}" data-placement="bottom"> <i class="icon icon-close txt-right"></i> </a> </li> {{/withRemove}} </ul>',
    e.exports["status/tweet_single_footer.mustache"] = '{{#withFooter}} <footer class="tweet-footer cf"> {{#getMainTweet}} {{#inReplyToID}} <a class="pull-left margin-v--2 txt-mute txt-size--12 link-complex" href="#" rel="viewDetails"> <span class="link-complex-target"> {{_i}}View Conversation{{/i}} </span> </a> {{/inReplyToID}} {{/getMainTweet}}  {{#withTweetActions}} {{> status/tweet_single_actions}} {{/withTweetActions}} </footer> {{/withFooter}}',
    e.exports["status/tweet_single_header.mustache"] = '<a class="account-link link-complex {{#withInlinedUsername}}inline{{/withInlinedUsername}}{{^withInlinedUsername}}block{{/withInlinedUsername}}" href="{{getProfileURL}}" rel="user" target="_blank"> <div class="obj-left item-img tweet-img"> {{#withAvatar}} <img class="tweet-avatar avatar pull-right" src="{{profileImageURL}}" width="48" height="48" alt="{{screenName}}\'s avatar"> {{/withAvatar}} </div> <div class="nbfc {{#withInlinedUsername}}inline{{/withInlinedUsername}}"> <span class="account-inline txt-ellipsis{{#isProtected}} is-protected{{/isProtected}}"> <b class="fullname link-complex-target">{{name}}</b> {{#isVerified}}{{#withShowVerified}}<i class="js-show-tip sprite sprite-verified-mini" title="{{_i}}Verified account{{/i}}"></i>{{/withShowVerified}}{{/isVerified}}  <span class="username txt-mute">@{{screenName}}</span> {{#isProtected}}<i class="icon icon-protected txt-mute txt-base-medium"></i>{{/isProtected}} </span> </div> </a>',
    e.exports["status/tweet_timestamp.mustache"] = '{{#created}} <time class="tweet-timestamp js-timestamp pull-right txt-mute" datetime="{{toISOString}}" data-time="{{getTime}}"> {{/created}} <a class="txt-small" href="{{getChirpURL}}" rel="url" target="_blank"> {{createdPretty}} </a> {{#created}} </time> {{/created}}',
    e.exports["status/tweet_translation.mustache"] = '<div class="js-tweet-translation in-tweet-divider"> <p class="tweet-translation-attribution-text block txt-uppercase padding-vl txt-mute"> {{#localizedLanguageName}}{{_i}}Translated from {{localizedLanguageName}} by {{>text/bing_translator_link}}{{/i}}{{/localizedLanguageName}} {{^localizedLanguageName}}{{_i}}Translated by {{>text/bing_translator_link}}{{/i}}{{/localizedLanguageName}} </p> <p class="js-tweet-translation-text tweet-translation-text">{{#translation}}{{{htmltext}}}{{/translation}}</p> </div>',
    e.exports["stream_item.mustache"] = '<article class="stream-item js-stream-item {{$stream_item_classes}}{{/stream_item_classes}}" {{$stream_item_data}}{{/stream_item_data}}> <div class="js-stream-item-content item-box {{$stream_item_content_classes}}{{/stream_item_content_classes}}">  {{$content}}{{/content}}  </div> </article>',
    e.exports["text/already_registered.mustache"] = '{{_i}}There\'s already a TweetDeck account for that email address.{{/i}} <a href="#" data-action="forgotPassword">{{_i}}Want to recover your password?{{/i}}</a>',
    e.exports["text/b.mustache"] = "<b>{{{content}}}</b>",
    e.exports["text/bing_translator_link.mustache"] = '<a href="http://aka.ms/Twitter2BingTranslator" rel="url" target="_blank" class="inline-block align-middle sprite bing-logo"></a>',
    e.exports["text/br.mustache"] = "<br>",
    e.exports["text/close_em.mustache"] = "</em>",
    e.exports["text/close_strong.mustache"] = "</strong>",
    e.exports["text/em.mustache"] = "<em>",
    e.exports["text/favorite_action.mustache"] = "{{#account}} {{^isFavorite}} {{#decider.hearts_and_likes2}}{{_i}}Like from {{getUsername}}{{/i}}{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}{{_i}}Favorite from {{getUsername}}{{/i}}{{/decider.hearts_and_likes2}} {{/isFavorite}} {{#isFavorite}} {{#decider.hearts_and_likes2}}{{_i}}Unlike from {{getUsername}}{{/i}}{{/decider.hearts_and_likes2}} {{^decider.hearts_and_likes2}}{{_i}}Unfavorite from {{getUsername}}{{/i}}{{/decider.hearts_and_likes2}} {{/isFavorite}} {{/account}}",
    e.exports["text/followers_you_follow_link.mustache"] = '<a href="https://www.twitter.com/{{screenName}}/followers_you_follow" target="_blank">{{_i}}more{{/i}}</a>',
    e.exports["text/gallery_flag_media.mustache"] = '<a class="js-media-flag-nsfw med-flaglink {{#flagged}}is-hidden{{/flagged}}" href="#">{{_i}}Flag media{{/i}}</a> <a class="js-media-flagged-nsfw med-flaglink {{^flagged}}is-hidden{{/flagged}}" href="https://support.twitter.com/articles/20069937" rel="url" target="_blank">{{_i}}Flagged (learn more){{/i}}</a>',
    e.exports["text/gallery_original_link.mustache"] = '<a href="{{url}}" class="med-origlink" rel="url" target="_blank">{{_i}}View original{{/i}}</a>',
    e.exports["text/global_filter_value.mustache"] = "&ldquo;<em>{{value}}</em>&rdquo;",
    e.exports["text/list_link_real_name.mustache"] = '<a href="https://twitter.com/{{#user}}{{screenName}}{{/user}}/lists/{{slug}}" rel="list" data-screen-name="{{#user}}{{screenName}}{{/user}}" data-slug="{{slug}}" target="_blank">{{name}}</a>',
    e.exports["text/list_link_slug.mustache"] = '<a href="https://twitter.com/{{#user}}{{screenName}}{{/user}}/lists/{{slug}}" rel="list" data-screen-name="{{#user}}{{screenName}}{{/user}}" data-slug="{{slug}}" target="_blank">{{fullName}}</a>',
    e.exports["text/login_verification_link.mustache"] = '<a href="http://support.twitter.com/articles/20170388-using-login-verification" rel="url" target="_blank" class="startflow-link">{{_i}}login verification{{/i}}</a>',
    e.exports["text/open_strong.mustache"] = "<strong>",
    e.exports["text/profile_link.mustache"] = '<a href="https://twitter.com/{{#user}}{{screenName}}{{/user}}/{{slug}}" rel="user" data-user-name="{{#user}}{{screenName}}{{/user}}" class="link-complex" target="_blank"><span>@</span><span class="link-complex-target">{{#user}}{{screenName}}{{/user}}</span></a>',
    e.exports["text/retweet_by_link.mustache"] = '<a href="{{getProfileURL}}" rel="user" target="_blank">{{name}}</a>',
    e.exports["text/screenname_txt.mustache"] = "@{{inReplyToScreenName}}",
    e.exports["text/search_link.mustache"] = '<a href="https://twitter.com/search?q={{escapedSymbol}}{{searchTerm}}" rel="hashtag" target="_blank" class="link-complex"><span class="hash">{{symbol}}</span><span class="link-complex-target">{{searchTerm}}</span></a>',
    e.exports["text/social_proof_link.mustache"] = '<a href="https://twitter.com/{{screen_name}}" rel="user" target="_blank">{{name}}</a>',
    e.exports["text/strong.mustache"] = "<strong> {{#text}} {{text}} {{/text}} {{^text}} {{#name}} {{name}} {{/name}} {{/text}} {{{html}}} </strong>",
    e.exports["text/user_link_fullname.mustache"] = '<a class="account-link {{#withBold}}txt-bold{{/withBold}}" href="{{profileUrl}}" rel="user">{{name}}</a>',
    e.exports["text/user_link_screenname.mustache"] = '<a href="{{getProfileURL}}" rel="user" class="pretty-link" target="_blank">@{{screenName}}</a>',
    e.exports["topbar/alert_message.mustache"] = '<div class="js-status-message status-message"> <p class="status-message-text padding-al with-linebreaks">{{#prefix}}{{prefix}}: {{/prefix}}{{message}}</p> <a href="#" class="js-dismiss status-dismiss"><i class="icon icon-close"></i></a> </div>',
    e.exports["topbar/app_header.mustache"] = '<header class="js-app-header pin-all app-header"> <div class="js-app-header-inner pin-v app-header-inner">  <button class="js-show-drawer js-show-tip btn btn-compose margin-bm tweet-button" title="{{_i}}New Tweet{{/i}}" data-tooltip-position="right" data-drawer="compose"> <i class="icon icon-compose"></i> <span class="label margin-an">{{_i}}New Tweet{{/i}}</span> </button>  <div class="attach-compose-buttons"><!-- wrap close button as it has different padding --> <button class="js-hide-drawer btn btn-compose margin-bm tweet-button is-hidden" data-drawer="compose"> <i class="icon icon-compose" data-tweet-type="tweet reply"></i> <i class="icon icon-compose-dm icon-large" data-tweet-type="message"></i> </button> </div>  <div class="js-search js-overlay app-search"> <button class="js-header-action js-show-tip app-search-fake padding-al margin-bm" data-action="show-search" title="{{_i}}Search{{/i}}" data-tooltip-position="right"> <i class="icon icon-search"></i> </button> <form class="js-search-form app-search-form"> <label class="is-vishidden">{{_i}}Search{{/i}}</label> {{>search_input}} </form> <div class="js-search-in-popover"></div> </div>  <div class="js-column-nav-scroller column-navigator antiscroll-wrap"> <nav id="column-navigator" class="js-column-nav scroll-v antiscroll-inner"></nav> </div>  <nav class="app-navigator margin-bm padding-ts"> <a class="js-header-action js-app-add-column link-clean cf app-nav-link padding-hl with-nav-border-t" data-action="add-column" data-title="{{_i}}Add column{{/i}}"> <div class="obj-left"> <i class="icon icon-plus icon-large"></i> </div> <div class="nbfc padding-ts hide-condensed">{{_i}}Add column{{/i}}</div> </a> <a class="js-header-action link-clean cf app-nav-link padding-hl" data-action="change-sidebar-width" data-title="{{_i}}Expand{{/i}}"> <div class="obj-left"> <i class="icon icon-arrow-l-double icon-large"></i> <i class="icon icon-arrow-r-double icon-large"></i> </div> <div class="nbfc padding-ts hide-condensed">{{_i}}Collapse{{/i}}</div> </a>  <a class="js-show-drawer js-header-action link-clean cf app-nav-tab"  data-title="{{_i}}Accounts{{/i}}" data-drawer="accountSettings"> <div class="obj-left"> <i class="icon icon-user-switch icon-large position-rel"> <span class="js-invite-count msg-unread-count txt-base-small numbered-badge numbered-badge-onnav"></span> </i> </div> <div class="nbfc padding-ts hide-condensed">{{_i}}Accounts{{/i}}</div> </a>  <a class="js-hide-drawer position-rel link-clean cf app-nav-tab bg-r-light-gray txt-r-text is-hidden is-selected"  data-title="{{_i}}Accounts{{/i}}" data-drawer="accountSettings"> <div class="obj-left"> <i class="icon icon-user-switch icon-large"></i> </div> <div class="nbfc padding-ts hide-condensed">{{_i}}Accounts{{/i}}</div> </a>  <a class="js-header-action js-app-settings link-clean cf app-nav-link padding-hl" data-action="settings-menu" data-title="{{_i}}Settings{{/i}}"> <div class="obj-left"> <i class="icon icon-settings icon-large"></i> </div> <div class="nbfc padding-ts hide-condensed">{{_i}}Settings{{/i}}</div> </a>   </nav>  <div class="js-account-summary"/>  <h1 class="app-title"> <i class="sprite sprite-logo"></i> <i class="sprite sprite-logo-badge"></i> <span class="is-vishidden">TweetDeck</span> </h1> </div>  </header>',
    e.exports["topbar/message_banner.mustache"] = '<div class="message-content padding-hl padding-vm"> <span class="message-text padding-r--20"> {{text}} {{#actions}} <a class="btn {{buttonClass}} margin-l--10" data-action-id="{{actionId}}" {{#isExternalUrl}} href="{{url}}" rel="url" {{/isExternalUrl}}> {{label}} </a> {{/actions}} </span>  {{^isUndismissable}} <a href="#" class="js-dismiss dismiss"> <i class="icon icon-close"></i> </a> {{/isUndismissable}}  </div>',
    e.exports["topbar/navbar_account_summary.mustache"] = '<a data-user-name="{{screenName}}" href="#" rel="user"> <div class="nav-user-info cf margin-r--6 txt-base-medium"> <img class="obj-left tweet-avatar avatar size36 margin-h--6" src="{{profileImageURL}}" width="36" height="36" alt="{{screenName}}\'s avatar">  <div class="nbfc hide-condensed"> <span class="username txt-base-small txt-ellipsis inline-block">@{{screenName}} {{#isProtected}}<i class="icon icon-protected icon-match-context icon-tt"></i>{{/isProtected}}</span> <div class="{{#isBadged}}fullname-badged-container{{/isBadged}}"> <span class="fullname txt-ellipsis inline-block {{#isBadged}}fullname-badged{{/isBadged}} {{#isTranslator}}badge-translator{{/isTranslator}} {{#isVerified}}badge-verified{{/isVerified}} position-rel"> {{name}} </span> </div> </div> </div> </a>',
    e.exports["twitter_profile.mustache"] = '<div class="{{#loading}}is-loading{{/loading}}"> {{#loading}} <img src="{{#asset}}/web/assets/global/backgrounds/spinner_large_white.gif{{/asset}}" alt="{{_i}}Loading…{{/i}}"> {{/loading}} {{^loading}} <a href="#" class="js-dismiss mdl-dismiss link-normal-dark"><i class="sprite sprite-close"></i></a> {{/loading}}  {{#twitterProfile}} <div class="s-profile prf"> {{#profile}} <div class="prf-header" style="background-image: url({{profileBannerURL}})"> <div class="prf-header-inner-overlay"></div> <div class="prf-card-inner"> <a class="js-action-url link-clean" href="{{getProfileURL}}" target="_blank"> <span class="prf-img"> <img src="{{biggerProfileImageURL}}" class="avatar size73"> </span>  <strong class="fullname">{{name}} {{#isVerified}}<i title="{{_i}}Verified account{{/i}}" class="js-show-tip sprite sprite-verified"></i>{{/isVerified}}{{#isTranslator}}<i title="{{_i}}Translator{{/i}}" class="js-show-tip sprite sprite-translator"></i>{{/isTranslator}}</strong> <p class="username">@{{screenName}}{{#isProtected}}<i class="icon icon-protected"></i>{{/isProtected}}<span class="prf-follow-status">{{_i}}Follows @{{preferredAccount}}{{/i}}</span></p> </a> <p class="prf-bio">{{{bio}}}</p> <p class="location txt-ellipsis"> {{location}}{{#getDisplayURL}}{{#location}}&nbsp;&nbsp;<strong>&middot;</strong>&nbsp;&nbsp;{{/location}}<a href="{{url}}" class="prf-siteurl js-action-url" target="_blank">{{getDisplayURL}}</a>{{/getDisplayURL}} </p> </div> </div> {{/profile}}  <div class="prf-actions"> {{> profile_card_stats}}  <div class="js-social-proof social-proof-container txt-base-small cf padding-al is-hidden"></div>  <div class="js-profile-columns"> <ul class="lst-profile cf"> {{#displayOrderProfile}} <li class="js-item-launch {{class}}" data-action="open" data-type="{{type}}"> <a href="#"> <i class="icon {{columnIconClass}}"></i> <span class="txt-ellipsis">{{title}}</span> </a> </li> {{/displayOrderProfile}} </ul> </div> </div> </div> {{/twitterProfile}} </div>',
    e.exports["twitter_profile_social_proof.mustache"] = '<p class="pull-left">{{_i}}Followed by{{/i}} </p><p class="social-proof-names pull-right">{{{followedByString}}}{{#others}} and {{{others}}}{{/others}}.</p>',
    e.exports["typeahead/recent_searches_placeholder.mustache"] = '<li class="list-placeholder"> {{_i}}Recent searches will appear here.{{/i}} </li>',
    e.exports["typeahead/typeahead_conversations.mustache"] = '{{#chirp}} <li class="js-typeahead-item js-typeahead-conversation-item is-actionable list-item item-box" data-search-type="conversation" data-search-query="{{title}}" data-conversation-id="{{conversationId}}" data-account-key="{{accountKey}}" data-profile-image-url="{{profile_image_url_https}} "> <div class="account-summary cf"> <div class="obj-left item-img-24"> {{^withMultipleAvatars}} {{#avatars.0}} <img class="pull-left" src="{{profileImageURL}}" width="24" height="24" alt="{{screenName}}\'s avatar"> {{/avatars.0}} {{/withMultipleAvatars}} {{#withMultipleAvatars}} <div class="pull-left media-grid-container multiple-avatar-grid-mini"> <div class="{{avatarsClass}}"> {{#avatars}} <div class="media-image-container media-image-container-mini"> <div class="media-image block position-rel" style="background-image: url({{profileImageURL}});" ></div> </div> {{/avatars}} </div> </div> {{/withMultipleAvatars}} </div> <div class="nbfc"> <div class="list-text link-complex inline-block"> {{#getConversationTitleInformation}} {{#name}} <b class="fullname block txt-ellipsis">{{{name}}}</b> {{/name}} {{^name}} {{#isOneToOne}} {{#participants.0}} <b class="fullname block txt-ellipsis">{{name}}</b> @{{screenName}} {{/participants.0}} {{/isOneToOne}} {{#isThreeway}} <b class="fullname block txt-ellipsis"> {{#participants.0}} {{name}}, {{/participants.0}} {{#participants.1}} {{name}} {{/participants.1}} </b> {{/isThreeway}} {{#isOneToMany}} {{#participants.0}} <b class="fullname block txt-ellipsis">{{name}}</b> + {{numberOfOtherParticipants}} {{/participants.0}} {{/isOneToMany}} {{/name}} {{/getConversationTitleInformation}} </div> </div> </div> </li> {{/chirp}}',
    e.exports["typeahead/typeahead_dropdown.mustache"] = '<div class="js-typeahead-dropdown scroll-v {{#styledScrollbar}}scroll-styled-v{{/styledScrollbar}}"> <ul class="js-typeahead-recent-search-list is-hidden"></ul> <ul class="js-typeahead-saved-search-list is-hidden"></ul> <ul class="js-typeahead-topic-list is-hidden"></ul> <ul class="js-typeahead-user-list is-hidden list-divider"></ul> <ul class="js-typeahead-conversation-list is-hidden list-divider"></ul> <ul class="js-typeahead-lists-list is-hidden list-divider"></ul> <div class="js-typeahead-recent-search-clear js-typeahead-item recent-search-clear list-item list-item-button is-actionable item-box" data-search-type="recent-search-clear" data-search-query="recent-search-clear"> <span href="#"> {{_i}}Clear history{{/i}} </span> </div> </div>',
    e.exports["typeahead/typeahead_lists.mustache"] = '{{#lists}} <li class="js-typeahead-item js-typeahead-list-item list-item is-actionable item-box" data-search-type="list" data-search-query="{{query}}"> <div class="list-summary cf"> <div class="obj-left item-img-24"> <i class="icon icon-list icon-medium list-icon"></i> </div> <div class="nbfc"> <div class="list-text link-complex inline-block"> <b class="fullname block txt-ellipsis">{{name}}</b> <span class="username block txt-ellipsis txt-mute">@{{screenName}}</span> </div> </div> </div> </li> {{/lists}}',
    e.exports["typeahead/typeahead_recent_searches.mustache"] = '{{#recentSearches}} <li class="js-typeahead-item js-typeahead-recent-search-item list-item is-actionable item-box" data-search-type="recent-search" data-search-query="{{query}}"> <div class="obj-left item-img-24"> <i class="icon icon-search icon-medium list-icon"></i> </div> <div class="nfbc list-text txt-ellipsis">{{{name}}}</div> </li> {{/recentSearches}}',
    e.exports["typeahead/typeahead_saved_searches.mustache"] = '{{#savedSearches}} <li class="js-typeahead-item js-typeahead-saved-search-item list-item is-actionable item-box" data-search-type="saved-search" data-search-query="{{query}}"> <div class="obj-left item-img-24"> <i class="icon icon-search icon-medium list-icon"></i> </div> <div class="nfbc list-text txt-ellipsis">{{{name}}}</div> </li> {{/savedSearches}}',
    e.exports["typeahead/typeahead_topics.mustache"] = '{{#topics}} <li class="js-typeahead-item js-typeahead-topic-item list-item is-actionable item-box" data-search-type="topic" data-search-query="{{topic}}"> <div class="obj-left item-img-24"> <i class="icon icon-search icon-medium list-icon"></i> </div> <div class="nfbc list-text txt-ellipsis">{{{name}}}</div> </li> {{/topics}}',
    e.exports["typeahead/typeahead_users.mustache"] = '{{! NB: this template assumes data is in format provided by typeahead, not standard user object}} {{#users}} <li class="js-typeahead-item js-typeahead-user-item is-actionable list-item item-box" data-search-type="user" data-search-query="{{screen_name}}" data-screen-name="{{screen_name}}" data-user-name="{{name}}" data-user-id="{{id}}" data-profile-image-url="{{profile_image_url_https}} "> <div class="account-summary cf"> <div class="obj-left item-img-24"> <img class="js-avatar tweet-avatar avatar size24 pull-right" src="{{profile_image_url_https}}" width="24" height="24" /> </div> <div class="nbfc"> <div class="list-text link-complex inline-block"> <b class="fullname block txt-ellipsis">{{name}} {{#verified}}<i class="sprite sprite-verified-mini"></i>{{/verified}} </b> <span class="username block txt-ellipsis txt-mute">@{{screen_name}}</span> </div> </div> </div> </li> {{/users}}',
    e.exports["typeahead/typeahead_users_compose.mustache"] = '{{#users}} <li class="js-typeahead-item js-typeahead-user-item typeahead-item padding-am cf is-actionable" data-search-type="user" data-search-query="{{screen_name}}" data-screen-name="{{screen_name}}" data-user-name="{{name}}" data-user-id="{{id}}" data-user-is-dm-able="{{is_dm_able}}" data-profile-image-url="{{profile_image_url_https}}" data-verified="{{verified}}"> <img src="{{profile_image_url_https}}" class="avatar obj-left size24"> <div class="nbfc txt-ellipsis padding-ts"> <strong class="fullname">{{name}}</strong> {{#verified}}<i class="js-show-tip sprite sprite-verified-mini txt-bot" title="{{_i}}Verified account{{/i}}"></i>{{/verified}} <span class="username"><span>@</span><span class="js-screenname">{{screen_name}}</span></span> </div> </li> {{/users}}',
    e.exports["user_actions_btn_inv.mustache"] = '<div class="follow-combo"> <span> <button class="js-user-actions-menu btn btn-alt btn-square" data-user-id="{{profile.id}}" data-menu-position="{{actionsMenuPosition}}"> <i class="icon icon-user-dd"></i> </button> </span> </div>',
    e.exports["user_selector.mustache"] = '<div class="js-search-input-control search-input-control"> <input class="js-username-input js-submittable-input" type="text" placeholder="{{placeholder}}" value="" > {{#withSelectButton}} <a href="#" class="js-select-button txt-base-medium search-input-perform-search" tabindex="-1"> <i class="icon icon-small {{selectButtonIconClass}}"></i> </a> {{/withSelectButton}} <a href="#" class="js-clear-search txt-base-medium search-input-clear-search" tabindex="-1"> <i class="icon icon-close icon-small"></i> </a> <span class="js-spinner txt-base-medium spinner-small spinner-small-trans search-input-spinner"></span> </div>',
    e.exports["version.mustache"] = "Version {{version}}{{#buildIDShort}}-{{buildIDShort}}{{/buildIDShort}} ({{#wrapperVersion}}{{wrapperVersion}}-{{/wrapperVersion}}{{appEnv}}{{#isTouchDevice}}-touch{{/isTouchDevice}})",
    e.exports["windows_migration_messaging.mustache"] = '<div class="bg-r-white padding-axl"> <h3 class="margin-bxl txt-extra-large-fixed txt-weight-normal">The TweetDeck Windows app is no longer supported.</h3>  <p class="padding-vxl txt-base-medium"> To continue using TweetDeck, please visit <a href="{{tweetdeckURL}}" target="_blank">tweetdeck.twitter.com</a>. </p>  <p class="padding-vxl txt-base-medium"> <a href="https://blog.twitter.com/2016/a-more-seamless-log-in-experience" class="btn" target="_blank">Read more about this change</a> <a href="{{tweetdeckURL}}" class="btn btn-positive margin-rl" target="_blank">Log in on the web</a> </p> </div>',
    e.exports["with_fixed_header_and_footer.mustache"] = '<div> <div class="js-fhf-header is-hidden position-rel"> {{$header}}{{/header}} </div> <div class="js-fhf-body pin-all is-inverted-dark"> {{$body}}{{/body}} </div> <div class="js-fhf-footer is-hidden pin-bottom padding-am list-divider"> {{$footer}}{{/footer}} </div> </div>'
}
, function(e, t) {
    !function(e) {
        function t(t, i) {
            this.el = e(t),
            this.options = i || {},
            this.x = !1 !== this.options.x || this.options.forceHorizontal,
            this.y = !1 !== this.options.y || this.options.forceVertical,
            this.autoHide = !1 !== this.options.autoHide,
            this.padding = void 0 == this.options.padding ? 2 : this.options.padding,
            this.position = this.options.position,
            this.showOnMouseOver = !1 !== this.options.showOnMouseOver,
            this.inner = this.el.find(".antiscroll-inner"),
            this.inner.css({
                right: this.y ? -n() + "px" : 0,
                bottom: this.x ? -n() + "px" : 0
            }),
            this.refresh()
        }
        function i(t) {
            this.pane = t,
            this.pane.el.append(this.el),
            this.innerEl = this.pane.inner.get(0),
            this.dragging = !1,
            this.enter = !1,
            this.shown = !1,
            this.pane.el.mouseenter(e.proxy(this, "mouseenter")),
            this.pane.el.mouseleave(e.proxy(this, "mouseleave")),
            this.el.mousedown(e.proxy(this, "mousedown")),
            this.innerPaneScrollListener = e.proxy(this, "scroll"),
            this.pane.inner.scroll(this.innerPaneScrollListener),
            this.innerPaneMouseWheelListener = e.proxy(this, "mousewheel"),
            this.pane.inner.bind("mousewheel", this.innerPaneMouseWheelListener);
            var i = this.pane.options.initialDisplay;
            i !== !1 && (this.show(),
            this.pane.autoHide && (this.hiding = setTimeout(e.proxy(this, "hide"), parseInt(i, 10) || 3e3)))
        }
        function s(e, t) {
            function i() {}
            i.prototype = t.prototype,
            e.prototype = new i
        }
        function n() {
            if (void 0 === r) {
                var t = e('<div class="antiscroll-inner" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');
                e("body").append(t);
                var i = e(t).innerWidth()
                  , s = e("div", t).innerWidth();
                e(t).remove(),
                r = i - s
            }
            return r
        }
        e.fn.antiscroll = function(t) {
            return this.each(function() {
                e(this).data("antiscroll") && e(this).data("antiscroll").destroy(),
                e(this).data("antiscroll", new e.Antiscroll(this,t))
            })
        }
        ,
        e.Antiscroll = t,
        t.prototype.refresh = function() {
            var e = this.inner.get(0).scrollWidth > this.el.width() + (this.y ? n() : 0)
              , t = this.inner.get(0).scrollHeight > this.el.height() + (this.x ? n() : 0);
            this.x && (!this.horizontal && e ? this.horizontal = new i.Horizontal(this) : this.horizontal && !e ? (this.horizontal.destroy(),
            this.horizontal = null ) : this.horizontal && this.horizontal.update()),
            this.y && (!this.vertical && t ? this.vertical = new i.Vertical(this) : this.vertical && !t ? (this.vertical.destroy(),
            this.vertical = null ) : this.vertical && this.vertical.update())
        }
        ,
        t.prototype.destroy = function() {
            return this.horizontal && (this.horizontal.destroy(),
            this.horizontal = null ),
            this.vertical && (this.vertical.destroy(),
            this.vertical = null ),
            this
        }
        ,
        t.prototype.rebuild = function() {
            return this.destroy(),
            this.inner.attr("style", ""),
            t.call(this, this.el, this.options),
            this
        }
        ,
        i.prototype.destroy = function() {
            return this.el.remove(),
            this.pane.inner.unbind("scroll", this.innerPaneScrollListener),
            this.pane.inner.unbind("mousewheel", this.innerPaneMouseWheelListener),
            this
        }
        ,
        i.prototype.mouseenter = function() {
            this.enter = !0,
            this.pane.showOnMouseOver && this.show()
        }
        ,
        i.prototype.mouseleave = function() {
            this.enter = !1,
            this.dragging || this.pane.autoHide && this.hide()
        }
        ,
        i.prototype.scroll = function() {
            this.shown || (this.show(),
            !this.dragging && this.pane.autoHide && (this.hiding = setTimeout(e.proxy(this, "hide"), 1e3))),
            this.update()
        }
        ,
        i.prototype.mousedown = function(t) {
            t.preventDefault(),
            this.dragging = !0,
            this.startPageY = t.pageY - parseInt(this.el.css("top"), 10),
            this.startPageX = t.pageX - parseInt(this.el.css("left"), 10),
            this.el[0].ownerDocument.onselectstart = function() {
                return !1
            }
            ;
            var i = (this.pane,
            e.proxy(this, "mousemove"))
              , s = this;
            e(this.el[0].ownerDocument).mousemove(i).mouseup(function() {
                s.dragging = !1,
                this.onselectstart = null ,
                e(this).unbind("mousemove", i),
                s.enter || s.hide()
            })
        }
        ,
        i.prototype.show = function(e) {
            this.hiding && (clearTimeout(this.hiding),
            this.hiding = null ),
            !this.shown && this.update() && (this.el.addClass("antiscroll-scrollbar-shown"),
            this.shown = !0)
        }
        ,
        i.prototype.hide = function() {
            this.pane.autoHide !== !1 && this.shown && (this.el.removeClass("antiscroll-scrollbar-shown"),
            this.shown = !1)
        }
        ,
        i.Horizontal = function(t) {
            var s = document;
            t.el.length > 0 && (s = t.el[0].ownerDocument),
            this.el = e('<div class="antiscroll-scrollbar antiscroll-scrollbar-horizontal">', s),
            i.call(this, t)
        }
        ,
        s(i.Horizontal, i),
        i.Horizontal.prototype.update = function() {
            var e = this.pane.el.width()
              , t = e - 2 * this.pane.padding
              , i = this.pane.inner.get(0);
            return this.el.css("width", t * e / i.scrollWidth).css("left", t * i.scrollLeft / i.scrollWidth),
            e < i.scrollWidth
        }
        ,
        i.Horizontal.prototype.mousemove = function(e) {
            var t = this.pane.el.width() - 2 * this.pane.padding
              , i = e.pageX - this.startPageX
              , s = this.el.width()
              , n = this.pane.inner.get(0)
              , r = Math.min(Math.max(i, 0), t - s);
            n.scrollLeft = (n.scrollWidth - this.pane.el.width()) * r / (t - s)
        }
        ,
        i.Horizontal.prototype.mousewheel = function(e, t, i, s) {
            return 0 > i && 0 == this.pane.inner.get(0).scrollLeft || i > 0 && this.innerEl.scrollLeft + Math.ceil(this.pane.el.width()) == this.innerEl.scrollWidth ? (e.preventDefault(),
            !1) : void 0
        }
        ,
        i.Vertical = function(t) {
            var s = document;
            t.el.length > 0 && (s = t.el[0].ownerDocument),
            this.el = e('<div class="antiscroll-scrollbar antiscroll-scrollbar-vertical">', s),
            this.el.addClass("left" === t.position ? "antiscroll-scrollbar-position-left" : "antiscroll-scrollbar-position-right"),
            i.call(this, t)
        }
        ,
        s(i.Vertical, i),
        i.Vertical.prototype.update = function() {
            var e = this.pane.el.height()
              , t = e - 2 * this.pane.padding
              , i = this.innerEl
              , s = t * e / i.scrollHeight;
            s = 20 > s ? 20 : s;
            var n = t * i.scrollTop / i.scrollHeight;
            if (n + s > t) {
                var r = n + s - t;
                n = n - r - 3
            }
            return this.el.css("height", s).css("top", n),
            e < i.scrollHeight
        }
        ,
        i.Vertical.prototype.mousemove = function(e) {
            var t = this.pane.el.height()
              , i = t - 2 * this.pane.padding
              , s = e.pageY - this.startPageY
              , n = this.el.height()
              , r = this.innerEl
              , o = Math.min(Math.max(s, 0), i - n);
            r.scrollTop = (r.scrollHeight - t) * o / (i - n)
        }
        ,
        i.Vertical.prototype.mousewheel = function(e, t, i, s) {
            return s > 0 && 0 == this.innerEl.scrollTop || 0 > s && this.innerEl.scrollTop + Math.ceil(this.pane.el.height()) == this.innerEl.scrollHeight ? (e.preventDefault(),
            !1) : void 0
        }
        ;
        var r
    }(jQuery)
}
, function(e, t) {
    !function(e) {
        "use strict";
        var t = function(e, t) {
            this.init("tooltip", e, t)
        }
        ;
        t.prototype = {
            constructor: t,
            init: function(t, i, s) {
                var n, r, o, a, c;
                for (this.type = t,
                this.$element = e(i),
                this.options = this.getOptions(s),
                this.enabled = !0,
                o = this.options.trigger.split(" "),
                c = o.length; c--; )
                    a = o[c],
                    "click" == a ? this.$element.on("click." + this.type, this.options.selector, e.proxy(this.toggle, this)) : "manual" != a && (n = "hover" == a ? "mouseenter" : "focus",
                    r = "hover" == a ? "mouseleave" : "blur",
                    this.$element.on(n + "." + this.type, this.options.selector, e.proxy(this.enter, this)),
                    this.$element.on(r + "." + this.type, this.options.selector, e.proxy(this.leave, this)));
                this.options.selector ? this._options = e.extend({}, this.options, {
                    trigger: "manual",
                    selector: ""
                }) : this.fixTitle()
            },
            getOptions: function(t) {
                return t = e.extend({}, e.fn[this.type].defaults, t, this.$element.data()),
                t.delay && "number" == typeof t.delay && (t.delay = {
                    show: t.delay,
                    hide: t.delay
                }),
                t
            },
            enter: function(t) {
                var i = e(t.currentTarget)[this.type](this._options).data(this.type);
                return i.options.delay && i.options.delay.show ? (clearTimeout(this.timeout),
                i.hoverState = "in",
                void (this.timeout = setTimeout(function() {
                    "in" == i.hoverState && i.show()
                }, i.options.delay.show))) : i.show()
            },
            leave: function(t) {
                var i = e(t.currentTarget)[this.type](this._options).data(this.type);
                return this.timeout && clearTimeout(this.timeout),
                i.options.delay && i.options.delay.hide ? (i.hoverState = "out",
                void (this.timeout = setTimeout(function() {
                    "out" == i.hoverState && i.hide()
                }, i.options.delay.hide))) : i.hide()
            },
            show: function() {
                var t, i, s, n, r, o, a = e.Event("show");
                if (this.hasContent() && this.enabled) {
                    if (this.$element.trigger(a),
                    a.isDefaultPrevented())
                        return;
                    t = this.tip(),
                    this.setContent(),
                    this.options.animation && t.addClass("fade"),
                    t.detach(),
                    this.options.container ? t.appendTo(this.options.container) : t.insertAfter(this.$element),
                    r = this.getPlacement(),
                    t.css({
                        top: "object" == typeof r ? r.top : 0,
                        left: "object" == typeof r ? r.left : 0,
                        display: "block"
                    }),
                    i = this.getPosition(),
                    s = t[0].offsetWidth,
                    n = t[0].offsetHeight,
                    this.elementOffset = this.$element.offset();
                    var c = function() {
                        var e = this.$element.closest("body").length > 0
                          , t = this.$element.offset()
                          , i = this.elementOffset && (this.elementOffset.top != t.top || this.elementOffset.left != t.left);
                        (!e || i) && this.hide()
                    }
                    ;
                    switch (this.interval && clearTimeout(this.interval),
                    this.interval = setInterval(function() {
                        requestAnimationFrame(c.bind(this))
                    }
                    .bind(this), 500),
                    r) {
                    case "bottom":
                        o = {
                            top: i.top + i.height,
                            left: i.left + i.width / 2 - s / 2
                        };
                        break;
                    case "top":
                        o = {
                            top: i.top - n,
                            left: i.left + i.width / 2 - s / 2
                        };
                        break;
                    case "left":
                        o = {
                            top: i.top + i.height / 2 - n / 2,
                            left: i.left - s
                        };
                        break;
                    case "right":
                        o = {
                            top: i.top + i.height / 2 - n / 2,
                            left: i.left + i.width
                        }
                    }
                    this.applyPlacement(o, r.className || r),
                    this.$element.trigger("shown")
                }
            },
            applyPlacement: function(e, t) {
                var i, s, n, r, o = this.tip(), a = o[0].offsetWidth, c = o[0].offsetHeight;
                o.offset(e).addClass("string" == typeof t ? t : t.placement).addClass("in"),
                i = o[0].offsetWidth,
                s = o[0].offsetHeight,
                "top" == t && s != c && (e.top = e.top + c - s,
                r = !0),
                "bottom" == t || "top" == t ? (n = 0,
                e.left < 0 && (n = -2 * e.left,
                e.left = 0,
                o.offset(e),
                i = o[0].offsetWidth,
                s = o[0].offsetHeight),
                this.replaceArrow(n - a + i, i, "left")) : this.replaceArrow(s - c, s, "top"),
                r && o.offset(e)
            },
            replaceArrow: function(e, t, i) {
                this.arrow().css(i, e ? 50 * (1 - e / t) + "%" : "")
            },
            setContent: function() {
                var e = this.tip()
                  , t = this.getTitle();
                e.find(".tooltip-inner")[this.options.html ? "html" : "text"](t),
                e.removeClass("fade in top bottom left right")
            },
            hide: function() {
                function t() {
                    var t = setTimeout(function() {
                        i.off(e.support.transition.end).detach()
                    }, 500);
                    i.one(e.support.transition.end, function() {
                        clearTimeout(t),
                        i.detach()
                    })
                }
                var i = this.tip()
                  , s = e.Event("hide");
                return this.$element.trigger(s),
                s.isDefaultPrevented() ? void 0 : (i.removeClass("in"),
                !this.options.suppressFadeOut && e.support.transition && this.$tip.hasClass("fade") ? t() : i.detach(),
                this.elementOffset = null ,
                clearInterval(this.interval),
                this.$element.trigger("hidden"),
                this)
            },
            fixTitle: function() {
                var e = this.$element;
                (e.attr("title") || "string" != typeof e.attr("data-original-title")) && e.attr("data-original-title", e.attr("title") || "").attr("title", "")
            },
            hasContent: function() {
                return this.getTitle()
            },
            getPlacement: function() {
                var e = this.$element
                  , t = e.attr("data-tooltip-position");
                return t || (t = "function" == typeof this.options.placement ? this.options.placement.call(this, this.$tip[0], this.$element[0]) : this.options.placement),
                t
            },
            getPosition: function() {
                var t = this.$element[0];
                return e.extend({}, "function" == typeof t.getBoundingClientRect ? t.getBoundingClientRect() : {
                    width: t.offsetWidth,
                    height: t.offsetHeight
                }, this.$element.offset())
            },
            getTitle: function() {
                var e, t = this.$element, i = this.options;
                return e = t.attr("data-original-title") || ("function" == typeof i.title ? i.title.call(t[0]) : i.title)
            },
            tip: function() {
                return this.$tip = this.$tip || e(this.options.template)
            },
            arrow: function() {
                return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
            },
            validate: function() {
                this.$element[0].parentNode || (this.hide(),
                this.$element = null ,
                this.options = null )
            },
            enable: function() {
                this.enabled = !0
            },
            disable: function() {
                this.enabled = !1
            },
            toggleEnabled: function() {
                this.enabled = !this.enabled
            },
            toggle: function(t) {
                var i = t ? e(t.currentTarget)[this.type](this._options).data(this.type) : this;
                i.tip().hasClass("in") ? i.hide() : i.show()
            },
            destroy: function() {
                this.hide().$element.off("." + this.type).removeData(this.type)
            }
        };
        var i = e.fn.tooltip;
        e.fn.tooltip = function(i) {
            return this.each(function() {
                var s = e(this)
                  , n = s.data("tooltip")
                  , r = "object" == typeof i && i;
                n || s.data("tooltip", n = new t(this,r)),
                "string" == typeof i && n[i]()
            })
        }
        ,
        e.fn.tooltip.Constructor = t,
        e.fn.tooltip.defaults = {
            animation: !0,
            placement: "top",
            selector: !1,
            template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
            trigger: "hover focus",
            title: "",
            delay: 0,
            html: !1,
            container: !1
        },
        e.fn.tooltip.noConflict = function() {
            return e.fn.tooltip = i,
            this
        }
    }(window.jQuery)
}
, function(e, t) {
    !function(e) {
        "use strict";
        e(function() {
            e.support.transition = function() {
                var e = function() {
                    var e, t = document.createElement("bootstrap"), i = {
                        WebkitTransition: "webkitTransitionEnd",
                        MozTransition: "transitionend",
                        OTransition: "oTransitionEnd otransitionend",
                        transition: "transitionend"
                    };
                    for (e in i)
                        if (void 0 !== t.style[e])
                            return i[e]
                }();
                return e && {
                    end: e
                }
            }()
        })
    }(window.jQuery)
}
, function(e, t) {
    /**
	 * @license
	 * jQuery Tools 1.2.5 Dateinput - <input type="date" /> for humans
	 *
	 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
	 *
	 * http://flowplayer.org/tools/form/dateinput/
	 *
	 * Since: Mar 2010
	 * Date:    Wed Sep 22 06:02:10 2010 +0000
	 */
    !function(e) {
        function t(e, t) {
            return 32 - new Date(e,t,32).getDate()
        }
        function i(e, t) {
            for (e = "" + e,
            t = t || 2; e.length < t; )
                e = "0" + e;
            return e
        }
        function s(e, t, s) {
            var n = e.getDate()
              , r = e.getDay()
              , o = e.getMonth()
              , a = e.getFullYear()
              , c = {
                d: n,
                dd: i(n),
                ddd: d[s].shortDays[r],
                dddd: d[s].days[r],
                m: o + 1,
                mm: i(o + 1),
                mmm: d[s].shortMonths[o],
                mmmm: d[s].months[o],
                yy: String(a).slice(2),
                yyyy: a
            }
              , l = t.replace(h, function(e) {
                return e in c ? c[e] : e.slice(1, e.length - 1)
            });
            return m.html(l).html()
        }
        function n(e) {
            return parseInt(e, 10)
        }
        function r(e, t) {
            return e.getFullYear() === t.getFullYear() && e.getMonth() == t.getMonth() && e.getDate() == t.getDate()
        }
        function o(e) {
            if (e) {
                if (e.constructor == Date)
                    return e;
                if ("string" == typeof e) {
                    var t = e.split("-");
                    if (3 == t.length)
                        return new Date(n(t[0]),n(t[1]) - 1,n(t[2]));
                    if (!/^-?\d+$/.test(e))
                        return;
                    e = n(e)
                }
                var i = new Date;
                return i.setDate(i.getDate() + e),
                i
            }
        }
        function a(i, a) {
            function c(t, n, r) {
                S = t,
                f = t.getFullYear(),
                g = t.getMonth(),
                v = t.getDate(),
                r = r || e.Event("api"),
                r.type = "change",
                k.trigger(r, [t]),
                r.isDefaultPrevented() || (i.val(s(t, n.format, n.lang)),
                i.data("date", t),
                w.hide(r))
            }
            function h(e) {
                e.type = "onShow",
                k.trigger(e)
            }
            var m, p, f, g, v, T, w = this, b = new Date, y = a.css, D = d[a.lang], C = e("#" + y.root), _ = C.find("#" + y.title), S = i.attr("data-value") || a.value || i.val(), A = i.attr("min") || a.min, E = i.attr("max") || a.max;
            if (0 === A && (A = "0"),
            S = o(S) || b,
            A = o(A || 365 * a.yearRange[0]),
            E = o(E || 365 * a.yearRange[1]),
            !D)
                throw "Dateinput: invalid language: " + a.lang;
            if ("date" == i.attr("type")) {
                var I = e("<input/>");
                e.each("class,disabled,id,maxlength,name,readonly,required,size,style,tabindex,title,value".split(","), function(e, t) {
                    I.attr(t, i.attr(t))
                }),
                i.replaceWith(I),
                i = I
            }
            i.addClass(y.input);
            var k = i.add(w);
            if (!C.length) {
                if (C = e("<div><div><div/></div><div><div/><div/></div></div>").hide().css({
                    position: "relative"
                }).attr("id", y.root),
                C.children().eq(0).attr("id", y.head).end().eq(1).attr("id", y.body).children().eq(0).attr("id", y.days).end().eq(1).attr("id", y.weeks).end().end().end(),
                _ = C.find("#" + y.head).find("div").attr("id", y.title),
                a.selectors) {
                    var x = e("<select/>").attr("id", y.month)
                      , M = e("<select/>").attr("id", y.year);
                    _.html(x.add(M))
                }
                for (var R = C.find("#" + y.days), F = 0; 7 > F; F++)
                    R.append(e("<span/>").text(D.shortDays[(F + a.firstDay) % 7]));
                e("#calendar").append(C)
            }
            var L = C.find("#" + y.weeks);
            M = C.find("#" + y.year),
            x = C.find("#" + y.month),
            e.extend(w, {
                show: function(t) {
                    if (!(i.attr("readonly") || i.attr("disabled") || T || (t = t || e.Event(),
                    t.type = "onBeforeShow",
                    k.trigger(t),
                    t.isDefaultPrevented()))) {
                        e.each(l, function() {
                            this.hide()
                        }),
                        T = !0,
                        x.unbind("change").change(function() {
                            w.setValue(M.val(), e(this).val())
                        }),
                        M.unbind("change").change(function() {
                            w.setValue(e(this).val(), x.val())
                        }),
                        m = C.find("#" + y.prev).unbind("click").click(function(e) {
                            return m.hasClass(y.disabled) || w.addMonth(-1),
                            !1
                        }),
                        p = C.find("#" + y.next).unbind("click").click(function(e) {
                            return p.hasClass(y.disabled) || w.addMonth(),
                            !1
                        }),
                        w.setValue(S);
                        var s = i.offset();
                        return /iPad/i.test(navigator.userAgent) && (s.top -= e(window).scrollTop()),
                        a.speed ? C.show(a.speed, function() {
                            h(t)
                        }) : (C.show(),
                        h(t)),
                        w
                    }
                },
                setValue: function(i, s, o) {
                    var l = n(s) >= -1 ? new Date(n(i),n(s),n(o || 1)) : i || S;
                    if (A > l ? l = A : l > E && (l = E),
                    i = l.getFullYear(),
                    s = l.getMonth(),
                    o = l.getDate(),
                    -1 == s ? (s = 11,
                    i--) : 12 == s && (s = 0,
                    i++),
                    !T)
                        return c(l, a),
                        w;
                    g = s,
                    f = i,
                    v = o;
                    var u, d = new Date(i,s,1 - a.firstDay), h = d.getDay(), C = t(i, s), I = t(i, s - 1);
                    if (a.selectors) {
                        x.empty(),
                        e.each(D.months, function(t, s) {
                            A < new Date(i,t + 1,-1) && E > new Date(i,t,0) && x.append(e("<option/>").html(s).attr("value", t))
                        }),
                        M.empty();
                        for (var k = b.getFullYear(), R = k + a.yearRange[0]; R < k + a.yearRange[1]; R++)
                            A <= new Date(R + 1,-1,1) && E > new Date(R,0,0) && M.append(e("<option/>").text(R));
                        x.val(s),
                        M.val(i)
                    } else
                        _.html(D.months[s] + " " + i);
                    L.empty(),
                    m.add(p).removeClass(y.disabled);
                    for (var F, O, N = h ? 0 : -7; (h ? 42 : 35) > N; N++)
                        F = e("<a/>"),
                        N % 7 === 0 && (u = e("<div/>").addClass(y.week),
                        L.append(u)),
                        h > N ? (F.addClass(y.off),
                        O = I - h + N + 1,
                        l = new Date(i,s - 1,O)) : N >= h + C ? (F.addClass(y.off),
                        O = N - C - h + 1,
                        l = new Date(i,s + 1,O)) : (O = N - h + 1,
                        l = new Date(i,s,O),
                        r(S, l) ? F.attr("id", y.current).addClass(y.focus) : r(b, l) && F.attr("id", y.today)),
                        A && A > l && F.add(m).addClass(y.disabled),
                        E && l > E && F.add(p).addClass(y.disabled),
                        F.attr("href", "#" + O).text(O).data("date", l),
                        u.append(F);
                    return L.find("a").click(function(t) {
                        var i = e(this);
                        return i.hasClass(y.disabled) || (e("#" + y.current).removeAttr("id"),
                        i.attr("id", y.current),
                        c(i.data("date"), a, t)),
                        !1
                    }),
                    y.sunday && L.find(y.week).each(function() {
                        var t = a.firstDay ? 7 - a.firstDay : 0;
                        e(this).children().slice(t, t + 1).addClass(y.sunday)
                    }),
                    w
                },
                setMin: function(e, t) {
                    return A = o(e),
                    t && A > S && w.setValue(A),
                    w
                },
                setMax: function(e, t) {
                    return E = o(e),
                    t && S > E && w.setValue(E),
                    w
                },
                today: function() {
                    return w.setValue(b)
                },
                addDay: function(e) {
                    return this.setValue(f, g, v + (e || 1))
                },
                addMonth: function(e) {
                    return this.setValue(f, g + (e || 1), v)
                },
                addYear: function(e) {
                    return this.setValue(f + (e || 1), g, v)
                },
                hide: function(t) {
                    if (T) {
                        if (t = e.Event(),
                        t.type = "onHide",
                        k.trigger(t),
                        e(document).unbind("click.d").unbind("keydown.d"),
                        t.isDefaultPrevented())
                            return;
                        C.hide(),
                        T = !1
                    }
                    return w
                },
                getConf: function() {
                    return a
                },
                getInput: function() {
                    return i
                },
                getCalendar: function() {
                    return C
                },
                getValue: function(e) {
                    return e ? s(S, e, a.lang) : S
                },
                isOpen: function() {
                    return T
                }
            }),
            e.each(["onBeforeShow", "onShow", "change", "onHide"], function(t, i) {
                e.isFunction(a[i]) && e(w).bind(i, a[i]),
                w[i] = function(t) {
                    return t && e(w).bind(i, t),
                    w
                }
            }),
            i.bind("focus click", w.show).keydown(function(t) {
                var i = t.keyCode;
                return !T && e(u).index(i) >= 0 ? (w.show(t),
                t.preventDefault()) : t.shiftKey || t.ctrlKey || t.altKey || 9 == i ? !0 : t.preventDefault()
            }),
            o(i.val()) && c(S, a)
        }
        e.tools = e.tools || {
            version: "1.2.5"
        };
        var c, l = [], u = [75, 76, 38, 39, 74, 72, 40, 37], d = {};
        c = e.tools.dateinput = {
            conf: {
                format: "mm/dd/yy",
                selectors: !1,
                yearRange: [-5, 5],
                lang: "en",
                offset: [0, 0],
                speed: 0,
                firstDay: 0,
                min: void 0,
                max: void 0,
                trigger: !1,
                css: {
                    prefix: "cal",
                    input: "date",
                    root: 0,
                    head: 0,
                    title: 0,
                    prev: 0,
                    next: 0,
                    month: 0,
                    year: 0,
                    days: 0,
                    body: 0,
                    weeks: 0,
                    today: 0,
                    current: 0,
                    week: 0,
                    off: 0,
                    sunday: 0,
                    focus: 0,
                    disabled: 0,
                    trigger: 0
                }
            },
            localize: function(t, i) {
                e.each(i, function(e, t) {
                    i[e] = t.split(",")
                }),
                d[t] = i
            }
        },
        c.localize("en", {
            months: "January,February,March,April,May,June,July,August,September,October,November,December",
            shortMonths: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",
            days: "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",
            shortDays: "S,M,T,W,T,F,S"
        });
        var h = /d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g
          , m = e("<a/>");
        e.expr[":"].date = function(t) {
            var i = t.getAttribute("type");
            return i && "date" == i || !!e(t).data("dateinput")
        }
        ,
        e.fn.dateinput = function(t) {
            if (this.data("dateinput"))
                return this;
            t = e.extend(!0, {}, c.conf, t),
            e.each(t.css, function(e, i) {
                i || "prefix" == e || (t.css[e] = (t.css.prefix || "") + (i || e))
            });
            var i;
            return this.each(function() {
                var s = new a(e(this),t);
                l.push(s);
                var n = s.getInput().data("dateinput", s);
                i = i ? i.add(n) : n
            }),
            i ? i : this
        }
    }(jQuery)
}
, function(e, t) {
    !function(e) {
        var t = function(t) {
            function i() {
                var t = e(this).position().top + T.scrollTop()
                  , i = e(this).position().left + T.scrollLeft()
                  , s = e(this).innerWidth();
                m.top.unshift(t),
                m.left.unshift(i),
                e(this).css({
                    position: "absolute",
                    top: t,
                    left: i,
                    width: s
                })
            }
            function s(s) {
                m = {
                    top: [],
                    left: []
                },
                e.fn.reverse = [].reverse,
                g = function() {
                    var i = 0;
                    return T.find(t.contentSelector).each(function() {
                        i += e(this).outerHeight()
                    }),
                    i
                }(),
                v = function() {
                    var i = 0;
                    return T.find(t.contentSelector).each(function() {
                        i += e(this).outerWidth()
                    }),
                    i
                }(),
                e(this).append(e("<" + t.tagName + "/>", {
                    "class": "placeholder",
                    height: e(this).height(),
                    width: e(this).width()
                })),
                T.css("z-index", 2).find(t.selector).each(function(t) {
                    e(this).data("draggable-index", t)
                }).reverse().each(i),
                h = e(s.target),
                h.css({
                    "z-index": 10
                })
            }
            function n(e, i) {
                var s, n, r = h.data("draggable-index"), o = e.data("draggable-index"), a = e.outerHeight() - h.outerHeight(), c = e.outerWidth() - h.outerWidth(), l = parseInt(h.css("margin-left"), 10), u = parseInt(h.css("margin-top"), 10), d = parseInt(e.css("margin-right"), 10), p = parseInt(e.css("margin-bottom"), 10);
                switch (i) {
                case w:
                    s = m.top[r] - a;
                    break;
                case b:
                    s = m.top[r],
                    m.top[o] = s + e.outerHeight() + p + u;
                    break;
                case y:
                    n = m.left[r] - c;
                    break;
                case D:
                    n = m.left[r],
                    m.left[o] = n + e.outerWidth() + d + l
                }
                "vertical" === t.orientation ? e.stop().animate({
                    top: s
                }, "fast") : e.stop().animate({
                    left: n
                }, "fast"),
                h.data("draggable-index", o),
                e.data("draggable-index", r)
            }
            function r(e) {
                var i, s, r, o, a, c = h.position().top, l = h.outerHeight(), u = h.position().left, d = h.outerWidth();
                if (i = e === w || e === y ? h.prev(t.selector) : h.next(t.selector),
                i.length)
                    switch (s = i.position().top,
                    r = i.outerHeight(),
                    o = i.position().left,
                    a = i.outerWidth(),
                    e) {
                    case w:
                        s + r / 2 > c && (h.insertBefore(i),
                        n(i, e));
                        break;
                    case b:
                        c + l > s + r / 2 && (h.insertAfter(i),
                        n(i, e));
                        break;
                    case y:
                        o + a / 2 > u && (h.insertBefore(i),
                        n(i, e));
                        break;
                    case D:
                        u + d > o + a / 2 && (h.insertAfter(i),
                        n(i, e))
                    }
            }
            function o(e) {
                var i = (new Date).getTime() - f
                  , s = T.scrollTop()
                  , n = parseInt(h.css("top"), 10)
                  , o = n + h.outerHeight()
                  , a = T.scrollLeft()
                  , l = parseInt(h.css("left"), 10)
                  , u = l + h.outerWidth()
                  , d = 1 + i / 1e3
                  , m = Math.min(d * t.scroll_speed, 3 * t.scroll_speed);
                m = e === b || e === D ? m : -m,
                "vertical" === t.orientation ? 0 > s + m ? c() : s + m > g - T.innerHeight() ? c() : (T.scrollTop(T.scrollTop() + m),
                n + m > 0 && g > o + m && h.css({
                    top: n + m
                }),
                r(e)) : 0 > a + m ? c() : a + m > v - T.innerWidth() ? c() : (T.scrollLeft(T.scrollLeft() + m),
                l + m > 0 && v > u + m && h.css({
                    left: l + m
                }),
                r(e))
            }
            function a(e) {
                f = (new Date).getTime(),
                c(),
                p = setInterval(_.bind(o, this, e), C)
            }
            function c() {
                clearInterval(p),
                p = null
            }
            function l(e, i, s) {
                if (h) {
                    var n, o, l, u = parseInt(h.css("top"), 10), d = u + h.outerHeight(), m = parseInt(h.css("left"), 10), f = m + h.outerWidth(), g = T.scrollTop() + T.innerHeight(), v = T.scrollLeft() + T.innerWidth();
                    if (i)
                        if ("vertical" === t.orientation) {
                            for (n = i.y < 0 ? w : b,
                            o = i.y; 0 > o; )
                                r(n),
                                o += h.outerHeight();
                            for (o = i.y; o > 0; )
                                r(n),
                                o -= h.outerHeight()
                        } else {
                            for (n = i.x < 0 ? y : D,
                            l = i.x; 0 > l; )
                                r(n),
                                l += h.outerWidth();
                            for (l = i.x; l > 0; )
                                r(n),
                                l -= h.outerWidth()
                        }
                    s ? (s.y > T.offset().top || s.y < T.offset().top + T.outerHeight()) && c() : c(),
                    p || ("vertical" === t.orientation ? d > g ? a(b) : u < T.scrollTop() ? a(w) : c() : f > v ? a(D) : m < T.scrollLeft() ? a(y) : c())
                }
            }
            function u() {
                e(this).find(".placeholder").remove(),
                T.css("height", "").find(t.selector).attr("style", ""),
                h.trigger("dropped.dragdroplist")
            }
            function d() {
                m && (c(),
                "vertical" === t.orientation ? h.animate({
                    top: m.top[h.data("draggable-index")]
                }, "fast", u.bind(this)) : h.animate({
                    left: m.left[h.data("draggable-index")]
                }, "fast", u.bind(this)),
                h.trigger("drop.dragdroplist"))
            }
            var h, m, p, f, g, v, T = t.$boundary, w = "up", b = "down", y = "left", D = "right", C = 30;
            return {
                handleDragStart: s,
                handleDrop: d,
                handleDrag: l
            }
        }
        ;
        e.fn.dragdroplist = function(i) {
            var s = {
                orientation: "vertical",
                tagName: "li",
                selector: ".draggable",
                contentSelector: "> *",
                scroll_speed: 8
            };
            return e(this).each(function() {
                var n, r, o = function(e) {
                    e.draggable({
                        translateX: "horizontal" === r.orientation,
                        translateY: "vertical" === r.orientation,
                        handle: r.handle ? r.handle : r.tagName,
                        boundary: r.$boundary
                    })
                }
                ;
                e(this).data("dragdroplist") || (r = e.extend({}, s, i),
                r.$boundary = r.$boundary || e(this),
                e(this).data("dragdroplist", {
                    settings: r
                }),
                n = new t(r),
                e(this).find(r.tagName).each(function() {
                    o(e(this))
                }),
                e(this).bind("start.draggable", n.handleDragStart).bind("drop.draggable", n.handleDrop).bind("drag.draggable", n.handleDrag)),
                e(this).on("itemadded.dragdroplist", function(t) {
                    o(e(t.target))
                })
            }),
            e(this)
        }
    }(jQuery)
}
, function(e, t) {
    !function(e) {
        e.fn.draggable = function(t) {
            var i = {
                translateY: !0,
                translateX: !0,
                boundary: "body"
            };
            return e(this).each(function() {
                function s() {
                    h && 0 !== h.length || (h = "function" == typeof d.boundary ? d.boundary() : e(d.boundary))
                }
                function n() {
                    return h[0].scrollHeight
                }
                function r() {
                    return h[0].scrollWidth
                }
                function o(e, t, i) {
                    var s, o, a, c, l, u, d, m, p, f, g, T, w, b, y;
                    "x" === i ? (t = t.x,
                    c = v.outerWidth(),
                    s = v.offset().left,
                    l = h.offset().left,
                    u = h.outerWidth(),
                    m = e.pageX < s,
                    p = e.pageX > s + c,
                    b = "left",
                    y = r()) : (t = t.y,
                    c = v.outerHeight(),
                    s = v.offset().top,
                    l = h.offset().top,
                    u = h.outerHeight(),
                    m = e.pageY < s,
                    p = e.pageY > s + c,
                    b = "top",
                    y = n()),
                    T = t > 0,
                    w = 0 > t,
                    o = parseInt(v.css(b), 10),
                    f = l > s,
                    a = o + c,
                    g = s + c > l + u,
                    m && T || p && w || f && w || g && T || (d = w ? 0 > o + t ? 0 : o + t : a + t > y ? y - c - 1 : o + t,
                    v.css(b, d))
                }
                function a(e) {
                    var t = {
                        y: e.pageY - f,
                        x: e.pageX - g
                    }
                      , i = !1;
                    f = e.pageY,
                    g = e.pageX,
                    e.preventDefault(),
                    d.translateY && (o(e, t, "y"),
                    i = !0),
                    d.translateX && (o(e, t, "x"),
                    i = !0),
                    i && v.trigger("drag.draggable", [t, {
                        y: e.pageY,
                        x: e.pageX
                    }])
                }
                function c() {
                    e(document).unbind("mousemove", l).unbind("mousemove", a).unbind("mouseup", c),
                    T && v.trigger("drop.draggable").removeClass("draggable-dragging"),
                    T = !1
                }
                function l(t) {
                    T = !0,
                    e(document).unbind("mousemove", l).bind("mousemove", a),
                    f = t.pageY,
                    g = t.pageX,
                    s(),
                    m = n(),
                    p = r(),
                    v.trigger("start.draggable", [t.offsetY, t.offsetX]).addClass("draggable-dragging")
                }
                function u(t) {
                    t.preventDefault(),
                    e(document).bind("mousemove", l).bind("mouseup", c)
                }
                var d, h, m, p, f, g, v = e(this), T = !1;
                d = v.data("draggable") ? e.extend({}, v.data("draggable").settings, t) : e.extend({}, i, t),
                void 0 === d.handle && (d.handle = v),
                "string" == typeof d.handle ? v.off("mousedown", d.handle, u).on("mousedown", d.handle, u) : d.handle.unbind("mousedown", u).bind("mousedown", u),
                v.data("draggable", {
                    settings: d
                })
            }),
            this
        }
    }(jQuery)
}
, function(e, t) {
    jQuery.easing.jswing = jQuery.easing.swing,
    jQuery.extend(jQuery.easing, {
        def: "easeOutQuad",
        swing: function(e, t, i, s, n) {
            return jQuery.easing[jQuery.easing.def](e, t, i, s, n)
        },
        easeInQuad: function(e, t, i, s, n) {
            return s * (t /= n) * t + i
        },
        easeOutQuad: function(e, t, i, s, n) {
            return -s * (t /= n) * (t - 2) + i
        },
        easeInOutQuad: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? s / 2 * t * t + i : -s / 2 * (--t * (t - 2) - 1) + i
        },
        easeInCubic: function(e, t, i, s, n) {
            return s * (t /= n) * t * t + i
        },
        easeOutCubic: function(e, t, i, s, n) {
            return s * ((t = t / n - 1) * t * t + 1) + i
        },
        easeInOutCubic: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? s / 2 * t * t * t + i : s / 2 * ((t -= 2) * t * t + 2) + i
        },
        easeInQuart: function(e, t, i, s, n) {
            return s * (t /= n) * t * t * t + i
        },
        easeOutQuart: function(e, t, i, s, n) {
            return -s * ((t = t / n - 1) * t * t * t - 1) + i
        },
        easeInOutQuart: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? s / 2 * t * t * t * t + i : -s / 2 * ((t -= 2) * t * t * t - 2) + i
        },
        easeInQuint: function(e, t, i, s, n) {
            return s * (t /= n) * t * t * t * t + i
        },
        easeOutQuint: function(e, t, i, s, n) {
            return s * ((t = t / n - 1) * t * t * t * t + 1) + i
        },
        easeInOutQuint: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? s / 2 * t * t * t * t * t + i : s / 2 * ((t -= 2) * t * t * t * t + 2) + i
        },
        easeInSine: function(e, t, i, s, n) {
            return -s * Math.cos(t / n * (Math.PI / 2)) + s + i
        },
        easeOutSine: function(e, t, i, s, n) {
            return s * Math.sin(t / n * (Math.PI / 2)) + i
        },
        easeInOutSine: function(e, t, i, s, n) {
            return -s / 2 * (Math.cos(Math.PI * t / n) - 1) + i
        },
        easeInExpo: function(e, t, i, s, n) {
            return 0 == t ? i : s * Math.pow(2, 10 * (t / n - 1)) + i
        },
        easeOutExpo: function(e, t, i, s, n) {
            return t == n ? i + s : s * (-Math.pow(2, -10 * t / n) + 1) + i
        },
        easeInOutExpo: function(e, t, i, s, n) {
            return 0 == t ? i : t == n ? i + s : (t /= n / 2) < 1 ? s / 2 * Math.pow(2, 10 * (t - 1)) + i : s / 2 * (-Math.pow(2, -10 * --t) + 2) + i
        },
        easeInCirc: function(e, t, i, s, n) {
            return -s * (Math.sqrt(1 - (t /= n) * t) - 1) + i
        },
        easeOutCirc: function(e, t, i, s, n) {
            return s * Math.sqrt(1 - (t = t / n - 1) * t) + i
        },
        easeInOutCirc: function(e, t, i, s, n) {
            return (t /= n / 2) < 1 ? -s / 2 * (Math.sqrt(1 - t * t) - 1) + i : s / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + i
        },
        easeInElastic: function(e, t, i, s, n) {
            var r = 1.70158
              , o = 0
              , a = s;
            if (0 == t)
                return i;
            if (1 == (t /= n))
                return i + s;
            if (o || (o = .3 * n),
            a < Math.abs(s)) {
                a = s;
                var r = o / 4
            } else
                var r = o / (2 * Math.PI) * Math.asin(s / a);
            return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - r) * (2 * Math.PI) / o)) + i
        },
        easeOutElastic: function(e, t, i, s, n) {
            var r = 1.70158
              , o = 0
              , a = s;
            if (0 == t)
                return i;
            if (1 == (t /= n))
                return i + s;
            if (o || (o = .3 * n),
            a < Math.abs(s)) {
                a = s;
                var r = o / 4
            } else
                var r = o / (2 * Math.PI) * Math.asin(s / a);
            return a * Math.pow(2, -10 * t) * Math.sin((t * n - r) * (2 * Math.PI) / o) + s + i
        },
        easeInOutElastic: function(e, t, i, s, n) {
            var r = 1.70158
              , o = 0
              , a = s;
            if (0 == t)
                return i;
            if (2 == (t /= n / 2))
                return i + s;
            if (o || (o = n * (.3 * 1.5)),
            a < Math.abs(s)) {
                a = s;
                var r = o / 4
            } else
                var r = o / (2 * Math.PI) * Math.asin(s / a);
            return 1 > t ? -.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - r) * (2 * Math.PI) / o)) + i : a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * n - r) * (2 * Math.PI) / o) * .5 + s + i
        },
        easeInBack: function(e, t, i, s, n, r) {
            return void 0 == r && (r = 1.70158),
            s * (t /= n) * t * ((r + 1) * t - r) + i
        },
        easeOutBack: function(e, t, i, s, n, r) {
            return void 0 == r && (r = 1.70158),
            s * ((t = t / n - 1) * t * ((r + 1) * t + r) + 1) + i
        },
        easeInOutBack: function(e, t, i, s, n, r) {
            return void 0 == r && (r = 1.70158),
            (t /= n / 2) < 1 ? s / 2 * (t * t * (((r *= 1.525) + 1) * t - r)) + i : s / 2 * ((t -= 2) * t * (((r *= 1.525) + 1) * t + r) + 2) + i
        },
        easeInBounce: function(e, t, i, s, n) {
            return s - jQuery.easing.easeOutBounce(e, n - t, 0, s, n) + i
        },
        easeOutBounce: function(e, t, i, s, n) {
            return (t /= n) < 1 / 2.75 ? s * (7.5625 * t * t) + i : 2 / 2.75 > t ? s * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + i : 2.5 / 2.75 > t ? s * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + i : s * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + i
        },
        easeInOutBounce: function(e, t, i, s, n) {
            return n / 2 > t ? .5 * jQuery.easing.easeInBounce(e, 2 * t, 0, s, n) + i : .5 * jQuery.easing.easeOutBounce(e, 2 * t - n, 0, s, n) + .5 * s + i
        }
    })
}
, , function(e, t) {
    "use strict";
    !function() {
        function e(e, t) {
            if (this.created = e,
            this.cursors = t,
            !t.length)
                throw Error("AggregateCursor created with no cursors");
            this.interval = t.reduce(function(e, t) {
                return e.hull(t.interval)
            }, TD.services.ChirpInterval.empty)
        }
        TD.services.AggregateCursor = e,
        e.prototype.addCursor = function(t) {
            return new e(this.created,this.cursors.concat(t))
        }
        ,
        e.prototype.getCursors = function() {
            return this.cursors
        }
        ,
        e.prototype.getCursorForKey = function(e) {
            for (var t = 0, i = this.cursors.length; i > t; t++)
                if (this.cursors[t].feedKey === e)
                    return this.cursors[t]
        }
    }()
}
, function(e, t) {
    "use strict";
    TD.services.ChirpBase = function(e) {
        this.account = e
    }
    ,
    TD.services.ChirpBase.kMEDIA_CLASS = "s-media",
    TD.services.ChirpBase.RETWEET_CLASS = "is-retweet",
    TD.services.ChirpBase.FAVORITE_CLASS = "is-favorite",
    TD.services.ChirpBase.UNREAD_CLASS = "is-unread",
    TD.services.ChirpBase.TWEET = "tweet",
    TD.services.ChirpBase.GAP = "gap",
    TD.services.ChirpBase.CONVERSATION_JOIN = "conversation_participants_join",
    TD.services.ChirpBase.CONVERSATION_PARTICIPANTS_JOIN = "conversation_participants_join",
    TD.services.ChirpBase.CONVERSATION_PARTICIPANTS_FAILED = "conversation_participants_failed",
    TD.services.ChirpBase.CONVERSATION_NAME_UPDATE = "conversation_name_update",
    TD.services.ChirpBase.MESSAGE = "message",
    TD.services.ChirpBase.MESSAGE_THREAD = "message_thread",
    TD.services.ChirpBase.SCHEDULED_STATUS = "scheduled_status",
    TD.services.ChirpBase.SCHEDULED_GROUP = "scheduled_group",
    TD.services.ChirpBase.SCHEDULED_TWEET = "scheduled_tweet",
    TD.services.ChirpBase.SCHEDULED_TWEET_GROUP = "scheduled_tweet_group",
    TD.services.ChirpBase.DATAMINR_ALERT = "dataminr_alert",
    TD.services.ChirpBase.prototype.id = "",
    TD.services.ChirpBase.prototype.chirpType = "unknown",
    TD.services.ChirpBase.prototype.text = "",
    TD.services.ChirpBase.prototype.created = null ,
    TD.services.ChirpBase.prototype.htmlText = "",
    TD.services.ChirpBase.prototype.creatorAccount = null ,
    TD.services.ChirpBase.prototype.embeds = null ,
    TD.services.ChirpBase.prototype.apiBounds = null ,
    TD.services.ChirpBase.prototype.getApiBounds = function(e) {
        return this.apiBounds = this.apiBounds || {},
        this.apiBounds[e] || {}
    }
    ,
    TD.services.ChirpBase.prototype.setApiBounds = function(e, t) {
        return this.apiBounds = this.apiBounds || {},
        this.apiBounds[e] = t,
        this
    }
    ,
    TD.services.ChirpBase.prototype.apiSource = "rest",
    TD.services.ChirpBase.prototype.cursor = null ,
    TD.services.ChirpBase.prototype.sortIndex = null ,
    TD.services.ChirpBase.prototype._hasImage = null ,
    TD.services.ChirpBase.prototype._hasVideo = null ,
    TD.services.ChirpBase.prototype._hasAnimatedGif = null ,
    TD.services.ChirpBase.prototype._hasVine = null ,
    TD.services.ChirpBase.prototype._hasLink = null ,
    TD.services.ChirpBase.prototype.fromJSONObject = function() {
        throw new Error("fromJSONObject Not Implemented")
    }
    ,
    TD.services.ChirpBase.prototype.isOwnChirp = function() {
        throw new Error("isOwnChirp Not Implemented")
    }
    ,
    TD.services.ChirpBase.prototype.destroy = function() {
        throw new Error("destroy Not Implemented")
    }
    ,
    TD.services.ChirpBase.prototype.render = function() {
        throw new Error("render Not Implemented")
    }
    ,
    TD.services.ChirpBase.prototype.renderNotification = function() {
        return null
    }
    ,
    TD.services.ChirpBase.prototype.getNotificationData = function() {
        return null
    }
    ,
    TD.services.ChirpBase.prototype.email = function() {
        throw new Error("email Not Implemented")
    }
    ,
    TD.services.ChirpBase.prototype.postComment = function() {
        throw new Error("postComment Not Implemented")
    }
    ,
    TD.services.ChirpBase.prototype.getChirpURL = function() {
        throw new Error("getChirpURL Not Implemented")
    }
    ,
    TD.services.ChirpBase.prototype.isTranslatable = function() {
        return !1
    }
    ,
    TD.services.ChirpBase.prototype.translate = function() {
        throw new Error("translate Not Implemented")
    }
    ,
    TD.services.ChirpBase.prototype.getChirpType = function() {
        return this.chirpType
    }
    ,
    TD.services.ChirpBase.prototype.getScribeItemData = function() {
        throw new Error("getScribeItemData not implemented")
    }
    ,
    TD.services.ChirpBase.prototype.getDOMChirps = function() {
        var e = "[data-key$='" + this.id + "'][data-account-key='" + this.account.getKey() + "']";
        return $(e)
    }
    ,
    TD.services.ChirpBase.prototype.passFilters = function(e) {
        return TD.controller.filterManager.pass(this, e)
    }
    ,
    TD.services.ChirpBase.prototype._generateHTMLText = function() {
        this.htmlText = TD.util.transform(this.text)
    }
    ,
    TD.services.ChirpBase.prototype.createdPretty = function() {
        return TD.util.prettyDate(this.created)
    }
    ,
    TD.services.ChirpBase.prototype.createdPrettyFull = function() {
        return TD.util.prettyTimeString(this.created)
    }
    ,
    TD.services.ChirpBase.prototype.createdPrettyTimeOrDate = function() {
        return TD.util.prettyTimeOrDateString(this.created)
    }
    ,
    TD.services.ChirpBase.prototype.getSinceId = function() {
        return this.id
    }
    ,
    TD.services.ChirpBase.prototype.getUnreadChirps = function(e) {
        var t = !e || this.belongsAbove(e);
        return !this.isOwnChirp() && t ? [this] : []
    }
    ,
    TD.services.ChirpBase.prototype.getSortIndex = function() {
        return this.sortIndex || (this.sortIndex = {
            value: this.created.getTime(),
            type: "milliseconds"
        }),
        this.sortIndex
    }
    ,
    TD.services.ChirpBase.prototype.belongsAbove = function(e) {
        return TD.util.chirpColumnSort(this, e) < 0
    }
    ,
    TD.services.ChirpBase.prototype.belongsBelow = function(e) {
        return TD.util.chirpColumnSort(this, e) > 0
    }
    ,
    TD.services.ChirpBase.prototype.getFilterableText = function() {
        return this.text
    }
    ,
    TD.services.ChirpBase.prototype.getSenders = function() {
        return null
    }
    ,
    TD.services.ChirpBase.prototype.isRetweetedStatus = function() {
        return null
    }
    ,
    TD.services.ChirpBase.prototype.getRelatedTweet = function() {
        return null
    }
    ,
    TD.services.ChirpBase.prototype.getMedia = function() {
        return this._media ? this._media : []
    }
    ,
    TD.services.ChirpBase.prototype.getCardsForGallery = function() {
        return []
    }
    ,
    TD.services.ChirpBase.prototype.hasMedia = function() {
        return this.getMedia().length > 0
    }
    ,
    TD.services.ChirpBase.prototype.isMediaGridContent = function() {
        return TD.decider.get("multi_photo_media_grid") && this.getMedia().length > 1
    }
    ,
    TD.services.ChirpBase.prototype.mediaLength = function() {
        return this.getMedia().length
    }
    ,
    TD.services.ChirpBase.prototype.hasImage = function() {
        return null === this._hasImage && (this._hasImage = this.getMedia().some(function(e) {
            return !e.isVideo
        })),
        this._hasImage
    }
    ,
    TD.services.ChirpBase.prototype.hasVideo = function() {
        return null === this._hasVideo && (this._hasVideo = this.getMedia().some(function(e) {
            return e.isVideo
        })),
        this._hasVideo
    }
    ,
    TD.services.ChirpBase.prototype.hasVine = function() {
        return null === this._hasVine && (this._hasVine = this.getMedia().some(function(e) {
            return e.isVine
        })),
        this._hasVine
    }
    ,
    TD.services.ChirpBase.prototype.hasAnimatedGif = function() {
        return null === this._hasAnimatedGif && (this._hasAnimatedGif = this.getMedia().some(function(e) {
            return e.isAnimatedGif
        })),
        this._hasAnimatedGif
    }
    ,
    TD.services.ChirpBase.prototype.hasLink = function() {
        return null === this._hasLink && (this._hasLink = twttrTxt.extractUrls(this.text).length > 0),
        this._hasLink
    }
    ,
    TD.services.ChirpBase.prototype.isFromVerifiedUser = function() {
        return !1
    }
    ,
    TD.services.ChirpBase.msFudge = 0,
    TD.services.ChirpBase.prototype.fudgeCreatedTime = function(e) {
        var t = TD.services.ChirpBase.msFudge;
        e.setMilliseconds(t),
        t++,
        t %= 1e3,
        TD.services.ChirpBase.msFudge = t
    }
    ,
    TD.services.ChirpBase.prototype.scribeMediaImpression = function() {}
}
, function(e, t, i) {
    "use strict";
    var s = i(273);
    TD.services.ChirpInterval = s(TD.util.chirpReverseColumnSort)
}
, function(e, t) {
    "use strict";
    TD.services.DataminrAlert = function(e) {
        this.account = e
    }
    ,
    TD.services.DataminrAlert.prototype = new TD.services.TwitterStatus,
    TD.services.DataminrAlert.prototype.chirpType = TD.services.ChirpBase.DATAMINR_ALERT,
    TD.services.DataminrAlert.prototype.dataminr = null ,
    TD.services.DataminrAlert.prototype.fromJSONObject = function(e) {
        return TD.services.TwitterStatus.prototype.fromJSONObject.call(this, e.displayTweet),
        this.sortIndex = {
            value: e.eventTime,
            type: "milliseconds"
        },
        this.dataminr = {},
        e.alertType && (this.dataminr.alertType = e.alertType,
        this.dataminr.alertType.alertTypeSprite = this.getAlertTypeSpriteClass(e.alertType.id)),
        this.dataminr.created = new Date(e.eventTime),
        this.dataminr.createdAt = TD.util.prettyTimeOfDayString(this.dataminr.created),
        this.dataminr.eventVolume = e.eventVolume,
        this.dataminr.eventLocation = e.eventLocation,
        this.dataminr.publisherCategory = e.publisherCategory,
        this.dataminr.headerLabel = e.headerLabel,
        this.dataminr.expandAlertURL = e.expandAlertURL,
        this.dataminr.eventMapSmallImageURL = e.eventMapSmallURL,
        this.dataminr.eventMapLargeImageURL = e.eventMapLargeURL,
        this.dataminr.expandMapURL = e.expandMapURL,
        this.dataminr.relatedTerms = e.relatedTerms,
        this.dataminr.userTopHashtags = e.userTopHashtags,
        this.dataminr.userRecentImages = e.userRecentImages,
        this.dataminr.userTopHashtags.forEach(function(e) {
            e.text = e.text.replace(/^#?/, "#")
        }),
        e.publisherCategory.shortName && (this.dataminr.publisherCategory.shortName = e.publisherCategory.shortName.toLowerCase()),
        this.dataminr.relatedTerms.forEach(this.augmentWithQueryTermAndTwitterSearchUrl),
        this.dataminr.userTopHashtags.forEach(this.augmentWithQueryTermAndTwitterSearchUrl),
        this.dataminr.allRelatedTermsQuery = this.getQueryStringForAllRelatedTerms(),
        this.dataminr.anyRelatedTermsQuery = this.getQueryStringForAnyRelatedTerms(),
        this.dataminr.allRelatedTermsTwitterUrl = TD.net.util.addURLParam("https://twitter.com/search", "q", this.dataminr.allRelatedTermsQuery),
        this.dataminr.anyRelatedTermsTwitterUrl = TD.net.util.addURLParam("https://twitter.com/search", "q", this.dataminr.anyRelatedTermsQuery),
        this
    }
    ,
    TD.services.DataminrAlert.prototype.getAlertTypeSpriteClass = function(e) {
        var t;
        switch (e) {
        case "urgentUpdate":
            t = "sprite-dataminr-plus";
            break;
        case "flash":
            t = "sprite-flash";
            break;
        case "momentum":
            t = "sprite-dataminr-momentum-dot";
            break;
        default:
            t = "sprite-dataminr-dot"
        }
        return t
    }
    ,
    TD.services.DataminrAlert.prototype.augmentWithQueryTermAndTwitterSearchUrl = function(e) {
        e.query = -1 !== e.text.indexOf(" ") ? '"' + e.text + '"' : e.text,
        e.twitterUrl = TD.net.util.addURLParam("https://twitter.com/search", "q", e.query)
    }
    ,
    TD.services.DataminrAlert.prototype.getQueryStringForAnyRelatedTerms = function() {
        return this.dataminr.relatedTerms.map(function(e) {
            return e.query
        }).join(" OR ")
    }
    ,
    TD.services.DataminrAlert.prototype.getQueryStringForAllRelatedTerms = function() {
        return this.dataminr.relatedTerms.map(function(e) {
            return e.query
        }).join(" ")
    }
    ,
    TD.services.DataminrAlert.prototype.render = function(e) {
        e = e || {};
        var t = TD.settings.getDisplaySensitiveMedia();
        return TD.ui.template.render("status/dataminr_in_stream", {
            chirp: this,
            withTweetActions: !0,
            withFooter: !0,
            withAvatar: !0,
            withDragHandle: !0,
            withMediaPreview: e.mediaPreviewSize !== TD.vo.Column.MEDIA_PREVIEW_OFF,
            isMediaPreviewSmall: e.mediaPreviewSize === TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,
            isMediaPreviewLarge: e.mediaPreviewSize === TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE,
            mediaPreviewSrc: function() {
                return this.getMediaSrcForPreviewSize(e.mediaPreviewSize)
            },
            animatedGif: function() {
                return this.getAnimatedGifForPreview()
            },
            thumbSizeClass: TD.services.TwitterMedia.thumbSizeClasses[e.mediaPreviewSize],
            isPossiblySensitive: this.getRelatedTweet().possiblySensitive && !t,
            withLinebreaks: !0
        })
    }
    ,
    TD.services.DataminrAlert.prototype.getNotificationData = function() {
        var e = [TD.ui.template.toHtml("@{{username}}{{#categoryName}} ({{categoryName}}){{/categoryName}}", {
            username: this.user.screenName,
            categoryName: this.dataminr.publisherCategory && this.dataminr.publisherCategory.name
        }), TD.i("{{count}} followers", {
            count: TD.util.prettyNumber(this.user.followersCount)
        }), TD.i("{{count}} Tweets", {
            count: TD.util.prettyNumber(this.user.statusesCount)
        })];
        return {
            title: this.text,
            text: e.join(" • "),
            img: TD.assets.get("/web/assets/global/backgrounds/dmr_growl_icon.png")
        }
    }
}
, function(e, t) {
    "use strict";
    TD.services.GapChirp = function(e, t) {
        t = t || {},
        this.id = _.uniqueId("gap_"),
        this.gapCursor = e,
        this.gapSize = this.processGapSize(t.gapSize),
        this.sortIndex = {
            type: t.sortIndex.type,
            value: t.sortIndex.value,
            conflictResolution: "after"
        }
    }
    ,
    TD.services.GapChirp.prototype = new TD.services.ChirpBase,
    TD.services.GapChirp.prototype.chirpType = TD.services.ChirpBase.GAP,
    TD.services.GapChirp.prototype.processGapSize = function(e) {
        return "number" != typeof e ? 0 : 10 * ~~(Math.max(e, 0) / 10)
    }
    ,
    TD.services.GapChirp.prototype.render = function() {
        return TD.ui.template.render("status/gap_in_stream", {
            id: this.id,
            showSize: this.gapSize > 10,
            size: TD.util.truncateNumber(this.gapSize)
        })
    }
}
, function(e, t) {
    "use strict";
    function i(e) {
        function t(e, i) {
            if (!e || !i)
                throw Error("Interval: missing from/to endpoint(s)");
            this.from = e,
            this.to = i,
            this.empty = this.isEmpty(),
            this.empty && (this.from = t.posInf,
            this.to = t.negInf)
        }
        return t.compareValues = e || function(e, t) {
            return (e > t) - (t > e)
        }
        ,
        t.compareEndpoints = function(e, i) {
            return e === i ? 0 : e === t.negInf || i === t.posInf ? -1 : i === t.negInf || e === t.posInf ? 1 : t.compareValues(e.value, i.value)
        }
        ,
        t.inclusiveEndpoint = t.incEnd = function(e) {
            return {
                value: e,
                finite: !0,
                inclusive: !0
            }
        }
        ,
        t.exclusiveEndpoint = t.excEnd = function(e) {
            return {
                value: e,
                finite: !0,
                inclusive: !1
            }
        }
        ,
        t.adjacentEndpoint = function(e) {
            return e.finite ? e.inclusive ? t.exclusiveEndpoint(e.value) : t.inclusiveEndpoint(e.value) : e
        }
        ,
        t.negativeInfinity = t.negInf = {
            value: -(1 / 0),
            finite: !1,
            inclusive: !1
        },
        t.positiveInfinity = t.posInf = {
            value: 1 / 0,
            finite: !1,
            inclusive: !1
        },
        t.prototype.equalTo = function(e) {
            return this.empty && e.empty ? !0 : this.empty !== e.empty ? !1 : 0 === this.fromComparator(this.from, e.from) && 0 === this.toComparator(this.to, e.to)
        }
        ,
        t.prototype.intersection = function(e) {
            if (this.empty || e.empty)
                return t.empty;
            var i = this.fromComparator(this.from, e.from) > 0 ? this.from : e.from
              , s = this.toComparator(this.to, e.to) > 0 ? e.to : this.to;
            return new t(i,s)
        }
        ,
        t.prototype.complement = function() {
            return {
                before: new t(t.negInf,t.adjacentEndpoint(this.from)),
                after: new t(t.adjacentEndpoint(this.to),t.posInf)
            }
        }
        ,
        t.prototype.contiguousWith = function(e) {
            if (this.empty || e.empty)
                return !0;
            var i = !this.intersection(e).empty;
            if (!i) {
                var s = 0 === t.compareEndpoints(this.to, e.from) && (this.to.inclusive || e.from.inclusive)
                  , n = 0 === t.compareEndpoints(e.to, this.from) && (e.to.inclusive || this.from.inclusive);
                i = s || n
            }
            return i
        }
        ,
        t.prototype.unify = function(e) {
            return this.contiguousWith(e) ? this.hull(e) : t.empty
        }
        ,
        t.prototype.hull = function(e) {
            if (this.empty)
                return e;
            if (e.empty)
                return this;
            var i = this.fromComparator(this.from, e.from) < 0 ? this.from : e.from
              , s = this.toComparator(this.to, e.to) < 0 ? e.to : this.to;
            return new t(i,s)
        }
        ,
        t.prototype.contains = function(e) {
            return this.empty ? !1 : !this.intersection(t.singleton(e)).empty
        }
        ,
        t.prototype.isSubsetOf = function(e) {
            return this.fromComparator(this.from, e.from) >= 0 && this.toComparator(this.to, e.to) <= 0
        }
        ,
        t.prototype.fromComparator = function(e, i) {
            var s = t.compareEndpoints(e, i);
            return 0 === s && (s = i.inclusive - e.inclusive),
            s
        }
        ,
        t.prototype.toComparator = function(e, i) {
            var s = t.compareEndpoints(e, i);
            return 0 === s && (s = e.inclusive - i.inclusive),
            s
        }
        ,
        t.prototype.toString = function() {
            return this.empty ? "{}" : [this.from.inclusive ? "[" : "(", this.from.value, ",", this.to.value, this.to.inclusive ? "]" : ")", this.empty ? " (empty)" : ""].join("")
        }
        ,
        t.prototype.isEmpty = function() {
            var e = this.from.inclusive && this.to.inclusive
              , i = t.compareEndpoints(this.from, this.to);
            return i > 0 || 0 === i && !e
        }
        ,
        t.singleton = function(e) {
            return new t(t.incEnd(e),t.incEnd(e))
        }
        ,
        t.empty = new t(t.posInf,t.negInf),
        t.whole = new t(t.negInf,t.posInf),
        t
    }
    e.exports = i
}
, function(e, t) {
    "use strict";
    TD.services.TweetDeckClient = function() {
        var e = {}
          , t = TD.sync.tdapi;
        return e.type = "tweetdeck",
        e.statusMenuTemplate = "",
        e.getChirpsForFeed = function() {
            return TD.core.defer.succeed([])
        }
        ,
        e.forgotPassword = function(e, i, s) {
            var n = {
                type: "DELETE",
                headers: {
                    Authorization: "x-td-basic " + TD.core.base64.encode(e + ":junk")
                }
            }
              , r = t.drequest("/password", n);
            return r.addCallback(function(t) {
                return {
                    httpStatus: 200,
                    email: e
                }
            }),
            r.addErrback(function(t) {
                return {
                    httpStatus: t.number,
                    message: t.message,
                    data: t.req.responseJSON,
                    email: e
                }
            }),
            r
        }
        ,
        e.feedIsStreaming = function(e) {
            return !1
        }
        ,
        e
    }
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(18)
      , r = s(n)
      , o = i(19)
      , a = s(o)
      , c = i(608);
    TD.services.TwitterClient = function(e) {
        var t = this;
        this.type = "twitter",
        this.LONG_FORM_TWEETS = "full",
        this.STREAMING_BASE_URL = TD.config.twitter_stream_base + "/1.1/user.json",
        this.streamEngine = new TD.services.StreamEngine(e,_.bind(this.processStreamData, this)),
        this.firstStreamConnect = !0,
        this.cachedStreamingQueries = {},
        this.conversations = new TD.services.Conversations(e,this),
        this.friends = {},
        this.blocks = {},
        this.mutes = {},
        this.retweetBlocks = {},
        this.publishQueue = {},
        this.flushPending = !1,
        this.searches = [],
        this.customTimelines = [],
        this.logoutTimeout = 5e3,
        this.cacheReloadPeriod = 900,
        this.scheduledTasks = [],
        this.cachedScheduledGroups = [],
        this.cachedScheduledLastModifiedDate = new Date(0),
        this.FEED_TYPES = TD.controller.FeedPoller.FEED_TYPES,
        this.streamingFeeds = {},
        this.ACTIVITY_EVENT_TYPES = {
            favorite: !0,
            favorited_retweet: !0,
            retweeted_retweet: !0,
            follow: !0,
            list_member_added: !0,
            list_created: !0,
            retweet: !0,
            quoted_tweet: !0
        },
        this.NETWORK_ACTIVITY_EVENT_TYPES = {
            favorite: !0,
            follow: !0,
            list_member_added: !0,
            list_created: !0,
            retweet: !0,
            quoted_tweet: !0
        },
        this.DELETE_ACTIVITY_EVENT_TYPES = {
            unfavorite: !0,
            unfollow: !0,
            list_member_removed: !0,
            list_destroyed: !0
        },
        this.STREAM_LIST_EVENTS = {
            list_created: !0,
            list_updated: !0,
            list_destroyed: !0,
            list_member_added: !0,
            list_member_removed: !0,
            list_user_subscribed: !0,
            list_user_unsubscribed: !0
        },
        this.ERRORS = {
            ACCESS_REVOKED: {
                twitterErrorCode: 220,
                message: TD.i("Unable to access to this resource")
            },
            AUTHENTICATION_FAILED: {
                twitterErrorCode: 32,
                message: TD.i("The username and password you entered did not match our records. Please double-check and try again.")
            },
            404: {
                twitterErrorCode: 34,
                message: TD.i("We could not complete your request because the tweet may be protected or deleted")
            },
            SUSPENDED_USER: {
                twitterErrorCode: 63,
                message: TD.i("This user has been suspended")
            },
            SUSPENDED_ACCOUNT: {
                twitterErrorCode: 64,
                message: TD.i("Your account is suspended and is not permitted to access this feature")
            },
            RATE_LIMITED: {
                twitterErrorCode: 88,
                message: TD.i("Sorry, you've made too many requests so Twitter has temporarily limited your access. Try again in a few minutes")
            },
            RATE_LIMITED_DM_SEND: {
                twitterErrorCode: 88,
                message: TD.i("You hit your daily limit for sending messages")
            },
            RECIPIENT_DOES_NOT_EXIST: {
                twitterErrorCode: 108,
                message: TD.i("There is no user by that name.")
            },
            OVER_CAPACITY: {
                twitterErrorCode: 130,
                message: TD.i("Twitter is temporarily over capacity. Please try again later")
            },
            INTERNAL_ERROR: {
                twitterErrorCode: 131,
                message: TD.i("There's something wrong. Please try again later")
            },
            USER_AUTHENTICATION_FAILED: {
                twitterErrorCode: 135,
                message: TD.i("Could not authenticate you")
            },
            NOT_FOLLOWING: {
                twitterErrorCode: 150,
                message: TD.i("This user doesn't follow you. You can only send messages to people who do.")
            },
            MESSAGE_SEND_ERROR: {
                twitterErrorCode: 151,
                message: TD.i("Something went wrong, but don't fret, it's not your fault.")
            },
            DUPLICATE_MESSAGE: {
                twitterErrorCode: 311,
                message: TD.i("You have already sent this message")
            },
            DUPLICATE_TWEET: {
                twitterErrorCode: 187,
                message: TD.i("You already tweeted that")
            },
            INVALID_SEARCH_QUERY: {
                twitterErrorCode: 195,
                message: TD.i("Invalid search query")
            },
            TOO_MANY_CONTRIBUTORS: {
                twitterErrorCode: 317,
                message: TD.i("You cannot add any more Team members.")
            },
            TOO_MANY_CONTRIBUTEES: {
                twitterErrorCode: 318,
                message: TD.i("That user cannot be added to any more Teams.")
            },
            CONTRIBUTION_DISALLOWED: {
                twitterErrorCode: 330,
                message: TD.i("That user has privacy settings enabled preventing them from being added to this team.")
            },
            PROTECTED_TWEET: {
                message: TD.i("Sorry, we could not perform your retweet because the tweet is protected")
            },
            DUPLICATE_RETWEET: {
                message: TD.i("Whoops! You've already retweeted that…")
            },
            USER_DOES_NOT_EXIST: {
                message: TD.i("That user does not exist")
            },
            UNKNOWN: {
                message: TD.i("An unknown error occurred. Please try again shortly.")
            }
        },
        this.streamWarningCodes = {
            FOLLOWS_OVER_LIMIT: "FOLLOWS_OVER_LIMIT"
        },
        this.getError = function(e, t, i, s) {
            var n;
            if (e.code)
                switch (e.code) {
                case 34:
                    n = s && s.status && 0 === s.status.indexOf("DM") ? this.ERRORS.USER_DOES_NOT_EXIST : i.indexOf("show.json") > -1 ? this.ERRORS.USER_DOES_NOT_EXIST : this.ERRORS[404];
                    break;
                case 32:
                case 89:
                case 220:
                    var r = TD.storage.store.getTwitterLoginAccount()
                      , o = r && this.oauth.account.getUserID() === r.getUserID();
                    $(document).trigger("dataTwitterAccountAccessDenied", {
                        account: this.oauth.account,
                        isLoginAccount: o
                    });
                    break;
                case 64:
                    $(document).trigger("dataTwitterAccountSuspended", {
                        account: this.oauth.account
                    }),
                    n = this.ERRORS.SUSPENDED_ACCOUNT;
                    break;
                case 88:
                    n = i.indexOf("dm/new.json") > -1 ? this.ERRORS.RATE_LIMITED_DM_SEND : this.ERRORS.RATE_LIMITED;
                    break;
                default:
                    n = _.find(this.ERRORS, function(t) {
                        return t.twitterErrorCode === e.code
                    }),
                    n && n.generateMessageFromUrl && (n.message = n.generateMessageFromUrl(t))
                }
            else
                403 === t.status && (e.indexOf("retweet") > -1 ? n = this.ERRORS.DUPLICATE_RETWEET : e.indexOf("Share validations failed") > -1 && (n = this.ERRORS.PROTECTED_TWEET));
            return n || (n = this.ERRORS.UNKNOWN),
            TD.controller.stats.apiErrorResponse(t.status, e.code, i),
            n
        }
        ,
        this.oauth = TD.controller.auth.create("twitter", e),
        this.loadCaches(),
        this.scheduledTasks.push(TD.controller.scheduler.schedulePeriodicTask(this.cacheReloadPeriod, function() {
            TD.decider.get("disable_twitter_cache_reload") || this.loadCaches()
        }
        .bind(this))),
        this.getChirpsForFeed = function(e, t) {
            var i = new TD.core.defer.Deferred;
            return this.refreshFeed(e, i.callback.bind(i), i.errback.bind(i), t),
            i
        }
        ,
        this.refreshFeed = function(e, i, s, n) {
            n = n || {};
            var r, o, a = e.bounds.lower, c = e.bounds.upper, l = n.poller, u = l.feed, d = n.feedType, h = l.isStreamableForOauthUser(this.oauth.account.getUserID()), m = n.metadata, p = n.forceFetch, f = this.streamEngine.isStreaming(), g = TD.storage.Feed.generateKeyFor(this.oauth.account.getKey(), "home"), v = !!this.streamingFeeds[g], T = c || !f || p;
            if ("usertweets" === d) {
                var w = !m.id || this.friends[m.id];
                if (w && v && !T)
                    return s(),
                    this
            }
            if (h && (this.streamingFeeds[u.getKey()] = u,
            !T))
                return TD.util.metric("api:client:refresh:is-streaming"),
                s(),
                this;
            switch (a && !c && TD.util.metric("api:client:refresh:poll"),
            d) {
            case this.FEED_TYPES.home:
                t.getHomeTimeline(a, c, null , i, s);
                break;
            case this.FEED_TYPES.direct:
                var b = 1 !== a && !c;
                b ? this.getDMUserUpdates(a, i, s) : this.getDMUserInbox(a, c, i, s);
                break;
            case this.FEED_TYPES.favorites:
                t.getFavoritesTimeline(a, m.id, c, null , i, s);
                break;
            case this.FEED_TYPES.list:
                t.getListTimeline(m.listId, m.screenName, m.slug, a, c, null , i, s);
                break;
            case this.FEED_TYPES.customTimeline:
                t.get3NFTimeline({
                    id: m.id,
                    minPosition: a,
                    maxPosition: c
                }, i, s);
                break;
            case this.FEED_TYPES.search:
                m.baseQuery && m.searchFilterData ? (r = new TD.vo.SearchFilter(m.searchFilterData),
                o = [m.baseQuery, r.getQueryString()].join(" ")) : o = m.term,
                TD.decider.get("universal_search_timelines") ? t.getUniversalSearchTimeline(o, a, c, null , i, s) : t.getSearchTimeline(o, a, c, null , i, s);
                break;
            case this.FEED_TYPES.usertweets:
                t.getProfileTimeline(m.id, null , a, c, i, s);
                break;
            case this.FEED_TYPES.usertimeline:
                t.getUserTimeline(m.id, a, c, null , i, s);
                break;
            case this.FEED_TYPES.mentions:
                t.getMentionsTimeline(a, c, null , i, s);
                break;
            case this.FEED_TYPES.interactions:
                t.getInteractionsTimeline(a, c, null , i, s);
                break;
            case this.FEED_TYPES.networkactivity:
                t.getNetworkActivityTimeline(a, c, null , i, s);
                break;
            case this.FEED_TYPES.scheduled:
                TD.decider.hasAccessLevel("scheduler", "READ_BACKGROUND") && t.getScheduledGroups({
                    since_execute_at: c
                }, {
                    forceFetch: p
                }).addCallbacks(i, s);
                break;
            case this.FEED_TYPES.dataminr:
                t.getDataminrAlerts(a, c, n.metadata.watchlist.id, i, s);
                break;
            default:
                s()
            }
            return this
        }
        ,
        this.feedIsStreaming = function(e) {
            return this.streamingFeeds[e] && this.streamEngine.isStreaming()
        }
        ,
        this._checkUserStream = _.bind(this.checkUserStream, this),
        this.subscription = $.subscribe("/storage/client/settings/use_stream", this._checkUserStream)
    }
    ,
    TD.services.TwitterClient.prototype.API_BASE_URL = [TD.config.twitter_api_base, TD.config.twitter_api_version, ""].join("/"),
    TD.services.TwitterClient.prototype.makeTwitterCall = function(e, t, i, s, n, r, o) {
        n = n || function() {}
        ,
        r = r || function() {}
        ;
        var a = this.request(e, {
            method: i,
            params: t,
            processor: s,
            feedType: o
        });
        return a.addCallbacks(function(e) {
            n(e.data)
        }, function(e) {
            r(e.req, "", e.msg, e.req.errors)
        }),
        a
    }
    ,
    TD.services.TwitterClient.prototype.request = function(e, t) {
        if (!e)
            throw Error("Request needs a URL");
        if ("string" != typeof e)
            throw Error("Request URL must be a string");
        t = _.defaults(t || {}, {
            method: "GET",
            handleSuccess: !0,
            handleError: !0
        });
        var i = "DELETE" === t.method ? {} : {
            cards_platform: "Web-13",
            include_entities: 1,
            include_user_entities: 1,
            include_cards: 1,
            send_error_codes: 1,
            long_form_tweets: this.LONG_FORM_TWEETS
        };
        if (t.params = _.defaults(t.params || {}, i),
        t.headers = _.defaults(t.headers || {}, {}),
        t.account = this.oauth.account,
        t.processor && "function" != typeof t.processor)
            throw new Error("Request processor must be a function");
        var s = TD.net.ajax.request(e, t);
        return s.addCallbacks(this.processSuccessResponse.bind(this, e, t), this.processErrorResponse.bind(this, e, t)),
        s
    }
    ,
    TD.services.TwitterClient.prototype.processSuccessResponse = function(e, t, i) {
        if (!t.handleSuccess)
            return i;
        var s = i.data;
        if (t.processor)
            try {
                s = t.processor.call(this, i.data)
            } catch (n) {
                throw new Error("Error processing Twitter data (" + n.message + "): " + (0,
                a.default)(i.data))
            }
        return this.processRateLimitData(t.feedType, i.xhr),
        $(document).trigger("dataTwitterAccountAccessSuccess", {
            account: this.oauth.account
        }),
        {
            data: s,
            xhr: i.xhr
        }
    }
    ,
    TD.services.TwitterClient.prototype.processErrorResponse = function(e, t, i) {
        if (!t.handleError)
            throw i;
        i.req = i.req || {};
        var s, n = [];
        if (i.req.responseText) {
            try {
                s = JSON.parse(i.req.responseText)
            } catch (i) {
                console.error("Failed to parse error responseText", i.req)
            }
            s && s.errors && ("string" == typeof s.errors ? n.push(this.getError(s.errors, i.req, e, t.params)) : _.each(s.errors, function(s) {
                n.push(this.getError(s, i.req, e, t.params))
            }
            .bind(this)))
        }
        throw i.req.errors = n,
        $(document).trigger("dataTwitterApiError", {
            request: t,
            response: {
                xhr: i.req,
                ts: "",
                error: i.msg
            },
            errors: n
        }),
        n.forEach(function(e) {
            e.twitterErrorCode && $(document).trigger("metric", {
                key: "api:error:" + e.twitterErrorCode
            })
        }),
        this.processRateLimitData(t.feedType, i.req),
        i
    }
    ,
    TD.services.TwitterClient.prototype.loadCaches = function() {
        this.getListOwnerships(null , function(e) {
            _.each(e, TD.cache.lists.add)
        }),
        this.getListSubscriptions(null , function(e) {
            _.each(e, TD.cache.lists.add)
        }),
        this.getSavedSearches(function(e) {
            this.searches = e
        }
        .bind(this)),
        this.getCustomTimelines(this.oauth.account.getUserID(), null , function(e) {
            this.customTimelines = e
        }
        .bind(this)),
        this.populateBlockList(),
        this.populateMuteList(),
        this.populateRetweetBlockList()
    }
    ,
    TD.services.TwitterClient.prototype.processRateLimitData = function(e, t) {
        if (e) {
            var i = {
                rateLimitRemaining: parseInt(t.getResponseHeader("x-rate-limit-remaining"), 10),
                rateLimitTotal: parseInt(t.getResponseHeader("x-rate-limit-limit"), 10),
                rateLimitReset: parseInt(t.getResponseHeader("x-rate-limit-reset"), 10)
            };
            i.rateLimitTotal && i.rateLimitReset && $(document).trigger("dataRateLimit", {
                feedType: e,
                accountKey: this.oauth.account.getKey(),
                rateLimitData: i
            })
        }
    }
    ,
    TD.services.TwitterClient.prototype.processTweet = function(e) {
        return new TD.services.TwitterStatus(this.oauth.account).fromJSONObject(e)
    }
    ,
    TD.services.TwitterClient.prototype.processDataminrAlert = function(e) {
        return new TD.services.DataminrAlert(this.oauth.account).fromJSONObject(e)
    }
    ,
    TD.services.TwitterClient.prototype.deleteMessage = function(e) {
        var t = this.conversations.deleteMessageByIdAndReturnChangedConversations(e);
        this.publishChirpsInternal("publish", "direct", t)
    }
    ,
    TD.services.TwitterClient.prototype.processPlaces = function(e) {
        return e.result.places
    }
    ,
    TD.services.TwitterClient.prototype.processTimeline = function(e) {
        var t, i;
        if (!e.length)
            return [];
        for (t = e.length; t--; )
            i = e[t],
            i = i.sender ? this.processDM(i) : this.processTweet(i),
            e[t] = i;
        return e
    }
    ,
    TD.services.TwitterClient.prototype.process3NFTimeline = function(e) {
        var t = this.hydrateTimeline(e.response.timeline, e.objects);
        return t.length && (t[0].cursor = e.response.position.max_position,
        t[t.length - 1].cursor = e.response.position.min_position),
        t
    }
    ,
    TD.services.TwitterClient.prototype.hydrateTimeline = function(e, t) {
        return e.map(function(e) {
            try {
                var i = e.tweet.id_str || e.tweet.id
                  , s = this.hydrateTweet(t.tweets[i], t)
                  , n = this.processTweet(s)
            } catch (r) {
                return null
            }
            return e.tweet.sort_index && (n.sortIndex = {
                value: e.tweet.sort_index,
                type: "numericString"
            }),
            n
        }, this).filter(Boolean)
    }
    ,
    TD.services.TwitterClient.prototype.hydrateTweet = function(e, t) {
        if (!e || !e.id_str)
            return null ;
        var i = e.id_str;
        return e = _.clone(t.tweets[i] || e),
        e.user = this.hydrateUser(e.user, t),
        ["retweeted_status", "quoted_status"].forEach(function(i) {
            e[i] = this.hydrateTweet(e[i], t)
        }, this),
        e
    }
    ,
    TD.services.TwitterClient.prototype.hydrateUser = function(e, t) {
        if (!e || !e.id_str)
            return null ;
        var i = e.id_str;
        return e = _.clone(t.users[i] || e),
        e.status = null ,
        e
    }
    ,
    TD.services.TwitterClient.prototype.processTrends = function(e) {
        for (var t, i = {
            locations: e[0].locations,
            trends: []
        }, s = e[0].trends, n = 0; n < s.length; n++)
            t = (new TD.services.TrendingTopic).fromJSONObject(s[n]),
            i.trends.push(t);
        return i
    }
    ,
    TD.services.TwitterClient.prototype.processTrendLocations = function(e) {
        function t(e, t) {
            var i = e.sortString
              , s = t.sortString;
            return s > i ? -1 : i > s ? 1 : 0
        }
        var i, s, n = [];
        for (s = 0; s < e.length; s++)
            i = (new TD.services.TrendLocation).fromJSONObject(e[s]),
            n.push(i);
        return n.sort(t)
    }
    ,
    TD.services.TwitterClient.prototype.processTailoredTrends = function(e) {
        for (var t, i = {
            trends: []
        }, s = e[0].trends, n = 0; n < s.length; n++)
            t = (new TD.services.TrendingTopic).fromJSONObject(s[n]),
            i.trends.push(t);
        return i
    }
    ,
    TD.services.TwitterClient.prototype.processList = function(e) {
        return new TD.services.TwitterList(this.oauth.account).fromJSONObject(e)
    }
    ,
    TD.services.TwitterClient.prototype.processCustomTimeline = function(e) {
        return new TD.services.CustomTimeline(this.oauth.account).fromJSONObject(e)
    }
    ,
    TD.services.TwitterClient.prototype.process3NFCustomTimeline = function(e) {
        var t = e.objects.timelines[e.response.timeline_id];
        return t.id = e.response.timeline_id,
        t.user = e.objects.users[t.user_id],
        this.processCustomTimeline(t)
    }
    ,
    TD.services.TwitterClient.prototype.process3NFCustomTimelines = function(e) {
        return e.response.results.map(function(t) {
            var i = e.objects.timelines[t.timeline_id];
            return i.id = t.timeline_id,
            i.user = e.objects.users[i.user_id],
            this.processCustomTimeline(i)
        }
        .bind(this))
    }
    ,
    TD.services.TwitterClient.prototype.processLists = function(e) {
        return _.map(e, _.bind(this.processList, this))
    }
    ,
    TD.services.TwitterClient.prototype.processUser = function(e) {
        return new TD.services.TwitterUser(this.oauth.account).fromJSONObject(e)
    }
    ,
    TD.services.TwitterClient.prototype.processDeletedUser = function(e) {
        return new TD.services.TwitterDeletedUser(this.oauth.account,e)
    }
    ,
    TD.services.TwitterClient.prototype.processUsers = function(e) {
        for (var t = [], i = 0; i < e.length; i++)
            t.push(this.processUser(e[i]));
        return t
    }
    ,
    TD.services.TwitterClient.prototype.processActions = function(e) {
        for (var t = [], i = 0; i < e.length; i++) {
            var s = e[i];
            if (s.action === TD.services.TwitterAction.LIST_MEMBER_ADDED && s.targets_size > 1 && s.target_objects_size > 1) {
                var n = new TD.services.TwitterActionMultiListMemberAdded(this.oauth.account);
                n.fromJSONObject(s, [s], !1),
                t.push(n)
            } else {
                var r = TD.services.TwitterAction.processRESTAction(s, this.oauth.account);
                r && (t = t.concat(r))
            }
        }
        return t
    }
    ,
    TD.services.TwitterClient.prototype.showUser = function(e, t, i, s) {
        var n = {};
        e ? n.user_id = e : n.screen_name = t,
        this.makeTwitterCall(this.API_BASE_URL + "users/show.json", n, "GET", this.processUser, i, s)
    }
    ,
    TD.services.TwitterClient.prototype.getUsersByIds = function(e, t, i) {
        var s = {
            user_id: e.join(",")
        };
        this.makeTwitterCall(this.API_BASE_URL + "users/lookup.json", s, "POST", this.processUsers, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.followUser = function(e, t, i) {
        this.makeTwitterCall(this.API_BASE_URL + "friendships/create.json", {
            screen_name: e
        }, "POST", this.processUser, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.unfollowUser = function(e, t, i) {
        this.makeTwitterCall(this.API_BASE_URL + "friendships/destroy.json", {
            screen_name: e
        }, "POST", this.processUser, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.typeaheadSearch = function(e, t, i) {
        var s = function(i) {
            t(i, e)
        }
        ;
        if (!e.query && !e.prefetch)
            throw new Error("Typeahead API needs a query");
        this.makeTwitterCall(this.API_BASE_URL + "search/typeahead.json", {
            q: e.query,
            count: e.count || 10,
            prefetch: !!e.prefetch
        }, "GET", null , s, i)
    }
    ,
    TD.services.TwitterClient.prototype.userSearch = function(e, t, i) {
        var s = this
          , n = function(t) {
            var i, n, r = e.toLowerCase();
            for (t = s.processUsers(t),
            i = 0; i < t.length; i++)
                if (n = t[i],
                n.screenName.toLowerCase() == r && 0 !== i) {
                    t.splice(i, 1),
                    t = [n].concat(t);
                    break
                }
            return t
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "users/search.json", {
            q: e
        }, "GET", n, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getRetweetedBy = function(e, t, i, s, n) {
        var r = {
            count: t || 12,
            page: i || 1
        };
        this.makeTwitterCall(this.API_BASE_URL + "statuses/" + e + "/retweeted_by.json", r, "GET", this.processUsers, s, n)
    }
    ,
    TD.services.TwitterClient.prototype.showFriendship = function(e, t, i, s, n) {
        var r = {
            source_id: e
        };
        null !== t ? r.target_id = t : null !== i && (r.target_screen_name = i),
        this.makeTwitterCall(this.API_BASE_URL + "friendships/show.json", r, "GET", null , s, n)
    }
    ,
    TD.services.TwitterClient.prototype.showFriendshipForScreenName = function(e, t, i, s) {
        this.makeTwitterCall(this.API_BASE_URL + "friendships/show.json", {
            source_id: e,
            target_screen_name: t
        }, "GET", null , i, s)
    }
    ,
    TD.services.TwitterClient.prototype.blockUser = function(e, t, i) {
        this.makeTwitterCall(this.API_BASE_URL + "blocks/create.json", {
            screen_name: e
        }, "POST", this.processUser, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.unblockUser = function(e, t, i) {
        this.makeTwitterCall(this.API_BASE_URL + "blocks/destroy.json", {
            screen_name: e
        }, "POST", this.processUser, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.muteUser = function(e) {
        return this.request(this.API_BASE_URL + "mutes/users/create.json", {
            method: "POST",
            params: {
                user_id: e
            },
            processor: this.processUser
        })
    }
    ,
    TD.services.TwitterClient.prototype.unmuteUser = function(e) {
        return this.request(this.API_BASE_URL + "mutes/users/destroy.json", {
            method: "POST",
            params: {
                user_id: e
            },
            processor: this.processUser
        })
    }
    ,
    TD.services.TwitterClient.prototype.blockAndReportUser = function(e, t, i) {
        this.makeTwitterCall(this.API_BASE_URL + "users/report_spam.json", {
            screen_name: e
        }, "POST", this.processUser, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.reportDMSpam = function(e, t, i, s, n) {
        var r = TD.net.util.addURLParameters(this.API_BASE_URL + "direct_messages/report_spam.json", {
            dm_id: e,
            report_as: t,
            block_user: i
        });
        this.makeTwitterCall(r, {}, "POST", null , s, n)
    }
    ,
    TD.services.TwitterClient.prototype.flagTweet = function(e, t, i) {
        this.makeTwitterCall(this.API_BASE_URL + "statuses/flag_possibly_sensitive.json", {
            id: e
        }, "POST", null , t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getList = function(e, t, i, s, n) {
        var r = {};
        e ? r.list_id = e : (r.slug = i,
        r.owner_screen_name = t),
        this.makeTwitterCall(this.API_BASE_URL + "lists/show.json", r, "GET", this.processList, s, n)
    }
    ,
    TD.services.TwitterClient.prototype.createList = function(e, t, i, s, n) {
        var r = {
            name: e,
            description: t || "",
            mode: i ? "private" : "public"
        }
          , o = function(e) {
            TD.cache.lists.add(e),
            s(e),
            TD.controller.stats.listCreated()
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "lists/create.json", r, "POST", this.processList, o, n)
    }
    ,
    TD.services.TwitterClient.prototype.updateList = function(e, t, i, s, n, r) {
        var o = {
            list_id: e,
            name: t,
            description: i || "",
            mode: s ? "private" : "public"
        }
          , a = function(e) {
            TD.cache.lists.add(e),
            n(e),
            TD.controller.stats.listUpdated()
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "lists/update.json", o, "POST", this.processList, a, r)
    }
    ,
    TD.services.TwitterClient.prototype.destroyList = function(e, t, i) {
        var s = function(e) {
            TD.cache.lists.purge(e.id),
            t(e),
            TD.controller.stats.listDeleted()
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "lists/destroy.json", {
            list_id: e
        }, "POST", this.processList, s, i)
    }
    ,
    TD.services.TwitterClient.prototype.getListMembers = function(e, t, i, s) {
        var n = this
          , r = function(e) {
            e.users = n.processUsers(e.users),
            i(e)
        }
        ;
        _.isUndefined(t) && (t = -1),
        this.makeTwitterCall(this.API_BASE_URL + "lists/members.json", {
            list_id: e,
            skip_status: 1,
            cursor: t
        }, "GET", null , r, s)
    }
    ,
    TD.services.TwitterClient.prototype.subscribeToList = function(e, t, i) {
        var s = function(e) {
            TD.cache.lists.add(e),
            t(e)
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "lists/subscribers/create.json", {
            list_id: e
        }, "POST", !0, this.processList, s, i)
    }
    ,
    TD.services.TwitterClient.prototype.addUserToList = function(e, t, i, s) {
        var n = function(e) {
            TD.cache.lists.add(e),
            i(e)
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "lists/members/create.json", {
            screen_name: t,
            list_id: e
        }, "POST", this.processList, n, s)
    }
    ,
    TD.services.TwitterClient.prototype.addUsersToList = function(e, t, i, s) {
        var n = function(e) {
            TD.cache.lists.add(e),
            i(e)
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "lists/members/create_all.json", {
            screen_name: t.join(","),
            list_id: e
        }, "POST", this.processList, n, s)
    }
    ,
    TD.services.TwitterClient.prototype.removeUserFromList = function(e, t, i, s) {
        var n = function(e) {
            TD.cache.lists.add(e),
            i(e)
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "lists/members/destroy.json", {
            screen_name: t,
            list_id: e
        }, "POST", this.processList, n, s)
    }
    ,
    TD.services.TwitterClient.prototype.getBlockIDs = function(e, t, i) {
        var s = {
            stringify_ids: !0,
            cursor: e || -1
        };
        this.makeTwitterCall(this.API_BASE_URL + "blocks/ids.json", s, "GET", null , t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getMuteIDs = function(e) {
        var t = {
            stringify_ids: !0,
            cursor: e || "-1"
        };
        return this.request(this.API_BASE_URL + "mutes/users/ids.json", {
            method: "GET",
            params: t
        })
    }
    ,
    TD.services.TwitterClient.prototype.getNoRetweetIDs = function(e, t) {
        this.makeTwitterCall(this.API_BASE_URL + "friendships/no_retweets/ids.json", null , "GET", null , e, t)
    }
    ,
    TD.services.TwitterClient.prototype.getTweetSummary = function(e, t, i) {
        var s = {};
        this.makeTwitterCall(this.API_BASE_URL + "statuses/" + e + "/activity/summary.json", s, "GET", null , t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getEmbeddedTweet = function(e, t, i, s, n, r) {
        var o;
        if (!e)
            throw new Error("getEmbeddedTweet: tweetID is a required parameter");
        o = {
            id: e,
            partner: "tweetdeck"
        },
        t && (o.hide_thread = t),
        i && (o.hide_media = i),
        s && (o.maxwidth = s),
        this.makeTwitterCall(this.API_BASE_URL + "statuses/oembed.json", o, "GET", null , n, r)
    }
    ,
    TD.services.TwitterClient.prototype.translateTweet = function(e, t, i, s) {
        var n;
        if (!e)
            throw new Error("translateTweet: tweetID is a required parameter");
        if (!t)
            throw new Error("translateTweet: destLang is a required parameter");
        n = {
            id: e,
            dest: t
        },
        this.makeTwitterCall(this.API_BASE_URL + "translations/show.json", n, "GET", null , i, s)
    }
    ,
    TD.services.TwitterClient.prototype.getFollowingFollowersOf = function(e, t, i) {
        var s;
        if (!e)
            throw new Error("getFollowingFollowersOf: screenName is a required parameter");
        s = {
            screen_name: e
        },
        this.makeTwitterCall(this.API_BASE_URL + "friends/following/list.json", s, "GET", null , t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getHomeTimeline = function(e, t, i, s, n) {
        this.getTimeline("statuses/home_timeline.json", e, t, i, s, n, {}, this.FEED_TYPES.home)
    }
    ,
    TD.services.TwitterClient.prototype.getUserTimeline = function(e, t, i, s, n, r) {
        var o = {
            user_id: e
        };
        this.getTimeline("statuses/following_timeline.json", t, i, s, n, r, o, this.FEED_TYPES.usertimeline)
    }
    ,
    TD.services.TwitterClient.prototype.getMentionsTimeline = function(e, t, i, s, n) {
        this.getTimeline("statuses/mentions_timeline.json", e, t, i, s, n, {}, this.FEED_TYPES.mentions)
    }
    ,
    TD.services.TwitterClient.prototype.getInteractionsTimeline = function(e, t, i, s, n) {
        this.getActivityTimeline("activity/about_me.json", e, t, i, s, n, {
            model_version: 7
        }, this.FEED_TYPES.interactions)
    }
    ,
    TD.services.TwitterClient.prototype.getNetworkActivityTimeline = function(e, t, i, s, n) {
        this.getActivityTimeline("activity/by_friends.json", e, t, i, s, n, {}, this.FEED_TYPES.networkactivity)
    }
    ,
    TD.services.TwitterClient.prototype.getActivityTimeline = function(e, t, i, s, n, r, o) {
        o = o || {},
        i && (o.max_id = i),
        Number(t) > 1 && (o.since_id = t),
        o.count = s || 170,
        o.skip_aggregation = !0,
        this.makeTwitterCall(this.API_BASE_URL + e, o, "GET", this.processActions, n, r)
    }
    ,
    TD.services.TwitterClient.prototype.getDMUserInbox = function(e, t, i, s) {
        var n = {
            max_conv_count: 20,
            include_groups: !0
        };
        e && 1 !== e && (n.min_id = e),
        t && (n.max_id = t);
        var r = 1 === e;
        this.makeTwitterCall(this.API_BASE_URL + "dm/user_inbox.json", n, "GET", this.conversations.processUserUpdates.bind(this.conversations, r), i, s, this.FEED_TYPES.direct)
    }
    ,
    TD.services.TwitterClient.prototype.getDMUserUpdates = function(e, t, i) {
        var s = {
            cursor: e,
            include_groups: !0
        };
        this.makeTwitterCall(this.API_BASE_URL + "dm/user_updates.json", s, "GET", this.conversations.processUserUpdates.bind(this.conversations, !1), t, i, this.FEED_TYPES.direct)
    }
    ,
    TD.services.TwitterClient.prototype.getDmConversation = function(e, t) {
        var i = this.request(this.API_BASE_URL + "dm/conversation/" + e + ".json", {
            params: t
        });
        return i.addCallback(this.getDataFromDeferred),
        i.addCallback(this.conversations.processUserUpdates.bind(this.conversations, !1)),
        i
    }
    ,
    TD.services.TwitterClient.prototype.getFavoritesTimeline = function(e, t, i, s, n, r) {
        var o = {};
        t && (o.user_id = t),
        this.getTimeline("favorites/list.json", e, i, s, n, r, o, this.FEED_TYPES.favorites)
    }
    ,
    TD.services.TwitterClient.prototype.getListTimeline = function(e, t, i, s, n, r, o, a) {
        var c = "lists/statuses.json"
          , l = {
            include_rts: 1
        };
        e ? l.list_id = e : (l.owner_screen_name = t,
        l.slug = i),
        this.getTimeline(c, s, n, r, o, a, l, this.FEED_TYPES.list)
    }
    ,
    TD.services.TwitterClient.prototype.getProfileTimeline = function(e, t, i, s, n, r) {
        var o = "statuses/user_timeline.json"
          , a = {
            include_rts: 1
        };
        e && e !== this.oauth.account.getUserID() && (a.user_id = e),
        this.getTimeline(o, i, s, t, n, r, a, this.FEED_TYPES.usertweets)
    }
    ,
    TD.services.TwitterClient.prototype.getSearchTimeline = function(e, t, i, s, n, r) {
        var o, a = {
            count: s || 200,
            q: e,
            result_type: "recent"
        }, c = this;
        o = c.API_BASE_URL + "search/tweets.json";
        var l = function(e) {
            return c.processTimeline(e.statuses)
        }
          , u = function(e, t, i) {
            e && e.errors && e.errors[0] === this.ERRORS.INVALID_SEARCH_QUERY ? n([]) : r.apply(null , arguments)
        }
        .bind(this);
        i && (a.max_id = i),
        t && 1 != t && (a.since_id = t),
        this.makeTwitterCall(o, a, "GET", l, n, u, this.FEED_TYPES.search)
    }
    ,
    TD.services.TwitterClient.prototype.getUniversalSearchTimeline = function(e, t, i, s, n, r) {
        var o, a = {
            q: e,
            count: s || 200,
            modules: "status",
            result_type: "recent",
            pc: !1,
            ui_lang: TD.languages.getSystemLanguageCode()
        }, c = this;
        o = c.API_BASE_URL + "search/universal.json";
        var l = function(e) {
            var t = [];
            return e.modules.forEach(function(e) {
                e.status && t.push(e.status.data)
            }),
            c.processTimeline(t)
        }
          , u = function(e, t, i) {
            e && e.errors && e.errors[0] === this.ERRORS.INVALID_SEARCH_QUERY ? n([]) : r.apply(null , arguments)
        }
        .bind(this);
        i && (TD.decider.get("universal_search_timelines_by_id") ? a.q += " max_id:" + i : a.until_time = i),
        t && 1 != t && (TD.decider.get("universal_search_timelines_by_id") ? a.q += " since_id:" + t : a.since_time = t),
        this.makeTwitterCall(o, a, "GET", l, n, u, this.FEED_TYPES.search)
    }
    ,
    TD.services.TwitterClient.prototype.getDataminrAlerts = function(e, t, i, s, n) {
        $(document).trigger("uiNeedsDataminrAlerts", {
            params: {
                start_time: e,
                end_time: t,
                lists: [i]
            },
            success: function(e) {
                this.inflateDataminrAlerts(e, s, n)
            }
            .bind(this),
            error: n
        })
    }
    ,
    TD.services.TwitterClient.prototype.inflateDataminrAlerts = function(e, t, i) {
        var s = e.map(function(e) {
            return e.displayTweet.id_str
        });
        this.lookupTweets(s, function(i) {
            var s = i.reduce(function(e, t) {
                return e[t.id_str] = t,
                e
            }, {})
              , n = e.filter(function(e) {
                return !!s[e.displayTweet.id_str]
            }).map(function(e) {
                return e.displayTweet = s[e.displayTweet.id_str],
                this.processDataminrAlert(e)
            }
            .bind(this));
            t(n)
        }
        .bind(this), i, null )
    }
    ,
    TD.services.TwitterClient.prototype.getTimeline = function(e, t, i, s, n, r, o, a) {
        var c = {
            count: s || 200,
            include_my_retweet: 1
        }
          , l = "";
        l = _.startsWith(e, "https://") ? e : this.API_BASE_URL + e,
        t && (c.since_id = t),
        i && (c.max_id = i),
        o && _.extend(c, o),
        this.makeTwitterCall(l, c, "GET", this.processTimeline, n, r, a)
    }
    ,
    TD.services.TwitterClient.prototype.pendingConversation = {},
    TD.services.TwitterClient.prototype.getConversation = function(e) {
        var t = this;
        if (!this.pendingConversation[e]) {
            var i = function(i) {
                delete t.pendingConversation[e];
                var s = {
                    ancestors: [],
                    descendants: [],
                    root: null
                }
                  , n = !1;
                i.forEach(function(t) {
                    n ? s.descendants.push(t) : t.id === e ? (n = !0,
                    s.root = t) : s.ancestors.push(t)
                }),
                $.publish("/tweets/conversation/" + e, [s])
            }
              , s = function() {
                delete t.pendingConversation[e];
                var i = {
                    ancestors: [],
                    descendants: [],
                    root: null
                };
                $.publish("/tweets/conversation/" + e, [i])
            }
            ;
            this.pendingConversation[e] = !0,
            this.makeTwitterCall(this.API_BASE_URL + "conversation/show.json", {
                id: e
            }, "GET", this.processTimeline, i, s)
        }
    }
    ,
    TD.services.TwitterClient.prototype.destroy = function(e, t, i) {
        this.makeTwitterCall(this.API_BASE_URL + "statuses/destroy/:id.json".replace(":id", e), {}, "POST", this.processTweet, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.show = function(e, t, i) {
        this.makeTwitterCall(this.API_BASE_URL + "statuses/show.json", {
            id: e
        }, "GET", this.processTweet, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.lookupTweets = function(e, t, i, s) {
        this.makeTwitterCall(this.API_BASE_URL + "statuses/lookup.json", {
            id: e.join(",")
        }, "GET", void 0 !== s ? s : this.processTimeline, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.createCustomTimeline = function(e, t, i) {
        e = e || {};
        var s = {
            name: e.name || "New Collection",
            description: e.description || "",
            url: e.url || ""
        }
          , n = function(e) {
            this.customTimelines.push(e),
            t(e),
            $(document).trigger("dataCustomTimelineCreateSuccess")
        }
        .bind(this);
        this.makeTwitterCall(this.API_BASE_URL + "collections/create.json", s, "POST", this.process3NFCustomTimeline, n, i)
    }
    ,
    TD.services.TwitterClient.prototype.updateCustomTimeline = function(e, t, i, s) {
        t = t || {};
        var n = {
            id: e
        };
        "string" == typeof t.name && (n.name = t.name || "New Collection"),
        "string" == typeof t.description && (n.description = t.description || ""),
        "string" == typeof t.url && (n.url = t.url || "");
        var r = function(t) {
            TD.cache.names.updateCustomTimelineName(t.id, t.name),
            this.customTimelines = this.customTimelines.filter(function(t) {
                return t.id !== e
            }),
            this.customTimelines.push(t),
            i(t),
            $(document).trigger("dataCustomTimelineUpdateSuccess")
        }
        .bind(this);
        this.makeTwitterCall(this.API_BASE_URL + "collections/update.json", n, "POST", this.process3NFCustomTimeline, r, s)
    }
    ,
    TD.services.TwitterClient.prototype.deleteCustomTimeline = function(e, t, i) {
        var s = {
            id: e
        }
          , n = function(i) {
            this.customTimelines = this.customTimelines.filter(function(t) {
                return t.id !== e
            }),
            t(i),
            $(document).trigger("dataCustomTimelineDeleteSuccess")
        }
        .bind(this);
        this.makeTwitterCall(this.API_BASE_URL + "collections/destroy.json", s, "POST", null , n, i)
    }
    ,
    TD.services.TwitterClient.prototype.getCustomTimelines = function(e, t, i, s) {
        var n = {
            count: 200
        };
        e && (n.user_id = e),
        t && (n.tweet_id = t),
        this.makeTwitterCall(this.API_BASE_URL + "collections/list.json", n, "GET", this.process3NFCustomTimelines, i, s)
    }
    ,
    TD.services.TwitterClient.prototype.getCustomTimeline = function(e, t, i) {
        var s = {
            id: e
        };
        this.makeTwitterCall(this.API_BASE_URL + "collections/show.json", s, "GET", this.process3NFCustomTimeline, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.addTweetToCustomTimeline = function(e, t, i, s, n) {
        s = s || function() {}
        ,
        n = n || function() {}
        ;
        var r = {
            id: e,
            tweet_id: t
        };
        TD.decider.get("dev_collection_reordering") && i && (r.relative_to = i,
        r.above = !1),
        this.makeTwitterCall(this.API_BASE_URL + "collections/entries/add.json", r, "POST", null , s, n)
    }
    ,
    TD.services.TwitterClient.prototype.removeTweetFromCustomTimeline = function(e, t, i, s) {
        i = i || function() {}
        ,
        s = s || function() {}
        ;
        var n = {
            id: e,
            tweet_id: t
        };
        this.makeTwitterCall(this.API_BASE_URL + "collections/entries/remove.json", n, "POST", null , i, s)
    }
    ,
    TD.services.TwitterClient.prototype.bulkAddRemoveFromCustomTimeline = function(e, t, i, s, n) {
        var r = {
            id: e,
            changes: []
        };
        i.forEach(function(e) {
            r.changes.push({
                op: "remove",
                tweet_id: e
            })
        }),
        t.forEach(function(e) {
            r.changes.push({
                op: "add",
                tweet_id: e
            })
        }),
        this.makeTwitterCall(this.API_BASE_URL + "collections/entries/curate.json", r, "POST", null , s, n)
    }
    ,
    TD.services.TwitterClient.prototype.get3NFTimeline = function(e, t, i) {
        e = e || {};
        var s = {
            id: e.id
        };
        e.maxCount && (s.max_count = e.maxCount),
        e.minPosition && (s.min_position = e.minPosition),
        e.maxPosition && (s.max_position = e.maxPosition),
        this.makeTwitterCall(this.API_BASE_URL + "collections/entries.json", s, "GET", this.process3NFTimeline, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getScheduledTweets = function(e, t) {
        if (e = e || {},
        _.defaults(e, {
            count: 200,
            state: "scheduled,failed",
            since_execute_at: void 0,
            ascending: 1
        }),
        t = t || {},
        _.defaults(t, {
            isPoll: !1,
            forceFetch: !1
        }),
        t.forceFetch && (this.cachedScheduledLastModifiedDate = new Date(0)),
        !e.since_execute_at) {
            var i = new Date;
            i.setMonth(i.getMonth() - 1),
            e.since_execute_at = ~~(i.getTime() / 1e3)
        }
        e = (0,
        r.default)(e).reduce(function(t, i) {
            return "undefined" != typeof e[i] && null !== e[i] && (t[i] = e[i]),
            t
        }, {});
        var s = {};
        t.isPoll && (s["if-modified-since"] = this.cachedScheduledLastModifiedDate.toUTCString());
        var n = this.request(this.API_BASE_URL + "schedule/status/list.json", {
            method: "GET",
            params: e,
            processor: this.processScheduledTweets,
            headers: s
        });
        return t.isPoll && n.addCallback(this.cacheScheduledLastModifiedDate.bind(this)),
        n.addCallback(this.getResultsFromDeferred.bind(this)),
        n
    }
    ,
    TD.services.TwitterClient.prototype.getScheduledGroups = function(e, t) {
        e = e || {},
        t = t || {},
        _.defaults(t, {
            forceFetch: !1,
            isPoll: !e.since_execute_at
        });
        var i = this.getScheduledTweets(e, t);
        return i.addCallbackWith(this, this.groupScheduledTweets),
        i.addCallbackWith(this, function(e) {
            var t = 0 === e.length;
            return $(document).trigger("dataThrottleFeed", {
                feedType: "scheduled",
                accountKey: this.oauth.account.getKey(),
                doThrottle: t
            }),
            TD.decider.hasAccessLevel("scheduler", "READ_VISIBLE") ? e : (e.forEach(function(e) {
                TD.controller.feedManager.deleteChirp(e.token)
            }),
            [])
        }),
        i
    }
    ,
    TD.services.TwitterClient.prototype.cacheScheduledLastModifiedDate = function(e) {
        var t = e.xhr.getResponseHeader("last-modified");
        return t && (this.cachedScheduledLastModifiedDate = new Date(t)),
        e
    }
    ,
    TD.services.TwitterClient.prototype.processScheduledTweets = function(e) {
        return e = e || {},
        e.results = e.results || [],
        {
            results: e.results.map(this.processScheduledTweet, this)
        }
    }
    ,
    TD.services.TwitterClient.prototype.processScheduledTweet = function(e) {
        return (new TD.services.ScheduledTweet).fromJSONObject(e)
    }
    ,
    TD.services.TwitterClient.prototype.groupScheduledTweets = function(e) {
        if (!e)
            return [];
        var t = Date.now()
          , i = function(e) {
            return e instanceof TD.services.ScheduledTweetGroup && "scheduled" === e.state && e.time < t
        }
        ;
        TD.storage.feedController.getAll().filter(function(e) {
            return "twitter" === e.getService() && "scheduled" === e.getType()
        }).forEach(function(e) {
            var t = TD.controller.feedManager.getPoller(e.getKey());
            t.removeWhere(i)
        });
        var s = {
            canceled: !0,
            completed: !0,
            dismissed: !0
        }
          , n = e.reduce(function(e, t) {
            if (t.retweetedStatusId)
                return e;
            try {
                e[t.token] || (e[t.token] = new TD.services.ScheduledTweetGroup(t.token)),
                e[t.token].addUpdate(t)
            } catch (i) {
                console.log("Error processing scheduled update", t, i)
            }
            return e
        }, {});
        return _.values(n).filter(function(e) {
            var t = !s[e.state];
            return t || TD.controller.feedManager.deleteChirp(e.token),
            t
        })
    }
    ,
    TD.services.TwitterClient.prototype.update = function(e, t, i, s, n, r, o) {
        var a = {
            status: e
        };
        a.in_reply_to_status_id = t,
        a.lat = i,
        a.long = s,
        a.place_id = n,
        this.makeTwitterCall(this.API_BASE_URL + "statuses/update.json", a, "POST", this.processTweet, r, o)
    }
    ,
    TD.services.TwitterClient.prototype.getLists = function(e, t, i) {
        var s = {
            reverse: !0
        };
        e && (s.screen_name = e),
        this.makeTwitterCall(this.API_BASE_URL + "lists/list.json", s, "GET", this.processLists, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getListMemberships = function(e, t, i, s) {
        var n = {}
          , r = this;
        e && (n.screen_name = e),
        t && (n.filter_to_owned_lists = 1);
        var o = function(e) {
            return r.processLists(e.lists)
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "lists/memberships.json", n, "GET", o, i, s)
    }
    ,
    TD.services.TwitterClient.prototype.getListOwnerships = function(e, t, i) {
        var s = {
            count: 1e3
        }
          , n = this
          , r = function(e) {
            return n.processLists(e.lists)
        }
        ;
        e && (s.screen_name = e),
        this.makeTwitterCall(this.API_BASE_URL + "lists/ownerships.json", s, "GET", r, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getListSubscriptions = function(e, t, i) {
        var s = {
            count: 1e3
        }
          , n = this
          , r = function(e) {
            return n.processLists(e.lists)
        }
        ;
        e && (s.screen_name = e),
        this.makeTwitterCall(this.API_BASE_URL + "lists/subscriptions.json", s, "GET", r, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getSavedSearches = function(e, t) {
        var i = {};
        this.makeTwitterCall(this.API_BASE_URL + "saved_searches/list.json", i, "GET", null , e, t)
    }
    ,
    TD.services.TwitterClient.prototype.favorite = function(e, t, i) {
        var s = this
          , n = function(e) {
            s.updateFavoriteInternal(e, !0),
            t(e)
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "favorites/create.json", {
            id: e
        }, "POST", this.processTweet, n, i)
    }
    ,
    TD.services.TwitterClient.prototype.unfavorite = function(e, t, i) {
        var s = this
          , n = function(e) {
            s.updateFavoriteInternal(e, !1),
            t(e)
        }
        ;
        this.makeTwitterCall(this.API_BASE_URL + "favorites/destroy.json", {
            id: e
        }, "POST", this.processTweet, n, i)
    }
    ,
    TD.services.TwitterClient.prototype.destroyDM = function(e, t, i) {
        $(document).trigger("uiDeleteDm", {
            id: e,
            accountKey: this.oauth.account.getKey(),
            success: t,
            error: i
        })
    }
    ,
    TD.services.TwitterClient.prototype.markMessagesAsRead = function(e, t, i, s) {
        var n = {
            last_message_id: e
        };
        t && (n.sender_id = t),
        this.makeTwitterCall(this.API_BASE_URL + "direct_messages/read.json", n, "POST", null , i, s)
    }
    ,
    TD.services.TwitterClient.prototype.geoSearch = function(e, t, i, s, n, r, o) {
        var a = {};
        t && (a.lat = t),
        i && (a.long = i),
        s && (a.accuracy = s),
        e && (a.query = e),
        a.granularity = n || "neighborhood",
        this.makeTwitterCall(this.API_BASE_URL + "geo/search.json", a, "GET", this.processPlaces, r, o)
    }
    ,
    TD.services.TwitterClient.prototype.getTrends = function(e, t, i) {
        e = e || 1,
        this.makeTwitterCall(this.API_BASE_URL + "trends/place.json", {
            id: e
        }, "GET", this.processTrends, t, i)
    }
    ,
    TD.services.TwitterClient.prototype.getTrendLocations = function(e, t) {
        this.makeTwitterCall(this.API_BASE_URL + "trends/available.json", null , "GET", this.processTrendLocations, e, t)
    }
    ,
    TD.services.TwitterClient.prototype.getTailoredTrends = function(e, t) {
        this.makeTwitterCall(this.API_BASE_URL + "trends/personalized.json", null , "GET", this.processTailoredTrends, e, t)
    }
    ,
    TD.services.TwitterClient.prototype.updateFavoriteInternal = function(e, t) {
        e = e.retweetedStatus ? e.retweetedStatus : e,
        e.setFavorite(t);
        var i = t ? "publish" : "remove";
        this.publishChirpsInternal(i, "favorites", [e])
    }
    ,
    TD.services.TwitterClient.prototype.removeAction = function(e) {
        var t = TD.services.TwitterAction.processStreamAction(e, this.oauth.account);
        t && (t.isAboutYou() ? this.publishChirpsInternal("remove", "interactions", [t]) : t.isOwnChirp() || this.publishChirpsInternal("remove", "networkactivity", [t]))
    }
    ,
    TD.services.TwitterClient.prototype.publishStreamAction = function(e) {
        var t = TD.services.TwitterAction.processStreamAction(e, this.oauth.account);
        t && (t.fudgeCreatedTime(t.created),
        t.isAboutYou() ? this.publishChirpsInternal("publish", "interactions", [t]) : !t.isOwnChirp() && this.NETWORK_ACTIVITY_EVENT_TYPES[t.action] && this.publishChirpsInternal("publish", "networkactivity", [t]))
    }
    ,
    TD.services.TwitterClient.prototype.queueChirpsForDispatch = function(e, t) {
        this.publishQueue[e] = (this.publishQueue[e] || []).concat(t),
        this.flushPending || (this.flushPending = !0,
        _.defer(function() {
            this.flushPending = !1,
            (0,
            r.default)(this.publishQueue).forEach(function(e) {
                try {
                    var t = TD.controller.feedManager.getPoller(e);
                    if (!t)
                        return;
                    var i = this.publishQueue[e].filter(c.chirpPasses.bind(c, this.blocks));
                    TD.util.columnUtils.muteableFeedTypes[t.feed.getType()] && (i = i.filter(c.chirpPasses.bind(c, this.mutes))),
                    t.acceptStreamChirps(i)
                } catch (s) {
                    var n = t ? t.feed.getType() : "unknown_feed_type"
                      , r = _.uniq(i.map(function(e) {
                        return e.getChirpType()
                    }))
                      , o = 1 === r.length ? r[0] : "unknown_chirp_type";
                    $(document).trigger("metric", {
                        key: "client:publish:error:" + n + ":" + o
                    })
                } finally {
                    delete this.publishQueue[e]
                }
            }
            .bind(this))
        }
        .bind(this)))
    }
    ,
    TD.services.TwitterClient.prototype.publishChirpsInternal = function(e, t, i, s) {
        var n, r;
        n = TD.storage.Feed.generateKeyFor(this.oauth.account.getKey(), t, s),
        "publish" == e ? this.queueChirpsForDispatch(n, i) : "remove" == e && (r = TD.controller.feedManager.getPoller(n),
        r && _.each(i, function(e) {
            r.removeChirp(e.id)
        }))
    }
    ,
    TD.services.TwitterClient.prototype.addIdToBlockList = function(e) {
        this.blocks[e] || (this.blocks[e] = !0,
        $.publish("/user/removeTweets", [e, this.oauth.account.getUserID()]))
    }
    ,
    TD.services.TwitterClient.prototype.blockListNextCursor = -1,
    TD.services.TwitterClient.prototype.populateBlockList = function() {
        var e = function(t) {
            var i, s = t.ids;
            for (-1 === this.blockListNextCursor && (this.blocks = {}),
            i = 0; i < s.length; i++)
                this.addIdToBlockList(s[i]);
            t.next_cursor_str && "0" !== t.next_cursor_str ? this.blockListNextCursor = t.next_cursor_str : this.blockListNextCursor = -1,
            TD.decider.get("fetch_entire_blocklist") && -1 !== this.blockListNextCursor && this.getBlockIDs(this.blockListNextCursor, e)
        }
        .bind(this);
        this.getBlockIDs(this.blockListNextCursor, e)
    }
    ,
    TD.services.TwitterClient.prototype.addIdToMuteList = function(e) {
        this.mutes[e] || (this.mutes[e] = !0,
        $.publish("/user/removeTweets", [e, this.oauth.account.getUserID(), {
            feedTypes: TD.util.columnUtils.muteableFeedTypes
        }]))
    }
    ,
    TD.services.TwitterClient.prototype.populateMuteList = function(e) {
        e = e || "-1";
        var t = function(t) {
            var i = t.data;
            return "-1" === e && (this.mutes = {}),
            i.ids.forEach(this.addIdToMuteList, this),
            i.next_cursor_str && "0" !== i.next_cursor_str ? this.populateMuteList(i.next_cursor_str) : void 0
        }
        ;
        this.getMuteIDs(e).addCallbackWith(this, t)
    }
    ,
    TD.services.TwitterClient.prototype.populateRetweetBlockList = function() {
        this.getNoRetweetIDs(function(e) {
            var t;
            for (this.retweetBlocks = {},
            t = 0; t < e.length; t++)
                this.retweetBlocks[e[t]] = !0
        }
        .bind(this))
    }
    ,
    TD.services.TwitterClient.prototype.constructStreamingUrl = function() {
        var e = this
          , t = {}
          , i = !1
          , s = !0;
        _.each(this.streamingFeeds, function(n, r) {
            var o = n.getMetadata()
              , a = TD.controller.feedManager.getPoller(r);
            if (a)
                if (s = !1,
                n.managed && "search" == n.getType()) {
                    var c = o.term
                      , l = c.toLowerCase()
                      , u = new TD.services.TwitterSearchParser(c);
                    t[l] = u
                } else
                    "home" === n.getType() && (i = !0);
            else
                delete e.streamingFeeds[r]
        });
        var n = [];
        for (var r in t)
            n.push(t[r].trackQuery);
        n = _.uniq(n.join(",").split(","));
        var o = n.join(",")
          , a = {
            stringify_friend_ids: !0
        };
        o && (a.track = o),
        i || (a.with = "user");
        var c = !1;
        return _.each(TD.storage.feedController.getAll(), function(t) {
            "networkactivity" === t.getType() && "twitter" === t.getService() && e.oauth.account.getKey() === t.getAccountKey() && (c = !0)
        }),
        c && (a.include_followings_activity = !0),
        s ? null : TD.net.util.addURLParameters(this.STREAMING_BASE_URL, a)
    }
    ,
    TD.services.TwitterClient.prototype.checkUserStream = function() {
        TD.util.shouldStream() ? this.streamEngine.connect(this.constructStreamingUrl()) : this.streamEngine.disconnect()
    }
    ,
    TD.services.TwitterClient.prototype.processDeleteChirpEvent = function(e) {
        e.status ? TD.controller.feedManager.deleteChirp(e.status.id_str) : e.direct_message ? this.deleteMessage(e.direct_message.id_str) : e.conversationId && this.conversations.deleteConversation(e.conversationId)
    }
    ,
    TD.services.TwitterClient.prototype.processStreamData = function(e) {
        var t, i = e.friends_str || e.friends;
        if (i) {
            for (var s = 0; s < i.length; s++)
                this.friends[i[s]] = !0;
            try {
                this.firstStreamConnect || TD.controller.feedScheduler.refreshAccountFeeds(this.oauth.account.getKey(), !0)
            } finally {
                this.firstStreamConnect = !1
            }
        } else if (e.warning)
            switch (e.warning.code) {
            case this.streamWarningCodes.FOLLOWS_OVER_LIMIT:
            }
        else if (e.event)
            this.processStreamEvent(e);
        else if (e.limit)
            ;
        else if (e.delete)
            this.processDeleteChirpEvent(e.delete);
        else if (e.user_events)
            t = this.conversations.processStreamData(e),
            t.addCallbackWith(this, function(e) {
                this.publishChirpsInternal("publish", "direct", e)
            });
        else if (e.id_str && e.text) {
            var n = this.processTweet(e);
            n.fudgeCreatedTime(n.created),
            this.processMiscTweet(n)
        } else
            e.conversationRenamed ? this.conversations.renameConversation(e.conversationRenamed) : e.participantAdded ? (t = this.conversations.processStreamData(e.participantAdded, !0),
            t.addCallbackWith(this, function(e) {
                e.forEach(function(e) {
                    $(document).trigger("dataConversationParticipants", {
                        conversationId: e.conversationId,
                        participants: e.participants
                    })
                }),
                this.publishChirpsInternal("publish", "direct", e)
            })) : TD.controller.stats.unknownStreamData(e)
    }
    ,
    TD.services.TwitterClient.prototype.processMiscTweet = function(e) {
        var t, i, s, n, r, o = this, a = Boolean(this.friends[e.user.id]), c = e.user.id == this.oauth.account.getUserID(), l = e.isMention(), u = Boolean(e.inReplyToID), d = Boolean(e.retweetedStatus), h = d && e.retweetedStatus.user.id == this.oauth.account.getUserID(), m = d && (e.retweetedStatus.user.following || this.friends[e.retweetedStatus.user.id]);
        if (e.apiSource = "realtime",
        s = e.entities && e.entities.user_mentions && e.entities.user_mentions.some(function(e) {
            return e.indices && 0 === e.indices[0] ? (r = e.id,
            !0) : void 0
        }),
        n = s && Boolean(this.friends[r]),
        (!d || !this.retweetBlocks[e.user.id] || h) && (c && d && (e.setRetweeted(!0),
        e.retweetedStatus.setRetweeted(!0)),
        (c || a && (!s || n || l)) && (h || m || this.publishChirpsInternal("publish", "home", [e])),
        h ? (i = new TD.services.TwitterActionRetweet(this.oauth.account).fromRetweet(e),
        this.publishChirpsInternal("publish", "interactions", [i])) : l && !d && (this.publishChirpsInternal("publish", "mentions", [e]),
        c || (t = new TD.services.TwitterActionMention(this.oauth.account).fromStreamData(e),
        this.publishChirpsInternal("publish", "interactions", [t]))),
        _.each(this.streamingFeeds, function(t, i) {
            var s = t.getMetadata();
            if (t.managed && "search" == t.getType()) {
                var n = s.term
                  , r = o.cachedStreamingQueries[n];
                r || (r = o.cachedStreamingQueries[n] = new TD.services.TwitterSearchParser(n)),
                r.match(e.getFilterableText()) && o.queueChirpsForDispatch(i, [e])
            }
        }),
        this.publishChirpsInternal("publish", "usertweets", [e], {
            id: parseInt(e.user.id, 10)
        }),
        c && this.publishChirpsInternal("publish", "usertweets", [e], {}),
        u)) {
            var p = {
                ancestors: [],
                descendants: [e]
            };
            $.publish("/tweets/conversation/" + e.inReplyToID, [p])
        }
    }
    ,
    TD.services.TwitterClient.prototype.processStreamEvent = function(e) {
        var t, i, s = !1;
        if (this.STREAM_LIST_EVENTS[e.event] && (t = new TD.services.TwitterList(this.oauth.account).fromJSONObject(e.target_object)),
        e.source.id == this.oauth.account.getUserID())
            switch (e.event) {
            case "favorite":
                s = e.source.id_str === e.target_object.user.id_str,
                i = this.processTweet(e.target_object),
                this.updateFavoriteInternal(i, !0);
                break;
            case "unfavorite":
                i = this.processTweet(e.target_object),
                this.updateFavoriteInternal(i, !1);
                break;
            case "follow":
                this.friends[e.target.id_str] = !0;
                break;
            case "unfollow":
                delete this.friends[e.target.id_str];
                break;
            case "block":
                this.addIdToBlockList(e.target.id_str),
                delete this.friends[e.target.id_str];
                break;
            case "unblock":
                delete this.blocks[e.target.id_str];
                break;
            case "mute":
                this.addIdToMuteList(e.target.id_str);
                break;
            case "unmute":
                delete this.mutes[e.target.id_str];
                break;
            case "list_created":
            case "list_updated":
            case "list_member_added":
            case "list_member_removed":
            case "list_user_subscribed":
                TD.cache.lists.add(t);
                break;
            case "list_destroyed":
                TD.cache.lists.purge(t.id);
                break;
            case "list_user_unsubscribed":
                TD.cache.lists.unsubscribe(t)
            }
        else
            "favorite" === e.event && (e.target_object.favorited = !1,
            e.target_object.retweeted = !1);
        i && (i.apiSource = "realtime"),
        this.ACTIVITY_EVENT_TYPES[e.event] && !s ? this.publishStreamAction(e) : this.DELETE_ACTIVITY_EVENT_TYPES[e.event] && this.removeAction(e)
    }
    ,
    TD.services.TwitterClient.prototype.getResultsFromDeferred = function(e) {
        var t = this.getDataFromDeferred(e);
        return t && "undefined" != typeof t.results ? t.results : void 0
    }
    ,
    TD.services.TwitterClient.prototype.getDataFromDeferred = function(e) {
        if (e && "undefined" != typeof e.data)
            return e.data;
        throw TypeError("deferred result is missing data")
    }
    ,
    TD.services.TwitterClient.prototype.cleanUp = function() {
        $.unsubscribe(this.subscription),
        this.streamEngine.disconnect(),
        this.scheduledTasks.forEach(function(e) {
            TD.controller.scheduler.removePeriodicTask(e)
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterAction = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterAction.FAVORITE = "favorite",
    TD.services.TwitterAction.FAVORITED_RETWEET = "favorited_retweet",
    TD.services.TwitterAction.RETWEET = "retweet",
    TD.services.TwitterAction.RETWEETED_RETWEET = "retweeted_retweet",
    TD.services.TwitterAction.MENTION = "mention",
    TD.services.TwitterAction.REPLY = "reply",
    TD.services.TwitterAction.FOLLOW = "follow",
    TD.services.TwitterAction.LIST_MEMBER_ADDED = "list_member_added",
    TD.services.TwitterAction.LIST_CREATED = "list_created",
    TD.services.TwitterAction.UNFAVORITE = "unfavorite",
    TD.services.TwitterAction.LIST_MEMBER_REMOVED = "list_member_removed",
    TD.services.TwitterAction.LIST_DESTROYED = "list_destroyed",
    TD.services.TwitterAction.QUOTED_TWEET = "quoted_tweet",
    TD.services.TwitterAction.QUOTE = "quote",
    TD.services.TwitterAction.UNFOLLOW = "unfollow",
    TD.services.TwitterAction.processStreamAction = function(e, t) {
        var i = TD.services.TwitterAction._getActionConstructor(e.event);
        return i ? new i(t).fromJSONObject(e, null , !0) : null
    }
    ,
    TD.services.TwitterAction.processRESTAction = function(e, t) {
        var i = TD.services.TwitterAction._getActionConstructor(e.action);
        if (!i)
            return [];
        for (var s = e.sources, n = e.targets_size > 0 ? e.targets : [void 0], r = e.target_objects_size > 0 ? e.target_objects : [void 0], o = [], a = 0; a < s.length; a++)
            if (e.action !== TD.services.TwitterAction.RETWEET)
                for (var c = 0; c < n.length; c++)
                    for (var l = 0; l < r.length; l++)
                        (e.action !== TD.services.TwitterAction.LIST_MEMBER_ADDED || s[a].id === r[l].user.id) && o.push([e, s[a], n[c], r[l]]);
            else {
                if (r[0].user.id != t.getUserID())
                    continue;o.push([e, s[a], n[a], r[0]])
            }
        var u = o.map(function(s) {
            return new i(t).fromJSONObject(e, s, !1)
        });
        return u
    }
    ,
    TD.services.TwitterAction._getActionConstructor = function(e) {
        switch (e) {
        case TD.services.TwitterAction.MENTION:
        case TD.services.TwitterAction.REPLY:
            return TD.services.TwitterActionMention;
        case TD.services.TwitterAction.FAVORITE:
        case TD.services.TwitterAction.UNFAVORITE:
            return TD.services.TwitterActionFavorite;
        case TD.services.TwitterAction.FAVORITED_RETWEET:
            return TD.decider.get("action_favorited_retweet") ? TD.services.TwitterActionFavoritedRetweet : null ;
        case TD.services.TwitterAction.RETWEET:
            return TD.services.TwitterActionRetweet;
        case TD.services.TwitterAction.RETWEETED_RETWEET:
            return TD.decider.get("action_retweeted_retweet") ? TD.services.TwitterActionRetweetedRetweet : null ;
        case TD.services.TwitterAction.QUOTED_TWEET:
        case TD.services.TwitterAction.QUOTE:
            return TD.decider.get("action_quoted_tweet") ? TD.services.TwitterActionQuotedTweet : null ;
        case TD.services.TwitterAction.FOLLOW:
        case TD.services.TwitterAction.UNFOLLOW:
            return TD.services.TwitterActionFollow;
        case TD.services.TwitterAction.LIST_MEMBER_ADDED:
        case TD.services.TwitterAction.LIST_MEMBER_REMOVED:
            return TD.services.TwitterActionListMemberAdded;
        case TD.services.TwitterAction.LIST_CREATED:
        case TD.services.TwitterAction.LIST_DESTROYED:
            return TD.services.TwitterActionListCreated;
        default:
            return null
        }
    }
    ,
    TD.services.TwitterAction.prototype = new TD.services.ChirpBase,
    TD.services.TwitterAction.prototype.getChirpType = function() {
        return this.action
    }
    ,
    TD.services.TwitterAction.prototype.action = null ,
    TD.services.TwitterAction.prototype.maxPosition = null ,
    TD.services.TwitterAction.prototype.minPosition = null ,
    TD.services.TwitterAction.msFudge = 0,
    TD.services.TwitterAction.prototype.fromJSONObject = function(e, t, i) {
        return i ? this.fromStreamData(e) : this.fromRESTData.apply(this, t),
        this.created = TD.util.parseDateString(e.created_at),
        this.maxPosition = e.max_position || this.created.getTime().toString(),
        this.minPosition = e.min_position || this.created.getTime().toString(),
        this.generateInternalID(),
        this.generateText(),
        this
    }
    ,
    TD.services.TwitterAction.prototype.fromRESTData = function(e, t, i, s) {
        throw new Error("TwitterAction.fromRESTData not implemented")
    }
    ,
    TD.services.TwitterAction.prototype.fromStreamData = function(e) {
        throw new Error("TwitterAction.fromStreamData not implemented")
    }
    ,
    TD.services.TwitterAction.prototype.generateInternalID = function() {
        throw new Error("TwitterAction.generateInternalID not implemented")
    }
    ,
    TD.services.TwitterAction.prototype.generateText = function() {}
    ,
    TD.services.TwitterAction.prototype.render = function() {
        throw new Error("TwitterAction.render not implemented")
    }
    ,
    TD.services.TwitterAction.prototype.renderNotification = function() {
        throw new Error("TwitterAction.renderNotification not implemented")
    }
    ,
    TD.services.TwitterAction.prototype.isAboutYou = function() {
        throw new Error("TwitterAction.isAboutYou not implemented")
    }
    ,
    TD.services.TwitterAction.prototype.isOwnChirp = function() {
        throw new Error("TwitterAction.isOwnChirp not implemented")
    }
    ,
    TD.services.TwitterAction.prototype.getChirpURL = function() {
        return "https://twitter.com/activity"
    }
    ,
    TD.services.TwitterAction.prototype.getCreator = function() {
        throw new Error("TwitterAction.getCreator not implemented")
    }
    ,
    TD.services.TwitterAction.prototype.getSenders = function() {
        return [this.getCreator().screenName]
    }
    ,
    TD.services.TwitterAction.prototype.isFromVerifiedUser = function() {
        return this.getCreator().isVerified
    }
    ,
    TD.services.TwitterAction.prototype.getTargetUsers = function() {
        throw new Error("TwitterAction.getTargetUsers not implemented")
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionFavorite = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionFavorite.prototype = new TD.services.TwitterActionOnTweet,
    TD.services.TwitterActionFavorite.prototype.action = TD.services.TwitterAction.FAVORITE,
    TD.services.TwitterActionFavorite.prototype.iconClass = "icon-favorite icon-favorite-color  txt-base-medium",
    TD.services.TwitterActionFavorite.prototype.fromRESTData = function(e, t, i, s) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(t),
        this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(i)
    }
    ,
    TD.services.TwitterActionFavorite.prototype.fromStreamData = function(e) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(e.source),
        this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(e.target_object)
    }
    ,
    TD.services.TwitterActionFavorite.prototype.generateText = function() {
        var e = TD.decider.get("hearts_and_likes2") ? TD.i("{{{user}}} liked", null , !0) : TD.i("{{{user}}} favorited", null , !0);
        this.text = TD.ui.template.toHtml(e, {
            user: this.sourceUser.name
        }),
        this.htmlText = TD.ui.template.toHtml(e, {
            user: TD.ui.template.render("text/user_link_fullname", {
                name: this.sourceUser.name,
                profileUrl: this.sourceUser.getProfileURL(),
                withBold: this.isAboutYou()
            })
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionFavoritedRetweet = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionFavoritedRetweet.prototype = new TD.services.TwitterActionOnTweet,
    TD.services.TwitterActionFavoritedRetweet.prototype.action = TD.services.TwitterAction.FAVORITED_RETWEET,
    TD.services.TwitterActionFavoritedRetweet.prototype.iconClass = "icon-favorite icon-favorite-color txt-base-medium",
    TD.services.TwitterActionFavoritedRetweet.prototype.fromRESTData = function(e, t, i, s) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(t),
        this.targetUser = new TD.services.TwitterUser(this.account).fromJSONObject(s),
        this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(i.retweeted_status)
    }
    ,
    TD.services.TwitterActionFavoritedRetweet.prototype.isAboutYou = function() {
        return this.targetUser.isMe()
    }
    ,
    TD.services.TwitterActionFavoritedRetweet.prototype.fromStreamData = function(e) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(e.source),
        this.targetUser = new TD.services.TwitterUser(this.account).fromJSONObject(e.target),
        this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(e.target_object.retweeted_status)
    }
    ,
    TD.services.TwitterActionFavoritedRetweet.prototype.generateText = function() {
        var e = TD.decider.get("hearts_and_likes2") ? TD.i("{{{user}}} liked your Retweet", null , !0) : TD.i("{{{user}}} favorited your Retweet", null , !0);
        this.text = TD.ui.template.toHtml(e, {
            user: this.sourceUser.name
        }),
        this.htmlText = TD.ui.template.toHtml(e, {
            user: TD.ui.template.render("text/user_link_fullname", {
                name: this.sourceUser.name,
                profileUrl: this.sourceUser.getProfileURL(),
                withBold: this.isAboutYou()
            })
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionFollow = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionFollow.prototype = new TD.services.TwitterAction,
    TD.services.TwitterActionFollow.prototype.action = TD.services.TwitterAction.FOLLOW,
    TD.services.TwitterActionFollow.prototype.following = null ,
    TD.services.TwitterActionFollow.prototype.followed = null ,
    TD.services.TwitterActionFollow.prototype.fromRESTData = function(e, t, i, s) {
        this.following = new TD.services.TwitterUser(this.account).fromJSONObject(t),
        this.followed = new TD.services.TwitterUser(this.account).fromJSONObject(i)
    }
    ,
    TD.services.TwitterActionFollow.prototype.fromStreamData = function(e) {
        this.following = new TD.services.TwitterUser(this.account).fromJSONObject(e.source),
        this.followed = new TD.services.TwitterUser(this.account).fromJSONObject(e.target)
    }
    ,
    TD.services.TwitterActionFollow.prototype.generateInternalID = function() {
        this.id = [this.action, this.following.id, this.followed.id].join("_")
    }
    ,
    TD.services.TwitterActionFollow.prototype.generateText = function() {
        var e;
        e = this.isAboutYou() ? TD.i("{{{user}}} followed you", null , !0) : TD.i("{{{user}}} followed", null , !0),
        this.text = TD.ui.template.toHtml(e, {
            user: this.following.name
        }),
        this.htmlText = TD.ui.template.toHtml(e, {
            user: TD.ui.template.render("text/user_link_fullname", {
                name: this.following.name,
                profileUrl: this.following.getProfileURL(),
                withBold: this.isAboutYou()
            })
        })
    }
    ,
    TD.services.TwitterActionFollow.prototype.render = function() {
        var e = this.isAboutYou();
        return TD.ui.template.render("status/follow_activity_in_stream", {
            data: this,
            iconClass: "icon-follow icon-follow-color",
            withoutAvatar: e,
            withAlignAvatarToContent: e,
            sourceAvatar: e ? this.following.miniProfileImageURL() : null ,
            withSourceMute: !this.isAboutYou(),
            withContentMute: this.isAboutYou(),
            withActivityHeader: !0,
            withUserMenu: !0,
            withUserBio: !0
        })
    }
    ,
    TD.services.TwitterActionFollow.prototype.renderNotification = function() {
        var e = this.isAboutYou();
        return TD.ui.template.render("status/follow_activity_in_box", {
            iconClass: "icon-follow icon-follow-color",
            withoutAvatar: e,
            withAlignAvatarToContent: e,
            sourceAvatar: e ? this.following.miniProfileImageURL() : null ,
            withSourceMute: !this.isAboutYou(),
            withContentMute: this.isAboutYou(),
            withActivityHeader: !0,
            data: this
        })
    }
    ,
    TD.services.TwitterActionFollow.prototype.isAboutYou = function() {
        return this.followed.id == this.account.getUserID()
    }
    ,
    TD.services.TwitterActionFollow.prototype.isOwnChirp = function() {
        return this.following.id == this.account.getUserID()
    }
    ,
    TD.services.TwitterActionFollow.prototype.getNotificationData = function() {
        var e = this.getRelatedUser()
          , t = null !== e.description ? "\n" + e.description : "";
        return {
            title: this.text,
            img: e.profileImageURL,
            text: "@" + e.screenName + t
        }
    }
    ,
    TD.services.TwitterActionFollow.prototype.getTargetUsers = function() {
        return [this.followed]
    }
    ,
    TD.services.TwitterActionFollow.prototype.getRelatedUser = function() {
        return this.isAboutYou() ? this.following : this.followed
    }
    ,
    TD.services.TwitterActionFollow.prototype.getCreator = function() {
        return this.following
    }
    ,
    TD.services.TwitterActionFollow.prototype.getFilterableText = function() {
        return this.followed.screenName
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionListCreated = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionListCreated.prototype = new TD.services.TwitterAction,
    TD.services.TwitterActionListCreated.prototype.action = TD.services.TwitterAction.LIST_CREATED,
    TD.services.TwitterActionListCreated.prototype.owner = null ,
    TD.services.TwitterActionListCreated.prototype.list = null ,
    TD.services.TwitterActionListCreated.prototype.fromRESTData = function(e, t, i) {
        this.owner = new TD.services.TwitterUser(this.account).fromJSONObject(t),
        this.list = new TD.services.TwitterList(this.account).fromJSONObject(i)
    }
    ,
    TD.services.TwitterActionListCreated.prototype.fromStreamData = function(e) {
        this.owner = new TD.services.TwitterUser(this.account).fromJSONObject(e.source),
        this.list = new TD.services.TwitterList(this.account).fromJSONObject(e.target_object)
    }
    ,
    TD.services.TwitterActionListCreated.prototype.generateInternalID = function() {
        this.id = [this.action, this.owner.id, this.list.id].join("_")
    }
    ,
    TD.services.TwitterActionListCreated.prototype.generateText = function() {
        var e = TD.i("{{{owner}}} created the list {{{list}}}", null , !0);
        this.text = TD.ui.template.toHtml(e, {
            owner: this.owner.name,
            list: this.list.fullName
        }),
        this.htmlText = TD.ui.template.toHtml(e, {
            owner: TD.ui.template.render("text/user_link_fullname", {
                name: this.owner.name,
                profileUrl: this.owner.getProfileURL(),
                withBold: !0
            }),
            list: TD.ui.template.render("text/list_link_real_name", this.list)
        })
    }
    ,
    TD.services.TwitterActionListCreated.prototype.isOwnChirp = function() {
        return this.owner.id == this.account.getUserID()
    }
    ,
    TD.services.TwitterActionListCreated.prototype.isAboutYou = function() {
        return !1
    }
    ,
    TD.services.TwitterActionListCreated.prototype.getCreator = function() {
        return this.owner
    }
    ,
    TD.services.TwitterActionListCreated.prototype.getTargetUsers = function() {
        return []
    }
    ,
    TD.services.TwitterActionListCreated.prototype.render = function() {
        var e = {
            chirp: this,
            sourceAvatar: this.owner.miniProfileImageURL()
        };
        return TD.ui.template.render("status/list_activity", e)
    }
    ,
    TD.services.TwitterActionListCreated.prototype.renderNotification = function() {
        return this.render(null )
    }
    ,
    TD.services.TwitterActionListCreated.prototype.getNotificationData = function() {
        return {
            title: this.text,
            img: null ,
            text: this.list.description
        }
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionListMemberAdded = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype = new TD.services.TwitterAction,
    TD.services.TwitterActionListMemberAdded.prototype.action = TD.services.TwitterAction.LIST_MEMBER_ADDED,
    TD.services.TwitterActionListMemberAdded.prototype.owner = null ,
    TD.services.TwitterActionListMemberAdded.prototype.added = null ,
    TD.services.TwitterActionListMemberAdded.prototype.list = null ,
    TD.services.TwitterActionListMemberAdded.prototype.fromRESTData = function(e, t, i, s) {
        this.owner = new TD.services.TwitterUser(this.account).fromJSONObject(t),
        this.added = new TD.services.TwitterUser(this.account).fromJSONObject(i),
        this.list = new TD.services.TwitterList(this.account).fromJSONObject(s)
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.fromStreamData = function(e) {
        this.owner = new TD.services.TwitterUser(this.account).fromJSONObject(e.source),
        this.added = new TD.services.TwitterUser(this.account).fromJSONObject(e.target),
        this.list = new TD.services.TwitterList(this.account).fromJSONObject(e.target_object)
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.generateInternalID = function() {
        this.id = [this.action, this.owner.id, this.added.id, this.list.id].join("_")
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.generateText = function() {
        var e;
        e = this.isAboutYou() ? TD.i("{{{owner}}} added you to their list {{{list}}}", null , !0) : TD.i("{{{owner}}} added {{{added}}} to their list {{{list}}}", null , !0),
        this.text = TD.ui.template.toHtml(e, {
            owner: this.owner.name,
            added: this.added.name,
            list: this.list.name
        }),
        this.htmlText = TD.ui.template.toHtml(e, {
            owner: TD.ui.template.render("text/user_link_fullname", {
                name: this.owner.name,
                profileUrl: this.owner.getProfileURL(),
                withBold: !0
            }),
            added: TD.ui.template.render("text/user_link_fullname", {
                name: this.added.name,
                profileUrl: this.added.getProfileURL(),
                withBold: !0
            }),
            list: TD.ui.template.render("text/list_link_real_name", this.list)
        })
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.isOwnChirp = function() {
        return this.owner.id == this.account.getUserID()
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.isAboutYou = function() {
        return this.added.id == this.account.getUserID()
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.getCreator = function() {
        return this.owner
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.getTargetUsers = function() {
        return [this.added]
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.render = function() {
        var e = {
            chirp: this,
            sourceAvatar: this.owner.miniProfileImageURL()
        };
        return TD.ui.template.render("status/list_activity", e)
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.renderNotification = function() {
        return this.render(null )
    }
    ,
    TD.services.TwitterActionListMemberAdded.prototype.getNotificationData = function() {
        return {
            title: this.text,
            img: null ,
            text: this.list.description
        }
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionMention = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionMention.prototype = new TD.services.TwitterActionOnTweet,
    TD.services.TwitterActionMention.prototype.action = TD.services.TwitterAction.MENTION,
    TD.services.TwitterActionMention.prototype.iconClass = "icon-mention icon-mention-color",
    TD.services.TwitterActionMention.prototype.fromRESTData = function(e, t, i, s) {
        "reply" === e.action ? this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(i) : this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(s),
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(t)
    }
    ,
    TD.services.TwitterActionMention.prototype.fromStreamData = function(e) {
        return this.sourceUser = e.user,
        this.targetTweet = e,
        this.created = new Date(e.created),
        this.generateInternalID(),
        this.generateText(),
        this.maxPosition = this.minPosition = this.created.getTime().toString(),
        this
    }
    ,
    TD.services.TwitterActionMention.prototype.generateText = function() {
        var e = TD.i("{{{user}}} mentioned you", null , !0);
        this.text = TD.ui.template.toHtml(e, {
            user: this.sourceUser.name
        }),
        this.htmlText = TD.ui.template.toHtml(e, {
            user: TD.ui.template.render("text/user_link_fullname", {
                name: this.sourceUser.name,
                profileUrl: this.sourceUser.getProfileURL(),
                withBold: this.isAboutYou()
            })
        })
    }
    ,
    TD.services.TwitterActionMention.prototype.isAboutYou = function() {
        return !0
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionMultiListMemberAdded = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype = new TD.services.TwitterAction,
    TD.services.TwitterActionMultiListMemberAdded.prototype.action = "multi_list_member_added",
    TD.services.TwitterActionMultiListMemberAdded.prototype.owner = null ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.added = null ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.lists = null ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.fromRESTData = function(e) {
        this.owner = new TD.services.TwitterUser(this.account).fromJSONObject(e.sources[0]),
        this.added = _.map(e.targets, function(e) {
            return new TD.services.TwitterUser(this.account).fromJSONObject(e)
        }
        .bind(this)),
        this.lists = _.map(e.target_objects, function(e) {
            return new TD.services.TwitterList(this.account).fromJSONObject(e)
        }
        .bind(this))
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.generateInternalID = function() {
        var e = _.pluck(this.added, "id").sort().join("-")
          , t = _.pluck(this.lists, "id").sort().join("-");
        this.id = [this.action, this.owner.id, e, t].join("_");
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.generateText = function() {
        var e = TD.i("{{{owner}}} added {{{added}}} to the lists {{{lists}}}", null , !0)
          , t = []
          , i = []
          , s = []
          , n = [];
        _.each(this.added, function(e) {
            t.push(e.name),
            i.push(TD.ui.template.render("text/user_link_fullname", {
                name: e.name,
                profileUrl: e.getProfileURL(),
                withBold: !0
            }))
        }),
        _.each(this.lists, function(e) {
            s.push(e.fullName),
            n.push(TD.ui.template.render("text/list_link_real_name", e))
        }),
        this.text = TD.ui.template.toHtml(e, {
            owner: this.owner.name,
            added: t.join(", "),
            lists: s.join(", ")
        }),
        this.htmlText = TD.ui.template.toHtml(e, {
            owner: TD.ui.template.render("text/user_link_fullname", {
                name: this.owner.name,
                profileUrl: this.owner.getProfileURL(),
                withBold: this.isAboutYou()
            }),
            added: i.join(", "),
            lists: n.join(", ")
        })
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.isOwnChirp = function() {
        return !1
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.isAboutYou = function() {
        return !1
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.getCreator = function() {
        return this.owner
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.getTargetUsers = function() {
        return this.added
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.render = function() {
        var e = {
            chirp: this,
            sourceAvatar: this.owner.miniProfileImageURL()
        };
        return TD.ui.template.render("status/action_list", e)
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.renderNotification = function() {
        return this.render(null )
    }
    ,
    TD.services.TwitterActionMultiListMemberAdded.prototype.getNotificationData = function() {
        return {
            title: null ,
            img: null ,
            text: this.text
        }
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionOnTweet = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionOnTweet.prototype = new TD.services.TwitterAction,
    TD.services.TwitterActionOnTweet.prototype.sourceUser = null ,
    TD.services.TwitterActionOnTweet.prototype.targetTweet = null ,
    TD.services.TwitterActionOnTweet.prototype.generateInternalID = function() {
        this.id = [this.action, this.sourceUser.id, this.targetTweet.id].join("_")
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.isAboutYou = function() {
        return this.targetTweet.user.id == this.account.getUserID()
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.isOwnChirp = function() {
        return this.sourceUser.id == this.account.getUserID()
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.getRelatedTweet = function() {
        return this.targetTweet
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.getCreator = function() {
        return this.sourceUser
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.passFilters = function(e) {
        var t = TD.controller.filterManager.pass(this, e);
        return this.targetTweet && this.targetTweet.quotedTweet ? t && TD.controller.filterManager.pass(this.targetTweet.quotedTweet, e) : t
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.render = function(e, t) {
        e = e || {},
        t = t || "status/tweet_activity_in_stream";
        var i = TD.settings.getDisplaySensitiveMedia()
          , s = this.isAboutYou()
          , n = this.action === TD.services.TwitterAction.MENTION
          , r = this.action === TD.services.TwitterAction.FAVORITE
          , o = this.action === TD.services.TwitterAction.QUOTED_TWEET
          , a = this.targetTweet.quotedTweet ? !0 : !1
          , c = this.retweet ? !0 : !1
          , l = !s && !n
          , u = s && n
          , d = !0;
        (n || o) && (d = !1);
        var h = !0;
        l || u ? h = !1 : o && (h = !1);
        var m = !1;
        return n || o ? m = !0 : !s && r && (m = !0),
        TD.ui.template.render(t, $.extend(e, {
            chirp: this,
            sourceAvatar: s ? this.sourceUser.miniProfileImageURL() : null ,
            withActivityHeader: d,
            isAboutYou: s,
            isMention: n,
            isFavorite: r,
            isRetweet: c,
            isTweetActivity: l,
            isNotification: u,
            withTweetActions: !0,
            withFooter: !0,
            withAvatar: m,
            withSourceMute: !s,
            withContentMute: h,
            withMediaPreview: e.mediaPreviewSize !== TD.vo.Column.MEDIA_PREVIEW_OFF,
            isMediaPreviewSmall: e.mediaPreviewSize === TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,
            isMediaPreviewLarge: e.mediaPreviewSize === TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE,
            isQuotedTweet: a,
            mediaPreviewSrc: function() {
                return this.getMediaSrcForPreviewSize(e.mediaPreviewSize)
            },
            animatedGif: function() {
                return this.getAnimatedGifForPreview()
            },
            renderQuoted: function() {
                return this.renderQuotedTweet(e)
            },
            renderQuotedMissing: function() {
                return this.renderQuotedTweetMissing(e)
            },
            thumbSizeClass: TD.services.TwitterMedia.thumbSizeClasses[e.mediaPreviewSize],
            isPossiblySensitive: this.targetTweet.possiblySensitive && !i,
            withLinebreaks: !0,
            icon: this.iconClass
        }))
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.renderNotification = function() {
        return this.render({}, "status/tweet_activity_in_box")
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.getNotificationData = function() {
        return {
            title: this.text,
            img: this.targetTweet.user.profileImageURL,
            text: $("<div>" + this.targetTweet.htmlText + "</div>").text()
        }
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.getMedia = function() {
        return this.getRelatedTweet().getMedia()
    }
    ,
    TD.services.TwitterActionOnTweet.prototype.getTargetUsers = function() {
        return [this.targetTweet.user]
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionQuotedTweet = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionQuotedTweet.prototype = new TD.services.TwitterActionOnTweet,
    TD.services.TwitterActionQuotedTweet.prototype.action = TD.services.TwitterAction.QUOTED_TWEET,
    TD.services.TwitterActionQuotedTweet.prototype.iconClass = "icon-content txt-r-dark-gray txt-base-medium",
    TD.services.TwitterActionQuotedTweet.prototype.fromRESTData = function(e, t, i, s) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(t),
        this.targetUser = new TD.services.TwitterUser(this.account).fromJSONObject(i.quoted_status.user),
        this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(i)
    }
    ,
    TD.services.TwitterActionQuotedTweet.prototype.isAboutYou = function() {
        return this.targetUser.isMe()
    }
    ,
    TD.services.TwitterActionQuotedTweet.prototype.fromStreamData = function(e) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(e.source),
        this.targetUser = new TD.services.TwitterUser(this.account).fromJSONObject(e.target),
        this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(e.target_object)
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionRetweet = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionRetweet.prototype = new TD.services.TwitterActionOnTweet,
    TD.services.TwitterActionRetweet.prototype.action = TD.services.TwitterAction.RETWEET,
    TD.services.TwitterActionRetweet.prototype.iconClass = "icon-retweet txt-r-medium-green",
    TD.services.TwitterActionRetweet.prototype.retweet = null ,
    TD.services.TwitterActionRetweet.prototype.fromRESTData = function(e, t, i, s) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(t),
        this.retweet = new TD.services.TwitterStatus(this.account).fromJSONObject(i),
        this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(s)
    }
    ,
    TD.services.TwitterActionRetweet.prototype.fromStreamData = function(e) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(e.source),
        this.retweet = new TD.services.TwitterStatus(this.account).fromJSONObject(e.target),
        this.targetTweet = this.retweet.retweetedStatus
    }
    ,
    TD.services.TwitterActionRetweet.prototype.fromRetweet = function(e) {
        return this.sourceUser = e.user,
        this.retweet = e,
        this.targetTweet = e.retweetedStatus,
        this.created = new Date(e.created),
        this.generateInternalID(),
        this.generateText(),
        this.maxPosition = this.minPosition = this.created.getTime().toString(),
        this
    }
    ,
    TD.services.TwitterActionRetweet.prototype.generateText = function() {
        var e = TD.i("{{{user}}} retweeted", null , !0);
        this.text = TD.ui.template.toHtml(e, {
            user: this.sourceUser.name
        }),
        this.htmlText = TD.ui.template.toHtml(e, {
            user: TD.ui.template.render("text/user_link_fullname", {
                name: this.sourceUser.name,
                profileUrl: this.sourceUser.getProfileURL(),
                withBold: this.isAboutYou()
            })
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterActionRetweetedRetweet = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterActionRetweetedRetweet.prototype = new TD.services.TwitterActionOnTweet,
    TD.services.TwitterActionRetweetedRetweet.prototype.action = TD.services.TwitterAction.RETWEETED_RETWEET,
    TD.services.TwitterActionRetweetedRetweet.prototype.iconClass = "icon-retweet txt-r-medium-green",
    TD.services.TwitterActionRetweetedRetweet.prototype.fromRESTData = function(e, t, i, s) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(t),
        this.targetUser = new TD.services.TwitterUser(this.account).fromJSONObject(s),
        this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(i.retweeted_status)
    }
    ,
    TD.services.TwitterActionRetweetedRetweet.prototype.isAboutYou = function() {
        return this.targetUser.isMe()
    }
    ,
    TD.services.TwitterActionRetweetedRetweet.prototype.fromStreamData = function(e) {
        this.sourceUser = new TD.services.TwitterUser(this.account).fromJSONObject(e.source),
        this.targetUser = new TD.services.TwitterUser(this.account).fromJSONObject(e.target),
        this.targetTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(e.target_object.retweeted_status)
    }
    ,
    TD.services.TwitterActionRetweetedRetweet.prototype.generateText = function() {
        var e = TD.i("{{{user}}} retweeted your Retweet", null , !0);
        this.text = TD.ui.template.toHtml(e, {
            user: this.sourceUser.name
        }),
        this.htmlText = TD.ui.template.toHtml(e, {
            user: TD.ui.template.render("text/user_link_fullname", {
                name: this.sourceUser.name,
                profileUrl: this.sourceUser.getProfileURL(),
                withBold: this.isAboutYou()
            })
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterCard = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterCard.prototype = {
        url: null ,
        title: null ,
        description: null ,
        author: null ,
        site: null ,
        images: null ,
        players: null
    },
    TD.services.TwitterCard.SUPPORTED_CARD_TYPES = ["summaries", "photos", "players"],
    TD.services.TwitterCard.prototype.fromJSONObject = function(e) {
        return this.url = e.url,
        this.title = e.title,
        this.description = e.description,
        e.author_user && (this.author = new TD.services.TwitterUser(this.account).fromJSONObject(e.author_user)),
        e.site_user && (this.site = new TD.services.TwitterUser(this.account).fromJSONObject(e.site_user)),
        e.images && (this.images = e.images),
        e.players && (this.players = e.players.filter(function(e) {
            return e.aspectRatio = e.height / e.width * 100,
            "text/html" === e.source_type
        })),
        this
    }
    ,
    TD.services.TwitterCard.prototype.renderGallery = function() {
        var e, t;
        return this.players ? e = TD.ui.template.render("cards/media_player_gallery", this) : (t = {
            url: this.url,
            imageSrc: this.images.web.image_url,
            thumbClass: TD.services.TwitterMedia.IMAGE_CLASS
        },
        e = TD.ui.template.render("status/media_thumb", t)),
        e
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterConversation = function(e, t) {
        this.unread = !1,
        this.messages = [],
        this.messageIndex = {},
        this.account = e,
        this.participants = t || [],
        this.hasValidParticipant = !(1 === this.participants.length && t[0].isDeleted),
        this.sortIndex = {
            type: "milliseconds"
        }
    }
    ,
    TD.services.TwitterConversation.CONVERSATION_STATUS_AT_END = "AT_END",
    TD.services.TwitterConversation.CONVERSATION_ENTRY_COUNT = 100,
    TD.services.TwitterConversation.getConversationId = function(e) {
        return TD.ui.template.toHtml("conversation-{{accountId}}-{{conversationId}}", {
            accountId: e.account.getUserID(),
            conversationId: e.conversationId
        })
    }
    ,
    TD.services.TwitterConversation.prototype = new TD.services.ChirpBase,
    TD.services.TwitterConversation.prototype.fromJSONObject = function(e) {
        return this.type = e.type,
        this.conversationId = e.conversation_id,
        this.notificationsDisabled = !!e.notifications_disabled,
        this.name = e.name,
        this.lastReadEventId = e.last_read_event_id,
        this.sortTimestamp = new Date(parseInt(e.sort_timestamp, 10)),
        this.id = TD.services.TwitterConversation.getConversationId({
            conversationId: this.conversationId,
            account: this.account
        }),
        this.calculateAttributes(),
        this
    }
    ,
    TD.services.TwitterConversation.prototype.chirpType = TD.services.ChirpBase.MESSAGE_THREAD,
    TD.services.TwitterConversation.prototype.participants = null ,
    TD.services.TwitterConversation.prototype.unread = !1,
    TD.services.TwitterConversation.prototype.replied = !1,
    TD.services.TwitterConversation.prototype.messages = null ,
    TD.services.TwitterConversation.prototype.messageIndex = null ,
    TD.services.TwitterConversation.prototype.conversationId = null ,
    TD.services.TwitterConversation.prototype.name = null ,
    TD.services.TwitterConversation.prototype.getAUserThatIsNotMe = function() {
        for (var e = this.account.getUserID(), t = 0; t < this.participants.length; t++)
            if (this.participants[t].id !== e)
                return this.participants[t]
    }
    ,
    TD.services.TwitterConversation.prototype.getNotificationTitle = function(e) {
        var t = this.getConversationTitleInformation()
          , i = t.name;
        if (!i) {
            var s = t.numberOfOtherParticipants
              , n = s > 1 ? " +" + s : ""
              , r = e || this.getAUserThatIsNotMe() || this.participants[0];
            i = r.name + n
        }
        return i
    }
    ,
    TD.services.TwitterConversation.prototype.isOneToOne = function() {
        return 1 === this.participants.length
    }
    ,
    TD.services.TwitterConversation.prototype.getConversationTitleInformation = function() {
        var e = this.participants.length;
        return {
            name: TD.util.cleanWithEmoji(this.name || ""),
            isOneToOne: 1 === e,
            isThreeway: 2 === e,
            isOneToMany: e > 2,
            numberOfOtherParticipants: e - 1,
            isDeleted: 1 === e && this.participants[0].isDeleted
        }
    }
    ,
    TD.services.TwitterConversation.prototype.isCorrectThreadForMessage = function(e) {
        return e.messageThreadId === this.id
    }
    ,
    TD.services.TwitterConversation.prototype.setLastReadEventId = function(e) {
        return TD.util.numericStringComparator(e, this.lastReadEventId) > 0 ? (this.lastReadEventId = e,
        this.getUnreadChirps().forEach(function(t) {
            TD.util.numericStringComparator(t.id, e) < 1 && (t.read = !0)
        }),
        !0) : void 0
    }
    ,
    TD.services.TwitterConversation.prototype.addNotificationTitleInfo = function(e) {
        e.notificationTitle || (e.notificationTitle = {
            withSender: this.getNotificationTitle(e.sender),
            withoutSender: this.getNotificationTitle()
        })
    }
    ,
    TD.services.TwitterConversation.prototype.addMessages = function(e) {
        var t, i, s = !1, n = [];
        if (e && 0 !== e.length) {
            for (t = 0,
            i = e.length; i > t; t++) {
                var r = e[t];
                if (!this.messageIndex[r.id]) {
                    if (!this.isCorrectThreadForMessage(r))
                        throw new Error("Wrong thread!");
                    r instanceof TD.services.TwitterConversationReadEvent ? s = this.setLastReadEventId(r.lastReadEventId) : (s = !0,
                    r.messageThreadId = this.id,
                    this.messages.push(r),
                    this.messageIndex[r.id] = r,
                    r.read = r.isOwnChirp() || TD.util.numericStringComparator(r.id, this.lastReadEventId) < 1)
                }
            }
            return this.messages.sort(TD.util.chirpColumnSort),
            this.calculateAttributes(),
            s && $(document).trigger("uiConversationChanged", {
                chirp: this
            }),
            n.length && $(document).trigger("uiMessageThreadNotifications", {
                notifications: n
            }),
            s
        }
    }
    ,
    TD.services.TwitterConversation.prototype.setParticipants = function(e) {
        this.participants = e
    }
    ,
    TD.services.TwitterConversation.prototype.removeMessage = function(e) {
        var t = this.messageIndex[e];
        return t ? (delete this.messageIndex[e],
        this.messages = this.messages.filter(function(t) {
            return t.id !== e
        }),
        this.calculateAttributes(),
        $(document).trigger("uiMessageThreadRead", {}),
        !0) : !1
    }
    ,
    TD.services.TwitterConversation.prototype.getMainUser = function() {
        return this.participants[0]
    }
    ,
    TD.services.TwitterConversation.prototype.isUnread = function() {
        return this.getUnreadChirps().length > 0
    }
    ,
    TD.services.TwitterConversation.prototype.replied = function() {
        return this.messages[0] && this.messages[0].isOwnChirp()
    }
    ,
    TD.services.TwitterConversation.prototype.updateSender = function() {
        var e = this.messages[0];
        !e || e.isOwnChirp() ? (this.sender = null ,
        this.showSenderName = !1) : this.participants.length > 1 && (this.showSenderName = e instanceof TD.services.TwitterConversationMessageEvent,
        this.sender = e.sender)
    }
    ,
    TD.services.TwitterConversation.prototype.updateSortIndex = function() {
        this.created = this.sortTimestamp,
        this.sortIndex.value = this.sortTimestamp.getTime(),
        this.messages.length > 0 && this.messages[0].belongsAbove(this) && (this.sortIndex.value = this.messages[0].sortIndex.value)
    }
    ,
    TD.services.TwitterConversation.prototype.updateContent = function() {
        var e = this.messages[0];
        if (this.attachmentOnly = !1,
        e) {
            this.text = e.text || "",
            this.htmlText = e.htmlText,
            this.previewText = e.previewText,
            this._media = e._media;
            var t = !1
              , i = !1;
            if (this._media && this._media.length) {
                var s = this.text;
                i = this._media.some(function(e) {
                    return e.entity && e.entity.indices && e.entity.indices[1] === this.text.length ? (s = this.text.substr(0, e.entity.indices[0]),
                    !0) : void 0
                }
                .bind(this))
            }
            this.text.length > 140 && (s = this.text.substr(0, 140) + "…",
            t = !0),
            (t || i) && (this.text = s.trim(),
            this.htmlText = TD.util.transform(this.text, this.entities)),
            !this.text && !this.previewText && this._media && this._media.length && (this.attachmentOnly = !0)
        } else
            this.text = "",
            this.htmlText = "",
            this.previewText = ""
    }
    ,
    TD.services.TwitterConversation.prototype.calculateAttributes = function() {
        this.unread = this.isUnread(),
        this.updateSender(),
        this.updateSortIndex(),
        this.updateContent()
    }
    ,
    TD.services.TwitterConversation.prototype.render = function(e) {
        var t = this.account.getKey()
          , i = Math.min(this.participants.length, 3)
          , s = "media-grid-" + i + "-mirror"
          , n = e.templateName || "status/conversation";
        return TD.ui.template.render(n, {
            chirp: this,
            mediaPreviewSrc: function() {
                var e = this.getMediaSrcForPreviewSize("small");
                return this.needsSecureUrl && _.defer(function() {
                    $(document).trigger("uiNeedsSecureImageUrl", {
                        accountKey: t,
                        url: e
                    })
                }),
                e
            },
            withMultipleAvatars: i > 1,
            avatars: this.participants.slice(0, 3),
            avatarsClass: s,
            accountKey: t
        })
    }
    ,
    TD.services.TwitterConversation.prototype.renderThread = function() {
        var e = [];
        return this.messages.forEach(function(t) {
            e.push(t.render())
        }),
        e.join("")
    }
    ,
    TD.services.TwitterConversation.prototype.setStatus = function(e) {
        this.status = e
    }
    ,
    TD.services.TwitterConversation.prototype.isAtEnd = function() {
        return this.status === TD.services.TwitterConversation.CONVERSATION_STATUS_AT_END
    }
    ,
    TD.services.TwitterConversation.prototype.updateConversation = function() {
        var e, t = TD.controller.clients.getClient(this.account.getKey()), i = {};
        return this.isAtEnd() ? e = TD.core.defer.succeed() : (i.count = TD.services.TwitterConversation.CONVERSATION_ENTRY_COUNT,
        this.messages.length && (i.max_id = this.messages[this.messages.length - 1].id),
        e = t.getDmConversation(this.conversationId, i)),
        e
    }
    ,
    TD.services.TwitterConversation.prototype.isOwnChirp = function() {
        return !1
    }
    ,
    TD.services.TwitterConversation.prototype.getUnreadChirps = function(e) {
        return e && this.notificationsDisabled ? [] : this.messages.filter(function(t) {
            var i = !e || t.belongsAbove(e);
            return t.chirpType === TD.services.ChirpBase.MESSAGE && !t.isOwnChirp() && !t.read && i
        })
    }
    ,
    TD.services.TwitterConversation.prototype.getMaxEntryId = function() {
        for (var e = null , t = 0; !e && this.messages[t]; )
            this.messages[t].chirpType === TD.services.ChirpBase.MESSAGE && (e = this.messages[t].id),
            t++;
        return e || 0
    }
    ,
    TD.services.TwitterConversation.prototype.markAsRead = function() {
        var e = this.getUnreadChirps();
        if (!(e.length <= 0)) {
            this.getDOMChirps().removeClass(TD.services.ChirpBase.UNREAD_CLASS),
            e.forEach(function(e) {
                e.read = !0
            }),
            this.unread = !1,
            $(document).trigger("uiMessageThreadRead", {});
            var t = function(t) {
                this.unread = !0,
                e && e.forEach(function(e) {
                    e.read = !1
                }),
                TD.controller.progressIndicator.addMessage(TD.i("Failed to mark message as read.")),
                this.getDOMChirps().addClass(TD.services.ChirpBase.UNREAD_CLASS)
            }
            ;
            this.conversationId ? $(document).trigger("uiMarkDmAsRead", {
                lastReadEventId: this.getMaxEntryId(),
                conversationId: this.conversationId,
                error: t.bind(this),
                accountKey: this.account.getKey()
            }) : t.call(this)
        }
    }
    ,
    TD.services.TwitterConversation.prototype.getSenders = function() {
        return 1 !== this.participants.length || this.participants[0].isDeleted ? [] : [this.participants[0].screenName]
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterConversationFailedParticipantsEvent = function(e) {
        this.id = _.uniqueId("failedParticipants"),
        this.account = e.account,
        this.failedParticipants = e.failedParticipants.map(function(t, i) {
            return {
                participant: t,
                isLastItem: i === e.failedParticipants.length - 1
            }
        }),
        this.conversationId = e.conversationId,
        this.messageThreadId = TD.services.TwitterConversation.getConversationId({
            account: this.account,
            conversationId: this.conversationId
        }),
        this.previewText = this.generatePreviewText(),
        this.created = new Date
    }
    ,
    TD.services.TwitterConversationFailedParticipantsEvent.prototype = new TD.services.ChirpBase,
    TD.services.TwitterConversationFailedParticipantsEvent.prototype.chirpType = TD.services.ChirpBase.CONVERSATION_PARTICIPANTS_FAILED,
    TD.services.TwitterConversationFailedParticipantsEvent.prototype.messageThreadId = null ,
    TD.services.TwitterConversationFailedParticipantsEvent.prototype.previewText = null ,
    TD.services.TwitterConversationFailedParticipantsEvent.prototype.getParticipants = function() {
        var e = 8
          , t = this.failedParticipants.length
          , i = Math.ceil(t / Math.ceil(t / e));
        return this.failedParticipants.map(function(e, t) {
            return {
                participant: e,
                isEndOfRow: !((t + 1) % i)
            }
        })
    }
    ,
    TD.services.TwitterConversationFailedParticipantsEvent.prototype.generatePreviewText = function() {
        return TD.ui.template.render("status/conversation_failed_participants_preview")
    }
    ,
    TD.services.TwitterConversationFailedParticipantsEvent.prototype.isOwnChirp = function() {
        return !0
    }
    ,
    TD.services.TwitterConversationFailedParticipantsEvent.prototype.render = function() {
        return TD.ui.template.render("status/conversation_failed_participants", {
            chirp: this
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterConversationJoinEvent = function(e) {
        this.sender = e.sender,
        this.account = e.account
    }
    ,
    TD.services.TwitterConversationJoinEvent.prototype = new TD.services.ChirpBase,
    TD.services.TwitterConversationJoinEvent.prototype.chirpType = TD.services.ChirpBase.CONVERSATION_JOIN,
    TD.services.TwitterConversationJoinEvent.prototype.messageThreadId = null ,
    TD.services.TwitterConversationJoinEvent.prototype.previewText = null ,
    TD.services.TwitterConversationJoinEvent.prototype.getNotificationData = function() {
        return {
            img: this.sender.profileImageURL,
            title: this.notificationTitle.withSender,
            text: this.sender.name + " " + TD.i("has added you to a group conversation.")
        }
    }
    ,
    TD.services.TwitterConversationJoinEvent.prototype.fromJSONObject = function(e) {
        this.id = e.id,
        this.conversationId = e.conversation_id,
        this.created = new Date(parseInt(e.time, 10)),
        this.messageThreadId = TD.services.TwitterConversation.getConversationId({
            account: this.account,
            conversationId: this.conversationId
        }),
        this.previewText = this.generatePreviewText();
        var t = TD.controller.clients.getClient(this.account.getKey());
        return this.conversation = t.conversations.getConversation(this.conversationId),
        this
    }
    ,
    TD.services.TwitterConversationJoinEvent.prototype.getParticipants = function() {
        var e = 8
          , t = this.conversation.participants.length
          , i = Math.ceil(t / Math.ceil(t / e));
        return this.conversation.participants.map(function(e, t) {
            return {
                participant: e,
                isEndOfRow: !((t + 1) % i)
            }
        })
    }
    ,
    TD.services.TwitterConversationJoinEvent.prototype.generatePreviewText = function() {
        return TD.ui.template.render("status/conversation_join_preview", {
            chirp: this
        })
    }
    ,
    TD.services.TwitterConversationJoinEvent.prototype.isOwnChirp = function() {
        return this.sender.id === this.account.getUserID()
    }
    ,
    TD.services.TwitterConversationJoinEvent.prototype.render = function() {
        return TD.ui.template.render("status/conversation_join", {
            numberOfParticipants: this.conversation.participants.length,
            chirp: this
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterConversationMessageEvent = function(e, t) {
        this.account = e,
        this.sender = t
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype = new TD.services.TwitterStatus,
    TD.services.TwitterConversationMessageEvent.prototype.chirpType = TD.services.ChirpBase.MESSAGE,
    TD.services.TwitterConversationMessageEvent.prototype.messageThreadId = null ,
    TD.services.TwitterConversationMessageEvent.prototype.htmlText = null ,
    TD.services.TwitterConversationMessageEvent.prototype.fromJSONObject = function(e) {
        if (this.id = e.id_str || String(e.id),
        this.text = e.message_data.text,
        this.conversationId = e.conversation_id,
        this.messageThreadId = TD.services.TwitterConversation.getConversationId({
            account: this.account,
            conversationId: e.conversation_id
        }),
        this.created = new Date(parseInt(e.time, 10)),
        this.entities = e.message_data.entities || {},
        this.attachment = e.message_data.attachment,
        this.createdDate = TD.util.prettyDate(this.created),
        this._media = TD.services.TwitterMedia.getMediaFromEntities(this.entities).concat(TD.services.TwitterMedia.getMediaFromAttachment(this.attachment)).map(function(e) {
            return "twitter" !== e.service || e.isVideo || e.isAnimatedGif || (e.needsSecureUrl = !0),
            e
        }),
        this.attachment && this.attachment.tweet) {
            this.quotedTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(this.attachment.tweet.status),
            this.quotedTweetEntities = this._extractEntities(this.quotedTweet);
            var t = this.quotedTweet.getChirpURL().slice(5);
            this.entities.urls.forEach(function(e) {
                e.isUrlForAttachment = e.expanded_url.indexOf(t) > -1
            }, this)
        }
        return this.htmlText = TD.util.transform(this.text, this.entities),
        this
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.hasLocationData = function() {
        return !1
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.getMainUser = function() {
        return this.sender
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.isOwnChirp = function() {
        return this.sender.id === this.account.getUserID()
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.dm = function() {
        $(document).trigger("uiComposeTweet", {
            type: "message",
            from: [this.account.getKey()],
            messageRecipients: [{
                screenName: this.sender.screenName
            }]
        })
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.getChirpURL = function() {
        return ""
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.destroy = function() {
        var e = this;
        this._action("deleteDM", function() {
            var t = TD.controller.clients.getClient(e.account.getKey());
            t.deleteMessage(e.id)
        })
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.render = function() {
        var e = TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM
          , t = this.account.getKey()
          , i = TD.ui.template.render("status/message_in_stream", {
            message: this,
            withFooter: !0,
            withAvatar: !0,
            withMediaPreview: !0,
            isMediaPreviewSmall: e === TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,
            isMediaPreviewLarge: e === TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE,
            mediaPreviewSrc: function() {
                var i = this.getMediaSrcForPreviewSize(e);
                return this.needsSecureUrl && _.defer(function() {
                    $(document).trigger("uiNeedsSecureImageUrl", {
                        accountKey: t,
                        url: i
                    })
                }),
                i
            },
            animatedGif: function() {
                return this.getAnimatedGifForPreview()
            },
            withAutoplay: !0,
            renderQuoted: function() {
                return this.renderQuotedTweet()
            },
            renderQuotedMissing: function() {
                return this.renderQuotedTweetMissing()
            },
            thumbSizeClass: TD.services.TwitterMedia.thumbSizeClasses[e],
            accountKey: this.account.getKey()
        });
        return i
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.renderInMediaGallery = function() {
        return TD.ui.template.render("status/message_in_box", {
            message: this,
            withFooter: !0,
            withAvatar: !0,
            withMediaPreview: !1,
            withTweetActions: !0,
            withTweetActionsVisible: !0
        })
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.renderNotification = function() {
        return TD.ui.template.render("status/message_in_box", {
            message: this,
            withAvatar: !0
        })
    }
    ,
    TD.services.TwitterConversationMessageEvent.prototype.getSenders = function() {
        return [this.sender.screenName]
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterConversationNameUpdateEvent = function(e, t) {
        this.sender = t,
        this.account = e
    }
    ,
    TD.services.TwitterConversationNameUpdateEvent.prototype = new TD.services.ChirpBase,
    TD.services.TwitterConversationNameUpdateEvent.prototype.chirpType = TD.services.ChirpBase.CONVERSATION_NAME_UPDATE,
    TD.services.TwitterConversationNameUpdateEvent.prototype.messageThreadId = null ,
    TD.services.TwitterConversationNameUpdateEvent.prototype.previewText = null ,
    TD.services.TwitterConversationNameUpdateEvent.prototype.getNotificationData = function() {
        return {
            img: this.sender.profileImageURL,
            title: this.conversationName,
            text: this.sender.name + " " + TD.i("has renamed the group conversation.")
        }
    }
    ,
    TD.services.TwitterConversationNameUpdateEvent.prototype.fromJSONObject = function(e) {
        return this.id = e.id,
        this.conversationId = e.conversation_id,
        this.created = new Date(parseInt(e.time, 10)),
        this.messageThreadId = TD.services.TwitterConversation.getConversationId({
            account: this.account,
            conversationId: this.conversationId
        }),
        this.conversationName = e.conversation_name,
        this.sanitizedConversationName = TD.util.transform(e.conversation_name || ""),
        this.previewText = this.generatePreviewText(),
        this
    }
    ,
    TD.services.TwitterConversationNameUpdateEvent.prototype.generatePreviewText = function() {
        return TD.ui.template.render("status/conversation_name_update_preview", {
            chirp: this
        })
    }
    ,
    TD.services.TwitterConversationNameUpdateEvent.prototype.isOwnChirp = function() {
        return this.sender && this.sender.id === this.account.getUserID()
    }
    ,
    TD.services.TwitterConversationNameUpdateEvent.prototype.render = function() {
        return TD.ui.template.render("status/conversation_name_update", {
            chirp: this
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterConversationParticipantsJoinEvent = function(e) {
        this.sender = e.sender,
        this.account = e.account,
        this.addedParticipants = e.addedParticipants
    }
    ,
    TD.services.TwitterConversationParticipantsJoinEvent.prototype = new TD.services.ChirpBase,
    TD.services.TwitterConversationParticipantsJoinEvent.prototype.chirpType = TD.services.ChirpBase.CONVERSATION_PARTICIPANTS_JOIN,
    TD.services.TwitterConversationParticipantsJoinEvent.prototype.messageThreadId = null ,
    TD.services.TwitterConversationParticipantsJoinEvent.prototype.previewText = null ,
    TD.services.TwitterConversationParticipantsJoinEvent.prototype.getNotificationData = function() {
        var e = this.addedParticipants[this.addedParticipants.length - 1];
        return {
            img: e.profileImageURL,
            title: this.notificationTitle.withoutSender,
            text: e.name + " " + TD.i("has beed added to the group conversation.")
        }
    }
    ,
    TD.services.TwitterConversationParticipantsJoinEvent.prototype.fromJSONObject = function(e) {
        return this.id = e.id,
        this.conversationId = e.conversation_id,
        this.created = new Date(parseInt(e.time, 10)),
        this.messageThreadId = TD.services.TwitterConversation.getConversationId({
            account: this.account,
            conversationId: this.conversationId
        }),
        this.previewText = this.generatePreviewText(),
        this
    }
    ,
    TD.services.TwitterConversationParticipantsJoinEvent.prototype.generatePreviewText = function() {
        return TD.ui.template.render("status/conversation_participants_join_preview", {
            chirp: this,
            numberOfOtherParticipants: this.addedParticipants.length - 1
        })
    }
    ,
    TD.services.TwitterConversationParticipantsJoinEvent.prototype.isOwnChirp = function() {
        return this.sender.id === this.account.getUserID()
    }
    ,
    TD.services.TwitterConversationParticipantsJoinEvent.prototype.render = function() {
        return TD.ui.template.render("status/conversation_participants_join", {
            chirp: this
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterConversationParticipantsLeaveEvent = function(e, t) {
        this.account = e,
        this.leftParticipants = t
    }
    ,
    TD.services.TwitterConversationParticipantsLeaveEvent.prototype = new TD.services.ChirpBase,
    TD.services.TwitterConversationParticipantsLeaveEvent.prototype.chirpType = TD.services.ChirpBase.CONVERSATION_PARTICIPANT_REMOVED,
    TD.services.TwitterConversationParticipantsLeaveEvent.prototype.messageThreadId = null ,
    TD.services.TwitterConversationParticipantsLeaveEvent.prototype.previewText = null ,
    TD.services.TwitterConversationParticipantsLeaveEvent.prototype.getNotificationData = function() {
        return this.leftParticipants.map(function(e) {
            return {
                img: e.profileImageURL,
                title: this.notificationTitle.withoutSender,
                text: e.name + " " + TD.i("has left the group conversation.")
            }
        }, this).pop()
    }
    ,
    TD.services.TwitterConversationParticipantsLeaveEvent.prototype.fromJSONObject = function(e) {
        return this.id = e.id,
        this.conversationId = e.conversation_id,
        this.created = new Date(parseInt(e.time, 10)),
        this.messageThreadId = TD.services.TwitterConversation.getConversationId({
            account: this.account,
            conversationId: this.conversationId
        }),
        this.previewText = this.generatePreviewText(),
        this
    }
    ,
    TD.services.TwitterConversationParticipantsLeaveEvent.prototype.generatePreviewText = function() {
        return TD.ui.template.render("status/conversation_participants_leave_preview", {
            chirp: this
        })
    }
    ,
    TD.services.TwitterConversationParticipantsLeaveEvent.prototype.isOwnChirp = function() {
        return !1
    }
    ,
    TD.services.TwitterConversationParticipantsLeaveEvent.prototype.render = function() {
        return TD.ui.template.render("status/conversation_participants_leave", {
            chirp: this
        })
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterConversationReadEvent = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterConversationReadEvent.prototype = new TD.services.ChirpBase,
    TD.services.TwitterConversationReadEvent.prototype.chirpType = TD.services.ChirpBase.CONVERSATION_READ,
    TD.services.TwitterConversationReadEvent.prototype.messageThreadId = null ,
    TD.services.TwitterConversationReadEvent.prototype.fromJSONObject = function(e) {
        return this.id = e.id,
        this.conversationId = e.conversation_id,
        this.created = new Date(parseInt(e.time, 10)),
        this.lastReadEventId = e.last_read_event_id,
        this.messageThreadId = TD.services.TwitterConversation.getConversationId({
            account: this.account,
            conversationId: this.conversationId
        }),
        this
    }
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(18)
      , r = s(n);
    TD.services.Conversations = function(e, t) {
        this.client = t,
        this.account = e,
        this.conversationCache = {},
        this.accessLevel = {
            oneToOne: !1,
            groupRead: !1
        },
        this.currentUsers = {}
    }
    ,
    TD.services.Conversations.prototype.getConversation = function(e) {
        return this.conversationCache[e]
    }
    ,
    TD.services.Conversations.prototype.getAllConversations = function() {
        return (0,
        r.default)(this.conversationCache).map(function(e) {
            return this.conversationCache[e]
        }, this)
    }
    ,
    TD.services.Conversations.prototype.setAccessLevel = function(e) {
        (e.oneToOne !== this.accessLevel.oneToOne || e.groupRead !== this.accessLevel.groupRead) && (this.destroyAll(),
        this.accessLevel = e,
        TD.controller.columnManager.getColumnsByAccountKey(this.account.getKey()).filter(function(e) {
            return e.isMessageColumn()
        }).forEach(function(e) {
            var t = e.model.getFeedKeys();
            t.map(TD.controller.feedManager.getPoller).forEach(function(e) {
                e.refresh({
                    reset: !0
                })
            })
        }))
    }
    ,
    TD.services.Conversations.prototype.destroyAll = function() {
        var e = (0,
        r.default)(this.conversationCache).map(function(e) {
            return this.conversationCache[e]
        }, this);
        e.length && this.client.publishChirpsInternal("remove", "direct", e),
        this.conversationCache = {}
    }
    ,
    TD.services.Conversations.prototype.processUserUpdates = function(e, t) {
        var i = {}
          , s = [];
        if (e && (this.conversationCache = {}),
        t = t.user_inbox ? t.user_inbox : t.user_events ? t.user_events : t.conversation_timeline) {
            if (t.users && (this.currentUsers = {},
            this.processUsers(t.users)),
            t.conversations && (s = this.processConversations(t.conversations, t.users),
            this.cacheConversations(s)),
            t.cursor && (0,
            r.default)(this.conversationCache).forEach(function(e) {
                this.conversationCache[e].cursor = t.cursor
            }, this),
            this.updateMinEntryIds(t),
            t.entries && (i = this.processConversationEntries(t.entries, t.users)),
            t.failed_participants && 1 === s.length) {
                var n = s[0].conversationId
                  , o = this.processFailedParticipants(t.failed_participants, n);
                i[n] = i[n] || [],
                i[n] = i[n].concat([o])
            }
            return this.addEventsToConversations(i).forEach(function(e) {
                -1 === s.indexOf(e) && s.push(e)
            }),
            t.unread_conversations && (0,
            r.default)(t.unread_conversations).forEach(function(e) {
                var t = this.conversationCache[e];
                t && (t.unread = !0)
            }, this),
            s
        }
    }
    ,
    TD.services.Conversations.prototype.markAllRead = function() {
        var e = this.getAllConversations();
        if (e.length) {
            var t = e.map(function(e) {
                return e.getMaxEntryId()
            }).sort(TD.util.numericStringComparator).pop();
            $(document).trigger("uiMarkAllDmsAsRead", {
                lastReadEventId: t,
                accountKey: this.account.getKey(),
                success: function() {
                    var t = e.filter(function(e) {
                        return e.unread === !0
                    });
                    t.length && (t.forEach(function(e) {
                        e.unread = !1,
                        e.messages.forEach(function(e) {
                            e.read = !0
                        })
                    }),
                    this.client.publishChirpsInternal("publish", "direct", t))
                }
                .bind(this)
            })
        }
    }
    ,
    TD.services.Conversations.prototype.updateMinEntryIds = function(e) {
        var t = (0,
        r.default)(this.conversationCache)
          , i = t.length > 0 ? this.conversationCache[t[0]].minEntryId : null
          , s = !i || e.min_entry_id && TD.util.numericStringComparator(i, e.min_entry_id) > 0;
        s && (0,
        r.default)(this.conversationCache).forEach(function(t) {
            this.conversationCache[t].minEntryId = e.min_entry_id
        }, this)
    }
    ,
    TD.services.Conversations.prototype.processUsers = function(e) {
        (0,
        r.default)(e).forEach(function(t) {
            this.currentUsers[t] || (this.currentUsers[t] = e[t] ? this.client.processUser(e[t]) : this.client.processDeletedUser(t))
        }
        .bind(this))
    }
    ,
    TD.services.Conversations.prototype.addEventsToConversations = function(e) {
        var t = [];
        return (0,
        r.default)(e).forEach(function(i) {
            var s = this.conversationCache[i];
            s && s.addMessages(e[i]) && t.push(s)
        }, this),
        t
    }
    ,
    TD.services.Conversations.prototype.processStreamData = function(e, t) {
        var i = new TD.core.defer.Deferred;
        if (!e.user_events)
            return i.fail();
        if (e.user_events.conversations && !t)
            i.callback(this.processUserUpdates(!1, e));
        else {
            var s = e.user_events;
            s.users && this.processUsers(s.users);
            var n = this.processConversationEntries(s.entries, s.users)
              , o = this.addEventsToConversations(n)
              , a = (0,
            r.default)(n).filter(function(e) {
                return t || !o.some(function(t) {
                    return t.conversationId === e
                })
            });
            if (0 === a.length)
                i.callback(o);
            else {
                var c = new TD.core.defer.DeferredList(a.map(function(e) {
                    return this.client.getDmConversation(e, {
                        include_conversation_info: !0
                    })
                }, this),{
                    consumeErrors: !0
                });
                c.addCallback(function(e) {
                    e = e.reduce(function(e, t) {
                        return e.concat(t[1])
                    }, []),
                    i.callback(e)
                })
            }
        }
        return i
    }
    ,
    TD.services.Conversations.prototype.processConversations = function(e, t) {
        return (0,
        r.default)(e).map(function(i) {
            var s = e[i];
            try {
                var n = this.conversationCache[i];
                if (n) {
                    n = this.conversationCache[i].fromJSONObject(s);
                    var r = this.inflateParticipants(s, t);
                    n.setParticipants(r)
                } else
                    n = this.processConversation(s, t);
                return n
            } catch (o) {
                this.logProcessingError("conversation", o)
            }
        }, this).filter(function(e) {
            return e
        })
    }
    ,
    TD.services.Conversations.prototype.logProcessingError = function(e, t) {
        TD.sync.util.warn("Threw on processing conversation", e, t),
        $(document).trigger("metric", {
            key: "conversation:processing-error:" + e
        })
    }
    ,
    TD.services.Conversations.prototype.cacheConversations = function(e) {
        e.forEach(function(e) {
            e instanceof TD.services.TwitterConversation && !this.conversationCache[e.conversationId] && (this.conversationCache[e.conversationId] = e)
        }, this)
    }
    ,
    TD.services.Conversations.prototype.processConversationEntries = function(e, t) {
        var i = {};
        return e.forEach(function(e) {
            var s;
            try {
                s = e.message && this.processMessage(e.message, t) || e.conversation_read && this.processConversationReadEvent(e.conversation_read) || e.participants_join && this.processConversationParticipantsJoinEvent(e.participants_join) || e.join_conversation && this.processConversationJoinEvent(e.join_conversation) || e.participants_leave && this.processConversationParticipantsLeaveEvent(e.participants_leave) || e.conversation_name_update && this.processConversationNameUpdate(e.conversation_name_update)
            } catch (n) {
                this.logProcessingError("entry", n)
            }
            s && (i[s.conversationId] = i[s.conversationId] || [],
            i[s.conversationId].push(s))
        }, this),
        i
    }
    ,
    TD.services.Conversations.prototype.processFailedParticipants = function(e, t) {
        var i = (0,
        r.default)(e).map(function(e) {
            return this.currentUsers[e]
        }, this);
        return new TD.services.TwitterConversationFailedParticipantsEvent({
            account: this.account,
            conversationId: t,
            failedParticipants: i
        })
    }
    ,
    TD.services.Conversations.prototype.inflateParticipants = function(e, t) {
        var i = this.account.getUserID();
        return e.participants.filter(function(t) {
            return t.user_id !== i || 1 === e.participants.length
        }).sort(function(t, i) {
            return t.user_id === e.created_by_user_id ? -1 : i.user_id === e.created_by_user_id ? 1 : TD.util.numericStringComparator(t.join_time, i.join_time) || TD.util.numericStringComparator(t.user_id, i.user_id)
        }).map(function(e) {
            return this.currentUsers[e.user_id] || t[e.user_id] ? this.client.processUser(t[e.user_id]) : this.client.processDeletedUser(e.user_id)
        }, this)
    }
    ,
    TD.services.Conversations.prototype.processConversation = function(e, t) {
        var i = this.inflateParticipants(e, t);
        return new TD.services.TwitterConversation(this.account,i).fromJSONObject(e)
    }
    ,
    TD.services.Conversations.prototype.processConversationReadEvent = function(e) {
        return new TD.services.TwitterConversationReadEvent(this.account).fromJSONObject(e)
    }
    ,
    TD.services.Conversations.prototype.processConversationNameUpdate = function(e) {
        var t = this.currentUsers[e.by_user_id];
        return new TD.services.TwitterConversationNameUpdateEvent(this.account,t).fromJSONObject(e)
    }
    ,
    TD.services.Conversations.prototype.processConversationJoinEvent = function(e) {
        var t = this.currentUsers[e.sender_id];
        return new TD.services.TwitterConversationJoinEvent({
            account: this.account,
            sender: t
        }).fromJSONObject(e)
    }
    ,
    TD.services.Conversations.prototype.processConversationParticipantsJoinEvent = function(e) {
        var t = [];
        e.participants.forEach(function(e) {
            t.push(this.currentUsers[e.user_id])
        }
        .bind(this));
        var i = this.currentUsers[e.sender_id];
        return new TD.services.TwitterConversationParticipantsJoinEvent({
            account: this.account,
            sender: i,
            addedParticipants: t
        }).fromJSONObject(e)
    }
    ,
    TD.services.Conversations.prototype.processConversationParticipantsLeaveEvent = function(e) {
        var t = [];
        return e.participants.forEach(function(e) {
            t.push(this.currentUsers[e.user_id])
        }
        .bind(this)),
        new TD.services.TwitterConversationParticipantsLeaveEvent(this.account,t).fromJSONObject(e)
    }
    ,
    TD.services.Conversations.prototype.processMessage = function(e) {
        var t = e.message_data.sender_id
          , i = this.currentUsers[t];
        return i ? new TD.services.TwitterConversationMessageEvent(this.account,i).fromJSONObject(e) : void 0
    }
    ,
    TD.services.Conversations.prototype.deleteMessageByIdAndReturnChangedConversations = function(e) {
        return (0,
        r.default)(this.conversationCache).map(function(e) {
            return this.conversationCache[e]
        }
        .bind(this)).filter(function(t) {
            return t.removeMessage(e)
        })
    }
    ,
    TD.services.Conversations.prototype.renameConversation = function(e) {
        var t = this.getConversation(e.conversationId);
        t.name = e.name,
        this.client.publishChirpsInternal("publish", "direct", [t])
    }
    ,
    TD.services.Conversations.prototype.deleteConversation = function(e) {
        var t = this.getConversation(e);
        TD.controller.feedManager.deleteChirp(t.id),
        delete this.conversationCache[e]
    }
    ,
    TD.services.Conversations.prototype.getUnreadCount = function() {
        return (0,
        r.default)(this.conversationCache).reduce(function(e, t) {
            var i = this.conversationCache[t];
            return e + (i.unread ? 1 : 0)
        }
        .bind(this), 0)
    }
}
, function(e, t) {
    "use strict";
    TD.services.CustomTimeline = function(e) {
        this.account = e
    }
    ,
    TD.services.CustomTimeline.prototype.fromJSONObject = function(e) {
        return this.id = e.id_str || e.id,
        this.name = e.name,
        this.description = e.description,
        this.url = e.collection_url,
        this.user = new TD.services.TwitterUser(this.account).fromJSONObject(e.user),
        this
    }
    ,
    TD.services.CustomTimeline.prototype.isOwnCustomTimeline = function() {
        return String(this.account.getUserID()) === this.user.id
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterList = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterList.prototype.fromJSONObject = function(e) {
        return this.id = e.id_str,
        this.name = e.name,
        this.description = e.description,
        this.slug = e.slug,
        this.fullName = e.full_name,
        this.memberCount = e.member_count,
        this.isPrivate = "private" === e.mode,
        this.user = new TD.services.TwitterUser(this.account).fromJSONObject(e.user),
        this
    }
    ,
    TD.services.TwitterList.prototype.isOwnList = function() {
        var e = TD.storage.Account.generateKeyFor("twitter", this.user.id)
          , t = TD.storage.accountController.get(e);
        return Boolean(t)
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterMedia = function() {}
    ,
    TD.services.TwitterMedia.TWITPIC_RE = /(http:\/\/|www.)?twitpic.com\/(\w+)/,
    TD.services.TwitterMedia.YFROG_RE = /(http:\/\/|www.)?yfrog.com\/\w+/,
    TD.services.TwitterMedia.PLIXI_RE = /(http:\/\/|www.)?plixi.com\/p\/[0-9]+/,
    TD.services.TwitterMedia.LOCKERZ_RE = /(http:\/\/|www.)?lockerz.com\/s\/[0-9]+/,
    TD.services.TwitterMedia.INSTAGRAM_RE = /(http:\/\/|www.)?instagr.am\/p\/[\w-]+(\/)/,
    TD.services.TwitterMedia.YOUTUBE_LONG_RE = /(?:(?:https?\:\/\/)?(?:www\.)?)?youtube\.com\/watch[a-zA-Z0-9_\-\?\&\=\/]+/,
    TD.services.TwitterMedia.YOUTUBE_TINY_RE = /(http:\/\/|www.)?youtu\.be\/([a-zA-Z0-9_\-\?\&\=\/]+)/,
    TD.services.TwitterMedia.YOUTUBE_RE = new RegExp(TD.services.TwitterMedia.YOUTUBE_LONG_RE.source + "|" + TD.services.TwitterMedia.YOUTUBE_TINY_RE.source),
    TD.services.TwitterMedia.YOUTUBE_STARTTIME = /^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?$/,
    TD.services.TwitterMedia.VIMEO_RE = /https?:\/\/(www\.|player\.)?vimeo\.com\/(.+)/i,
    TD.services.TwitterMedia.VINE_RE = /https?:\/\/(www\.)?vine\.co\/v\/(.+)/i,
    TD.services.TwitterMedia.FLICKR_RE = /https?:\/\/(www\.)?(flic.kr|flickr.com\/photos)\/(.+)/i,
    TD.services.TwitterMedia.IMGUR_RE = /https?:\/\/([a-z0-9]+\.)?imgur.com\/(.+)/i,
    TD.services.TwitterMedia.PHOTOZOU_RE = /https?:\/\/photozou\.jp\/photo\/(show|photo_only)\/(.+)/i,
    TD.services.TwitterMedia.FILTERABLE_VIDEO_SERVICES = [TD.services.TwitterMedia.VIMEO_RE, TD.services.TwitterMedia.VINE_RE, TD.services.TwitterMedia.YOUTUBE_TINY_RE, TD.services.TwitterMedia.YOUTUBE_RE, TD.services.TwitterMedia.YOUTUBE_LONG_RE],
    TD.services.TwitterMedia.FILTERABLE_IMAGE_SERVICES = [TD.services.TwitterMedia.FLICKR_RE, TD.services.TwitterMedia.IMGUR_RE, TD.services.TwitterMedia.PHOTOZOU_RE],
    TD.services.TwitterMedia.YOUTUBE_GALLERY_WIDTH = 640,
    TD.services.TwitterMedia.YOUTUBE_GALLERY_HEIGHT = 390,
    TD.services.TwitterMedia.VINE_GALLERY_WIDTH = 540,
    TD.services.TwitterMedia.VINE_GALLERY_HEIGHT = 540,
    TD.services.TwitterMedia.AVAILABLE_COLUMN_SPACE = {
        narrow: 250,
        medium: 290,
        wide: 330
    },
    TD.services.TwitterMedia.MAX_THUMB_WIDTH = 90,
    TD.services.TwitterMedia.MAX_THUMB_HEIGHT = 65,
    TD.services.TwitterMedia.THUMBNAIL_CONTAINER_CLASS = "media-thumb-container",
    TD.services.TwitterMedia.THUMBNAIL_IMG_CLASS = "media-thumb-img",
    TD.services.TwitterMedia.thumbSizeClasses = {
        off: "",
        small: "media-size-small",
        medium: "media-size-medium",
        large: "media-size-large"
    },
    TD.services.TwitterMedia.IMAGE_CLASS = "media-img",
    TD.services.TwitterMedia.SERVICES = {
        twitpic: TD.services.TwitterMedia.TWITPIC_RE,
        yfrog: TD.services.TwitterMedia.YFROG_RE,
        lockerz: TD.services.TwitterMedia.LOCKERZ_RE,
        instagram: TD.services.TwitterMedia.INSTAGRAM_RE,
        youtube: TD.services.TwitterMedia.YOUTUBE_RE,
        vine: TD.services.TwitterMedia.VINE_RE
    },
    TD.services.TwitterMedia.getMediaFromAttachment = function(e) {
        var t = [];
        return e && (e.photo ? t.push((new TD.services.TwitterMedia).fromPhotoAttachment(e.photo)) : e.video ? t.push((new TD.services.TwitterMedia).fromVideoAttachment(e.video)) : e.animated_gif && t.push((new TD.services.TwitterMedia).fromAnimatedGIFAttachment(e.animated_gif))),
        t
    }
    ,
    TD.services.TwitterMedia.getMediaFromEntities = function(e, t) {
        var i = []
          , s = {};
        t = t || {},
        _.each(e.media, function(e) {
            i.push((new TD.services.TwitterMedia).fromMediaEntity(e))
        });
        var n = _.map(e.urls, function(e) {
            var t = e.expanded_url || e.url;
            return s[t] = e.url,
            _.startsWith(t, "http") || (t = "http://" + t),
            t
        });
        _.each(n, function(e) {
            var t;
            for (var n in TD.services.TwitterMedia.SERVICES)
                t = e.match(TD.services.TwitterMedia.SERVICES[n]),
                t && 0 === e.indexOf(t[0]) && i.push((new TD.services.TwitterMedia).fromURL(n, s[e], e, t))
        }),
        _.each(i, function(e) {
            _.extend(e, t)
        });
        var r = TD.services.TwitterMedia._entitiesContainNativeMultiPhoto(i);
        if (r.length > 0)
            return r;
        var o = TD.services.TwitterMedia._entitiesContainMultiPhoto(i);
        if (o.length > 0)
            return o.pop();
        var a = TD.services.TwitterMedia._entitiesContainNativeVideo(i);
        if (a.length > 0)
            return a;
        var c = TD.services.TwitterMedia._entitiesContainAnimatedGif(i);
        if (c.length > 0)
            return c;
        var l = TD.services.TwitterMedia._entitiesContainVideo(i);
        return l.length > 0 ? [l.pop()] : i
    }
    ,
    TD.services.TwitterMedia.entitiesContainImage = function(e) {
        return TD.services.TwitterMedia.FILTERABLE_IMAGE_SERVICES.some(function(t) {
            return e.urls.some(function(e) {
                return t.test(e.expanded_url)
            })
        })
    }
    ,
    TD.services.TwitterMedia.entitiesContainVideo = function(e) {
        return TD.services.TwitterMedia.FILTERABLE_VIDEO_SERVICES.some(function(t) {
            return e.urls.some(function(e) {
                return t.test(e.expanded_url)
            })
        })
    }
    ,
    TD.services.TwitterMedia._entitiesContainVideo = function(e) {
        return _.filter(e, function(e) {
            var t;
            return _.some(TD.services.TwitterMedia.FILTERABLE_VIDEO_SERVICES, function(i) {
                i.test(e.url) && (t = e)
            }),
            t
        })
    }
    ,
    TD.services.TwitterMedia._entitiesContainNativeMultiPhoto = function(e) {
        return _.filter(e, function(e) {
            return e.nativePhotoCapable() && e.referenced_media === !1 ? e : void 0
        })
    }
    ,
    TD.services.TwitterMedia._entitiesContainMultiPhoto = function(e) {
        var t = _.groupBy(e, function(e) {
            return e.nativePhotoCapable() && e.referenced_media === !0 ? e.url : "__delete"
        });
        delete t.__delete;
        var i = _.values(t);
        return i
    }
    ,
    TD.services.TwitterMedia._entitiesContainNativeVideo = function(e) {
        return e.filter(function(e) {
            return e.nativeVideoCapable()
        })
    }
    ,
    TD.services.TwitterMedia._entitiesContainAnimatedGif = function(e) {
        return e.filter(function(e) {
            return e.animatedGifCapable()
        })
    }
    ,
    TD.services.TwitterMedia.prototype = {
        flaggedNSFW: !1,
        isVideo: !1,
        isAnimatedGif: !1,
        isVine: !1
    },
    TD.services.TwitterMedia.prototype.nativePhotoCapable = function() {
        return "twitter" === this.service && "photo" === this.entity.type
    }
    ,
    TD.services.TwitterMedia.prototype.nativeVideoCapable = function() {
        return "twitter" === this.service && "video" === this.entity.type
    }
    ,
    TD.services.TwitterMedia.prototype.animatedGifCapable = function() {
        return "twitter" === this.service && "animated_gif" === this.entity.type
    }
    ,
    TD.services.TwitterMedia.prototype.fromMediaEntity = function(e) {
        return this.entity = e,
        this.service = "twitter",
        this.isVideo = "video" === e.type,
        this.isAnimatedGif = "animated_gif" === e.type,
        this.url = this.shortUrl = e.url,
        this.sizes = e.sizes,
        this.needsSecureUrl = !1,
        this.isScheduled = !1,
        this.mediaId = e.id_str,
        e.source_status_id ? this.referenced_media = !0 : this.referenced_media = !1,
        this
    }
    ,
    TD.services.TwitterMedia.prototype.fromPhotoAttachment = function(e) {
        return this.entity = e,
        this.service = "twitter",
        this.url = e.media_url_https,
        this.shortUrl = e.display_url,
        this.sizes = e.sizes,
        this.needsSecureUrl = !1,
        this.isScheduled = !1,
        this.mediaId = e.id_str,
        this.referenced_media = !1,
        this
    }
    ,
    TD.services.TwitterMedia.prototype.fromVideoAttachment = function(e) {
        return this.fromMediaEntity(e)
    }
    ,
    TD.services.TwitterMedia.prototype.fromAnimatedGIFAttachment = function(e) {
        return this.fromMediaEntity(e)
    }
    ,
    TD.services.TwitterMedia.prototype.fromURL = function(e, t, i, s) {
        if (this.url = i,
        this.urlMatches = s,
        this.shortUrl = t,
        this.service = e,
        "instagram" === this.service && _.endsWith(this.url, "/"))
            this.url = this.url.substring(0, this.url.length - 1);
        else if ("vine" === this.service)
            this.isVine = !0,
            this.isVideo = !0,
            this.mediaId = this.url.split("/").pop();
        else if ("youtube" === this.service) {
            if (this.isVideo = !0,
            this.url.match(TD.services.TwitterMedia.YOUTUBE_LONG_RE) ? this.mediaId = TD.net.util.decodeURL(this.url).v : this.mediaId = this.url.split("/").pop().split("?")[0],
            this.startTimeInUrl = TD.net.util.decodeURL(this.url).t,
            !this.startTimeInUrl) {
                var n = this.url.split("#")[1] || "";
                this.startTimeInUrl = TD.net.util.formDecode(n).t
            }
            if (this.startTimeInUrl) {
                var r = this.startTimeInUrl.match(TD.services.TwitterMedia.YOUTUBE_STARTTIME)
                  , o = r[1] ? parseInt(3600 * r[1], 10) : 0
                  , a = r[2] ? parseInt(60 * r[2], 10) : 0
                  , c = r[3] ? parseInt(r[3], 10) : 0;
                this.startTime = o + a + c
            }
        }
        return this
    }
    ,
    TD.services.TwitterMedia.prototype.getTwitterPreviewUrl = function(e) {
        return this.isScheduled ? this.entity.url : this.entity.media_url_https + (e || "")
    }
    ,
    TD.services.TwitterMedia.prototype.thumb = function() {
        switch (this.service) {
        case "twitter":
            return this.getTwitterPreviewUrl(":thumb");
        case "twitpic":
            return "https://twitpic.com/show/thumb/" + this.urlMatches[2];
        case "yfrog":
            return this.url.replace("http://", "https://") + ":small";
        case "lockerz":
            return "https://api.plixi.com/api/tpapi.svc/imagefromurl?size=thumbnail&url=" + this.url;
        case "instagram":
            return "https://instagr.am/p/" + this.url.split("/").pop() + "/media/?size=t";
        case "youtube":
            return "https://img.youtube.com/vi/" + this.mediaId + "/default.jpg";
        case "vine":
            return this.large()
        }
    }
    ,
    TD.services.TwitterMedia.prototype.small = function() {
        switch (this.service) {
        case "twitter":
            return this.getTwitterPreviewUrl(":small");
        case "twitpic":
        case "yfrog":
        case "lockerz":
        case "vine":
            return this.large();
        case "instagram":
            return "https://instagr.am/p/" + this.url.split("/").pop() + "/media/?size=m";
        case "youtube":
            return "https://img.youtube.com/vi/" + this.mediaId + "/mqdefault.jpg"
        }
    }
    ,
    TD.services.TwitterMedia.prototype.medium = function() {
        switch (this.service) {
        case "twitter":
            return this.getTwitterPreviewUrl();
        case "twitpic":
        case "yfrog":
        case "lockerz":
        case "vine":
            return this.large();
        case "instagram":
            return "https://instagr.am/p/" + this.url.split("/").pop() + "/media/?size=l";
        case "youtube":
            return "https://img.youtube.com/vi/" + this.mediaId + "/mqdefault.jpg"
        }
    }
    ,
    TD.services.TwitterMedia.prototype.large = function() {
        switch (this.service) {
        case "twitter":
            return this.getTwitterPreviewUrl(":large");
        case "twitpic":
            return "https://twitpic.com/show/full/" + this.urlMatches[2];
        case "yfrog":
            return this.url.replace("http://", "https://") + ":iphone";
        case "lockerz":
            return "https://api.plixi.com/api/tpapi.svc/imagefromurl?size=medium&url=" + this.url;
        case "instagram":
            return "https://instagr.am/p/" + this.url.split("/").pop() + "/media/?size=l";
        case "youtube":
            return "https://img.youtube.com/vi/" + this.mediaId + "/hqdefault.jpg";
        case "vine":
            return "https://vine.co/v/" + this.mediaId + "/thumb"
        }
    }
    ,
    TD.services.TwitterMedia.prototype.chooseVideoVariant = function() {
        return this.entity.video_info.variants.filter(function(e) {
            return "video/mp4" === e.content_type
        }).sort(function(e, t) {
            return ~~e.bitrate - ~~t.bitrate
        }).pop()
    }
    ,
    TD.services.TwitterMedia.prototype.getMediaSrcForPreviewSize = function(e) {
        var t = TD.util.isRetina();
        switch (e) {
        case TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL:
            return this.small();
        case TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM:
            return t ? this.medium() : this.small();
        case TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE:
            return t ? this.large() : this.medium()
        }
    }
    ,
    TD.services.TwitterMedia.prototype.getAnimatedGifForPreview = function() {
        var e = this.chooseVideoVariant();
        return {
            src: e.url,
            contentType: e.content_type
        }
    }
    ,
    TD.services.TwitterMedia.prototype.renderThumb = function(e) {
        var t;
        if ("twitter" === this.service && "animated_gif" === this.entity.type) {
            var i = this.chooseVideoVariant();
            return t = {
                src: i.url,
                contentType: i.content_type
            },
            TD.ui.template.render("media/animated_gif", t)
        }
        return t = {
            url: this.url,
            imageSrc: this.thumb(),
            isVideo: this.isVideo,
            thumbSizeClass: TD.services.TwitterMedia.thumbSizeClasses[e]
        },
        TD.ui.template.render("status/media_thumb", t)
    }
    ,
    TD.services.TwitterMedia.prototype.renderGridView = function() {
        var e = {
            mediaId: this.mediaId,
            isPossiblySensitive: this.isPossiblySensitive,
            url: this.url,
            imageSrc: this.small(),
            isVideo: this.isVideo,
            thumbClass: TD.services.TwitterMedia.IMAGE_CLASS
        };
        return TD.ui.template.render("status/media_image_container", e)
    }
    ,
    TD.services.TwitterMedia.prototype.renderDetailView = function() {
        var e, t = "narrow" === TD.settings.getColumnWidth();
        if ("twitter" === this.service && this.isAnimatedGif)
            return e = {
                isPossiblySensitive: this.isPossiblySensitive,
                isAnimatedGif: !0,
                animatedGif: function() {
                    return this.getAnimatedGifForPreview()
                }
                .bind(this),
                withAutoplay: !0
            },
            TD.ui.template.render("status/media_thumb", e);
        if ("twitter" === this.service && this.isVideo) {
            var i = this.entity.video_info.aspect_ratio[0] / this.entity.video_info.aspect_ratio[1]
              , s = TD.services.TwitterMedia.AVAILABLE_COLUMN_SPACE[TD.settings.getColumnWidth()]
              , n = this.chooseVideoVariant();
            return e = {
                imageSrc: this.entity.media_url_https,
                videoUrl: n.url,
                contentType: n.content_type,
                isPossiblySensitive: this.isPossiblySensitive,
                mediaId: this.mediaId,
                autoplay: 1,
                width: s,
                height: s / i
            },
            TD.ui.template.render("media/native_video", e)
        }
        return "youtube" !== this.service || t ? "vine" !== this.service || t ? (e = {
            mediaId: this.mediaId,
            isPossiblySensitive: this.isPossiblySensitive,
            url: this.url,
            imageSrc: this.small(),
            isVideo: this.isVideo,
            thumbClass: TD.services.TwitterMedia.IMAGE_CLASS
        },
        TD.ui.template.render("status/media_thumb", e)) : (e = {
            id: this.mediaId,
            width: "100%",
            height: "auto"
        },
        TD.ui.template.render("media/vine", e)) : (e = {
            id: this.mediaId,
            startTime: this.startTime,
            autoplay: 0,
            width: "100%",
            height: "auto"
        },
        TD.ui.template.render("media/youtube", e))
    }
    ,
    TD.services.TwitterMedia.prototype.renderGallery = function() {
        var e, t, i;
        if ("twitter" === this.service && "animated_gif" === this.entity.type)
            e = "media/animated_gif",
            i = this.chooseVideoVariant(),
            t = {
                gifSrc: i.url,
                contentType: i.content_type
            };
        else if ("twitter" === this.service && this.isVideo) {
            e = "media/native_video";
            var s = this.entity.video_info.aspect_ratio[0] / this.entity.video_info.aspect_ratio[1]
              , n = 410
              , r = n * s;
            i = this.chooseVideoVariant(),
            t = {
                imageSrc: this.entity.media_url_https,
                videoUrl: i.url,
                contentType: i.content_type,
                mediaId: this.mediaId,
                autoplay: 1,
                height: n,
                width: r
            }
        } else
            "youtube" === this.service ? (e = "media/youtube",
            t = {
                id: this.mediaId,
                startTime: this.startTime,
                autoplay: 1,
                width: TD.services.TwitterMedia.YOUTUBE_GALLERY_WIDTH,
                height: TD.services.TwitterMedia.YOUTUBE_GALLERY_HEIGHT
            }) : "vine" === this.service ? (e = "media/vine",
            t = {
                id: this.mediaId,
                width: TD.services.TwitterMedia.VINE_GALLERY_WIDTH,
                height: TD.services.TwitterMedia.VINE_GALLERY_HEIGHT
            }) : (e = "status/media_thumb",
            t = {
                url: this.url,
                imageSrc: this.large(),
                thumbClass: TD.services.TwitterMedia.IMAGE_CLASS,
                needsSecureUrl: this.needsSecureUrl,
                isGalleryView: !0
            });
        return TD.ui.template.render(e, t)
    }
}
, function(e, t) {
    "use strict";
    !function() {
        var e = {
            AlreadyRetweeted: TD.i("Already retweeted"),
            InvalidUrl: TD.i("Contained an invalid URL"),
            UserSuspended: TD.i("User has been suspended"),
            Duplicate: TD.i("Status was a duplicate"),
            InvalidImage: TD.i("Invalid image"),
            RateLimitExceeded: TD.i("Rate limit exceeded"),
            TextTooLong: TD.i("Text too long"),
            Unknown: TD.i("Unknown error")
        };
        TD.services.ScheduledTweet = function() {}
        ,
        TD.services.ScheduledTweet.prototype.chirpType = TD.services.ChirpBase.SCHEDULED_TWEET,
        TD.services.ScheduledTweet.prototype.fromJSONObject = function(t) {
            if (this.id = t.id_str,
            this.text = t.text,
            this.state = t.state,
            this.createdAt = new Date(t.created_at_ms),
            this.created = TD.util.iso8601(this.createdAt),
            this.executeAt = new Date(t.execute_at_ms),
            this.timestamp = TD.util.iso8601(this.executeAt),
            this.inReplyToStatusId = t.in_reply_to_status_id,
            this.retweetedStatusId = t.retweeted_status_id,
            this.mediaId = t.media_id,
            this.tweetCreateState = t.tweet_create_state,
            "failed" === this.state) {
                var i = e[this.tweetCreateState] || e.Unknown;
                this.reasonText = TD.i("Tweet cannot be sent") + ": " + i
            }
            t.preview_images_response = t.preview_images_response || {},
            t.preview_images_response.variants = t.preview_images_response.variants || [];
            var s = t.preview_images_response.variants.filter(function(e) {
                return e.id_str = t.media_id,
                e.type = "photo",
                "preview-orig" === e.name
            });
            return this._media = TD.services.TwitterMedia.getMediaFromEntities({
                media: s
            }, {
                isScheduled: !0
            }),
            this.account = TD.storage.accountController.getAccountFromId(t.user_id_str),
            this.user = {
                avatar: TD.util.transformTwitterAvatar(this.account.getProfileImageURL(), "mini"),
                screenName: this.account.getUsername()
            },
            this.token = TD.core.sha1([this.id].join(":")),
            this
        }
    }()
}
, function(e, t) {
    "use strict";
    !function() {
        function e(e) {
            this.token = e,
            this.id = e,
            this.updates = [],
            this.thumbSizeClass = TD.services.TwitterMedia.thumbSizeClasses.medium
        }
        TD.services.ScheduledTweetGroup = e,
        e.prototype = new TD.services.ChirpBase,
        e.prototype.chirpType = TD.services.ChirpBase.SCHEDULED_TWEET_GROUP,
        e.prototype.addUpdate = function(e) {
            this.time || (this.time = TD.util.parseISO8601(e.timestamp),
            this.created = this.time,
            this.sortIndex = this.sortIndex = {
                value: -this.created.getTime(),
                type: "number"
            }),
            this.text = this.text || e.text,
            this.state = this.state || e.state,
            this._media = this._media || e._media,
            this.htmlText = this.htmlText || TD.util.transform(this.text),
            this.inReplyToStatusId = this.inReplyToStatusId || e.inReplyToStatusId,
            this.retweetedStatusId = this.retweetedStatusId || e.retweetedStatusId,
            this.avatarURL = this.avatarURL || e.user.avatar,
            this.reasonText = this.reasonText || e.reasonText,
            this.updates.push(e)
        }
        ,
        e.prototype.render = function() {
            try {
                return TD.ui.template.render("status/scheduled_tweet", {
                    chirp: this,
                    inStream: !0
                })
            } catch (e) {
                console.error(e)
            }
        }
        ,
        e.prototype.renderInMediaGallery = function() {
            return TD.ui.template.render("status/scheduled_tweet", {
                chirp: this,
                withTweetActionsVisible: !0,
                inBox: !0
            })
        }
        ,
        e.prototype.edit = function() {
            $(document).trigger("uiEditScheduledTweetGroup", {
                scheduledTweetGroup: this
            })
        }
        ,
        e.prototype.destroy = function() {
            confirm("Are you sure you wish to delete this scheduled tweet?") && $(document).trigger("uiDeleteScheduledTweetGroup", {
                scheduledTweetGroup: this
            })
        }
        ,
        e.prototype.prettyTime = function() {
            return TD.util.prettyTimeString(this.time)
        }
        ,
        e.prototype.isOwnChirp = function() {
            return !0
        }
        ,
        e.prototype.getSenders = function() {
            return _.map(this.updates, function(e) {
                return e.user.screenName
            })
        }
        ,
        e.prototype.mediaPreviewSrc = function() {
            return this.url
        }
        ,
        e.prototype.canEdit = function() {
            return !this.hasMedia() && TD.decider.hasAccessLevel("scheduler", "WRITE")
        }
    }()
}
, function(e, t) {
    "use strict";
    TD.services.TwitterSearchParser = function(e) {
        this.query = e,
        this.terms = [],
        this.init()
    }
    ,
    TD.services.TwitterSearchParser.PUNCT = new RegExp("[" + twttrTxt.regexen.punct.source + "]","g"),
    TD.services.TwitterSearchParser.ALLOWED_CHARS = ["@", "#", '"', "-"],
    TD.services.TwitterSearchParser.isStreamable = function(e) {
        var t = e.match(TD.services.TwitterSearchParser.PUNCT)
          , i = _.difference(t, TD.services.TwitterSearchParser.ALLOWED_CHARS);
        return 0 === i.length
    }
    ,
    TD.services.TwitterSearchParser.prototype.PHRASE = "phrase",
    TD.services.TwitterSearchParser.prototype.NEGATIVE_PHRASE = "negPhrase",
    TD.services.TwitterSearchParser.prototype.AND = "and",
    TD.services.TwitterSearchParser.prototype.OR = "or",
    TD.services.TwitterSearchParser.prototype.query = "",
    TD.services.TwitterSearchParser.prototype.trackQuery = "",
    TD.services.TwitterSearchParser.prototype.thePhrase = "",
    TD.services.TwitterSearchParser.prototype.type = "",
    TD.services.TwitterSearchParser.prototype.init = function() {
        if (!this.trackQuery) {
            var e, t;
            if (t = "string" == typeof this.query ? TD.services.TwitterSearchParser.extractPhrases(this.query, !1) : this.query,
            0 === t.length)
                ;
            else if (1 === t.length)
                this.thePhrase = t[0].toLowerCase(),
                "-" === this.thePhrase.charAt(0) && -1 === this.thePhrase.indexOf(" ") ? (this.type = this.NEGATIVE_PHRASE,
                this.thePhrase = this.thePhrase.slice(1),
                this.trackQuery = "") : (this.type = this.PHRASE,
                this.trackQuery = this.thePhrase);
            else {
                var i, s = [[]], n = !0;
                for (i = 0; i < t.length; i++)
                    e = t[i],
                    "OR" !== e ? "AND" !== e && (n ? _.last(s).push(e) : s.push([e]),
                    n = !1) : (_.last(s).push(e),
                    n = !0);
                if (s = _.reject(s, function(e) {
                    return _.isEmpty(e)
                }),
                s.length > 1) {
                    for (this.type = this.AND,
                    i = 0; i < s.length; i++) {
                        var r = s[i];
                        r.length > 0 && this.terms.push(new TD.services.TwitterSearchParser(r))
                    }
                    this.trackQuery = this.calculateANDTrackQuery(s)
                } else
                    for (this.type = this.OR,
                    i = 0; i < s[0].length; i++)
                        e = s[0][i],
                        "OR" != e && (this.terms.push(new TD.services.TwitterSearchParser([e])),
                        "-" != e.charAt(0) && (this.trackQuery && (this.trackQuery += ","),
                        this.trackQuery += e))
            }
        }
    }
    ,
    TD.services.TwitterSearchParser.prototype.calculateANDTrackQuery = function(e) {
        for (var t = [""], i = 0; i < e.length; i++) {
            for (var s = e[i], n = [], r = 0; r < s.length; r++) {
                var o = s[r];
                if ("OR" != o)
                    if ("-" == o.charAt(0))
                        n = t;
                    else
                        for (var a = 0; a < t.length; a++) {
                            var c = t[a]
                              , l = c ? c + " " : "";
                            l += o,
                            n.push(l)
                        }
            }
            t = n
        }
        return t.join(",")
    }
    ,
    TD.services.TwitterSearchParser.extractPhrases = function(e, t) {
        for (var i, s = [], n = e.split('"'), r = 0; r < n.length; r++)
            if (n[r])
                if (r % 2 == 1 && r < n.length - 1)
                    i = n[r].trim(),
                    i && (t && (i = '"' + i + '"'),
                    s.push(i));
                else
                    for (var o = n[r].split(" "), a = 0; a < o.length; a++)
                        i = o[a],
                        i = i.trim(),
                        i && s.push(i);
        return s
    }
    ,
    TD.services.TwitterSearchParser.prototype.match = function(e, t) {
        var i, s, n = new RegExp("(^|[^\\w])" + _.escapeRegExp(this.thePhrase) + "($|[^\\w])");
        switch (t || (e = e.toLowerCase()),
        this.type) {
        case this.PHRASE:
            return -1 !== e.indexOf(this.thePhrase) && n.test(e);
        case this.NEGATIVE_PHRASE:
            return -1 === e.indexOf(this.thePhrase);
        case this.AND:
            for (i = 0; i < this.terms.length; i++)
                if (s = this.terms[i],
                !s.match(e, !0))
                    return !1;
            return !0;
        case this.OR:
            for (i = 0; i < this.terms.length; i++)
                if (s = this.terms[i],
                s.match(e, !0))
                    return !0;
            return !1;
        default:
            return !1
        }
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(569);
    TD.services.TwitterStatus = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterStatus.prototype = new TD.services.ChirpBase,
    TD.services.TwitterStatus.prototype.chirpType = TD.services.ChirpBase.TWEET,
    TD.services.TwitterStatus.prototype.user = null ,
    TD.services.TwitterStatus.prototype.inReplyToID = "",
    TD.services.TwitterStatus.prototype.inReplyToUserID = "",
    TD.services.TwitterStatus.prototype.inReplyToScreenName = "",
    TD.services.TwitterStatus.prototype.isFavorite = !1,
    TD.services.TwitterStatus.prototype.isRetweeted = !1,
    TD.services.TwitterStatus.prototype.retweetCount = 0,
    TD.services.TwitterStatus.prototype.retweetedStatus = null ,
    TD.services.TwitterStatus.prototype.quotedTweet = null ,
    TD.services.TwitterStatus.prototype.entities = null ,
    TD.services.TwitterStatus.prototype.quotedEntities = null ,
    TD.services.TwitterStatus.prototype.poll = null ,
    TD.services.TwitterStatus.prototype.sourceUrl = "",
    TD.services.TwitterStatus.prototype.sourceNoHTML = "",
    TD.services.TwitterStatus.prototype.cards = null ,
    TD.services.TwitterStatus.prototype._media = null ,
    TD.services.TwitterStatus.prototype._quotedMedia = null ,
    TD.services.TwitterStatus.prototype._filterableText = null ,
    TD.services.TwitterStatus.prototype.fromJSONObject = function(e) {
        var t, i = this, s = !1;
        this.id = e.id_str || e.id,
        this.sortIndex = {
            value: this.id,
            type: "numericString"
        },
        e.user && (this.user = new TD.services.TwitterUser(this.account).fromJSONObject(e.user),
        this.creatorAccount = TD.storage.accountController.get(TD.storage.Account.generateKeyFor("twitter", this.user.id))),
        e.source && (this.sourceNoHTML = e.source.replace(/<[^>]*>/g, ""),
        this.sourceUrl = twttrTxt.extractUrls(e.source)[0]),
        this.inReplyToUserID = e.in_reply_to_user_id,
        this.inReplyToScreenName = e.in_reply_to_screen_name,
        this.isFavorite = e.favorited,
        this.isRetweeted = e.retweeted,
        this.retweetCount = e.retweet_count,
        this.currentUserRetweet = e.current_user_retweet,
        this.possiblySensitive = e.possibly_sensitive,
        this.previewLength = e.preview_length,
        this.fullLength = e.full_text_length,
        this.isTruncated = this.previewLength && this.fullLength > this.previewLength,
        this.inReplyToID = e.in_reply_to_status_id_str || e.in_reply_to_status_id,
        e.retweeted_status ? (this.text = e.retweeted_status.text,
        this.retweetedStatus = new TD.services.TwitterStatus(this.account).fromJSONObject(e.retweeted_status),
        this.entities = this.retweetedStatus.entities) : (this.text = e.long_tweet ? e.long_tweet.text : e.text,
        this.entities = this._extractEntities(e));
        var n = (e.retweeted_status || e).quoted_status
          , r = (e.retweeted_status || e).quoted_status_id_str;
        n && (this.quotedTweet = new TD.services.TwitterStatus(this.account).fromJSONObject(n),
        this.quotedEntities = this._extractEntities(n)),
        !n && r && (this.quotedTweetMissing = !0),
        this.entities = this.entities || {},
        this._media = TD.services.TwitterMedia.getMediaFromEntities(this.entities),
        !this._media.length && this.quotedTweet && (this._quotedMedia = TD.services.TwitterMedia.getMediaFromEntities(this.quotedEntities || []));
        var o = this.getMedia().reduce(function(e, t) {
            return e[t.url] = (e[t.url] || 0) + 1,
            e
        }, {});
        return e.cards && (this.cards = {},
        _.each(TD.services.TwitterCard.SUPPORTED_CARD_TYPES, function(n) {
            if (e.cards[n])
                for (i.cards[n] = [],
                t = 0; t < e.cards[n].length; t++) {
                    var r = e.cards[n][t];
                    o[r.url] && o[r.url] > 1 || (i.cards[n].push(new TD.services.TwitterCard(i.account).fromJSONObject(r)),
                    s = !0)
                }
        }),
        s || (this.cards = null )),
        this.lang = e.lang,
        this.place = e.place || {},
        this.created = TD.util.parseDateString(e.created_at),
        e.card && e.card.name && e.card.name.indexOf("poll") > -1 && (this.poll = this.getPollDataFromCard(e.card)),
        this._generateHTMLText(),
        this
    }
    ,
    TD.services.TwitterStatus.prototype._generateHTMLText = function() {
        var e = this.getMainTweet()
          , t = this.text
          , i = this.entities
          , n = TD.util.transform(t, i);
        if (this.isTruncated) {
            var r = TD.util.transform(s.truncate(this.text, e.previewLength), i);
            this.htmlText = r,
            this.htmlText += TD.ui.template.render("status/truncation_affordance", this)
        } else
            this.htmlText = n;
        this.htmlTextFull = n
    }
    ,
    TD.services.TwitterStatus.prototype._extractEntities = function(e) {
        e = e.long_tweet || e;
        var t = e.entities || {}
          , i = {
            hashtags: t.hashtags,
            urls: t.urls,
            user_mentions: t.user_mentions,
            cashtags: t.cashtags,
            media: []
        };
        return e.extended_entities && e.extended_entities.media && e.extended_entities.media.length && (i.media = e.extended_entities.media),
        i
    }
    ,
    TD.services.TwitterStatus.prototype.getMainUser = function() {
        return this.retweetedStatus ? this.retweetedStatus.user : this.user
    }
    ,
    TD.services.TwitterStatus.prototype.getCreator = function() {
        return this.user
    }
    ,
    TD.services.TwitterStatus.prototype.getRelatedTweet = function() {
        return this
    }
    ,
    TD.services.TwitterStatus.prototype.getMainTweet = function() {
        return this.retweetedStatus ? this.retweetedStatus : this
    }
    ,
    TD.services.TwitterStatus.prototype.hasLocationData = function() {
        var e = this.getMainTweet();
        return !(!e.place.full_name && !e.place.country)
    }
    ,
    TD.services.TwitterStatus.prototype.getLocationName = function() {
        var e = this.getMainTweet();
        return e.place.name
    }
    ,
    TD.services.TwitterStatus.prototype.getLocationFullName = function() {
        var e = this.getMainTweet();
        return e.place.full_name && e.place.country ? [e.place.full_name, e.place.country].join(", ") : e.place.country ? e.place.country : ""
    }
    ,
    TD.services.TwitterStatus.prototype.getPollDataFromCard = function(e) {
        var t = e.binding_values
          , i = (t.choice1_count ? Number(t.choice1_count.string_value) : 0) + (t.choice2_count ? Number(t.choice2_count.string_value) : 0) + (t.choice3_count ? Number(t.choice3_count.string_value) : 0) + (t.choice4_count ? Number(t.choice4_count.string_value) : 0)
          , s = t.end_datetime_utc && TD.util.timeLeft(new Date(t.end_datetime_utc.string_value), {
            longForm: !0,
            adjustSystemTime: !0
        });
        return {
            hasCount: i > 0,
            hasTimeLeft: s && "now" !== s,
            prettyCount: i + " vote" + (1 === i ? "" : "s"),
            prettyTimeLeft: s
        }
    }
    ,
    TD.services.TwitterStatus.prototype.getLocationURL = function() {
        var e, t = this.getMainTweet();
        switch (t.place.place_type) {
        case "admin":
            e = 10;
            break;
        case "city":
            e = 12;
            break;
        case "country":
            e = 6;
            break;
        case "neighbourhood":
            e = 13;
            break;
        case "poi":
        case "default":
            e = 15
        }
        return "https://maps.google.com/maps?q=" + encodeURIComponent(this.getLocationFullName()) + "&z=" + e
    }
    ,
    TD.services.TwitterStatus.prototype.getLocationSearchEncodedURL = function() {
        return "https://twitter.com/search?q=" + encodeURIComponent('near:"' + this.getLocationFullName() + '"')
    }
    ,
    TD.services.TwitterStatus.prototype.isOwnChirp = function() {
        return Boolean(this.creatorAccount)
    }
    ,
    TD.services.TwitterStatus.prototype.isRetweetedStatus = function() {
        return Boolean(this.retweetedStatus)
    }
    ,
    TD.services.TwitterStatus.prototype.isTranslatable = function() {
        var e = this.getMainTweet();
        return TD.decider.get("machine_translated_tweets") && e.lang && e.lang !== TD.languages.getSystemLanguageCode(!0) && TD.languages.isSupportedTranslationSourceLanguage(e.lang) && TD.languages.isSystemLangSupportedDestinationLanguage() && !e.isOwnChirp() && !e.user.isProtected && !e.getTranslation()
    }
    ,
    TD.services.TwitterStatus.prototype.translate = function() {
        var e = TD.controller.clients.getClient(this.account.getKey())
          , t = this.getMainTweet().lang
          , i = TD.languages.getSupportedDestinationSystemLanguage()
          , s = function(e) {
            var t, s, n, r = this.getDOMChirps().add(this.getMainTweet().getDOMChirps()), o = r.find(".js-translate-call-to-action");
            r = r.filter(function(e) {
                return 0 === $(".js-tweet-translation", this).length
            }),
            this.lang = e.translated_lang || this.lang,
            o.remove(),
            e.translated_lang !== i && (e.htmltext = TD.util.transform(e.text, e.entities),
            e.localizedLanguageName = this.getLocalizedLanguageName(),
            t = r.find(".js-tweet-text"),
            t.after(TD.ui.template.render("status/tweet_translation", e)),
            s = r.find(".js-tweet-translation"),
            n = s.find(".js-tweet-translation-text"),
            t.addClass("tweet-translation-original-text margin-bn"),
            n.html(e.htmltext),
            this.setTranslation(e))
        }
        .bind(this)
          , n = function(e) {
            TD.controller.progressIndicator.addMessage(TD.i("Translation failed"))
        }
        ;
        e.translateTweet(this.getMainTweet().id, i, s, n),
        TD.controller.stats.translate(this.getMainUser().id, this.id, this.account.getUserID(), i, t)
    }
    ,
    TD.services.TwitterStatus.prototype.setTranslation = function(e) {
        this.getMainTweet().translation = e
    }
    ,
    TD.services.TwitterStatus.prototype.getTranslation = function() {
        return this.getMainTweet().translation
    }
    ,
    TD.services.TwitterStatus.prototype.getChirpURL = function() {
        var e = this.getMainTweet();
        return "https://twitter.com/" + e.user.screenName + "/status/" + e.id
    }
    ,
    TD.services.TwitterStatus.prototype.getLocalizedLanguageName = function() {
        var e = TD.languages.getLanguageFromISOCode(this.getMainTweet().lang);
        return e ? e.localized_name : ""
    }
    ,
    TD.services.TwitterStatus.prototype.destroy = function() {
        return this.isOwnChirp() ? void this._action("delete", function(e) {
            TD.controller.feedManager.deleteChirp(e.id)
        }) : void TD.controller.progressIndicator.addMessage(TD.i("You don't own this account - can't delete"))
    }
    ,
    TD.services.TwitterStatus.prototype.getQuoteText = function() {
        var e = {
            username: this.user.screenName,
            text: TD.util.removeHTMLCodes(this.text)
        };
        return TD.ui.template.toHtml("RT @{{username}}: {{{text}}}", e)
    }
    ,
    TD.services.TwitterStatus.prototype.renderMinimalist = function(e) {
        return e.isMinimalist = !0,
        this.render(e)
    }
    ,
    TD.services.TwitterStatus.prototype.render = function(e) {
        e = e || {};
        var t = TD.settings.getDisplaySensitiveMedia()
          , i = {
            tweet: this,
            withMediaPreview: e.mediaPreviewSize !== TD.vo.Column.MEDIA_PREVIEW_OFF,
            isMediaPreviewSmall: e.mediaPreviewSize === TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,
            isMediaPreviewLarge: e.mediaPreviewSize === TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE,
            mediaPreviewSrc: function() {
                return this.getMediaSrcForPreviewSize(e.mediaPreviewSize)
            },
            renderQuoted: function() {
                return this.renderQuotedTweet(e)
            },
            renderQuotedMissing: function() {
                return this.renderQuotedTweetMissing(e)
            },
            animatedGif: function() {
                return this.getAnimatedGifForPreview()
            },
            thumbSizeClass: TD.services.TwitterMedia.thumbSizeClasses[e.mediaPreviewSize],
            isPossiblySensitive: this.possiblySensitive && !t,
            isMinimalist: Boolean(e.isMinimalist),
            withDragHandle: !1,
            withRemove: !1,
            withTweetActions: !0,
            withFooter: !0,
            withAvatar: !0,
            withLinebreaks: !0
        }
          , s = $.extend({}, i, e);
        return TD.ui.template.render("status/tweet_in_stream", s).trim()
    }
    ,
    TD.services.TwitterStatus.prototype.renderInMediaGallery = function() {
        return TD.ui.template.render("status/tweet_in_box", {
            tweet: this,
            withTweetActions: !0,
            withTweetActionsVisible: !0,
            withFooter: !0,
            withAvatar: !0,
            actionsMenuPosition: "pos-l pos-t"
        })
    }
    ,
    TD.services.TwitterStatus.prototype.renderNotification = function() {
        return TD.ui.template.render("status/tweet_in_box", {
            tweet: this,
            withAvatar: !0
        })
    }
    ,
    TD.services.TwitterStatus.prototype.renderQuotedTweet = function(e) {
        e = e || {},
        e.mediaPreviewSize === TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE && (e.mediaPreviewSize = TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM),
        e.isMediaPreviewLarge = !1,
        e.thumbSizeClass = TD.services.TwitterMedia.thumbSizeClasses[e.mediaPreviewSize],
        e.withAvatar = !1,
        e.isMediaPreviewCompact = !1,
        e.isMediaPreviewInQuoted = !0;
        var t = TD.settings.getDisplaySensitiveMedia()
          , i = {
            tweet: this,
            withAvatar: !1,
            withInlinedUsername: !0,
            withMediaPreview: e.mediaPreviewSize !== TD.vo.Column.MEDIA_PREVIEW_OFF,
            isMediaPreviewSmall: e.mediaPreviewSize === TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL,
            mediaPreviewSrc: function() {
                return this.getMediaSrcForPreviewSize(e.mediaPreviewSize)
            },
            animatedGif: function() {
                return this.getAnimatedGifForPreview()
            },
            isPossiblySensitive: this.possiblySensitive && !t
        }
          , s = $.extend({}, i, e);
        return TD.ui.template.render("status/quoted_tweet", s)
    }
    ,
    TD.services.TwitterStatus.prototype.renderQuotedTweetMissing = function(e) {
        var t = {};
        return t.hideTweetUnavailableMsg = TD.decider.get("disable_quote_tweet_unavailable_msg"),
        TD.ui.template.render("status/quoted_tweet_missing", t)
    }
    ,
    TD.services.TwitterStatus.prototype.getNotificationData = function() {
        var e, t = this.getMainTweet(), i = {};
        return t.sender ? (e = t.recipient ? t.recipient.screenName : t.account.getUsername(),
        i.title = t.sender.screenName + " > " + e) : t.user && t.user.screenName && (i.title = t.user.screenName),
        i.img = t.getMainUser().profileImageURL,
        i.text = $("<div>" + t.htmlText + "</div>").text(),
        i
    }
    ,
    TD.services.TwitterStatus.prototype.favorite = function(e) {
        var t, i, s, n, r = this.isFavorite, o = TD.controller.clients.getClient(this.account.getKey());
        this.setFavorite(!this.isFavorite),
        this.animateFavorite(e.element),
        n = function() {
            TD.controller.progressIndicator.addMessage(r ? TD.i("Unlike failed") : TD.i("Like failed"))
        }
        ,
        s = function(e) {
            var t = TD.core.defer.fail();
            (403 === e.status || 404 === e.status) && (t = this.refreshFavorite(o)),
            t.addErrback(function() {
                this.setFavorite(r),
                n()
            }
            .bind(this))
        }
        .bind(this),
        i = function(e) {
            e.error && s()
        }
        ,
        r ? (o.unfavorite(this.id, i, s),
        t = TD.controller.stats.unfavorite) : (o.favorite(this.id, i, s),
        t = TD.controller.stats.favorite),
        t(this.getScribeItemData(), this.account.getUserID())
    }
    ,
    TD.services.TwitterStatus.prototype.refreshFavorite = function(e) {
        var t = new TD.core.defer.Deferred;
        return e.show(this.id, t.callback.bind(t), t.errback.bind(t)),
        t.addCallback(function(e) {
            this.setFavorite(e.isFavorite)
        }
        .bind(this)),
        t
    }
    ,
    TD.services.TwitterStatus.prototype.animateFavorite = function(e) {
        var t = "anim anim-slower anim-bounce-in";
        window.requestAnimationFrame(function() {
            e.find('a[rel="favorite"]').toggleClass(t, this.isFavorite)
        }
        .bind(this))
    }
    ,
    TD.services.TwitterStatus.prototype.email = function() {
        var e, t = TD.i("Tweet forwarded by @{{1}}", {
            1: this.account.getUsername()
        }), i = [];
        i.push(this.text),
        i.push(TD.i("Original Tweet: {{1}}", {
            1: this.getChirpURL()
        })),
        i.push(TD.i("Sent via TweetDeck")),
        e = i.join("\n\n"),
        TD.util.openEmail(null , t, e)
    }
    ,
    TD.services.TwitterStatus.prototype.retweet = function() {
        var e = 1 === TD.storage.accountController.getAccountsForService("twitter").length;
        this.isRetweeted && e ? (this.setRetweeted(!1),
        $(document).trigger("uiUndoRetweet", {
            tweetId: this.getMainTweet().id,
            from: this.account.getKey()
        })) : new TD.components.ActionDialog(this)
    }
    ,
    TD.services.TwitterStatus.prototype.referenceTo = function() {
        var e = this.account.getKey();
        $(document).trigger("uiComposeTweet", {
            appendText: "RE " + this.getChirpURL(),
            from: [e]
        })
    }
    ,
    TD.services.TwitterStatus.prototype.quoteTo = function(e) {
        TD.controller.stats.quoteTweet(),
        $(document).trigger("uiComposeTweet", {
            type: "tweet",
            from: e,
            quotedTweet: this.getMainTweet()
        })
    }
    ,
    TD.services.TwitterStatus.prototype.messageTo = function() {
        var e = this.getMainTweet();
        TD.controller.stats.shareTweetViaDM(),
        $(document).trigger("uiComposeTweet", {
            type: "message",
            from: [this.account.getKey()],
            quotedTweet: e
        })
    }
    ,
    TD.services.TwitterStatus.prototype._action = function(e, t) {
        function i() {
            TD.controller.progressIndicator.taskFailed(n)
        }
        function s(e) {
            e.error ? (TD.controller.progressIndicator.changeMessage(n, r + " - " + e.error),
            i()) : (TD.controller.progressIndicator.taskComplete(n),
            t && t(o))
        }
        var n, r, o = this, a = TD.controller.clients.getClient(this.account.getKey());
        switch (e) {
        case "delete":
            r = this.retweetedStatus ? TD.i("Undoing Retweet") : TD.i("Deleting"),
            a = TD.controller.clients.getClient(this.creatorAccount.getKey()),
            a.destroy(this.id, s, i);
            break;
        case "deleteDM":
            r = TD.i("Deleting"),
            $(document).trigger("uiDeleteDm", {
                id: this.id,
                accountKey: (this.creatorAccount || this.account).getKey(),
                success: s,
                error: i
            })
        }
        n = TD.controller.progressIndicator.addTask(r)
    }
    ,
    TD.services.TwitterStatus.prototype._entitySort = function(e, t) {
        return t.indices[0] - e.indices[0]
    }
    ,
    TD.services.TwitterStatus.prototype.passFilters = function(e) {
        return TD.controller.filterManager.pass(this, e) && (this.quotedTweet ? TD.controller.filterManager.pass(this.quotedTweet, e) : !0)
    }
    ,
    TD.services.TwitterStatus.prototype.getFilterableText = function() {
        var e, t = "";
        return this._filterableText ? t = this._filterableText : 0 === this.entities.urls.length && 0 === this.entities.media.length ? t = this.text : (e = [this.text],
        e = e.concat(_.pluck(this.entities.urls, "expanded_url")),
        e = e.concat(_.pluck(this.entities.media, "expanded_url")),
        e = _.compact(e),
        t = e.join(" "),
        this._filterableText = t),
        t
    }
    ,
    TD.services.TwitterStatus.prototype.getSenders = function() {
        var e = [this.user.screenName];
        return this.isRetweetedStatus() && e.push(this.retweetedStatus.user.screenName),
        e
    }
    ,
    TD.services.TwitterStatus.prototype.setRetweeted = function(e) {
        this.isRetweeted = e,
        this.getDOMChirps().find(".js-tweet").toggleClass(TD.services.ChirpBase.RETWEET_CLASS, e),
        this.retweetedStatus && this.retweetedStatus.setRetweeted(e)
    }
    ,
    TD.services.TwitterStatus.prototype.setFavorite = function(e) {
        this.isFavorite = e,
        this.getDOMChirps().find(".js-tweet").toggleClass(TD.services.ChirpBase.FAVORITE_CLASS, e).find('a[rel="favorite"]').attr("title", TD.ui.template.render("text/favorite_action", this))
    }
    ,
    TD.services.TwitterStatus.prototype.isMention = function() {
        for (var e, t = String(this.account.getUserID()), i = this.account.getUsername().toLowerCase(), s = this.entities.user_mentions.length, n = 0; s > n; n++)
            if (e = this.entities.user_mentions[n],
            e.id_str) {
                if (e.id_str === t)
                    return !0
            } else if (e.screen_name.toLowerCase() === i)
                return !0;
        return !1
    }
    ,
    TD.services.TwitterStatus.prototype.getMedia = function() {
        return this.retweetedStatus ? this.retweetedStatus.getMedia() : this._media || []
    }
    ,
    TD.services.TwitterStatus.prototype.getUniqueMedia = function() {
        var e = this.getMedia()
          , t = {}
          , i = []
          , s = this;
        return this.cards && _.each(TD.services.TwitterCard.SUPPORTED_CARD_TYPES, function(e) {
            var i = s.cards[e];
            i && _.each(i, function(e) {
                t[e.url] = !0
            })
        }),
        _.each(e, function(e) {
            t[e.shortUrl] || i.push(e)
        }),
        i
    }
    ,
    TD.services.TwitterStatus.prototype.getReplyUsers = function() {
        var e = this.getMainTweet()
          , t = {}
          , i = [e.user.screenName];
        return i = i.concat(twttrTxt.extractMentions(e.text)),
        this.retweetedStatus && i.push(this.user.screenName),
        i = i.filter(function(e) {
            var i = e.toLowerCase()
              , s = !t[i];
            return t[i] = !0,
            s
        }),
        i = i.map(TD.util.atMentionify)
    }
    ,
    TD.services.TwitterStatus.prototype.getCardsForGallery = function() {
        var e = this.getMedia()
          , t = {}
          , i = []
          , s = this;
        return _.each(e, function(e) {
            t[e.shortUrl] = !0
        }),
        this.cards && _.each(["photos", "players"], function(e) {
            var n = s.cards[e];
            n && _.each(n, function(e) {
                t[e.url] || i.push(e)
            })
        }),
        i
    }
    ,
    TD.services.TwitterStatus.prototype.hasLink = function() {
        var e = this.entities.media || []
          , t = this.entities.urls || [];
        return Boolean(e.length || t.length)
    }
    ,
    TD.services.TwitterStatus.prototype.isFromVerifiedUser = function() {
        return this.getMainTweet().user.isVerified
    }
    ,
    TD.services.TwitterStatus.prototype.hasImage = function() {
        return null === this._hasImage && (this._hasImage = TD.services.ChirpBase.prototype.hasImage.call(this) || TD.services.TwitterMedia.entitiesContainImage(this.entities)),
        this._hasImage
    }
    ,
    TD.services.TwitterStatus.prototype.hasVideo = function() {
        return null === this._hasVideo && (this._hasVideo = TD.services.ChirpBase.prototype.hasVideo.call(this) || TD.services.TwitterMedia.entitiesContainVideo(this.entities)),
        this._hasVideo
    }
    ,
    TD.services.TwitterStatus.prototype.getScribeItemData = function(e) {
        var t;
        return this.isRetweetedStatus() ? (t = this.getMainTweet().getScribeItemData(e),
        t.retweeting_tweet_id = this.id) : (t = {
            item_type: 0,
            id: this.id
        },
        e && (t.visibility_start = e.visibilityStart,
        t.visibility_end = e.visibilityEnd),
        this.cards && (this.cards.photos ? t.card_type = 2 : this.cards.players ? t.card_type = 3 : this.cards.summaries && (t.card_type = 4))),
        t
    }
    ,
    TD.services.TwitterStatus.prototype.scribeMediaImpression = function() {
        TD.controller.stats.mediaImpression(this.getScribeItemData())
    }
}
, function(e, t) {
    "use strict";
    TD.services.StreamEngine = klass(function(e, t) {
        this._account = e,
        this._callback = t,
        this._url = "",
        this._state = TD.services.StreamEngine.DISCONNECTED,
        this._stream = null ,
        this._backoffLimit = 0,
        this._backoffTimeout = null ,
        this._keepaliveTimeout = null ,
        this._handleData = TD.util.bind(this._handleData, this),
        this._handleStreamInterruption = TD.util.bind(this._handleStreamInterruption, this),
        this.connect = _.debounce(this._connect, 50)
    }).statics({
        BACKOFF_PERIOD_MIN: 2e4,
        BACKOFF_PERIOD_MAX: 24e4,
        BACKOFF_PERIOD_MAX_EXTENDED: 72e4,
        KEEPALIVE_PERIOD: 9e4,
        XHR_BYTE_LIMIT: 5e7,
        DISCONNECTED: "disconnected",
        CONNECTING: "connecting",
        STREAMING: "streaming",
        DEBUG: !1
    }).methods({
        log: function() {
            TD.services.StreamEngine.DEBUG && (console.log((new Date).toUTCString(), ">", this._account.getUsername(), ">", arguments),
            TD.util.insertLogDivider())
        },
        _connect: function(e) {
            return e === this._url ? void this.log("Connect", e, "Already connecting/connected. Do nothing") : void (e ? (this.log("Connect", e),
            this.disconnect(),
            this._url = e,
            this._startNewStream()) : (this.log("Connect", e, "Nothing to stream. Disconnecting"),
            this.disconnect()))
        },
        disconnect: function() {
            this.log("Disconnect completely"),
            this._setState(TD.services.StreamEngine.DISCONNECTED),
            this._disconnectStream(),
            this._url = "",
            this._backoffLimit = 0
        },
        isStreaming: function() {
            var e = this._state === TD.services.StreamEngine.STREAMING;
            return this.log("isStreaming", e),
            e
        },
        _setState: function(e) {
            var t = this._state === TD.services.StreamEngine.STREAMING
              , i = e === TD.services.StreamEngine.STREAMING;
            this._state = e,
            t !== i && $(document).trigger("dataUserStreamStatus", {
                accountKey: this._account.getKey(),
                streaming: i
            })
        },
        _startNewStream: function() {
            this._disconnectStream(),
            this.log("Start stream"),
            this._setState(TD.services.StreamEngine.CONNECTING),
            this._stream = this._createStreamRequest(),
            this._stream.goStreaming()
        },
        _disconnectStream: function() {
            this._stream && (this.log("Disconnect stream"),
            this._stream.onStreaming.disconnect && (this._stream.onStreaming.disconnect(this._handleData),
            this._stream.onFailure.disconnect(this._handleStreamInterruption)),
            this._stream.deleteLater(),
            this._stream = null ),
            clearTimeout(this._backoffTimeout),
            clearTimeout(this._keepaliveTimeout),
            this._backoffTimeout = null ,
            this._keepaliveTimeout = null
        },
        _handleData: function(e) {
            var t = this;
            switch (this._state) {
            case TD.services.StreamEngine.DISCONNECTED:
                return;
            case TD.services.StreamEngine.CONNECTING:
                this._setState(TD.services.StreamEngine.STREAMING),
                this._backoffLimit = 0,
                this.log("Stream is functioning")
            }
            this._processDataString(e),
            clearTimeout(this._keepaliveTimeout),
            this._keepaliveTimeout = setTimeout(function() {
                t._handleStreamInterruption("Keepalive timeout", 0)
            }, TD.services.StreamEngine.KEEPALIVE_PERIOD),
            this._stream.receivedChars > TD.services.StreamEngine.XHR_BYTE_LIMIT && (this.log("Reached XHR byte limit, reconnecting"),
            this._startNewStream())
        },
        _processDataString: function(e) {
            var t, i, s = 0;
            if (e) {
                t = e.split("\r");
                for (var n = 0; n < t.length; n++)
                    i = t[n].trim(),
                    i.length && (s++,
                    this._callback(JSON.parse(i)));
                $(document).trigger("dataReceivedStreamData", {
                    numStreamItems: s
                })
            }
        },
        _handleStreamInterruption: function(e, t) {
            switch (this.log("Stream interrupted", e, t),
            TD.util.metric("api:stream:interruption:state:" + this._state),
            TD.util.metric("api:stream:interruption:status:" + t),
            this._state) {
            case TD.services.StreamEngine.DISCONNECTED:
                break;
            case TD.services.StreamEngine.CONNECTING:
                this._disconnectStream(),
                this._setBackoffTimeout(t);
                break;
            case TD.services.StreamEngine.STREAMING:
                this._startNewStream()
            }
        },
        _setBackoffTimeout: function(e) {
            var t = this;
            this._backoffLimit = Math.max(this._backoffLimit, TD.services.StreamEngine.BACKOFF_PERIOD_MIN),
            this._backoffLimit *= 2,
            "420" === String(e) ? this._backoffLimit = Math.min(this._backoffLimit, TD.services.StreamEngine.BACKOFF_PERIOD_MAX_EXTENDED) : this._backoffLimit = Math.min(this._backoffLimit, TD.services.StreamEngine.BACKOFF_PERIOD_MAX);
            var i = this._backoffLimit / 2
              , s = i + Math.ceil(Math.random() * i);
            this.log("Set backoff timeout", (s / 1e3).toString() + "s"),
            this._setState(TD.services.StreamEngine.CONNECTING),
            this._backoffTimeout = setTimeout(function() {
                t.log("Backoff complete, attempting reconnect"),
                t._startNewStream()
            }, s)
        },
        _createStreamRequest: function() {
            var e = new TD.net.StreamRequest(this._url,this._account);
            return e.onStreaming.connect(this._handleData),
            e.onFailure.connect(this._handleStreamInterruption),
            e
        }
    })
}
, function(e, t) {
    "use strict";
    TD.services.TrendLocation = function() {}
    ,
    TD.services.TrendLocation.prototype.PLACE_TYPE_SUPERNAME = 19,
    TD.services.TrendLocation.prototype.PLACE_TYPE_COUNTRY = 12,
    TD.services.TrendLocation.prototype.PLACE_TYPE_TOWN = 7,
    TD.services.TrendLocation.prototype.placeType = null ,
    TD.services.TrendLocation.prototype.name = "",
    TD.services.TrendLocation.prototype.woeid = -1,
    TD.services.TrendLocation.prototype.url = "",
    TD.services.TrendLocation.prototype.countryCode = "",
    TD.services.TrendLocation.prototype.country = "",
    TD.services.TrendLocation.prototype.label = "",
    TD.services.TrendLocation.prototype.sortString = "",
    TD.services.TrendLocation.prototype.isTown = !1,
    TD.services.TrendLocation.prototype.fromJSONObject = function(e) {
        switch (this.name = e.name,
        this.woeid = e.woeid,
        this.url = e.url,
        this.countryCode = e.countryCode,
        this.country = e.country,
        this.placeType = e.placeType,
        this.placeType.code) {
        case this.PLACE_TYPE_TOWN:
            this.label = "—" + this.name,
            this.sortString = this.country + this.name,
            this.isTown = !0;
            break;
        case this.PLACE_TYPE_SUPERNAME:
            this.label = this.name.toUpperCase(),
            this.sortString = "";
            break;
        default:
            this.label = this.name,
            this.sortString = this.name
        }
        return this
    }
}
, function(e, t) {
    "use strict";
    TD.services.TrendingTopic = function() {}
    ,
    TD.services.TrendingTopic.prototype.name = "",
    TD.services.TrendingTopic.prototype.query = "",
    TD.services.TrendingTopic.prototype.url = "",
    TD.services.TrendingTopic.prototype.description = "",
    TD.services.TrendingTopic.prototype.attribution = "",
    TD.services.TrendingTopic.prototype.created = 0,
    TD.services.TrendingTopic.prototype.promotedContent = null ,
    TD.services.TrendingTopic.prototype.events = null ,
    TD.services.TrendingTopic.prototype.fromJSONObject = function(e) {
        return this.name = e.name,
        this.query = e.query,
        this.promotedContent = e.promoted_content,
        this.events = e.events,
        this.created = (new Date).getTime(),
        this.query = encodeURIComponent(this.name),
        this.url || (this.url = "http://search.twitter.com/search?q=" + this.query),
        this.promotedContent && this.promotedContent.description && (this.description = TD.util.escape(this.promotedContent.description)),
        this
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterDeletedUser = function(e, t) {
        return this.id = t,
        this.isDeleted = !0,
        this.screenName = "",
        this.name = TD.i("Unknown user"),
        this.isProtected = !1,
        this.isVerified = !1,
        this.isTranslator = !1,
        this.isBadged = !1,
        this.followersCount = 0,
        this.friendsCount = 0,
        this.listedCount = 0,
        this.statusesCount = 0,
        this.joinedDate = new Date,
        this
    }
    ,
    TD.services.TwitterDeletedUser.prototype.isSameUser = function() {
        return !1
    }
    ,
    TD.services.TwitterDeletedUser.prototype.isMe = function() {
        return !1
    }
    ,
    TD.services.TwitterDeletedUser.prototype.reasonablySmallProfileImageURL = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.biggerProfileImageURL = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.miniProfileImageURL = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.follow = function() {}
    ,
    TD.services.TwitterDeletedUser.prototype.unfollow = function() {}
    ,
    TD.services.TwitterDeletedUser.prototype.unblock = function() {}
    ,
    TD.services.TwitterDeletedUser.prototype.block = function(e, t, i, s) {}
    ,
    TD.services.TwitterDeletedUser.prototype.removeFromView = function(e, t) {}
    ,
    TD.services.TwitterDeletedUser.prototype.bio = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.htmlLocation = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.hasLocation = function() {
        return !1
    }
    ,
    TD.services.TwitterDeletedUser.prototype.getFollowerURL = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.getFriendURL = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.getProfileURL = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.getMediaURL = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.getMediaSearchQuery = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.getListedURL = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.getDisplayURL = function() {
        return ""
    }
    ,
    TD.services.TwitterDeletedUser.prototype.profileBannerURL = function() {
        return ""
    }
}
, function(e, t) {
    "use strict";
    TD.services.TwitterUser = function(e) {
        this.account = e
    }
    ,
    TD.services.TwitterUser.MINI_SUFFIX = "_mini",
    TD.services.TwitterUser.NORMAL_SUFFIX = "_normal",
    TD.services.TwitterUser.BIGGER_SUFFIX = "_bigger",
    TD.services.TwitterUser.REASONABLY_SMALL_SUFFIX = "_reasonably_small",
    TD.services.TwitterUser.NORMAL_SUFFIX_REGEXP = new RegExp(TD.services.TwitterUser.NORMAL_SUFFIX + "(?!.*" + TD.services.TwitterUser.NORMAL_SUFFIX + ")"),
    TD.services.TwitterUser.BIGGER_SUFFIX_REGEXP = new RegExp(TD.services.TwitterUser.BIGGER_SUFFIX + "(?!.*" + TD.services.TwitterUser.BIGGER_SUFFIX + ")"),
    TD.services.TwitterUser.prototype.fromJSONObject = function(e, t) {
        return t = _.defaults(t || {}, {
            isContributor: !1
        }),
        this.id = e.id_str,
        this.screenName = e.screen_name ? e.screen_name.trim() : "",
        this.profileURL = "https://twitter.com/" + this.screenName,
        this.profileImageURL = e.profile_image_url_https,
        this.avatarSuffixRegex = TD.services.TwitterUser.NORMAL_SUFFIX_REGEXP,
        TD.util.isRetina() && (this.profileImageURL = this.profileImageURL.replace(this.avatarSuffixRegex, TD.services.TwitterUser.BIGGER_SUFFIX),
        this.avatarSuffixRegex = TD.services.TwitterUser.BIGGER_SUFFIX_REGEXP),
        this.name = e.name ? e.name.trim() : "",
        this.location = e.location,
        this.description = e.description,
        this.entities = e.entities,
        this.joinedDate = TD.util.parseDateString(e.created_at),
        this.friendsCount = e.friends_count,
        this.listedCount = e.listed_count,
        this.followersCount = e.followers_count,
        this.statusesCount = e.statuses_count,
        this.favoritesCount = e.favourites_count,
        this.listedCount = e.listed_count,
        this.url = e.url,
        this.isProtected = e.protected,
        this.isVerified = e.verified,
        this.isTranslator = e.is_translator,
        this.isBadged = Boolean(e.verified || e.is_translator),
        this.following = e.following,
        this.lang = e.lang,
        this._profileBannerURL = e.profile_banner_url ? e.profile_banner_url + "/web" : null ,
        TD.util.isRetina() && this._profileBannerURL && (this._profileBannerURL += "_retina"),
        this._profileBannerURL = this._profileBannerURL ? this._profileBannerURL : TD.assets.get("/web/assets/global/backgrounds/td_profile_empty" + (TD.util.isRetina() ? "@2x.jpg" : ".jpg")),
        e.status && (this.lastStatus = new TD.services.TwitterStatus(this.account).fromJSONObject(e.status),
        this.lastStatus.user = this),
        t.isContributor || TD.cache.twitterUsers.add(this),
        this
    }
    ,
    TD.services.TwitterUser.prototype.isSameUser = function(e) {
        var t;
        return t = e instanceof TD.services.TwitterUser ? e.screenName.toLowerCase() : e.toLowerCase(),
        this.screenName.toLowerCase() === t
    }
    ,
    TD.services.TwitterUser.prototype.isMe = function() {
        return this.account.getUserID() == this.id
    }
    ,
    TD.services.TwitterUser.prototype.reasonablySmallProfileImageURL = function() {
        return this.profileImageURL.replace(this.avatarSuffixRegex, TD.services.TwitterUser.REASONABLY_SMALL_SUFFIX)
    }
    ,
    TD.services.TwitterUser.prototype.biggerProfileImageURL = function() {
        return TD.util.isRetina() ? this.reasonablySmallProfileImageURL() : this.profileImageURL.replace(this.avatarSuffixRegex, TD.services.TwitterUser.BIGGER_SUFFIX)
    }
    ,
    TD.services.TwitterUser.prototype.miniProfileImageURL = function() {
        return TD.util.isRetina() ? this.profileImageURL.replace(this.avatarSuffixRegex, TD.services.TwitterUser.NORMAL_SUFFIX) : this.profileImageURL.replace(this.avatarSuffixRegex, TD.services.TwitterUser.MINI_SUFFIX)
    }
    ,
    TD.services.TwitterUser.prototype.prettyFollowersCount = function() {
        return TD.util.prettyNumber(this.followersCount)
    }
    ,
    TD.services.TwitterUser.prototype.prettyFriendsCount = function() {
        return TD.util.prettyNumber(this.friendsCount)
    }
    ,
    TD.services.TwitterUser.prototype.prettyListedCount = function() {
        return TD.util.prettyNumber(this.listedCount)
    }
    ,
    TD.services.TwitterUser.prototype.prettyStatusesCount = function() {
        return TD.util.prettyNumber(this.statusesCount)
    }
    ,
    TD.services.TwitterUser.prototype.prettyJoinedDate = function() {
        return TD.util.prettyDateShortString(this.joinedDate)
    }
    ,
    TD.services.TwitterUser.prototype.prettyTimeDateJoinedDate = function() {
        return TD.util.prettyTimeString(this.joinedDate)
    }
    ,
    TD.services.TwitterUser.prototype.follow = function(e, t, i, s) {
        var n, r = TD.controller.clients.getClient(e.getKey()), o = this, a = function(e) {
            o.following = !0,
            s && (n = TD.i("Successfully followed @{{screenName}}", o),
            e.isProtected && (n = TD.i("Follower request sent to @{{screenName}}", o)),
            TD.controller.progressIndicator.addMessage(n)),
            t && t(e)
        }
        , c = function(e) {
            s && (n = TD.i("Unable to follow @{{screenName}}", o),
            TD.controller.progressIndicator.addMessage(n)),
            i && i()
        }
        ;
        r.followUser(this.screenName, a, c)
    }
    ,
    TD.services.TwitterUser.prototype.unfollow = function(e, t, i, s) {
        var n, r = TD.controller.clients.getClient(e.getKey()), o = this, a = function(i) {
            o.removeFromView(e, {
                feedTypes: TD.util.columnUtils.followingFeedTypes
            }),
            o.following = !1,
            s && (n = TD.i("Successfully unfollowed @{{screenName}}", o),
            TD.controller.progressIndicator.addMessage(n)),
            t && t(i)
        }
        , c = function() {
            s && (n = TD.i("Unable to unfollow @{{screenName}}", o),
            TD.controller.progressIndicator.addMessage(n)),
            i && i()
        }
        ;
        r.unfollowUser(this.screenName, a, c)
    }
    ,
    TD.services.TwitterUser.prototype.unblock = function(e, t, i) {
        var s = TD.controller.clients.getClient(e.getKey())
          , n = function(e) {
            delete s.blocks[this.id],
            t && t(e)
        }
        .bind(this);
        s.unblockUser(this.screenName, n, i),
        $.publish("/user/" + this.screenName + "/unblock", [this.account])
    }
    ,
    TD.services.TwitterUser.prototype.block = function(e, t, i, s) {
        var n, r = TD.controller.clients.getClient(e.getKey()), o = function(e) {
            TD.controller.progressIndicator.addMessage(n),
            self.following = !1,
            $.publish("/user/" + this.screenName + "/blocked", [this.account]),
            r.addIdToBlockList(this.id),
            i && i(e)
        }
        .bind(this);
        $.publish("/user/" + this.screenName + "/block", [this.account]),
        t ? (r.blockAndReportUser(this.screenName, o, s),
        n = TD.i("Successfully blocked and reported @{{screenName}}", {
            screenName: this.screenName
        })) : (r.blockUser(this.screenName, o, s),
        n = TD.i("Successfully blocked @{{screenName}}", {
            screenName: this.screenName
        }))
    }
    ,
    TD.services.TwitterUser.prototype.mute = function(e) {
        var t = TD.controller.clients.getClient(e.getKey())
          , i = function() {
            TD.controller.progressIndicator.addMessage(TD.i("Muted @{{screenName}}", {
                screenName: this.screenName
            })),
            t.addIdToMuteList(this.id)
        }
        ;
        return t.muteUser(this.id).addCallbackWith(this, TD.util.effect(i))
    }
    ,
    TD.services.TwitterUser.prototype.unmute = function(e) {
        var t = TD.controller.clients.getClient(e.getKey())
          , i = function() {
            TD.controller.progressIndicator.addMessage(TD.i("Unmuted @{{screenName}}", {
                screenName: this.screenName
            })),
            delete t.mutes[this.id]
        }
        ;
        return t.unmuteUser(this.id).addCallbackWith(this, TD.util.effect(i))
    }
    ,
    TD.services.TwitterUser.prototype.removeFromView = function(e, t) {
        $.publish("/user/removeTweets", [this.id, e.getUserID(), t])
    }
    ,
    TD.services.TwitterUser.prototype.bio = function() {
        var e = this.entities && this.entities.description || {};
        return TD.util.transform(this.description, e)
    }
    ,
    TD.services.TwitterUser.prototype.htmlLocation = function() {
        var e = this.entities && this.entities.location || {};
        return TD.util.transform(this.location, e)
    }
    ,
    TD.services.TwitterUser.prototype.hasLocation = function() {
        return Boolean(this.htmlLocation())
    }
    ,
    TD.services.TwitterUser.prototype.getFollowerURL = function() {
        return this.profileURL + "/followers"
    }
    ,
    TD.services.TwitterUser.prototype.getFriendURL = function() {
        return this.profileURL + "/following"
    }
    ,
    TD.services.TwitterUser.prototype.getProfileURL = function() {
        return this.profileURL
    }
    ,
    TD.services.TwitterUser.prototype.getMediaURL = function() {
        return this.profileURL + "/media"
    }
    ,
    TD.services.TwitterUser.prototype.getMediaSearchQuery = function() {
        return TD.ui.template.toHtml("from:{{screenName}} (filter:images OR filter:videos)", {
            screenName: this.screenName
        })
    }
    ,
    TD.services.TwitterUser.prototype.getListedURL = function() {
        return this.profileURL + "/memberships"
    }
    ,
    TD.services.TwitterUser.prototype.getDisplayURL = function() {
        var e = this.entities;
        return e && e.url && e.url.urls && e.url.urls.length && e.url.urls[0].display_url ? e.url.urls[0].display_url : this.url
    }
    ,
    TD.services.TwitterUser.prototype.profileBannerURL = function() {
        return this._profileBannerURL
    }
}
, function(e, t) {
    "use strict";
    TD.ui.Column = function(e) {
        this.chirpContainerSelector = '.js-chirp-container[data-column="' + e + '"]',
        this.infiniteSpinnerSelector = ".js-infinitespinner",
        this.globalTpmAnimationLimit = 2e3,
        this.columnTpmAnimationLimit = 120,
        this.chirpStaggeringInterval = 400,
        this.moreTweetsThreshold = 0,
        this.moreTweetsAnimationTime = 500,
        this.$moreTweetsButtonContainer = null ,
        this.fadeInClass = "column-opacity-transition",
        this.state = {
            columnKey: e,
            $noResults: null ,
            animating: !1,
            animationQueue: []
        },
        this.newTweetsTemplates = {
            "default": TD.i("New Tweets", null , !0),
            "plural tweet": TD.i("{{numberNew}} New Tweets", null , !0),
            "singular tweet": TD.i("1 New Tweet", null , !0),
            "plural notification": TD.i("{{numberNew}} New Notifications", null , !0),
            "singular notification": TD.i("1 New Notification", null , !0),
            "plural activity": TD.i("New Activity", null , !0),
            "singular activity": TD.i("New Activity", null , !0),
            "plural follower": TD.i("{{numberNew}} New Followers", null , !0),
            "singular follower": TD.i("1 New Follower", null , !0),
            "plural message": TD.i("New Messages", null , !0),
            "singular message": TD.i("New Messages", null , !0)
        },
        this.setupMoreTweets()
    }
    ,
    TD.ui.Column.prototype.setupMoreTweets = function() {
        function e(e, t) {
            return function() {
                s.getMoreTweetsButtonContainer().toggleClass(e, t)
            }
        }
        function t(e, t, i) {
            return "hidden" === i ? (window.requestAnimationFrame(function() {
                s.getMoreTweetsButtonContainer().addClass("more-tweets-btn-container--out"),
                s.getMoreTweetsButtonContainer().find(".js-more-tweets-glow").width(0),
                setTimeout(s.moreTweetsState.transition.bind(s.moreTweetsState), 550)
            }),
            StateMachine.ASYNC) : void 0
        }
        function i(e, t) {
            t = _.defaults({}, t, {
                debounce: !0
            });
            var i;
            return function() {
                t.debounce && i && window.cancelAnimationFrame(i),
                i = window.requestAnimationFrame(e.bind.apply(e, [this].concat([].slice.call(arguments))))
            }
        }
        var s = this;
        this.moreTweetsState = StateMachine.create({
            initial: "hidden",
            error: function() {},
            events: [{
                from: "hidden",
                name: "unread",
                to: "visible"
            }, {
                from: "hidden",
                name: "mouseScrollToTop",
                to: "mouseReleaseToRefresh"
            }, {
                from: "visible",
                name: "unread",
                to: "visible"
            }, {
                from: "visible",
                name: "trackingRealtime",
                to: "hidden"
            }, {
                from: "visible",
                name: "read",
                to: "hidden"
            }, {
                from: "visible",
                name: "mouseScrollToTop",
                to: "mouseReleaseToRefresh"
            }, {
                from: "mouseReleaseToRefresh",
                name: "mouseScrollAwayFromTop",
                to: "hidden"
            }, {
                from: "mouseReleaseToRefresh",
                name: "upwardScroll",
                to: "hidden"
            }, {
                from: "mouseReleaseToRefresh",
                name: "trackingRealtime",
                to: "hidden"
            }],
            callbacks: {
                onenterhidden: i(function() {
                    e("more-tweets-btn-container--hidden", !0)(),
                    e("more-tweets-btn-container--out", !1)(),
                    e("more-tweets-btn-container--visible", !1)(),
                    e("more-tweets-btn-container--mouse-release", !1)()
                }),
                onleavehidden: i(e("more-tweets-btn-container--hidden", !1)),
                onentervisible: i(function() {
                    e("more-tweets-btn-container--visible", !0)(),
                    TD.util.metric("column:ui:more-tweets:impression")
                }),
                onleavevisible: t,
                onunread: i(function(e, t, i, n) {
                    s.getMoreTweetsButtonContainer().find(".js-more-tweets-btn-text").text(s.getMoreTweetsButtonText(n)),
                    s.getMoreTweetsButtonContainer().find(".js-more-tweets-glow").width(50 + 8 * n.numUnseenChirps)
                }),
                onbeforemouseScrollToTop: function() {
                    return TD.decider.get("column_release_to_refresh") ? void 0 : !1
                },
                onentermouseReleaseToRefresh: i(e("more-tweets-btn-container--mouse-release", !0)),
                onleavemouseReleaseToRefresh: t
            }
        })
    }
    ,
    TD.ui.Column.identifyInlinedLinks = function(e) {
        return TD.util.columnUtils.toggleQuotedTweetUnavailable(e)
    }
    ,
    TD.ui.Column.prototype.getChirpContainer = function() {
        return this._$chirpContainer && 0 !== this._$chirpContainer.length || (this._$chirpContainer = $(this.chirpContainerSelector)),
        this._$chirpContainer
    }
    ,
    TD.ui.Column.prototype.getChirpScroller = function() {
        return this._$columnScroller && 0 !== this._$columnScroller.length || (this._$columnScroller = this.getChirpContainer().closest(".js-column-scroller")),
        this._$columnScroller
    }
    ,
    TD.ui.Column.prototype.pause = function() {
        return this.getChirpScroller().scrollTop(1)
    }
    ,
    TD.ui.Column.prototype.unpause = function() {
        return this.getChirpScroller().scrollTop(0)
    }
    ,
    TD.ui.Column.prototype.removeChirp = function(e, t) {
        var i = this.getChirpContainer().find('[data-key="' + e + '"]');
        TD.ui.columns.alterColumnContents(this.state.columnKey, i, function(e) {
            e.remove()
        }, t)
    }
    ,
    TD.ui.Column.prototype.removeChirps = function(e, t) {
        var i = this.getChirpContainer().find(".js-stream-item").filter(function() {
            return e.indexOf($(this).attr("data-key")) > -1
        });
        TD.ui.columns.alterColumnContents(this.state.columnKey, i.eq(0), function() {
            i.remove()
        }, t)
    }
    ,
    TD.ui.Column.prototype.pauseGif = function(e) {
        var t = this.getChirpContainer().find('[data-key="' + e.id + '"] .js-media-gif').get(0);
        t && !t.paused && t.pause()
    }
    ,
    TD.ui.Column.prototype.playGifIfNotManuallyPaused = function(e) {
        var t = this.getChirpContainer().find('[data-key="' + e.id + '"] .js-media-preview-container').not(".is-paused").find(".js-media-gif").get(0);
        t && t.paused && t.play()
    }
    ,
    TD.ui.Column.prototype.slideInChirps = function(e, t, i, s, n) {
        var r = []
          , o = TD.controller.columnManager.isStreaming(this.state.columnKey)
          , a = TD.ui.columns.isScrolledToTop(this.state.columnKey)
          , c = t && this.getChirpContainer().closest(".is-hidden").length
          , l = !c && i < this.globalTpmAnimationLimit && s < this.columnTpmAnimationLimit;
        if (e && !n.insertAtBottom) {
            e.each(function() {
                r.push($(this).toggleClass("is-animating"))
            }),
            r.reverse();
            var u = !a || TD.ui.columns.columnIsLockedToElement(this.state.columnKey) || !n.containsNewChirps;
            n && n.insertAtTop && u ? r.forEach(function(e) {
                this.shortcircuitChirpSlide(e, !0)
            }, this) : this.state.animationQueue = this.state.animationQueue.concat(r),
            r = []
        }
        if (!this.state.animating) {
            a || (this.state.animationQueue = this.processOffScreenAnimationQueue(this.state.animationQueue)),
            this.state.animationQueue = this.state.animationQueue.filter(function(e) {
                var t = n && !n.insertAtTop
                  , i = o || t;
                return i && this.slideInChirp(e, l),
                !i
            }, this);
            var d;
            do
                d = this.state.animationQueue.shift();
            while (this.state.animationQueue.length && !this.elementIsInDOM(d));d && (this.state.animating = !0,
            this.slideInChirp(d, l),
            setTimeout(function() {
                this.state.animating = !1,
                this.slideInChirps(null , t, i, s)
            }
            .bind(this), this.chirpStaggeringInterval))
        }
    }
    ,
    TD.ui.Column.prototype.elementIsInDOM = function(e) {
        return e && e.length && $.contains(document.documentElement, e[0])
    }
    ,
    TD.ui.Column.prototype.processOffScreenAnimationQueue = function(e) {
        var t = e.filter(function(e) {
            var t = e.position().top < 0;
            return t && this.shortcircuitChirpSlide(e, t),
            !t
        }
        .bind(this));
        return t
    }
    ,
    TD.ui.Column.prototype.shortcircuitChirpSlide = function(e, t) {
        TD.ui.columns.alterColumnContents(this.state.columnKey, e, function(e) {
            e.removeClass("is-animating")
        }, {
            willBreakScrollPosition: t
        })
    }
    ,
    TD.ui.Column.prototype.slideInChirp = function(e, t) {
        var i, s = function() {
            e.removeClass("is-animating"),
            e.removeAttr("style"),
            $(document).trigger("uiColumnChirpsChanged", {
                id: this.state.columnKey
            })
        }
        .bind(this);
        t ? (i = e.find(".js-stream-item-content").outerHeight(),
        e.css({
            opacity: 1,
            height: i + "px"
        }),
        e.one("transitionend", s)) : s()
    }
    ,
    TD.ui.Column.prototype.renderChirps = function(e, t) {
        var i, s, n, r, o = [];
        for (s = 0; s < e.length; s++)
            n = e[s],
            r = n.getMainUser && n.getMainUser().isProtected,
            i = e[s].render({
                isTemporaryColumn: t.isTemporaryColumn,
                mediaPreviewSize: t.mediaPreviewSize,
                isMinimalist: t.doRenderMinimalist,
                withShowVerified: t.showVerifiedBadge,
                withRemove: t.isOwnCustomTimeline,
                withDragHandle: !t.isTemporaryColumn && !r && !t.isOwnCustomTimeline
            }),
            o.push(i);
        return o.join("")
    }
    ,
    TD.ui.Column.prototype.hideChirpContainer = function() {
        var e = this.getChirpContainer();
        e.css("opacity", 0),
        _.defer(function() {
            e.addClass(this.fadeInClass)
        }
        .bind(this))
    }
    ,
    TD.ui.Column.prototype.fadeInChirpContainer = function() {
        var e = this.getChirpContainer()
          , t = _.once(function() {
            e.removeClass(this.fadeInClass).removeAttr("style"),
            $(document).trigger("uiColumnChirpsChanged", {
                id: this.state.columnKey
            })
        }
        .bind(this));
        _.defer(function() {
            e.css("opacity", 1),
            e.one("transitionend", t),
            setTimeout(t, 350)
        })
    }
    ,
    TD.ui.Column.prototype.addInfiniteScrollSpinner = function() {
        this.getChirpContainer().append(TD.ui.template.render("spinner_large"))
    }
    ,
    TD.ui.Column.prototype.removeInfiniteScrollSpinner = function() {
        $(this.infiniteSpinnerSelector, this.getChirpContainer()).remove()
    }
    ,
    TD.ui.Column.prototype.showIsUpdatingMessage = function() {
        var e = $(TD.ui.template.render("column_loading_placeholder", {
            isUpdating: !0
        }));
        this.getChirpContainer().html(e)
    }
    ,
    TD.ui.Column.prototype.hideIsUpdatingMessage = function() {
        this.getChirpContainer().find(".js-column-loading-placeholder").remove()
    }
    ,
    TD.ui.Column.prototype.showNoResultsMessage = function(e, t) {
        var i = this.getChirpContainer();
        i.css("opacity", 1).removeClass(this.fadeInClass),
        this.state.$noResults = $(TD.ui.template.render("search_no_tweets_placeholder", {
            isDropTarget: !e && t,
            withAddByUrl: !e && t
        })),
        i.html(this.state.$noResults)
    }
    ,
    TD.ui.Column.prototype.hideNoResultsMessage = function() {
        this.state.$noResults && this.state.$noResults.remove()
    }
    ,
    TD.ui.Column.prototype.getMoreTweetsButtonContainer = function() {
        if (this.$moreTweetsButtonContainer && this.$moreTweetsButtonContainer.length)
            return this.$moreTweetsButtonContainer;
        var e = this.getChirpContainer().closest(".js-column").find(".js-more-tweets-btn-container");
        return e.length ? (this.$moreTweetsButtonContainer = e,
        this.$moreTweetsButtonContainer) : e
    }
    ,
    TD.ui.Column.prototype.getMoreTweetsButtonText = function(e) {
        return TD.ui.template.toHtml(this.getMoreTweetsTemplate(e), {
            numberNew: TD.util.truncateNumber(e.numUnseenChirps) + (e.gappy ? "+" : "")
        })
    }
    ,
    TD.ui.Column.prototype.getMoreTweetsTemplate = function(e) {
        var t = TD.controller.columnManager.get(e.columnKey);
        if (!t)
            return this.newTweetsTemplates.default;
        var i = "tweet";
        t.isDataminr() || t.isOfType(TD.util.columnUtils.columnMetaTypes.INTERACTIONS) ? i = "notification" : t.isOfType(TD.util.columnUtils.columnMetaTypes.ACTIVITY) ? i = "activity" : t.isOfType(TD.util.columnUtils.columnMetaTypes.FOLLOWERS) ? i = "follower" : (t.isOfType(TD.util.columnUtils.columnMetaTypes.MESSAGES) || t.isOfType(TD.util.columnUtils.columnMetaTypes.INBOX)) && (i = "message");
        var s = 1 === e.numUnseenChirps ? "singular" : "plural"
          , n = [s, i].join(" ");
        return this.newTweetsTemplates[n] || this.newTweetsTemplates.default
    }
    ,
    TD.ui.Column.prototype.updateUnreadIndicators = function(e) {
        e = e || {},
        "number" != typeof e.numUnseenChirps && (e.numUnseenChirps = 0),
        "boolean" != typeof e.gappy && (e.gappy = !1);
        var t = e.numUnseenChirps > 0;
        this.getChirpContainer().trigger("uiReadStateChange", {
            read: !t,
            columnKey: this.state.columnKey
        }),
        t ? this.moreTweetsState.unread({
            numUnseenChirps: e.numUnseenChirps,
            gappy: e.gappy,
            columnKey: this.state.columnKey
        }) : this.moreTweetsState.read()
    }
}
, function(e, t) {
    "use strict";
    var i = window.TD || {};
    i.ui = i.ui || {},
    window.TD = i,
    i.ui.columns = function() {
        var e, t, s, n = 5, r = 100, o = 400, a = 250, c = 500, l = 200, u = 20, d = 250, h = {}, m = {}, p = {}, f = "is-moving", g = "is-focused", v = ".is-focused", T = "is-actionable", w = "#container", b = ".js-app-columns", y = ".js-app-add-panel", D = ".js-column-scroller", C = ".js-column", S = ".js-column-header", A = ".js-more-tweets-btn", E = ".js-more-tweets-btn-container", I = ".js-detail-header", k = ".js-chirp-container", x = ".is-minimalist", M = "is-touch-tweet-container", R = 150, F = {
            mouseIsDownOnScrollBar: !1
        }, L = function(e) {
            return K.getColumnElementByKey(e).find(S)
        }
        , O = function(e) {
            var t = $(e.currentTarget);
            t.closest(".js-more-tweets-btn").length && i.util.metric("column:ui:more-tweets:click");
            var s = t.parents(C)
              , n = s.data("column");
            i.ui.columns.setColumnToTop(n)
        }
        , N = function() {
            var t = $(this);
            return t.offset().top + this.offsetHeight > 0 && t.offset().top < e.innerHeight()
        }
        , U = function() {
            var e = i.ui.updates.findParentArticle($(this))
              , t = i.controller.columnManager.get(e.column)
              , s = t.updateIndex[e.statusKey];
            e.element.replaceWith(s.render({
                isTemporary: t.temporary
            }))
        }
        , j = _.debounce(function(e) {
            e.find(x).filter(N).each(U)
        }, R), P = function(e, t) {
            var s, n, r = 0, o = 0;
            return function(a) {
                var c = a.timeStamp || (new Date).getTime()
                  , l = t.scrollTop();
                m[e] = l;
                var u = "stationary";
                l > o ? u = "down" : o > l && (u = "up"),
                o = l,
                j(t),
                c - r > 200 && (r = c,
                n = a.currentTarget.scrollHeight,
                s = t.height());
                var h = i.controller.columnManager.get(e)
                  , p = l
                  , f = n - s - l
                  , g = F.mouseButtonWasDown;
                return F.mouseButtonWasDown = !1,
                0 !== l || F.mouseIsDownOnScrollBar ? h.isTrackingRealtime = !1 : (i.ui.columns.unlockColumnFromElement(e),
                h.isTrackingRealtime = !0,
                h.ui.moreTweetsState.trackingRealtime()),
                "up" !== u && d > f && (i.util.metric("column:ui:scroll:infinite:impression"),
                F.mouseIsDownOnScrollBar && i.util.metric("column:ui:scroll:infinite:with-mouse"),
                h.doInfiniteScroll({
                    fromScrollbarDrag: F.mouseIsDownOnScrollBar
                }),
                r = 0),
                F.mouseIsDownOnScrollBar ? void (d > p ? "down" !== u && h.ui.moreTweetsState.mouseScrollToTop() : h.ui.moreTweetsState.mouseScrollAwayFromTop()) : void ("down" !== u && d > p && (i.util.metric("column:ui:scroll:upward:impression"),
                g && i.util.metric("column:ui:scroll:upward:with-mouse"),
                h.ui.moreTweetsState.upwardScroll(),
                h.doUpwardScroll(),
                r = 0))
            }
        }
        , B = function(e, t) {
            var i = t.closest(".scroll-h")
              , n = 100
              , r = {
                direction: "",
                time: 0
            };
            return function(o) {
                var a, c = Math.abs(o.originalEvent.wheelDeltaX), l = Math.abs(o.originalEvent.wheelDeltaY), u = $(o.currentTarget);
                if (o.originalEvent.wheelDeltaY || o.originalEvent.wheelDeltaX) {
                    o.preventDefault();
                    var d = "";
                    c > l ? d = "h" : l > c && (d = "v"),
                    d !== r.direction && Date.now() < r.time + n || (r.direction = d,
                    r.time = Date.now(),
                    "v" === d ? u.is(D) ? (a = m[e] - o.originalEvent.wheelDeltaY,
                    t.scrollTop(a),
                    m[e] = t.scrollTop()) : u.scrollTop(u.scrollTop() - o.originalEvent.wheelDeltaY) : "h" === d && i.scrollLeft(s.scrollLeft() - o.originalEvent.wheelDeltaX))
                }
            }
        }
        , H = function(s, n) {
            var r, o = function(e) {
                var t = e.model
                  , n = e.isMessageColumn()
                  , o = e.hasActiveSearchFilters()
                  , a = null ;
                o && (a = {
                    content: e.hasActiveContentFilters(),
                    user: e.hasActiveUserFilters(),
                    action: e.hasActiveActionFilters() && !e.isSingleActionTypeColumn(),
                    engagement: e.hasActiveEngagementFilters(),
                    filterError: e.hasFilterError()
                });
                var c = !e.temporary && e.isOwnCustomTimeline()
                  , l = {
                    columnkey: t.getKey(),
                    columntitle: s[r].getTitleHTML({
                        editable: c
                    }),
                    columnclass: s[r].getClass(),
                    columniconclass: s[r].getIconClass(),
                    columnfilter: a,
                    filterError: e.hasFilterError(),
                    withEditableTitle: c,
                    withMarkAllRead: n,
                    withDMComposeButton: n,
                    isTouchColumnOptions: Boolean(i.util.isTouchDevice() && i.decider.get("touchdeck_column_options_v2"))
                };
                return i.ui.template.render("column", l)
            }
            ;
            if (n = Boolean(n))
                for (r = s.length - 1; r >= 0; r--)
                    e.prepend(o(s[r])),
                    K.setupColumn(s[r]);
            else
                for (r = 0; r < s.length; r++)
                    t.before(o(s[r])),
                    K.setupColumn(s[r])
        }
        , K = {
            COLUMN_GLOW_DURATION: 500,
            init: function() {
                e = $(b),
                t = $(y),
                s = $(w),
                e.on("click", [S, A].join(", "), O),
                e.on("wheel", E, function(e) {
                    e.preventDefault()
                }),
                $(document).on("mousedown", ".js-column-scroller", function(e) {
                    var t = $(e.target);
                    F.mouseIsDownOnScrollBar = t.is(".js-column-scroller"),
                    F.mouseIsDownOnScrollBar && $(document).one("mouseup", function(e) {
                        F.mouseIsDownOnScrollBar = !1,
                        F.mouseButtonWasDown = !0,
                        t.trigger("scroll")
                    })
                })
            },
            setupColumn: function(e) {
                var t = e.model.getKey()
                  , s = $(k + '[data-column="' + t + '"]').closest(D)
                  , n = $(C + '[data-column="' + t + '"]')
                  , r = s.scrollTop()
                  , o = P(t, s)
                  , a = B(t, s);
                $(document).trigger("uiColumnRendered", {
                    column: e,
                    $column: n
                }),
                i.util.isTouchDevice() && i.decider.get("touchdeck_tweet_controls_v3") && s.addClass(M),
                m[t] = r,
                h[t] = s,
                s.scroll(o),
                n.on("mousewheel onmousewheel", ".scroll-v", a),
                n.on("mouseover", S, function() {
                    var e = m[t];
                    $(this).toggleClass(T, e > 0)
                }),
                i.util.isTouchDevice() && window.navigator.standalone && n.on("touchmove", ".scroll-v", function(e) {
                    e.stopPropagation()
                })
            },
            refreshTitle: function(e, t) {
                var s, n, r, o = e.getIconClass(), a = e.model.getKey(), c = !e.temporary && e.isOwnCustomTimeline(), l = t instanceof i.services.TwitterConversation, u = e.getTitleHTML({
                    editable: c
                }), d = K.getColumnElementByKey(a), h = e.isMessageColumn();
                n = e.temporary && e.getColumnType() === i.util.columnUtils.columnMetaTypes.SEARCH ? i.i("results") : e.getDetailTitleHTML(),
                e.isMessageColumn() && (r = e.unreadMessageCount()),
                s = i.ui.template.render("column/column_header", {
                    columntitle: u,
                    columniconclass: o,
                    isTemporary: e.temporary,
                    withEditableTitle: c,
                    withImageAttribution: !0,
                    withMarkAllRead: h,
                    withDMComposeButton: h,
                    unreadCount: "0" === r ? null : r
                }),
                L(e.model.getKey()).replaceWith(s),
                s = i.ui.template.render("column/column_header_detail", {
                    headerClass: "js-detail-header",
                    headerAction: "resetToTopColumn",
                    headerLinkClass: "js-column-back",
                    getConversationTitleInformation: l && t.getConversationTitleInformation(),
                    participants: t && t.participants,
                    withConversationMenu: t instanceof i.services.TwitterConversation,
                    columntitle: n,
                    conversationId: l && t.conversationId,
                    accountKey: l && t.account.getKey()
                }),
                d.find(I).replaceWith(s),
                d.trigger("uiColumnTitleRefreshed", {
                    columnKey: a
                })
            },
            setColumnToTop: function(e) {
                function t() {
                    return u.doUpwardScroll().addBoth(function() {
                        c.css({
                            transform: ""
                        }),
                        s.scrollTop(0),
                        u.isTrackingRealtime = !0
                    })
                }
                var s = h[e]
                  , c = s.find(k)
                  , l = L(e)
                  , u = i.controller.columnManager.get(e)
                  , d = s.scrollTop()
                  , m = Math.min(r + d / n, o);
                l.removeClass(T),
                u.resetUnreadIndicators();
                var p;
                return p = 0 === d ? t() : new i.core.defer.DeferredList([K.transitionTranslateY(c, d, m), K.transitionOpacity(s, {
                    from: 1,
                    to: 0,
                    duration: m
                })]).addCallback(t).addCallback(K.transitionOpacity.bind(K, s, {
                    from: 0,
                    to: 1,
                    duration: a
                }))
            },
            transitionTranslateY: function(e, t, s) {
                function n(i) {
                    r || (r = i);
                    var a = i - r
                      , c = Math.min(1, a / s)
                      , l = ~~(c * t);
                    e.css({
                        transform: "translateY(" + l + "px)"
                    }),
                    1 > c ? window.requestAnimationFrame(n) : o.callback()
                }
                var r, o = new i.core.defer.Deferred;
                return window.requestAnimationFrame(n),
                o
            },
            transitionOpacity: function(e, t) {
                function s(i) {
                    n || (n = i);
                    var o = i - n
                      , a = Math.min(1, o / t.duration);
                    e.css({
                        opacity: t.from + a * (t.to - t.from)
                    }),
                    1 > a ? window.requestAnimationFrame(s) : (1 === t.to && e.css({
                        opacity: ""
                    }),
                    r.callback())
                }
                t = _.defaults({}, t, {
                    duration: a,
                    from: 0,
                    to: 1
                });
                var n, r = new i.core.defer.Deferred;
                return window.requestAnimationFrame(s),
                r
            },
            isScrolledToTop: function(e) {
                var t = h[e];
                return t ? 0 === m[e] : !0
            },
            alterColumnContents: function(e, t, i, s) {
                if (s = s || {},
                t && 0 !== t.length) {
                    var n, r, o = p[e], a = 0;
                    if ("boolean" == typeof s.willBreakScrollPosition)
                        n = s.willBreakScrollPosition;
                    else {
                        var c = o ? o.position().top : a;
                        n = t.position().top < c
                    }
                    n && (r = this.cacheColumnScrollPosition(e));
                    var l = i(t);
                    return n && r(),
                    l
                }
            },
            cacheColumnScrollPosition: function(e) {
                var t = h[e];
                if (!t)
                    return function() {}
                    ;
                var i = m[e]
                  , s = t[0].scrollHeight - i;
                return function() {
                    var i;
                    i = t[0].scrollHeight - s,
                    t.scrollTop(i),
                    m[e] = i,
                    0 === i && j(t)
                }
            },
            lockColumnToElement: function(e, t) {
                p[e] = t
            },
            unlockColumnFromElement: function(e) {
                delete p[e]
            },
            columnIsLockedToElement: function(e) {
                return !!p[e]
            },
            addColumnsToView: function(e) {
                H(e),
                $(k).show()
            },
            removeColumn: function(e) {
                var t = K.getColumnElementByKey(e);
                t.trigger("uiRemoveColumn"),
                t.remove(),
                delete m[e],
                delete h[e]
            },
            calculateScrollDuration: function(e, t, i) {
                i = i || c,
                t = t || u;
                var s = l + e / 100 * t;
                return s = Math.min(s, i)
            },
            getLeftmostColumn: function() {
                var t = null ;
                return e.children(C).each(function() {
                    t || ($(this).position().left < 10 && $(this).position().left >= 0 ? t = this : $(this).position().left > 10 && (t = $(this).prev()))
                }),
                $(t)
            },
            focusColumn: function(t, s) {
                $(v, e).removeClass(g),
                K.getColumnElementByKey(t).addClass(g),
                _.isNumber(s) && _.delay(function() {
                    i.ui.columns.unfocusColumn(t)
                }, s)
            },
            unfocusColumn: function(e) {
                K.getColumnElementByKey(e).removeClass(g)
            },
            setMovingColumn: function(e) {
                K.getColumnElementByKey(e).addClass(f)
            },
            getColumnElementByKey: function(e) {
                return $(C + '[data-column="' + e + '"]')
            }
        };
        return K
    }()
}
, function(e, t) {
    "use strict";
    TD.globalRenderOptions = function() {
        var e = {
            styledScrollbar: TD.util.hasFixedScrollBars(),
            isTouchDevice: TD.util.isTouchDevice(),
            asset: function() {
                return function(e) {
                    return TD.assets.get(e)
                }
            },
            decider: {}
        };
        return $(document).on("dataDeciderUpdated", function() {
            e.decider = TD.decider.getAllWithOverlay()
        }),
        e
    }()
}
, function(e, t) {
    "use strict";
    TD.ui.main = function() {
        var e = {}
          , t = function(e, t) {
            $(".js-app-add-column").removeClass("is-hidden")
        }
          , i = function(e, t) {
            $(".js-app-add-column").addClass("is-hidden")
        }
        ;
        return e.init = function() {
            var s = $("body")
              , n = $(TD.ui.template.render("topbar/app_header", {
                searchInputClassName: "js-app-search-input app-search-input",
                searchInputPlaceholder: TD.i("Search")
            }))
              , r = $(TD.ui.template.render("app_container", {
                isMac: "osx" === TD.util.getOSName()
            }));
            $(".js-app").append(n),
            $(".js-app").append(r),
            TD.util.isTouchDevice() && TD.decider.get("touchdeck_sidebar_v2") && ($(".js-app").addClass("with-touch-sidebar"),
            $(".js-app-header").addClass("is-touch-sidebar")),
            TD.util.isTouchDevice() && window.navigator.standalone && n.on("touchmove", function(e) {
                var t = $(e.target);
                0 === t.closest(".js-column-nav-scroller").length && e.preventDefault()
            }),
            TD.util.isWrapperApp() && deck.closeLoadingScreen && deck.closeLoadingScreen(),
            s.on("click", "a", function(e) {
                TD.util.maybeOpenClickExternally(e)
            }),
            TD.ui.columns.init(),
            TD.ui.updates.init(),
            TD.ui.openColumn.init(),
            TD.util.isTouchDevice() || s.tooltip({
                selector: ".js-show-tip",
                container: "body",
                delay: {
                    show: 500
                },
                suppressFadeOut: !0
            }),
            s.on("click", "a", function(e) {
                var t = $(e.currentTarget)
                  , i = t.attr("rel")
                  , s = !1;
                switch (i) {
                case "tweets":
                    TD.storage.notification.notify(TD.components.OpenColumn.GO_EVENT, {
                        data: TD.components.OpenColumnHome.URL_BASE + "/" + i + "?screenName=" + t.attr("data-screen-name")
                    }),
                    s = !0;
                    break;
                case "user":
                    var n = t.data("user-name") || _.last(t.attr("href").split("/"));
                    n = "" + n,
                    $(document).trigger("uiShowProfile", {
                        id: n
                    }),
                    s = !0;
                    break;
                case "hashtag":
                    $(document).trigger("uiPerformSearch", {
                        query: t.text()
                    }),
                    s = !0;
                    break;
                case "search":
                    $(document).trigger("uiPerformSearch", {
                        query: t.attr("data-search-term")
                    }),
                    s = !0
                }
                s && e.preventDefault(),
                e.isDefaultPrevented() === !1 && (TD.util.openURL(t.attr("href")),
                e.preventDefault())
            }),
            s.on("submit", function(e) {
                e.preventDefault()
            }),
            $.subscribe("/storage/client/settings/column_width", e.updateColumnSize),
            e.updateColumnSize(),
            $.subscribe("/storage/client/settings/font_size", e.updateFontSize),
            e.updateFontSize();
            var o = _.debounce(function(e) {
                $(document).trigger("uiMainWindowResized")
            }, 50);
            $(window).on("resize", o),
            $(document).on("uiColumnNavSizeOverflow", t.bind(this)),
            $(document).on("uiColumnNavSizeNormal", i.bind(this))
        }
        ,
        e.updateColumnSize = function() {
            var e = TD.settings.getColumnWidth()
              , t = $("html");
            switch (t.removeClass("is-narrow-columns is-medium-columns is-wide-columns"),
            e) {
            case "narrow":
                t.addClass("is-narrow-columns");
                break;
            case "medium":
                t.addClass("is-medium-columns");
                break;
            case "wide":
                t.addClass("is-wide-columns")
            }
            $(document).trigger("uiColumnWidthChange", {
                columnWidth: e
            })
        }
        ,
        e.updateFontSize = function() {
            var e = TD.settings.getFontSize()
              , t = $("html");
            switch (t.removeClass("txt-base-smallest txt-base-small txt-base-medium txt-base-large txt-base-largest"),
            e) {
            case "smallest":
                t.addClass("txt-base-smallest");
                break;
            case "small":
                t.addClass("txt-base-small");
                break;
            case "medium":
                t.addClass("txt-base-medium");
                break;
            case "large":
                t.addClass("txt-base-large");
                break;
            case "largest":
                t.addClass("txt-base-largest")
            }
        }
        ,
        e
    }()
}
, function(e, t) {
    "use strict";
    TD.ui.openColumn = function() {
        function e(e, i) {
            var s = e.split("?")
              , n = s[0].split("/").slice(1)
              , r = s[1] || ""
              , o = TD.net.util.formDecode(r)
              , a = n.shift();
            switch (a) {
            case "add":
                if ("search" !== n[0]) {
                    var c = TD.components.OpenColumn.instance;
                    c && !c.canGo(a, n) && (c.destroy(),
                    c = null ),
                    c || (c = new TD.components.OpenColumn),
                    c.go(a, n, o, i),
                    c.setAndShowContainer(t, !1)
                } else
                    $(document).trigger("uiAppSearchFocus")
            }
        }
        var t, i = {};
        return i.init = function() {
            t = $("#open-modal"),
            $.subscribe(TD.components.OpenColumn.GO_EVENT, function(t) {
                e(t.data, t.history)
            })
        }
        ,
        i.showOpenColumn = function() {
            e("/add/home")
        }
        ,
        i.showTwitterProfile = function(t) {
            e("/profile/twitter/" + t)
        }
        ,
        i.showLists = function() {
            e("/add/lists")
        }
        ,
        i.showSearch = function(t) {
            e("/search?q=" + t)
        }
        ,
        i.showCustomTimelines = function(t, i) {
            e(2 === arguments.length ? "/add/customtimelines?screenName=" + TD.util.deMentionify(t) + "&slug=" + i : "/add/customtimelines")
        }
        ,
        i.showImportSharedColumn = function(t) {
            TD.decider.get("sac_enable_import") && e("/add/sharedcolumn?state=" + encodeURIComponent(t))
        }
        ,
        i.showList = function(t, i) {
            e("/add/lists?screenName=" + TD.util.deMentionify(t) + "&slug=" + i)
        }
        ,
        i
    }()
}
, function(e, t) {
    "use strict";
    TD.ui.updates = function() {
        function e(e, n, r, o) {
            var a, c, l, u, d, h, m, p = $(e.target), f = !1;
            if (!($(".js-stream-item", e.target).length > 0) && (p.attr("rel") || (p = p.closest("a,button,[data-tweet-id]")),
            a = s.findParentArticle(p),
            n || (r || (r = TD.controller.columnManager.get(a.column)),
            r && (o = r.findChirp(a.statusKey),
            n = r.findMostInterestingChirp(a.statusKey),
            (n instanceof TD.services.TwitterStatus || n instanceof TD.services.TwitterConversationMessageEvent) && (m = !0),
            d = p.closest(".js-quote-detail"),
            d.length && m && (h = d.attr("data-tweet-id"),
            n.quotedTweet && n.quotedTweet.id === h && (n = n.quotedTweet)))),
            n)) {
                switch (c = p.attr("rel"),
                e.shiftKey && "favorite" === c && (c = "favoriteFromAccounts"),
                c) {
                case "skipToReplies":
                    $(document).trigger("uiSkipToReplies", {
                        columnKey: r.model.getKey()
                    });
                    break;
                case "viewCustomTimeline":
                    TD.ui.openColumn.showCustomTimelines(p.attr("data-screen-name"), p.attr("data-slug"));
                    break;
                case "importSerializedColumn":
                    $(document).trigger("uiShowImportColumnDialog", {
                        columnState: p.attr("data-serialized-column")
                    });
                    break;
                case "list":
                    TD.ui.openColumn.showList(p.attr("data-screen-name"), p.attr("data-slug"));
                    break;
                case "actionsMenu":
                    p.trigger("uiShowActionsMenu");
                    break;
                case "mediaPreview":
                    f = t(n, p.attr("href"), p.attr("data-media-entity-id"), r);
                    break;
                case "retweet":
                case "like":
                case "favorite":
                case "destroy":
                case "edit":
                case "reply":
                case "viewDetails":
                case "followStatus":
                case "dm":
                case "showSensitiveMedia":
                case "alwaysShowSensitiveMedia":
                case "customTimeline":
                case "removeFromCustomTimeline":
                    i(c, n, o, r, a);
                    break;
                case "globalSettings":
                    $(document).trigger("uiShowGlobalSettings");
                    break;
                case "tweet":
                    l = p.attr("data-tweet-id"),
                    u = TD.controller.clients.getClient(n.account.getKey()),
                    u.show(l, function(e) {
                        i("viewDetails", e, o, r, a)
                    }, function() {
                        TD.util.openURL(p.attr("href"))
                    });
                    break;
                case "pause":
                    p.closest(".js-media-preview-container").addClass("is-paused").find(".js-media-gif").get(0).pause();
                    break;
                case "play":
                    p.closest(".js-media-preview-container").removeClass("is-paused").find(".js-media-gif").get(0).play();
                    break;
                case "viewConversationParticipants":
                    $(document).trigger("uiShowDmParticipants", {
                        columnKey: r.model.getKey(),
                        conversationId: n.conversationId,
                        accountKey: n.account.getKey()
                    });
                    break;
                case "favoriteFromAccounts":
                    $(document).trigger("uiShowFavoriteFromOptions", {
                        tweet: n
                    });
                    break;
                default:
                    f = !0
                }
                return f || (e.preventDefault(),
                e.stopPropagation()),
                !1
            }
        }
        function t(e, t, i, s) {
            return s.temporary ? (TD.util.openURL(t),
            !0) : (new TD.components.MediaGallery(e,t,i,s),
            !1)
        }
        function i(e, t, i, n, r) {
            switch (e) {
            case "retweet":
            case "like":
            case "favorite":
            case "destroy":
            case "edit":
                e in t && t[e](r);
                break;
            case "reply":
                var o = t.getMainTweet();
                $(document).trigger("uiComposeTweet", {
                    type: "reply",
                    from: [t.account.getKey()],
                    inReplyTo: {
                        id: o.id,
                        htmlText: o.htmlText,
                        user: {
                            screenName: o.user.screenName,
                            name: o.user.name,
                            profileImageURL: o.user.profileImageURL
                        }
                    },
                    mentions: t.getReplyUsers(),
                    element: r && r.element
                });
                break;
            case "viewDetails":
                s.showDetailView(n, t, i);
                break;
            case "followStatus":
                $(document).trigger("uiShowFollowFromOptions", {
                    userToFollow: t
                });
                break;
            case "dm":
                var a = t.getMainUser()
                  , c = a.account;
                $(document).trigger("uiComposeTweet", {
                    type: "message",
                    from: [c.getKey()],
                    messageRecipients: [a],
                    conversationId: t.conversationId
                });
                break;
            case "showSensitiveMedia":
                s.showSensitiveMedia(t);
                break;
            case "alwaysShowSensitiveMedia":
                s.alwaysShowSensitiveMedia(t);
                break;
            case "customTimeline":
                new TD.components.AddToCustomTimelineDialog(t.getMainTweet());
                break;
            case "removeFromCustomTimeline":
                var l = r.element;
                if (!l)
                    break;
                $(l).trigger("uiRemoveTweetFromCustomTimeline", {
                    tweetId: t.getMainTweet().id
                })
            }
        }
        var s = {
            currentlyDisplayedProfile: null
        };
        return s.init = function() {
            $(document).on("click", ".js-show-detail", function(e) {
                var t = window.getSelection()
                  , i = 0 === t.rangeCount ? !1 : t.getRangeAt(0);
                if (!i || i.endOffset === i.startOffset) {
                    var n = s.findParentArticle($(this))
                      , r = TD.controller.columnManager.get(n.column);
                    if (r) {
                        var o = r.findMostInterestingChirp(n.statusKey)
                          , a = r.findChirp(n.statusKey);
                        s.showDetailView(r, o, a)
                    }
                }
                return !1
            }),
            $(document).on("click", ".js-expand-gap", function(e) {
                var t = s.findParentArticle($(this));
                s.trackGapClick(),
                t.element.addClass("gap-chirp--loading");
                var i = TD.controller.columnManager.get(t.column);
                i.fillGap(t.statusKey)
            }),
            $("body").delegate(".js-stream-item a, .js-stream-item button, .js-detail-view-inline, .js-quote-detail", "click", e),
            $.subscribe("chirp/click", function(t, i, s) {
                e(t, i, s)
            }),
            $.subscribe("chirp/action", i),
            TD.controller.scheduler.schedulePeriodicTask(30, TD.ui.updates.refreshTimestamps)
        }
        ,
        s.trackGapClick = function() {
            TD.util.metric("column:ui:gap:click"),
            $(document).trigger("scribeEvent", {
                terms: {
                    page: "main",
                    component: "column",
                    element: "gap",
                    action: "click"
                }
            })
        }
        ,
        s.refreshTimestamps = function() {
            var e = TD.util.prettyDate;
            $(".js-timestamp").each(function(t, i) {
                var s, n, r, o = $(this);
                s = o.attr("data-time"),
                r = new Date(Number(s)),
                n = e(r),
                $("a,span", o).text(n)
            })
        }
        ,
        s.findParentArticle = function(e) {
            var t = e.closest(".js-stream-item,.js-tweet-box");
            return {
                element: t,
                statusKey: t.attr("data-key"),
                column: t.closest(".js-chirp-container, .js-column").data("column")
            }
        }
        ,
        s.showDetailView = function(e, t, i) {
            var s = e.model.getKey()
              , n = TD.ui.columns.getColumnElementByKey(s);
            n.trigger("uiExitSettings"),
            e.detailViewComponent && e.detailViewComponent.destroy(),
            i instanceof TD.services.TwitterConversationMessageEvent && t.quotedTweet ? TD.controller.stats.sharedTweetDM() : t instanceof TD.services.DataminrAlert ? e.detailViewComponent = new TD.components.DataminrDetailView(e,n) : t instanceof TD.services.TwitterStatus ? e.detailViewComponent = new TD.components.TweetDetailView(e,n) : t instanceof TD.services.TwitterConversation && (e.detailViewComponent = new TD.components.ConversationDetailView(e,n)),
            e.detailViewComponent.showChirp(t, i)
        }
        ,
        s.showSensitiveMedia = function(e) {
            var t = e.getDOMChirps();
            t.find(".js-media-sensitive-overlay").addClass("is-hidden"),
            t.find(".js-media-preview-container").removeClass("media-size-medium media-sensitive-detail"),
            t.find(".js-media-image-link, .js-media-native-video, .js-media-gif").removeClass("is-invisible"),
            e.possiblySensitive = !1
        }
        ,
        s.alwaysShowSensitiveMedia = function(e) {
            TD.settings.setDisplaySensitiveMedia(!0)
        }
        ,
        s
    }()
}
, function(e, t) {
    "use strict";
    function i(e, t) {
        return t = t || {},
        (e || "").replace(/\{\{([^{}]*?)\}\}/g, function(e, i) {
            var s = t[i];
            return "string" == typeof s || "number" == typeof s ? s : e
        })
    }
    var s = {
        emoji: "/web/assets/emoji/{{icon}}.png",
        td_screenshot: "/web/assets/global/backgrounds/td_screenshot@{{resolution}}.png",
        templates: "/web/templates/{{name}}.html",
        unbundled: "/web/scripts/unbundled/{{name}}.js",
        logos: "/web/assets/logos/{{name}}.png",
        html: "/web/{{name}}.html"
    };
    e.exports = {
        get: function(e, t) {
            var n = s[e] ? i(s[e], t) : e;
            return (TD.assetsOverlay || {})[n] || n || e
        }
    }
}
, function(e, t) {
    "use strict";
    TD.cache.lists = function() {
        function e(e) {
            var i = t[e] || {};
            return t[e] = i,
            i
        }
        var t = {}
          , i = {};
        return i.add = function(t) {
            var i = e(t.account.getKey());
            i[t.id] = t,
            TD.controller.feedManager.fixListFeeds(),
            TD.cache.names.updateScreenName(t.user.id, t.user.screenName),
            TD.cache.names.updateListName(t.id, t.name)
        }
        ,
        i.unsubscribe = function(t) {
            var i = e(t.account.getKey());
            delete i[t.id]
        }
        ,
        i.purge = function(e) {
            var i;
            if (_.each(t, function(t, s) {
                i = i || t[e],
                delete t[e]
            }),
            i) {
                var s = TD.storage.Feed.generateKeyFor(i.account.getKey(), "list", {
                    listId: e
                });
                TD.controller.feedManager.deleteFeedsWhere(function(e) {
                    return e.getKey() === s
                })
            }
        }
        ,
        i.getListsFor = function(t) {
            return _.values(e(t))
        }
        ,
        i.find = function(e, i, s, n, r) {
            var o, a, c;
            return i && s && (o = "@" + i.toLowerCase() + "/" + s.toLowerCase()),
            _.each(t, function(t, i) {
                r && r !== i || _.each(t, function(t, i) {
                    (e && t.id === e || t.fullName.toLowerCase() === o) && (t.isOwnList() ? a = t : c = t)
                })
            }),
            n ? a : a || c
        }
        ,
        i.getAll = function() {
            var e = {};
            return _.each(t, function(t, i) {
                _.extend(e, t)
            }),
            _.values(e)
        }
        ,
        i
    }()
}
, function(e, t) {
    "use strict";
    TD.cache.LRUQueue = klass(function(e) {
        this.maxSize = e,
        this.length = 0,
        this._first = void 0,
        this._last = void 0,
        this._index = {},
        this._lefts = {},
        this._rights = {}
    }).methods({
        enqueue: function(e, t) {
            e && (this.dequeue(e),
            0 == this.length ? this._first = this._last = e : (this._lefts[this._first] = e,
            this._rights[e] = this._first,
            this._first = e),
            this._index[e] = t,
            this.length++,
            this.prune())
        },
        dequeue: function(e) {
            if (!_.isUndefined(this._index[e])) {
                var t = this._lefts[e]
                  , i = this._rights[e];
                t ? this._rights[t] = i : this._first = i,
                i ? this._lefts[i] = t : this._last = t,
                delete this._index[e],
                delete this._rights[e],
                delete this._lefts[e],
                this.length--
            }
        },
        prune: function() {
            for (; this.maxSize && this.length > this.maxSize; )
                this.dequeue(this._last);
        },
        get: function(e) {
            return this._index[e]
        },
        getOrElse: function(e, t) {
            var i = this._index[e];
            return void 0 === i && (i = _.isFunction(t) ? t() : t,
            this.enqueue(e, i)),
            i
        },
        take: function(e) {
            var t = []
              , i = this._first;
            e = Math.min(e, this.length);
            for (var s = 0; e > s; s++)
                t.push(this._index[i]),
                i = this._rights[i];
            return t
        }
    })
}
, function(e, t) {
    "use strict";
    TD.cache.names = function() {
        var e = {
            SECONDS_IN_ONE_WEEK: 604800,
            _cache: null
        };
        return e.init = function() {
            e._cache = TD.settings.getNameCache(),
            e._cache.users = e._cache.users || {},
            e._cache.lists = e._cache.lists || {},
            e._cache.customTimelines = e._cache.customTimelines || {},
            $.subscribe("/storage/client/column_order_changed", function() {
                e.prune(),
                e.commit()
            }),
            $.subscribe("/storage/column/feeds_changed", function(t, i, s) {
                var n = TD.storage.columnController.get(s.getKey());
                n && !n.temporary && e.commit()
            })
        }
        ,
        e.getScreenName = function(t) {
            var i, s, n = TD.util.unixTime(new Date), r = TD.storage.Account.generateKeyFor("twitter", t), o = TD.storage.accountController.get(r);
            return o ? (s = TD.util.atMentionify(o.getUsername()),
            e.addScreenName(t, s)) : (i = e._cache.users[t],
            i && (s = i.name),
            (!i || i.timestamp + e.SECONDS_IN_ONE_WEEK < n) && e._fetchUser(t)),
            s
        }
        ,
        e.getListName = function(t, i) {
            var s, n, r = TD.util.unixTime(new Date), o = TD.cache.lists.find(t, "", "");
            return o ? (s = o.name,
            e.addListName(t, s)) : (n = e._cache.lists[t],
            n && (s = n.name),
            (!n || n.timestamp + e.SECONDS_IN_ONE_WEEK < r) && e._fetchList(t, i)),
            s
        }
        ,
        e.getCustomTimelineName = function(t, i) {
            var s, n, r = TD.util.unixTime(new Date);
            return n = e._cache.customTimelines[t],
            n && (s = n.name),
            (!n || n.timestamp + e.SECONDS_IN_ONE_WEEK < r) && e._fetchCustomTimeline(t, i),
            s
        }
        ,
        e.addScreenName = function(t, i) {
            if (e._cache) {
                var s = {}
                  , n = e._cache.users[t]
                  , r = TD.util.atMentionify(i)
                  , o = !n || r !== n.name;
                s.name = r,
                s.timestamp = TD.util.unixTime(new Date),
                e._cache.users[t] = s,
                o && (e.commit(),
                TD.storage.notification.notify("/cache/names/change"))
            }
        }
        ,
        e.addListName = function(t, i) {
            if (e._cache) {
                var s = {}
                  , n = e._cache.lists[t]
                  , r = !n || i !== n.name;
                s.name = i,
                s.timestamp = TD.util.unixTime(new Date),
                e._cache.lists[t] = s,
                r && (e.commit(),
                TD.storage.notification.notify("/cache/names/change"))
            }
        }
        ,
        e.addCustomTimelineName = function(t, i) {
            if (e._cache && i) {
                var s = {}
                  , n = e._cache.customTimelines[t]
                  , r = !n || i !== n.name;
                s.name = i,
                s.timestamp = TD.util.unixTime(new Date),
                e._cache.customTimelines[t] = s,
                r && (e.commit(),
                TD.storage.notification.notify("/cache/names/change"))
            }
        }
        ,
        e.updateScreenName = function(t, i) {
            if (e._cache) {
                var s = e._cache.users[t];
                s && e.addScreenName(t, i)
            }
        }
        ,
        e.updateListName = function(t, i) {
            if (e._cache) {
                var s = e._cache.lists[t];
                s && e.addScreenName(t, i)
            }
        }
        ,
        e.updateCustomTimelineName = function(t, i) {
            if (e._cache) {
                var s = e._cache.customTimelines[t];
                s && e.addCustomTimelineName(t, i)
            }
        }
        ,
        e._fetchUser = function(t) {
            var i = TD.cache.twitterUsers.getById(t);
            i.addCallback(function(i) {
                e.addScreenName(t, i.screenName)
            })
        }
        ,
        e._fetchList = function(t, i) {
            var s = TD.storage.Account.generateKeyFor("twitter", i)
              , n = TD.controller.clients.getClient(s);
            n = n || TD.controller.clients.getPreferredClient("twitter"),
            n.getList(t, null , null , function(i) {
                e.addListName(t, i.name)
            })
        }
        ,
        e._fetchCustomTimeline = function(t, i) {
            var s = TD.storage.Account.generateKeyFor("twitter", i)
              , n = TD.controller.clients.getClient(s);
            n = n || TD.controller.clients.getPreferredClient("twitter"),
            n.getCustomTimeline(t, function(i) {
                e.addCustomTimelineName(t, i.name)
            })
        }
        ,
        e.commit = _.debounce(function() {
            e.prune(),
            TD.settings.setNameCache(e._cache)
        }, 100),
        e.prune = function() {
            e._cache = e._getPrunedCache()
        }
        ,
        e._getPrunedCache = function() {
            var t = {
                users: {},
                lists: {},
                customTimelines: {}
            }
              , i = TD.storage.feedController.getAll();
            return _.each(i, function(i) {
                var s, n, r, o = i.getType(), a = i.getMetadata();
                if (a) {
                    switch (o) {
                    case TD.util.columnUtils.feedTypes.CUSTOMTIMELINE:
                        r = a.id,
                        s = a.ownerId;
                        break;
                    case TD.util.columnUtils.feedTypes.LIST:
                        n = a.listId,
                        s = a.ownerId;
                        break;
                    default:
                        s = a.id
                    }
                    s && e._cache.users[s] && (t.users[s] = e._cache.users[s]),
                    r && e._cache.customTimelines[r] && (t.customTimelines[r] = e._cache.customTimelines[r]),
                    n && e._cache.lists[n] && (t.lists[n] = e._cache.lists[n])
                }
            }),
            t
        }
        ,
        e
    }()
}
, function(e, t) {
    "use strict";
    TD.cache.twitterUsers = function() {
        function e() {
            _.each(r.splice(o), function(e) {
                delete s[e.id],
                delete n[e.screenName.toLowerCase()]
            })
        }
        function t(e, t) {
            var i, r, o, a;
            return e || t ? (i = e ? s[e] : n[t.toLowerCase()],
            i ? a = TD.core.defer.succeed(i) : (r = TD.storage.accountController.getPreferredAccount("twitter"),
            o = TD.controller.clients.getClient(r.getKey()),
            a = new TD.core.defer.Deferred,
            o.showUser(e, t, function(e) {
                a.callback(e)
            }, function(i, s, n) {
                a.errback(new TD.core.defer.XMLHttpRequestError(i,n)),
                i && i.errors && i.errors.forEach(function(i) {
                    i === o.ERRORS.SUSPENDED_USER && $.publish("/user/suspended", [e, t])
                })
            }))) : a = TD.core.defer.fail("Must provide user ID or screen name"),
            a
        }
        var i = {}
          , s = {}
          , n = {}
          , r = []
          , o = 500;
        return i.add = function(t) {
            var i = s[t.id];
            i ? delete n[i.screenName.toLowerCase()] : r.unshift(t),
            s[t.id] = t,
            n[t.screenName.toLowerCase()] = t,
            $(document).trigger("dataCachedTwitterUser", t),
            e()
        }
        ,
        i.getById = function(e) {
            return t(e, null )
        }
        ,
        i.getByScreenName = function(e) {
            return t(null , e)
        }
        ,
        i
    }()
}
, function(e, t, i) {
    "use strict";
    window.TD_mustaches = i(259),
    window.jQuery = window.$ = i(164),
    window.Hogan = i(239),
    window.StateMachine = i(241),
    window.klass = i(243),
    window._ = i(118),
    window.twttrTxt = i(258),
    i(170)
}
, function(e, t) {
    "use strict";
    TD.components.AccountSelector = TD.components.Base.extend(function(e) {
        var t = this;
        this.$node = $.createElement("ul").addClass("accs cf js-account-selector"),
        this.cachedSelectedAccounts = [],
        this.accountIndex = {},
        this.refreshPostingAccounts(),
        this.$node.on("click", ".js-account-item", function(e) {
            var i = $(e.currentTarget);
            e.stopPropagation(),
            e.shiftKey ? ($("li", t.$node).removeClass(TD.components.AccountSelector.SELECTED_CLASS),
            i.addClass(TD.components.AccountSelector.SELECTED_CLASS)) : i.toggleClass(TD.components.AccountSelector.SELECTED_CLASS),
            t.updateSelectedAccounts()
        }),
        this.subscription = $.subscribe("/storage/client/account_whitelist_changed", _.bind(this.refreshPostingAccounts, this))
    }).statics({
        CHANGE: "td-accounts-change",
        SELECTED_CLASS: "acc-selected"
    }).methods({
        refreshPostingAccounts: function() {
            var e, t, i, s, n = TD.storage.accountController.getPostingAccounts(), r = [];
            for (this.accountIndex = {},
            e = 0; e < n.length; e++)
                t = n[e],
                i = t.getKey(),
                r.push(i),
                this.accountIndex[i] = {
                    account: i,
                    uid: i,
                    type: "account",
                    username: t.getUsername(),
                    service: t.getType(),
                    picture: t.getProfileImageURL()
                };
            var o = function(e, t, i) {
                var s = {
                    accounts: [],
                    show_acc_toggle: i
                };
                return s.accounts = _.map(e, function(e) {
                    return t[e]
                }),
                s
            }
            ;
            r.length && (s = TD.ui.template.render("compose/accounts", o(r, this.accountIndex, !0)),
            this.$node.html(s))
        },
        getSelectedAccounts: function() {
            var e, t, i = [];
            if (this.cachedSelectedAccounts)
                return this.cachedSelectedAccounts.concat();
            e = $("." + TD.components.AccountSelector.SELECTED_CLASS, this.$node);
            for (var s = 0; s < e.length; s++)
                t = e[s].attributes["data-id"].value,
                i.push(this.accountIndex[t]);
            return this.cachedSelectedAccounts = i,
            i
        },
        selectAccounts: function(e) {
            var t, i = this.$node.find(".js-account-item");
            if (_.isArray(e) && (i.removeClass(TD.components.AccountSelector.SELECTED_CLASS),
            e && e.length)) {
                for (t = 0; t < e.length; t++)
                    e[t] && i.filter("li[data-id='" + e[t] + "']").addClass(TD.components.AccountSelector.SELECTED_CLASS);
                this.updateSelectedAccounts()
            }
        },
        selectDefaultAccount: function() {
            var e = TD.storage.accountController.getDefault();
            e && this.selectAccounts([e.getKey()])
        },
        updateSelectedAccounts: function() {
            this.cachedSelectedAccounts = null ;
            var e = this.getSelectedAccounts();
            this.$node.trigger(TD.components.AccountSelector.CHANGE, {
                selectedAccounts: e
            })
        },
        destroy: function() {
            $.unsubscribe(this.subscription),
            this.$node.off("click", ".js-account-item"),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ActionDialog = TD.components.BaseModal.extend(function(e) {
        this.tweet = e,
        this.$node.removeClass("js-modal-panel s-tall-fixed").addClass("cmp s-inreply l-no-txtarea s-fluid-height"),
        this.mainUser = e.getMainUser(),
        this.$find(".mdl-inner").replaceWith($(TD.ui.template.render("actions/action_dialog", {
            isProtected: this.mainUser.isProtected
        }))),
        this.$inreplyToHolder = this.$find(".js-inreply"),
        this.header = new TD.components.ActionHeader,
        this.header.$node.bind(TD.components.ActionHeader.CLOSE, this.destroy.bind(this)),
        this.$find(".mdl-header").prepend(this.header.$node),
        this.$buttons = this.$find(".js-action-button"),
        this.$buttons.click(this._handleClick.bind(this)),
        this.$retweetButton = this.$find(".js-retweet-button"),
        this._boundRetweet = this._retweet.bind(this),
        this._boundHandleRetweetSuccess = this._handleRetweetSuccess.bind(this),
        this._boundHandleRetweetFailure = this._handleRetweetFailure.bind(this),
        $(document).on("uiSendRetweetAction", this._boundRetweet),
        $(document).on("dataRetweetSuccess", this._boundHandleRetweetSuccess),
        $(document).on("dataRetweetError", this._boundHandleRetweetFailure),
        this.displayTweet(e),
        this.header.accountSelector.$node.on(TD.components.AccountSelector.CHANGE, this._handleAccountSelectionChange.bind(this)),
        this.header.accountSelector.selectAccounts([e.account.getKey()]),
        this.setAndShowContainer($("#actions-modal"))
    }).methods({
        displayTweet: function(e) {
            var t = e;
            t && (t.withAvatar = !0,
            this.$inreplyToHolder.html(TD.ui.template.render("status/tweet_single", t)).show())
        },
        _quote: function() {
            var e = this.header.accountSelector.getSelectedAccounts()
              , t = e.map(function(e) {
                return e.account
            });
            this.tweet.quoteTo(t),
            this.destroy()
        },
        _editquote: function() {
            var e = this.header.accountSelector.getSelectedAccounts()
              , t = e.map(function(e) {
                return e.account
            });
            $(document).trigger("uiComposeTweet", {
                text: this.tweet.getMainTweet().getQuoteText(),
                from: t,
                isEditAndRetweet: !0
            })
        },
        _retweet: function() {
            this.$buttons.prop("disabled", !0);
            var e = this.header.accountSelector.getSelectedAccounts()
              , t = e.map(function(e) {
                return e.account
            });
            $(document).trigger("uiRetweet", {
                id: this.tweet.id,
                from: t
            })
        },
        _handleClick: function(e) {
            var t = $(e.target);
            if (t.hasClass("is-disabled"))
                return !1;
            var i = t.data("action");
            switch (i) {
            case "quote":
                this._quote();
                break;
            case "editquote":
                this._editquote(),
                this.destroy();
                break;
            case "retweet":
                this._retweet()
            }
        },
        _handleAccountSelectionChange: function(e, t) {
            var i = t.selectedAccounts
              , s = i.some(function(e) {
                var t = TD.storage.accountController.get(e.uid);
                return t ? this.mainUser.id === "" + t.getUserID() : !1
            }, this)
              , n = s && 1 === i.length
              , r = !i.length
              , o = r || n;
            this.$retweetButton.toggleClass("is-disabled", o),
            n ? (this.$retweetButton.addClass("js-show-tip"),
            this.$retweetButton.attr("title", TD.i("You cannot retweet your own Tweet."))) : (this.$retweetButton.removeClass("js-show-tip"),
            this.$retweetButton.removeAttr("title"))
        },
        _handleRetweetSuccess: function(e, t) {
            this.tweet.setRetweeted(!0),
            TD.controller.stats.retweet(this.tweet.getScribeItemData(), t.response.user.id_str),
            this.destroy()
        },
        _handleRetweetFailure: function(e, t) {
            var i = TD.i("Failed: Retweet");
            t.response.errors && t.response.errors.forEach(function(e) {
                i += " - " + e.message
            }),
            TD.controller.progressIndicator.addMessage(i),
            this.$buttons.prop("disabled", !1)
        },
        destroy: function() {
            $(document).off("uiSendRetweetAction", this._boundRetweet),
            $(document).off("dataRetweetSuccess", this._boundHandleRetweetSuccess),
            $(document).off("dataRetweetError", this._boundHandleRetweetFailure),
            this.header.accountSelector.$node.off(TD.components.AccountSelector.CHANGE),
            $("#actions-modal").hide(),
            this.header.destroy(),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ActionHeader = TD.components.Base.extend(function() {
        var e = this;
        this.$node = $.createElement("div"),
        this.$node.append($(TD.ui.template.render("actions/action_header"))),
        this.accountSelector = new TD.components.AccountSelector,
        this.$node.append(this.accountSelector.$node),
        this.$composeUsernames = this.$find("h3"),
        this.$actionText = this.$find("span"),
        this.accountSelector.$node.bind(TD.components.AccountSelector.CHANGE, function() {
            var t = _.map(e.accountSelector.getSelectedAccounts(), function(e) {
                return e.username
            })
              , i = TD.i("From {{accounts}}", {
                accounts: t.join(", ")
            });
            e.$composeUsernames.text(i)
        }),
        this.accountSelector.selectDefaultAccount()
    }).statics({
        CHANGE: "td-accounts-change",
        CLOSE: "td-dialog-close"
    }).methods({
        destroy: function() {
            this.accountSelector.destroy(),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.AddToCustomTimelineDialog = TD.components.BaseModal.extend(function(e) {
        var t = TD.storage.accountController.getAccountsForService("twitter");
        return this.myCustomTimelines = [],
        this.tweetToAdd = e,
        this.tweetToAdd.user.isProtected ? void this.destroy() : (t.forEach(function(t) {
            var i = TD.controller.clients.getClient(t.getKey());
            this.myCustomTimelines = this.myCustomTimelines.concat(i.customTimelines),
            i.getCustomTimelines(null , e.id, function(e) {
                for (var t = 0; t < e.length; t++)
                    this.$find('[data-id="' + e[t].id + '"]').prop("checked", !0)
            }
            .bind(this))
        }
        .bind(this)),
        this.myCustomTimelines.sort(function(e, t) {
            var i = e.name.toLowerCase()
              , s = t.name.toLowerCase();
            return s > i ? -1 : i > s ? 1 : 0
        }),
        this.$node.removeClass("s-short").addClass("s-fluid s-wide cmp"),
        this.$title.html(" " + TD.i("Include Tweet in:")),
        this.$menuContainer.html(TD.ui.template.render("actions/add_to_customtimeline_dialog", this)).addClass("with-scroll scroll-v scroll-alt").toggleClass("scroll-styled-v", TD.globalRenderOptions.styledScrollbar),
        this.$checkboxes = this.$find(".js-mdl-content input").click(_.bind(this._changeSubscription, this)),
        $(".js-dismiss", this.$node).click(_.bind(this.destroy, this)),
        $("#actions-modal").html(this.$node).show(),
        void this.$checkboxes.first().focus())
    }).methods({
        _render: function() {
            return $(TD.ui.template.render("short_modal", {
                title: TD.i("Your collections"),
                hasDoneButton: !0
            }))
        },
        _changeSubscription: function(e) {
            var t = $(e.target)
              , i = t.attr("data-id")
              , s = t.prop("checked")
              , n = t.attr("data-account")
              , r = s ? "uiAddTweetToCustomTimeline" : "uiRemoveTweetFromCustomTimeline";
            $(document).trigger(r, {
                id: i,
                account: n,
                tweetId: this.tweetToAdd.id
            })
        },
        destroy: function(e) {
            $(document).off("uiHasCustomTimelines", this.handleHasCustomTimelines),
            this.$node.remove(),
            $("#actions-modal").hide(),
            e && e.preventDefault(),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.AddToListsDialog = TD.components.BaseModal.extend(function(e) {
        this.myLists = [],
        this.userToAdd = e,
        this._getLists(),
        this.$node.removeClass("s-short").addClass("s-fluid s-wide cmp"),
        this.$title.html(" " + TD.i("Include {{>text/user_link_screenname}} in:", e)),
        this.$menuContainer.html(TD.ui.template.render("actions/add_to_list_dialog", this)).addClass("with-scroll scroll-v scroll-alt").toggleClass("scroll-styled-v", TD.globalRenderOptions.styledScrollbar),
        this.$find(".js-mdl-content input").click(this._changeSubscription.bind(this)),
        this.$createListButton = this.$find(".js-create-list"),
        this.$createListButton.click(_.bind(this._createList, this)),
        this.setAndShowContainer($("#actions-modal"))
    }).methods({
        _render: function() {
            return $(TD.ui.template.render("short_modal", {
                title: TD.i("Your lists"),
                hasDoneButton: !0
            }))
        },
        _changeSubscription: function(e) {
            var t = $(e.target)
              , i = t.attr("id")
              , s = t.prop("checked")
              , n = t.attr("data-account")
              , r = TD.controller.clients.getClient(n)
              , o = TD.storage.Feed.generateKeyFor(n, "list", {
                listId: i
            })
              , a = TD.controller.feedManager.getPoller(o)
              , c = this;
            s ? r.addUserToList(i, this.userToAdd.screenName, function() {
                a && _.delay(function() {
                    a.refresh({
                        reset: !0
                    })
                }, 1e3)
            }) : r.removeUserFromList(i, this.userToAdd.screenName, function() {
                a && a.removeWhere(function(e) {
                    return c.userToAdd.id === e.user.id
                })
            })
        },
        _createList: function() {
            this.destroy();
            var e = new TD.components.ListDetails;
            e.autoAddMember(this.userToAdd)
        },
        _getLists: function() {
            var e = this
              , t = TD.storage.accountController.getAccountsForService("twitter");
            t.forEach(function(t) {
                var i = t.getKey()
                  , s = TD.controller.clients.getClient(i)
                  , n = TD.cache.lists.getListsFor(i).filter(function(e) {
                    return e.isOwnList()
                });
                e.myLists = e.myLists.concat(n.sort(function(e, t) {
                    var i = e.name.toLowerCase()
                      , s = t.name.toLowerCase();
                    return (i > s) - (s > i)
                })),
                s.getListMemberships(e.userToAdd.screenName, !0, function(e) {
                    e.forEach(function(e) {
                        document.getElementById(e.id).checked = !0
                    })
                })
            })
        },
        destroy: function(e) {
            this.$node.remove(),
            $("#actions-modal").hide(),
            e && e.preventDefault(),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.Autocomplete = TD.components.Base.extend(function(e, t) {
        var i = {
            limit: 5,
            dmMode: !1
        };
        this.options = _.extend(i, t),
        this.$input = e,
        this.isCompletionsOpen = !1,
        this.userIsInteracting = !1,
        this.dropdownId = _.uniqueId("autocomplete"),
        this.$node = $.createElement("ul").addClass("lst lst-modal typeahead").insertAfter(this.$input),
        this.$selectedItem = null ,
        this._registerEvents(),
        i.dmMode ? this.usernameRegex = this.constructor.dmUsername : this.usernameRegex = this.constructor.username,
        $(document).on("dataTypeaheadSuggestions", this.updateDropdown.bind(this))
    }).statics({
        username: /^[+\/\.<>()|\\=]?[@＠]([a-zA-Z0-9_]{1,20})$/,
        dmUsername: /(.*)/,
        hashtag: /^[#＃]([a-zA-Z0-9_]+)/,
        SELECT: "td-autocomplete-select",
        spaceBoundary: /\s|$/,
        wordEnd: /[^+\/.<>()|\\=\s]+$/,
        _htmlEscapeAndStrongifyMatches: function(e, t) {
            return TD.util.escape(e.replace(t, "<strong>$1</strong>")).replace(/&lt;(\/?strong)&gt;/g, "<$1>")
        }
    }).methods({
        _registerEvents: function() {
            var e = this
              , t = "keydown";
            this.$input.bind(t, _.bind(this.keypress, this)),
            this.$input.bind("keyup click", _.bind(this.keyup, this)),
            this.blurHandler = function() {
                _.delay(function() {
                    e.hide()
                }, 500)
            }
            ,
            this.$input.bind("blur", this.blurHandler),
            this.$input.bind("mouseup", _.bind(function(e) {
                setTimeout(this.getCaret.bind(this), 0)
            }, this)).bind("focus", _.bind(this.getCaret, this)),
            this.$node.delegate("li", "mouseenter", function(t) {
                e.$node.find("li.s-selected").removeClass("s-selected"),
                $(this).addClass("s-selected")
            }).delegate("li", "click", _.bind(function(t) {
                e.$selectedItem = $(t.target).closest("li").addClass("s-selected"),
                e.$selectedItem.siblings(".s-selected").removeClass("s-selected"),
                this.$input.focus(),
                this.select()
            }, this))
        },
        _unregisterEvents: function() {
            var e = "keydown";
            this.$input.unbind(e),
            this.$input.unbind("keyup click keydown"),
            this.$input.unbind("bind", this.blurHandler)
        },
        keyup: function(e) {
            if (e.keyCode) {
                e.stopPropagation();
                var t = ""
                  , i = this.getCurrentText()
                  , s = this.getCaret()
                  , n = !1;
                if (this.options.dmMode ? t = i : (t = this.getCurrentWord(s),
                "@" === i.charAt(s) && (t = "")),
                t.match(this.usernameRegex) ? (t = RegExp.$1,
                this.autocompleteType = "username",
                n = !0) : t.match(this.constructor.hashtag) && (t = RegExp.$1,
                this.autocompleteType = "hashtag",
                n = !0),
                t.length && n)
                    switch (e.keyCode) {
                    case TD.constants.keyCodes.escape:
                        this.hide(),
                        e.stopPropagation();
                        break;
                    case TD.constants.keyCodes.shift:
                    case TD.constants.keyCodes.upArrow:
                    case TD.constants.keyCodes.downArrow:
                        break;
                    default:
                        "hashtag" === this.autocompleteType ? this.lookUpHashtag(t) : this.lookUpUser(t)
                    }
                else
                    this.hide()
            }
        },
        keypress: function(e) {
            var t;
            switch (e.keyCode) {
            case TD.constants.keyCodes.tab:
            case TD.constants.keyCodes.enter:
                t = this.$selectedItem && this.isCompletionsOpen,
                !e.shiftKey && t && (this.select(),
                e.preventDefault(),
                e.stopPropagation());
                break;
            case TD.constants.keyCodes.escape:
                this.isCompletionsOpen && (e.preventDefault(),
                e.stopPropagation());
                break;
            case TD.constants.keyCodes.upArrow:
                this.isCompletionsOpen && !e.shiftKey && (this.moveSelection("prev"),
                e.preventDefault(),
                e.stopPropagation());
                break;
            case TD.constants.keyCodes.downArrow:
                this.isCompletionsOpen && !e.shiftKey && (this.moveSelection("next"),
                e.preventDefault(),
                e.stopPropagation());
                break;
            default:
                this.$selectedItem = null ,
                this.userIsInteracting = !1
            }
        },
        sanitize: function(e) {
            return e.replace(/ /g, "")
        },
        moveSelection: function(e) {
            this.userIsInteracting = !0;
            var t = "next" === e ? "li:first" : "li:last"
              , i = this.$selectedItem || this.$node.find("li.s-selected");
            return i.length ? (i = i.removeClass("s-selected"),
            i = "next" === e ? i.nextAll("li:first") : i.prevAll("li:first"),
            void (i.length ? this.$selectedItem = i.addClass("s-selected") : this.$selectedItem = this.$node.find(t).addClass("s-selected"))) : void (this.$selectedItem = this.$node.find(t).addClass("s-selected"))
        },
        select: function() {
            var e, t, i;
            this.$selectedItem && ("username" === this.autocompleteType ? (e = this.$selectedItem.find(".js-screenname").text(),
            this.options.dmMode || (e = "@" + e),
            t = this.$selectedItem.find("img").attr("src"),
            i = this.$selectedItem.attr("data-id")) : e = this.$selectedItem.find(".js-hashtag").text(),
            this.set(e, t, i))
        },
        set: function(e, t, i) {
            var s = this.replaceCurrentWord(e);
            this.$input.val(s.value),
            this.setCaretPosition(s.cursor),
            this.$input.change(),
            this.$node.trigger(this.constructor.SELECT, [{
                screenName: e,
                avatar: t,
                id: i
            }]),
            this.hide()
        },
        show: function() {
            this.$node.show(),
            this.isCompletionsOpen = !0
        },
        hide: function() {
            this.$node.hide(),
            this.isCompletionsOpen = !1,
            this.userIsInteracting = !1,
            this.$node.trigger("dataTypeaheadQueryReset")
        },
        lookUpHashtag: function(e) {
            e = this.sanitize(e);
            var t = {
                datasources: ["topics"],
                query: "#" + e,
                onlyLocalData: !0,
                dropdownId: this.dropdownId,
                type: "compose",
                limits: {
                    topics: 5
                }
            };
            TD.decider.get("autocomplete_remote_sources") && (t.onlyLocalData = !1),
            this.$node.trigger("uiNeedsTypeaheadSuggestions", t)
        },
        lookUpUser: function(e) {
            var t = {
                datasources: ["users"],
                query: e,
                onlyLocalData: !0,
                dropdownId: this.dropdownId,
                type: "compose",
                limits: {
                    users: 5
                }
            };
            TD.decider.get("autocomplete_remote_sources") && (t.onlyLocalData = !1),
            this.$node.trigger("uiNeedsTypeaheadSuggestions", t)
        },
        updateDropdown: function(e, t) {
            if (!this.userIsInteracting && t.dropdownId === this.dropdownId) {
                var i, s, n = new RegExp("(" + t.query.split("").join("|") + ")","gi"), r = [];
                "hashtag" === this.autocompleteType && t.suggestions.topics ? (s = t.suggestions.topics.slice(0, this.options.limit),
                r = s.map(function(e) {
                    return {
                        value: this.constructor._htmlEscapeAndStrongifyMatches(e.topic, n)
                    }
                }, this),
                i = TD.ui.template.render("compose/autocomplete_hashtag", {
                    results: r
                })) : "username" === this.autocompleteType && t.suggestions.users && (s = t.suggestions.users.slice(0, this.options.limit),
                r = s.map(function(e) {
                    return {
                        id: e.id,
                        screenName: this.constructor._htmlEscapeAndStrongifyMatches(e.screen_name, n),
                        name: this.constructor._htmlEscapeAndStrongifyMatches(e.name, n),
                        isVerified: e.verified,
                        pic: TD.util.transformTwitterAvatar(e.profile_image_url_https, "mini")
                    }
                }, this),
                i = TD.ui.template.render("compose/autocomplete_twitter_user", {
                    results: r
                })),
                this.$node.html(i),
                r.length ? (this.isCompletionsOpen || this.show(),
                this.moveSelection("next")) : this.isCompletionsOpen && this.hide()
            }
        },
        getCurrentText: function() {
            return this.$input.val()
        },
        setCaretPosition: function(e) {
            var t = this.$input[0];
            if (t.setSelectionRange)
                t.focus(),
                t.setSelectionRange(e, e);
            else if (t.createTextRange) {
                var i = t.createTextRange();
                i.collapse(!0),
                i.moveEnd("character", e),
                i.moveStart("character", e),
                i.select()
            }
            this.lastCaret = e
        },
        getCaret: function() {
            var e = this.$input[0]
              , t = 0;
            if (document.selection) {
                try {
                    e.focus()
                } catch (i) {}
                var s = document.selection.createRange();
                if (null == s)
                    return this.lastCaret = 0,
                    0;
                var n = e.createTextRange()
                  , r = n.duplicate();
                n.moveToBookmark(s.getBookmark()),
                r.setEndPoint("EndToStart", n),
                t = r.text.length
            } else
                (e.selectionStart || "0" == e.selectionStart) && (t = e.selectionStart);
            return this.lastCaret = t,
            t
        },
        insertOrReplaceSelection: function(e, t) {
            var i = this.$input[0]
              , s = this.getCaret()
              , n = s + e.length;
            if (document.selection) {
                i.focus();
                var r = document.selection.createRange();
                if (r.text = e,
                t) {
                    var o = i.createTextRange();
                    o.collapse(!0),
                    o.moveEnd("character", n),
                    o.moveStart("character", s),
                    o.select()
                } else
                    this.setCaretPosition(n)
            } else if (i.selectionStart || "0" == i.selectionStart) {
                var a = i.selectionStart
                  , c = i.selectionEnd
                  , l = i.scrollTop;
                i.value = i.value.substring(0, a) + e + i.value.substring(c, i.value.length),
                i.focus(),
                i.selectionStart = t ? s : n,
                i.selectionEnd = n,
                i.scrollTop = l
            } else
                i.value += e,
                this.setCaretPosition(n),
                i.focus();
            this.lastCaret = n,
            this.$input.change()
        },
        getCurrentWord: function(e) {
            var t = this.getCurrentText()
              , i = t.slice(0, e)
              , s = t.slice(e, t.length)
              , n = t.charAt(e - 1);
            if (!n || " " === n)
                return "";
            this.leftBoundary = i.search(this.constructor.wordEnd);
            var r = i.slice(this.leftBoundary, i.length)
              , o = s.slice(0, s.search(this.constructor.spaceBoundary))
              , a = r.concat(o);
            return this.rightBoundary = this.leftBoundary + a.length,
            a
        },
        replaceCurrentWord: function(e) {
            var t = this.getCurrentText().split("");
            this.oldValueArray = t;
            var i = t.slice(0, this.leftBoundary)
              , s = t.slice(this.rightBoundary, t.length);
            (s.length < 1 || !s[0].match(/\s/)) && (e += " ");
            var n = (i.join("") + e).length + 1;
            return {
                value: i.join("") + e + s.join(""),
                cursor: n
            }
        },
        destroy: function() {
            this._unregisterEvents(),
            this.$node.remove()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.Base = klass(function() {
        this.$node = $.createElement("div").addClass("js-component")
    }).methods({
        $find: function() {
            return this.$node.find.apply(this.$node, arguments)
        },
        publishEvent: function(e, t) {
            var i = {
                data: t,
                target: this
            };
            TD.storage.notification.notify(e, i)
        },
        bubbleEvent: function(e, t) {
            var i = {
                data: t,
                target: this
            };
            this.$node.trigger(e, [i])
        },
        destroy: function() {
            this.$node.remove()
        },
        show: function() {
            this.$node.show()
        },
        hide: function() {
            this.$node.hide()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.BaseModal = TD.components.Base.extend(function() {
        this.$node = this._render(),
        $(document).trigger("uiCloseModal"),
        this.$title = this.$find(".js-header-title"),
        this.$closeButton = this.$find(".js-dismiss"),
        this.$menuContainer = this.$find(".js-mdl-content"),
        this.$footer = this.$find("footer");
        var e = _.bind(this.destroy, this);
        this.$node.bind(TD.components.BaseModal.CLOSE_EVENT, e),
        this.$node.on("click", ".js-dismiss", this.destroy.bind(this)),
        this.boundCloseModal = this._handleCloseModal.bind(this),
        $(document).on("uiCloseModal", this.boundCloseModal);
        var t = _.bind(this.handleDragStart, this)
          , i = _.bind(this.getDragDropBoundary, this);
        this.$node.draggable({
            boundary: i,
            handle: this.$find(".mdl-drag-handle")
        }),
        this.$node.on("start.draggable", t),
        $("div.ovl.scroll-v").on("click", function(t) {
            this === t.target && e()
        }),
        TD.util.isTouchDevice() && window.navigator.standalone && ($("div.ovl.scroll-v").on("touchmove", function(e) {
            e.preventDefault()
        }),
        $("div.ovl.scroll-v").on("touchmove", ".scroll-v", function(e) {
            e.stopPropagation()
        })),
        this.hasFocus = !1,
        this.focusId = _.uniqueId("focus"),
        this._boundHandleFocus = this.handleFocus.bind(this),
        $(document).on("uiFocus", this._boundHandleFocus),
        $(document).trigger("uiFocusRequest", {
            id: this.focusId
        })
    }).statics({
        CLOSE_EVENT: "td-close"
    }).methods({
        _render: function() {
            return $(TD.ui.template.render("large_modal"))
        },
        handleFocus: function(e, t) {
            t.id === this.focusId ? this.hasFocus = !0 : this.hasFocus = !1
        },
        getDragDropBoundary: function() {
            return this.$node.parent()
        },
        handleDragStart: function() {
            this.$node.css({
                position: "absolute",
                top: this.$node.offset().top,
                left: this.$node.offset().left
            }),
            this.$node.parent("#open-modal").addClass("is-dragging")
        },
        setAndShowContainer: function(e, t) {
            "boolean" != typeof t && (t = !0),
            t && e.empty(),
            e.append(this.$node).show(),
            this._checkIfTouchModal(e)
        },
        show: function() {
            this.supr()
        },
        _checkIfTouchModal: function(e) {
            var t = $("#open-modal");
            TD.util.isTouchDevice() && TD.decider.get("touchdeck_modals_v2") ? (e.addClass("is-touch-modal"),
            t.addClass("is-touch-modal")) : (e.removeClass("is-touch-modal"),
            t.removeClass("is-touch-modal"))
        },
        _handleCloseModal: function() {
            this.destroy()
        },
        destroy: function() {
            this.$node.parent("#open-modal").removeClass("is-dragging"),
            $(document).off("uiFocus", this._boundHandleFocus),
            $(document).off("uiCloseModal", this.boundCloseModal),
            $(document).trigger("uiFocusRelease", {
                id: this.focusId
            }),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ConversationDetailView = TD.components.DetailView.extend(function(e, t) {
        $(document).trigger("metric", {
            key: "dm:ui:conversation:view"
        }),
        $(document).trigger("scribeEvent", {
            terms: {
                page: "main",
                component: "conversations",
                section: "detail",
                action: "impression"
            }
        }),
        this.$column = t,
        this.boundHandleUiColumnTitleRefreshed = this.handleUiColumnTitleRefreshed.bind(this),
        this.$column.on("uiColumnTitleRefreshed", this.boundHandleUiColumnTitleRefreshed),
        this.boundHandleUiConversationChanged = this.handleUiConversationChanged.bind(this),
        $(document).on("uiConversationChanged", this.boundHandleUiConversationChanged)
    }).methods({
        _render: function() {
            this.$node = $(TD.ui.template.render("status/message_wrapper", {
                headerClass: "js-detail-header",
                headerAction: "resetToTopColumn",
                headerLinkClass: "js-column-back"
            }))
        },
        _renderChirp: function() {
            var e = this.chirp.renderThread();
            this.$find(".js-message-detail").html(e),
            this.initialised = !0,
            this.chirp.markAsRead(),
            this.$node.trigger("uiDetailViewActive", {
                $chirp: this.getMostInteresting$Chirp(),
                chirp: this.chirp,
                parentChirp: this.parentChirp
            });
            var t = this.chirp.isOneToOne() ? "dm:ui:conversation:view:one-to-one" : "dm:ui:conversation:view:group-dm";
            $(document).trigger("metric", {
                key: t
            })
        },
        showChirp: function(e, t) {
            this.chirp = e,
            this.parentChirp = t,
            this.replyBar = new TD.components.ReplyBar(this.chirp),
            this.$find(".js-message-box").replaceWith(this.replyBar.$node),
            this._renderChirp(),
            TD.ui.columns.refreshTitle(this.column, this.chirp),
            this.$column.trigger("uiColumnTitleRefreshed", {
                columnKey: this.column.model.getKey()
            });
            var i = this.chirp.updateConversation();
            return i.addCallback(function(e) {
                return e.length ? e[0] : void 0
            }),
            i.addCallback(this.changed.bind(this)),
            i
        },
        handleUiConversationChanged: function(e, t) {
            this.changed(t.chirp)
        },
        changed: function(e) {
            if (this.initialised && e && e.id === this.chirp.id) {
                var t = e.renderThread();
                this.$find(".js-message-detail").html(t),
                TD.ui.columns.refreshTitle(this.column, this.chirp)
            }
        },
        findChirp: function(e) {
            return this.initialised ? this.chirp.messageIndex[e] : void 0
        },
        getMostInteresting$Chirp: function() {
            return this.$find(".js-message-detail .js-stream-item").first()
        },
        handleUiColumnTitleRefreshed: function(e, t) {
            if (this.$column.find(".js-tooltip-target").tooltip("destroy"),
            t.columnKey && this.chirp.participants.length > 1) {
                var i = TD.ui.template.render("participants_tooltip", {
                    title: TD.util.transform(this.chirp.name || ""),
                    participants: this.chirp.participants
                });
                this.$column.find(".js-tooltip-target").tooltip({
                    container: this.$column.find(".js-detail-header"),
                    placement: function(e) {
                        var t = this.$column.find(".js-detail-header");
                        return {
                            top: t.position().top + t.height(),
                            left: Math.round((t.width() - $(e).width()) / 2),
                            placement: "bottom"
                        }
                    }
                    .bind(this),
                    html: !0,
                    title: i,
                    delay: {
                        show: 500,
                        hide: 100
                    }
                })
            }
        },
        destroy: function() {
            var e = function() {
                this.initialised && (this.replyBar.destroy(),
                this.chirp.markAsRead())
            }
            .bind(this);
            this.$column.off("uiColumnTitleRefreshed", this.boundHandleUiColumnTitleRefreshed),
            $(document).off("uiConversationChanged", this.boundHandleUiConversationChanged),
            this.supr(e)
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.CustomTimelines = TD.components.Base.extend(function(e, t, i) {
        this.mode = i;
        var s, n, r = this, o = {}, a = TD.storage.clientController.client.getDefaultAccount();
        switch (this.owners = o,
        this.screenName = e,
        e ? s = "lists" === this.mode ? TD.i("@{{screenName}}'s lists", this) : TD.i("@{{screenName}}'s collections", this) : "lists" === this.mode ? s = TD.i("Your lists") : "customtimelines" === this.mode && (s = TD.i("Your collections")),
        this.mode) {
        case "lists":
            n = [{
                title: s,
                className: "js-my-custom-timelines"
            }, {
                title: TD.i("Subscribed to"),
                className: "js-others-custom-timelines"
            }];
            break;
        case "customtimelines":
            n = [{
                title: s,
                className: "js-my-custom-timelines"
            }]
        }
        if (this.$node = $(TD.ui.template.render("open_column_list_multi_group", {
            groups: n
        })),
        this.$myTimelines = this.$find("ul.js-my-custom-timelines"),
        this.$otherTimelines = this.$find("ul.js-others-custom-timelines"),
        this.items = [],
        this.menuComponents = [],
        this.slug = t,
        this.listComparator = function(e, t) {
            var i, s, n = TD.components.CustomTimelines;
            return o[e.user.id] && !o[t.user.id] ? -1 : !o[e.user.id] && o[t.user.id] ? 1 : o[e.user.id] && o[t.user.id] ? (i = e.account.getKey() === a,
            s = t.account.getKey() === a,
            i === s ? n.ownerNameComparator(e, t) || n.nameComparator(e, t) : i ? -1 : 1) : n.nameComparator(e, t) || n.ownerNameComparator(e, t)
        }
        ,
        this.collectionsComparator = function(e, t) {
            var i = e.name.toLowerCase()
              , s = t.name.toLowerCase();
            return s > i ? -1 : i > s ? 1 : 0
        }
        ,
        e) {
            var c = TD.cache.twitterUsers.getByScreenName(e);
            c.addCallback(function(t) {
                o[t.id] = !0;
                var i = TD.controller.clients.getClientsByService("twitter")
                  , s = _.find(i, function(t) {
                    return t.oauth.account.getUsername().toLowerCase() === e.toLowerCase() ? t : void 0
                });
                switch (r.mode) {
                case "lists":
                    s ? (r._handleLists(TD.cache.lists.getListsFor(s.oauth.account.getKey())),
                    r.bubbleEvent(TD.components.CustomTimelines.LOADED, r.items.length)) : (s = TD.controller.clients.getPreferredClient("twitter"),
                    s.getLists(e, function(e) {
                        r._handleLists(e),
                        r.bubbleEvent(TD.components.CustomTimelines.LOADED, r.items.length)
                    }));
                    break;
                case "customtimelines":
                    s = s || TD.controller.clients.getPreferredClient("twitter"),
                    s.getCustomTimelines(t.id, null , function(e) {
                        r._handleLists(e),
                        r.bubbleEvent(TD.components.CustomTimelines.LOADED, r.items.length)
                    })
                }
            })
        } else {
            var l = TD.controller.clients.getClientsByService("twitter");
            _.each(l, function(e) {
                o[e.oauth.account.getUserID()] = !0
            }),
            _.each(l, function(e) {
                "lists" === r.mode ? r._handleLists(TD.cache.lists.getListsFor(e.oauth.account.getKey())) : "customtimelines" === r.mode && r._handleLists(e.customTimelines);
            }),
            this.bubbleEvent(TD.components.CustomTimelines.LOADED, r.items.length)
        }
    }).statics({
        LOADED: "td-custom-timelines-loaded",
        nameComparator: function(e, t) {
            var i = e.name.toLowerCase()
              , s = t.name.toLowerCase();
            return (i > s) - (s > i)
        },
        ownerNameComparator: function(e, t) {
            var i = e.user.name.toLowerCase()
              , s = t.user.name.toLowerCase();
            return (i > s) - (s > i)
        }
    }).methods({
        _handleLists: function(e) {
            var t = this;
            if (_.isArray(e) && 0 !== e.length) {
                this.items = this.items.concat(e),
                "lists" === this.mode ? this.items.sort(this.listComparator) : this.items.sort(this.collectionsComparator);
                var i = {};
                this.items = _.select(this.items, function(e) {
                    var t = !i[e.id];
                    return i[e.id] = !0,
                    t
                }),
                _.each(this.menuComponents, function(e) {
                    e.destroy()
                });
                var s;
                this.menuComponents = _.map(this.items, function(e) {
                    var i = new TD.components.MenuItem;
                    switch (this.mode) {
                    case "lists":
                        i.list(e),
                        t.owners[e.user.id] ? (t.$myTimelines.append(i.$node),
                        t.slug && e.slug.toLowerCase() === t.slug.toLowerCase() && e.user.screenName.toLowerCase() === t.screenName.toLowerCase() && (s = i)) : t.$otherTimelines.append(i.$node);
                        break;
                    case "customtimelines":
                        i.customTimeline(e),
                        t.$myTimelines.append(i.$node);
                        var n = e.id.replace("custom-", "");
                        t.slug && n.toLowerCase() === t.slug.toLowerCase() && (s = i)
                    }
                    return i
                }
                .bind(this)),
                !s && this.screenName && this.menuComponents.length > 0 && (s = this.menuComponents[0]),
                s && _.defer(function() {
                    s.select()
                })
            }
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.Dataminr = TD.components.Base.extend(function() {
        this.$node = $(TD.ui.template.render("open_column_list_multi_group")),
        this.items = [],
        this.menuComponents = [],
        this._boundHandleWatchlists = this._handleWatchlists.bind(this),
        $(document).on("dataDataminrWatchlists", this._boundHandleWatchlists),
        $(document).trigger("uiNeedsDataminrWatchlists")
    }).statics({}).methods({
        _handleWatchlists: function(e, t) {
            if (t.watchlists && 0 !== t.watchlists.length) {
                this.menuComponents.forEach(function(e) {
                    e.destroy()
                }),
                this.$node.empty();
                var i = t.watchlists;
                i.forEach(function(e) {
                    var t = $(TD.ui.template.render("open_column_list_group", {
                        title: e.name
                    }))
                      , i = t.filter(".js-list-container");
                    e.value.forEach(function(e) {
                        var t = new TD.components.MenuItem;
                        t.dataminr(e),
                        this.menuComponents.push(t),
                        i.append(t.$node)
                    }, this),
                    this.$node.append(t)
                }, this),
                this.menuComponents.length > 0 && _.defer(function() {
                    this.menuComponents[0].select()
                }
                .bind(this))
            }
        },
        destroy: function() {
            $(document).off("dataDataminrWatchlists", this._boundHandleWatchlists),
            this.supr()
        }
    })
}
, function(e, t, i) {
    "use strict";
    TD.components.DataminrDetailView = TD.components.TweetDetailView.extend(function(e, t) {}).statics({
        HEADER_CONTAINER: ".js-dataminr-header",
        FOOTER_CONTAINER: ".js-dataminr-footer",
        SOURCE_PROFILE_CONTAINER: ".js-source-profile",
        SKIP_TO_REPLIES: ".js-skip-to-replies",
        REPLIES_HEADER: ".js-replies-header",
        FOLLOW_FROM_SELECTOR: ".js-action-follow",
        FOLLOW_STATE_SELECTOR: ".prf-follow-status",
        CLOSE_EVENT: "uiDataminrDetailViewClosed"
    }).methods({
        _render: function() {
            return this.supr({
                withDataminr: !0
            })
        },
        showChirp: function(e, t) {
            this._dataminrConversationSubscription = $.subscribe("/tweets/conversation/" + e.id, this._handleDataminrConversation.bind(this)),
            this.supr(e, t),
            this.addDataminrComponents(e)
        },
        addDataminrComponents: function(e) {
            e.dataminr && (this._showDataminrHeader(e.dataminr),
            this._showDataminrFooter(e.dataminr),
            this._showDataminrSourceProfile(e.user, e.account))
        },
        _showDataminrFooter: function(e) {
            var t = TD.ui.template.render("status/dataminr_footer", e);
            this.$find(TD.components.DataminrDetailView.FOOTER_CONTAINER).html(t)
        },
        _showDataminrHeader: function(e) {
            var t = TD.ui.template.render("status/dataminr_header", e);
            this.$find(TD.components.DataminrDetailView.HEADER_CONTAINER).html(t)
        },
        _showDataminrSourceProfile: function(e, t) {
            var s = TD.ui.template.render("profile/profile_full", e);
            this.$find(TD.components.DataminrDetailView.SOURCE_PROFILE_CONTAINER).html(s);
            var n = i(177)
              , r = i(180)
              , o = {
                account: t,
                twitterUser: e,
                closeEvent: TD.components.DataminrDetailView.CLOSE_EVENT
            };
            r.attachTo(this.$find(TD.components.DataminrDetailView.FOLLOW_FROM_SELECTOR), o),
            n.attachTo(this.$find(TD.components.DataminrDetailView.FOLLOW_STATE_SELECTOR), o)
        },
        _handleDataminrConversation: function(e) {
            e.descendants && e.descendants.length > 0 && (this.$find(TD.components.DataminrDetailView.SKIP_TO_REPLIES).removeClass("is-hidden"),
            this.$find(TD.components.DataminrDetailView.REPLIES_HEADER).removeClass("is-hidden"))
        },
        destroy: function() {
            this.$find(TD.components.DataminrDetailView.FOLLOW_STATE_SELECTOR).trigger(TD.components.DataminrDetailView.CLOSE_EVENT),
            $.unsubscribe(this._dataminrConversationSubscription),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.DetailView = TD.components.Base.extend(function(e, t) {
        this.initialised = !1,
        this.column = e,
        this.$column = t,
        this.$detailContainer = $(".js-column-detail", this.$column),
        this.$columnsContainer = $("#container"),
        this.$column.trigger("uiDetailViewOpening", {
            column: this.column
        }),
        this.$column.on("click", ".js-column-back", this._handleHeaderClick.bind(this)),
        this._render(),
        this.$detailContainer.html(this.$node),
        this.column.temporary || this.$node.trigger("uiCloseModal"),
        this.$holder = $(".js-detail-container", this.$column),
        this.$header = $(".js-column-header", this.$column),
        TD.ui.columns.refreshTitle(this.column)
    }).statics({
        RETWEETER_COUNT: 8
    }).methods({
        _render: function() {
            throw new Error("DetailView._render not implemented")
        },
        _handleHeaderClick: function(e) {
            this.destroy()
        },
        changed: function(e) {
            e && e.id === this.chirp.id && (this.chirp = e)
        },
        deleted: function(e) {
            e.id === this.chirp.id && this.destroy()
        },
        destroy: function(e) {
            var t = this.supr.bind(this);
            this.$detailContainer.trigger("uiDetailViewClosing"),
            this.$column.off("click", ".js-column-back"),
            this.$column.trigger("uiDetailViewClosed", {
                column: this.column
            }),
            this.$column.one("transitionend", function() {
                e && e(),
                t()
            })
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.FilterSettings = TD.components.Base.extend(function() {
        this.$globalSettings = $("#global-settings"),
        this.$globalSettings.submit(_.bind(this.handleAddFilter, this)),
        this.$node = $(TD.ui.template.render("settings/global_setting_filter", {})),
        this.$globalSettings.append(this.$node),
        this.$filterHolder = $("#filter-results"),
        this.$node.on("click", ".js-remove-filter", _.bind(this.handleRemoveFilter, this)),
        this.$addFilterInput = $("#filter-input"),
        this.$addFilterInput.keyup(_.bind(this._validateFilter, this)),
        this.$filterTypes = $("#filter-types"),
        this.$filterTypes.change(_.bind(this.handleFilterTypeChange, this)),
        this.$addFilterButton = $("#add-filter"),
        this.$addFilterButton.click(_.bind(this.handleAddFilter, this)),
        this.handleFilterTypeChange(),
        this.refreshFilters()
    }).methods({
        _validateFilter: function(e) {
            var t = this.$filterTypes.val()
              , i = this.$addFilterInput.val()
              , s = TD.controller.filterManager.validateFilter(t, i);
            return s ? this.$addFilterButton.removeAttr("disabled") : this.$addFilterButton.attr("disabled", "disabled"),
            s
        },
        handleAddFilter: function(e) {
            if (e.preventDefault(),
            this._validateFilter()) {
                var t = this.$filterTypes.val()
                  , i = this.$addFilterInput.val();
                TD.controller.filterManager.addFilter(t, i),
                this.refreshFilters(),
                this.$addFilterInput.val("")
            }
        },
        handleRemoveFilter: function(e) {
            var t = $(e.target);
            TD.controller.filterManager.removeFilter({
                id: t.data("id")
            }),
            this.refreshFilters()
        },
        handleFilterTypeChange: function() {
            var e, t = this.$filterTypes.val();
            switch (t) {
            case TD.vo.Filter.PHRASE:
                e = TD.i("eg iPad");
                break;
            case TD.vo.Filter.SENDER:
                e = TD.i("eg @JohnDoe123");
                break;
            case TD.vo.Filter.SOURCE:
                e = TD.i("eg TweetSpamApp")
            }
            this.$addFilterInput.attr("placeholder", e),
            this._validateFilter()
        },
        refreshFilters: function() {
            var e = TD.controller.filterManager.getAll()
              , t = "";
            _.each(e, function(e) {
                t += TD.ui.template.render("settings/global_setting_filter_row", e)
            }),
            this.$filterHolder.html(t),
            this._validateFilter()
        },
        destroy: function(e) {
            this.$node.off("click", ".js-remove-filter"),
            this.$globalSettings.unbind("submit"),
            this.$node.remove()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.FollowFrom = TD.components.Base.extend(function(e, t) {
        var i = this;
        this.userToFollow = e,
        this.account = t,
        this.isSingleAccount = 1 === TD.storage.accountController.getAccountsForService("twitter").length,
        this.client = TD.controller.clients.getClient(t.getKey()),
        this.$node = $(TD.ui.template.render("actions/follow_from", this)),
        this.$followButton = this.$find(".js-follow-button").click(_.bind(this.handleClick, i)),
        this.$followButtonHolder = this.$find(".js-action-follow"),
        this.state = "stranger",
        t.getUserID() === e.id ? (this.state = "me",
        this.updateButtonState()) : this.client.showFriendship(t.getUserID(), e.id, null , _.bind(this.handleFollowInfoResponse, this), _.bind(this.handleFollowInfoError, this)),
        this.subscriptions = [$.subscribe("/user/" + this.userToFollow.screenName + "/block", _.bind(this._handleBlock, this)), $.subscribe("/user/" + this.userToFollow.screenName + "/blocked", _.bind(this._handleBlock, this))]
    }).methods({
        _handleBlock: function(e) {
            e.getKey() === this.account.getKey() && (this.state = "blocked",
            this.updateButtonState())
        },
        handleFollowInfoResponse: function(e) {
            e.relationship.source.blocking === !0 ? this.state = "blocked" : e.relationship.source.following === !0 ? this.state = "following" : this.state = "stranger",
            this.updateButtonState()
        },
        handleFollowInfoError: function(e) {
            this.following = !1,
            this.blocking = !1,
            this.updateButtonState()
        },
        handleClick: function(e) {
            var t = this.account;
            if (!this.$followButton.prop("disabled")) {
                switch (this.state) {
                case "me":
                    TD.util.openURL("https://twitter.com/settings/profile");
                    break;
                case "blocked":
                    this.userToFollow.unblock(t, null , _.bind(this.unblockError, this)),
                    this.state = "stranger";
                    break;
                case "pending":
                case "following":
                    this.userToFollow.unfollow(t, null , _.bind(this.unfollowError, this)),
                    this.state = "stranger";
                    break;
                case "stranger":
                    this.userToFollow.follow(t, _.bind(this.followResponse, this), _.bind(this.followError, this)),
                    this.state = "following"
                }
                this.updateButtonState()
            }
        },
        followError: function() {
            this.state = "stranger",
            this.updateButtonState()
        },
        unfollowError: function() {
            this.state = "following",
            this.updateButtonState()
        },
        unblockError: function() {
            this.state = "blocked",
            this.updateButtonState()
        },
        followResponse: function(e) {
            e.isProtected && (this.state = "pending",
            this.updateButtonState())
        },
        updateButtonState: function() {
            switch (this.$followButton.prop("disabled", !1),
            this.$followButtonHolder.removeClass("s-not-following s-following s-pending s-blocking"),
            this.state) {
            case "me":
                this.$followButtonHolder.addClass("s-thats-you");
                break;
            case "blocked":
                this.$followButtonHolder.addClass("s-blocking");
                break;
            case "pending":
                this.$followButtonHolder.addClass("s-pending");
                break;
            case "following":
                this.$followButtonHolder.addClass("s-following");
                break;
            case "stranger":
                this.$followButtonHolder.addClass("s-not-following")
            }
        },
        destroy: function() {
            _.each(this.subscriptions, function(e) {
                $.unsubscribe(e)
            }),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.GeneralSettings = TD.components.Base.extend(function() {
        var e = {
            version: TD.util.getFullVersionString()
        };
        TD.util.isWrapperApp() && deck.getWrapperVersion && (e.wrapperVersion = deck.getWrapperVersion()),
        this.$node = $(TD.ui.template.render("settings/global_setting_general", e)),
        $("#global-settings").append(this.$node),
        this.$streamingForm = this.$find(".js-streaming-form"),
        this.$streamingUpdates = $("#streaming-updates"),
        this.$streamingUpdates.change(this.handleStreamingChange.bind(this)),
        this.setStreaming(),
        this.$checkForUpdatesForm = this.$find(".js-check-updates-form"),
        this.$checkForUpdates = $("#check-for-updates"),
        this.$checkForUpdates.change(this.handleCheckForUpdatesChange.bind(this)),
        this.setCheckForUpdates(),
        this.$showStartupNotifications = $("#show-startup-notifications"),
        this.$showStartupNotifications.change(this.handleShowStartupNotificationsChange.bind(this)),
        this.setShowStartupNotifications(),
        this.$displaySensitiveMedia = $("#display-sensitive-media"),
        this.$displaySensitiveMedia.change(this.handleDisplaySensitiveMediaChange.bind(this)),
        this.setDisplaySensitiveMedia(),
        window.requestAnimationFrame(function() {
            this.$node.find(".toggle-switch").addClass("enable-transition")
        }
        .bind(this)),
        this.$minimizeToTray = $("#minimize-to-tray"),
        TD.util.isWrapperApp() && deck.getMinimizeToTraySetting && deck.setMinimizeToTraySetting ? (this.$minimizeToTray.change(this.handleMinimizeToTrayChange.bind(this)),
        this.setMinimizeToTray()) : this.$minimizeToTray.closest(".js-minimize-to-tray").remove(),
        this.$columnSizeRadios = $(".js-column-size-radio"),
        this.$columnSizeRadios.change(this.handleColumnWidthChange.bind(this)),
        this.setColumnWidth(),
        this.$fontSizeRadioButtons = $(".js-font-size-radio"),
        this.$fontSizeRadioButtons.change(this.handleFontSizeChange.bind(this)),
        this.setFontSize(),
        this.$themeSwitcherRadios = $(".js-theme-radio"),
        this.$themeSwitcherRadios.change(this.handleThemeSwitcherChange.bind(this)),
        this.setTheme()
    }).methods({
        handleStreamingChange: function() {
            var e = this.$streamingUpdates.prop("checked");
            TD.settings.setUseStream(e)
        },
        setStreaming: function() {
            this.$streamingUpdates.prop("checked", TD.settings.getUseStream())
        },
        handleCheckForUpdatesChange: function() {
            var e = this.$checkForUpdates.prop("checked");
            TD.settings.setCheckForUpdates(e),
            this.setStreaming()
        },
        setCheckForUpdates: function() {
            this.$checkForUpdatesForm.hide()
        },
        handleShowStartupNotificationsChange: function() {
            var e = this.$showStartupNotifications.prop("checked");
            TD.settings.setShowStartupNotifications(e)
        },
        setShowStartupNotifications: function() {
            this.$showStartupNotifications.prop("checked", TD.settings.getShowStartupNotifications())
        },
        handleDisplaySensitiveMediaChange: function() {
            var e = this.$displaySensitiveMedia.prop("checked");
            TD.settings.setDisplaySensitiveMedia(e)
        },
        setDisplaySensitiveMedia: function() {
            this.$displaySensitiveMedia.prop("checked", TD.settings.getDisplaySensitiveMedia())
        },
        setFontSize: function() {
            var e = TD.settings.getFontSize()
              , t = $('.js-font-size-radio[value="' + e + '"]');
            t.prop("checked", !0)
        },
        handleFontSizeChange: function(e) {
            var t;
            e.currentTarget.checked && (t = e.currentTarget.value,
            TD.settings.setFontSize(t))
        },
        setColumnWidth: function() {
            var e = TD.settings.getColumnWidth()
              , t = $('.js-column-size-radio[value="' + e + '"]');
            t.prop("checked", !0)
        },
        handleColumnWidthChange: function(e) {
            var t;
            e.currentTarget.checked && (t = e.currentTarget.value,
            TD.settings.setColumnWidth(t))
        },
        handleThemeSwitcherChange: function(e) {
            $(document).trigger("uiToggleTheme")
        },
        setTheme: function() {
            var e = TD.settings.getTheme()
              , t = $('.js-theme-radio[value="' + e + '"]');
            t.prop("checked", !0)
        },
        handleMinimizeToTrayChange: function() {
            if (TD.util.isWrapperApp() && deck.setMinimizeToTraySetting) {
                var e = this.$minimizeToTray.prop("checked");
                deck.setMinimizeToTraySetting(e)
            }
        },
        setMinimizeToTray: function() {
            TD.util.isWrapperApp() && deck.getMinimizeToTraySetting && this.$minimizeToTray.prop("checked", deck.getMinimizeToTraySetting())
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.GlobalSettings = TD.components.BaseModal.extend(function() {
        var e = TD.storage.accountController.isEmpty() ? "accounts" : "general";
        this.$optionList = this.$find(".js-setting-list li"),
        $("a.list-link", this.$node).click(function(e) {
            var t = $(e.currentTarget)
              , i = t.data("action");
            this.switchTab(i)
        }
        .bind(this)),
        this.setAndShowContainer($("#settings-modal"), !1),
        this.switchTab(e)
    }).methods({
        _render: function() {
            return $(TD.ui.template.render("short_modal", {
                title: TD.i("Settings"),
                content: TD.ui.template.render("settings/global_settings_modal", this.getInfo()),
                hasDoneButton: !0,
                centeredFooter: !0
            }))
        },
        getInfo: function() {
            var e = {
                tabs: [{
                    title: TD.i("General"),
                    action: "general"
                }, {
                    title: TD.i("Link Shortening"),
                    action: "services"
                }, {
                    title: TD.i("Mute"),
                    action: "filter"
                }]
            };
            return e
        },
        switchTab: function(e) {
            if (e !== this.currentTabName) {
                switch (this.$optionList.removeClass("selected"),
                this.currentTab && this.currentTab.destroy(),
                e) {
                case "general":
                    this.currentTab = new TD.components.GeneralSettings;
                    break;
                case "services":
                    this.currentTab = new TD.components.ServicesSettings;
                    break;
                case "filter":
                    this.currentTab = new TD.components.FilterSettings
                }
                this.currentTabName = e,
                this.$optionList.find("[data-action=" + e + "]").parent("li").addClass("selected")
            }
        },
        destroy: function(e) {
            this.currentTab && this.currentTab.destroy(),
            $("#settings-modal").hide(),
            e && e.preventDefault(),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.InReplyTo = TD.components.Base.extend(function(e, t, i, s) {
        var n = this;
        this.chirp = e,
        this.mainTweet = this.chirp.getMainTweet(),
        this.$container = t,
        this.$detailContentContainer = this.$container.find(".js-detail-container"),
        this.$detailContent = this.$detailContentContainer.find(".js-detail-content"),
        this.mediaPreviewSize = i,
        this.wantsDragHandle = s,
        this.mainTweet.inReplyToID && (this.$node.html(TD.ui.template.render("status/tweet_detail_inreplyto")),
        this.$repliesContainer = this.$find(".js-replies-before"),
        this.$repliesText = this.$find(".in-reply-to").hide(),
        this.replies = null ,
        _.defer(function() {
            n.bubbleEvent(TD.components.InReplyTo.BEGIN)
        }),
        this.subscription = $.subscribe("/tweets/conversation/" + this.mainTweet.id, _.bind(this._handleRelatedResults, this)),
        this.client = TD.controller.clients.getClient(this.chirp.account.getKey()),
        this.client.getConversation(this.mainTweet.id))
    }).statics({
        BEGIN: "td-load-convo",
        END: "td-load-finish",
        INREPLYTO_PADDING: 20
    }).methods({
        _handleRelatedResults: function(e) {
            this.replies && this.replies.length > 0 || (this.replies = e.ancestors,
            _.isEmpty(this.replies) ? this._getTweet() : this._showReplies())
        },
        _getTweet: function() {
            var e = this;
            this.client.show(this.mainTweet.inReplyToID, function(t) {
                e.replies = e.replies || [],
                e.replies.push(t),
                e._showReplies()
            }, function() {
                e.bubbleEvent(TD.components.InReplyTo.END)
            })
        },
        _showReplies: function() {
            _.defer(_.bind(this._showRepliesInternal, this))
        },
        _showRepliesInternal: function() {
            var e, t, i, s, n, r, o;
            this.bubbleEvent(TD.components.InReplyTo.END),
            _.isEmpty(this.replies) || (this.replies.sort(TD.util.chirpReverseColumnSort),
            t = this.mainTweet.id,
            this.replies = _.filter(this.replies, function(e) {
                return e.id !== t
            }),
            i = _.map(this.replies, function(e) {
                return e.render({
                    mediaPreviewSize: this.mediaPreviewSize,
                    isInConvo: !0,
                    withDragHandle: !this.isInOwnCustomTimeline && !e.user.isProtected
                })
            }
            .bind(this)).join(""),
            s = this.$detailContentContainer.outerHeight(),
            n = this.$detailContent.outerHeight(),
            this.$repliesContainer.html(i),
            e = this.$node.outerHeight(),
            s > n && this.$detailContent.css("padding-bottom", s - n),
            this.replies.length <= 1 ? r = 0 : (o = this.$repliesContainer.children().last().outerHeight() + TD.components.InReplyTo.INREPLYTO_PADDING,
            r = e - o),
            this.$detailContentContainer.scrollTop(e),
            this.$detailContentContainer.animate({
                scrollTop: r
            }, {
                duration: "fast"
            }))
        },
        findChirp: function(e) {
            var t = null ;
            return this.chirp.id === e ? t = this.chirp : this.mainTweet.id === e ? t = this.mainTweet : this.replies && (t = _.detect(this.replies, function(t) {
                return t.id === e
            })),
            t
        },
        destroy: function() {
            this.subscription && $.unsubscribe(this.subscription),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ListDetails = TD.components.BaseModal.extend(function(e) {
        this.theList = e,
        this.toAutoAdd = [];
        var t = TD.storage.accountController.getAccountsForService("twitter");
        this.$editForm = $(TD.ui.template.render("lists/edit_form", {
            accounts: t
        })),
        this.$menuContainer.append(this.$editForm),
        this.$footer.append($(TD.ui.template.render("lists/edit_footer"))),
        this.setAndShowContainer($("#lists-modal")),
        this.$account = $("#list-account"),
        this.$name = $("#list-name"),
        this.$description = $("#list-description"),
        this.$modePublic = this.$find('input:radio[value="public"]'),
        this.$modePrivate = this.$find('input:radio[value="private"]'),
        this.$saveButton = this.$find(".js-save"),
        this.$name.focus(),
        this.$saveButton.click(_.bind(this._handleSaveClick, this)),
        e ? (this.$title.text(TD.i("Edit list")),
        this.$account.val(TD.storage.Account.generateKeyFor("twitter", e.user.id)),
        this.$account.prop("disabled", !0),
        this.$name.val(e.name),
        this.$description.val(e.description),
        e.isPrivate ? this.$modePrivate.prop("checked", !0) : this.$modePublic.prop("checked", !0)) : this.$title.text(TD.i("Create list"))
    }).methods({
        autoAddMember: function(e) {
            this.toAutoAdd.push(e)
        },
        _handleSaveClick: function() {
            var e = this.$account.val()
              , t = TD.controller.clients.getClient(e)
              , i = this.$name.val()
              , s = this.$description.val()
              , n = this.$modePrivate.prop("checked")
              , r = _.bind(this._handleSaveSuccess, this)
              , o = _.bind(this._handleSaveFailure, this);
            this.$saveButton.prop("disabled", !0),
            this.theList ? t.updateList(this.theList.id, i, s, n, r, o) : t.createList(i, s, n, r, o)
        },
        _handleSaveSuccess: function(e) {
            this.destroy(),
            new TD.components.ListMembers(e,this.toAutoAdd)
        },
        _handleSaveFailure: function() {
            this.$saveButton.prop("disabled", !1);
            var e = TD.i("Problem saving list. Please check the details and try again");
            TD.controller.progressIndicator.addMessage(e)
        },
        destroy: function() {
            this.supr(),
            $("#lists-modal").hide()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ListMember = TD.components.Base.extend(function(e) {
        this.user = e,
        this.state = null ;
        var t = {
            fullname: e.name || e.screenName,
            username: e.screenName,
            profileImageURL: e.profileImageURL,
            description: e.description,
            isProtected: e.isProtected,
            isVerified: e.isVerified
        };
        this.$node = $(TD.ui.template.render("lists/member", t)),
        this.$addRemoveButton = this.$find(".js-add-remove"),
        this.$addRemoveButton.click(_.bind(this._handleAddRemoveClick, this)),
        this.setMember()
    }).statics({
        ADD_REMOVE_EVENT: "td-add-remove",
        STATE_MEMBER: "member",
        STATE_MEMBER_CHECKED: "member-checked",
        STATE_NON_MEMBER: "non-member",
        STATE_WORKING: "working"
    }).methods({
        _handleAddRemoveClick: function() {
            this.bubbleEvent(TD.components.ListMember.ADD_REMOVE_EVENT)
        },
        setState: function(e) {
            switch (e) {
            case TD.components.ListMember.STATE_MEMBER:
                this.setMember();
                break;
            case TD.components.ListMember.STATE_MEMBER_CHECKED:
                this.setMemberChecked();
                break;
            case TD.components.ListMember.STATE_NON_MEMBER:
                this.setNonMember();
                break;
            case TD.components.ListMember.STATE_WORKING:
                this.setWorking()
            }
        },
        setMember: function() {
            this.state = TD.components.ListMember.STATE_MEMBER,
            this.$addRemoveButton.removeClass("s-nonmember s-working s-checked").addClass("s-member"),
            this.$addRemoveButton.prop("disabled", !1)
        },
        setMemberChecked: function() {
            this.state = TD.components.ListMember.STATE_MEMBER_CHECKED,
            this.$addRemoveButton.removeClass("s-nonmember s-member s-working").addClass("s-checked"),
            this.$addRemoveButton.prop("disabled", !1)
        },
        setNonMember: function() {
            this.state = TD.components.ListMember.STATE_NON_MEMBER,
            this.$addRemoveButton.removeClass("s-member s-checked s-working").addClass("s-nonmember"),
            this.$addRemoveButton.prop("disabled", !1)
        },
        setWorking: function() {
            this.state = TD.components.ListMember.STATE_WORKING,
            this.$addRemoveButton.removeClass("s-member s-nonmember s-checked").addClass("s-working"),
            this.$addRemoveButton.prop("disabled", !0)
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ListMemberList = TD.components.Base.extend(function() {
        this.$node = $(TD.ui.template.render("lists/member_list")),
        this.$list = this.$find(".js-member-list")
    }).methods({
        append: function(e) {
            this.$list.append(e.$node)
        },
        prepend: function(e) {
            this.$list.prepend(e.$node)
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ListMembers = TD.components.BaseModal.extend(function(e, t) {
        var i = this;
        this.theList = e,
        this.membersIndex = {},
        this.changed = !1,
        this.client = TD.controller.clients.getClient(e.account.getKey()),
        this.feedKey = TD.storage.Feed.generateKeyFor(this.theList.account.getKey(), "list", {
            listId: this.theList.id,
            ownerId: this.theList.user.id
        }),
        this.splitMenu = new TD.components.SplitMenu,
        this.userSearch = new TD.components.TwitterUserSearch(e.user.account,10,TD.components.ListMember),
        this.suggestedUsers = new TD.components.SuggestedUsers(e.user.account,10,TD.components.ListMember,e.name),
        this.loadingPane = new TD.components.OpenColumnPlaceholder(TD.i("Loading list members…")),
        this.memberList = new TD.components.ListMemberList,
        this.$title.text(TD.i("{{{1}}} by {{2}}", {
            1: e.name,
            2: e.user.screenName
        })),
        this.$menuContainer.append(this.splitMenu.$node),
        this.$footer.append($(TD.ui.template.render("lists/edit_members_footer"))),
        this.splitMenu.appendPinnedMenuItem(this.userSearch),
        this.splitMenu.appendMenuItemElement(this.userSearch.detachResultsContainer()),
        this.splitMenu.appendMenuItem(this.suggestedUsers),
        this.splitMenu.setRightPillar(this.loadingPane),
        this.setAndShowContainer($("#lists-modal")),
        this.userSearch.searchInput.$inputBox.focus(),
        this.$memberCount = this.memberList.$find(".js-member-count"),
        this.$editButton = this.$find(".js-edit"),
        this.$deleteButton = this.$find(".js-delete"),
        this.$doneButton = this.$find(".js-done"),
        this.$addColumnOption = this.$find(".js-add-column-option"),
        this.$addColumnCheckbox = this.$addColumnOption.find(".js-add-column-checkbox"),
        0 === TD.storage.columnController.getColumnsContainingFeed(this.feedKey).length && (this.$addColumnCheckbox.prop("checked", !0),
        this.$addColumnOption.removeClass("is-hidden")),
        this.$editButton.click(_.bind(this._editDetails, this)),
        this.$deleteButton.click(_.bind(this._deleteList, this)),
        this.$doneButton.click(_.bind(this._handleDone, this)),
        this.$node.bind(TD.components.ListMember.ADD_REMOVE_EVENT, _.bind(this._addRemoveMember, this)),
        this.$node.bind(TD.components.TwitterUserSearch.SEARCH_COMPLETE, function(e, t) {
            var s = t.target;
            i._checkResultsState(s),
            i.splitMenu.$leftPillarContainer.scrollTop(0)
        }),
        this._updateMemberCount();
        var s = this._addMembers(t);
        s.addBothWith(this, this._loadAllMembers),
        s.addCallback(function() {
            i.suggestedUsers.render(),
            i._checkResultsState(i.userSearch),
            i._checkResultsState(i.suggestedUsers)
        })
    }).methods({
        _addMembers: function(e) {
            var t;
            if (_.isEmpty(e))
                t = TD.core.defer.succeed();
            else {
                t = new TD.core.defer.Deferred;
                var i = _.pluck(e, "screenName");
                this.client.addUsersToList(this.theList.id, i, _.bind(t.callback, t), _.bind(t.errback, t))
            }
            return t
        },
        _loadAllMembers: function() {
            var e, t = this, i = function s(e) {
                if (t._displayMembers(e.users, !1),
                e.next_cursor) {
                    var i = t._fetchMemberPage(e.next_cursor_str);
                    return i.addCallback(s),
                    i
                }
            }
            ;
            return e = this._fetchMemberPage(-1),
            e.addCallback(i),
            e
        },
        _fetchMemberPage: function(e) {
            var t = new TD.core.defer.Deferred;
            return this.client.getListMembers(this.theList.id, e, _.bind(t.callback, t), _.bind(t.errback, t)),
            t
        },
        _displayMembers: function(e, t) {
            var i = this;
            t && e.reverse(),
            _.each(e, function(e) {
                if (!i.membersIndex[e.id]) {
                    var s = new TD.components.ListMember(e);
                    i.membersIndex[s.user.id] = s,
                    t ? i.memberList.prepend(s) : i.memberList.append(s)
                }
            }),
            this.loadingPane && (this.loadingPane.destroy(),
            this.loadingPane = null ,
            this.splitMenu.setRightPillar(this.memberList))
        },
        _updateMemberCount: function() {
            this.$memberCount.text(this.theList.memberCount)
        },
        _editDetails: function() {
            this.destroy(),
            new TD.components.ListDetails(this.theList)
        },
        _deleteList: function() {
            var e = this
              , t = _.uniqueId()
              , i = {
                id: t,
                title: TD.i("Deleting list!"),
                message: TD.i("Are you sure you want to delete this list?"),
                okLabel: TD.i("Delete"),
                cancelLabel: TD.i("Cancel")
            }
              , s = function n(i, s) {
                s.id === t && ($(document).off("uiConfirmationAction", n),
                s.result && e.client.destroyList(e.theList.id, function() {
                    e.theList = null ,
                    e.destroy()
                }))
            }
            ;
            $(document).on("uiConfirmationAction", s).trigger("uiShowConfirmationDialog", i)
        },
        _addRemoveMember: function(e, t) {
            e.stopPropagation();
            var i = t.target;
            this.membersIndex[i.user.id] ? this.removeMember(i.user) : this.addMember(i.user)
        },
        addMember: function(e) {
            var t = this;
            this._changeUserState(e.id, TD.components.ListMember.STATE_WORKING),
            this.client.addUserToList(this.theList.id, e.screenName, function(i) {
                t._displayMembers([e], !0),
                t.theList.memberCount++,
                t._updateMemberCount(),
                t._changeUserState(e.id, TD.components.ListMember.STATE_MEMBER),
                t.changed = !0
            }, function(i) {
                t._changeUserState(e.id, TD.components.ListMember.STATE_NON_MEMBER);
                var s = TD.i("Problem adding {{userName}} to the list {{listName}}. Please try again", {
                    userName: e.name,
                    listName: t.theList.name
                });
                TD.controller.progressIndicator.addMessage(s)
            })
        },
        removeMember: function(e) {
            var t = this;
            this._changeUserState(e.id, TD.components.ListMember.STATE_WORKING),
            this.client.removeUserFromList(this.theList.id, e.screenName, function(i) {
                var s = t.membersIndex[e.id];
                s.destroy(),
                delete t.membersIndex[e.id],
                t.theList.memberCount--,
                t._updateMemberCount(),
                t._changeUserState(e.id, TD.components.ListMember.STATE_NON_MEMBER),
                t.changed = !0
            }, function(i) {
                t._changeUserState(e.id, TD.components.ListMember.STATE_MEMBER);
                var s = TD.i("Problem removing {{userName}} from the list {{listName}}. Please try again", {
                    userName: e.name,
                    listName: t.theList.name
                });
                TD.controller.progressIndicator.addMessage(s)
            })
        },
        _changeUserState: function(e, t) {
            this.membersIndex[e] && this.membersIndex[e].setState(t),
            t === TD.components.ListMember.STATE_MEMBER && (t = TD.components.ListMember.STATE_MEMBER_CHECKED);
            var i = this.userSearch.items.concat(this.suggestedUsers.items);
            _.each(i, function(i) {
                i.user.id === e && i.setState(t)
            })
        },
        _checkResultsState: function(e) {
            var t = this
              , i = e === this.suggestedUsers;
            _.each(e.items, function(e) {
                t.membersIndex[e.user.id] ? (e.setState(TD.components.ListMember.STATE_MEMBER_CHECKED),
                i && e.hide()) : (e.setState(TD.components.ListMember.STATE_NON_MEMBER),
                i && e.show())
            })
        },
        _handleDone: function() {
            if (this.$addColumnCheckbox.prop("checked")) {
                var e = new TD.components.TemporaryColumn;
                e.list(this.theList),
                e.makePermanent()
            }
            this.destroy()
        },
        destroy: function() {
            if (this.changed && this.theList) {
                TD.cache.lists.add(this.theList);
                var e = TD.controller.feedManager.getPoller(this.feedKey);
                e && e.refresh({
                    reset: !0
                })
            }
            $("#lists-modal").hide(),
            this.splitMenu.destroy(),
            this.userSearch.destroy(),
            this.suggestedUsers.destroy(),
            this.memberList.destroy(),
            this.loadingPane && this.loadingPane.destroy(),
            _.each(this.membersIndex, function(e, t) {
                e.destroy()
            }),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.MediaGallery = TD.components.BaseModal.extend(function(e, t, i, s) {
        var n = this;
        this.chirp = e,
        this.column = s,
        this.clickedLink = t,
        this.clickedMediaEntityId = i,
        this.$node = $(TD.ui.template.render("media/media_gallery")),
        this.$closeButton = this.$find(".js-dismiss"),
        this.$prevButton = this.$find(".js-media-gallery-prev"),
        this.$nextButton = this.$find(".js-media-gallery-next"),
        this.$embed = this.$find(".js-mediaembed"),
        this.$tweet = this.$find(".med-tweet"),
        this.$mainframe = this.$find(".js-embeditem"),
        this._sizeMedia = this._sizeMedia.bind(this),
        this.sizeMediaInterval = setInterval(this._sizeMedia, 300),
        this.$closeButton.bind("click", function() {
            n.destroy()
        }),
        this.$prevButton.bind("click", function() {
            n._prev()
        }),
        this.$nextButton.bind("click", function() {
            n._next()
        }),
        this._loadTweet(),
        this.setAndShowContainer($("#open-modal"), !1),
        TD.util.isTouchDevice() && TD.decider.get("touchdeck_tweet_controls_v3") && this.$node.find(".js-med-tweet").addClass("is-touch-tweet-container"),
        e.hasMedia() || e.cards ? (this.media = e.getMedia().concat(e.getCardsForGallery()),
        this._setupEmbeds(),
        e.scribeMediaImpression()) : (TD.util.openURL(t),
        this.destroy()),
        this.media.length > 1 && (this.$node.focus(),
        this.prevOrNext = this._prevOrNext.bind(this),
        this.$node.on("uiKeyLeft", this.prevOrNext),
        this.$node.on("uiKeyRight", this.prevOrNext))
    }).statics({
        MEDIA_FLAG_NSFW: ".js-media-flag-nsfw",
        MEDIA_FLAGGED_NSFW: ".js-media-flagged-nsfw",
        HIDDEN_CLASS: "is-hidden"
    }).methods({
        _prev: function() {
            var e = _.indexOf(this.media, this.currentMedia);
            0 === e && (e = this.media.length),
            this.currentMedia = this.media[e - 1],
            this._renderEmbed()
        },
        _next: function() {
            var e = _.indexOf(this.media, this.currentMedia);
            e === this.media.length - 1 && (e = -1),
            this.currentMedia = this.media[e + 1],
            this._renderEmbed()
        },
        _prevOrNext: function(e) {
            e.stopImmediatePropagation(),
            "uiKeyLeft" === e.type ? this._prev() : "uiKeyRight" === e.type && this._next()
        },
        _setupEmbeds: function() {
            if (this.media && 0 !== this.media.length) {
                var e = this;
                this.currentMedia = this.media[0],
                this.clickedLink && _.each(this.media, function(t) {
                    (e.clickedMediaEntityId && t.mediaId === e.clickedMediaEntityId || !e.clickedMediaEntityId && t.url === e.clickedLink) && (e.currentMedia = t)
                }),
                this._renderEmbed()
            }
        },
        _loadTweet: function() {
            var e = this;
            this.$tweet.append(this.chirp.renderInMediaGallery()),
            this.$tweet.bind("click", function(t) {
                $.publish("chirp/click", [t, e.chirp, e.column])
            })
        },
        _sizeMedia: function() {
            var e = $("img", this.$mainframe)
              , t = this.$embed.outerHeight()
              , i = this.$mainframe.height()
              , s = Math.max(0, e.height() - (t - i));
            e.css({
                "max-width": this.$mainframe.width() + "px",
                "max-height": s + "px"
            })
        },
        _fadeIn: function() {
            this.$mainframe.addClass("is-loaded"),
            this.$embed.fadeTo("fast", 1)
        },
        _renderEmbed: function() {
            var e, t = this.currentMedia;
            e = t.renderGallery(),
            this.$embed.html(e),
            this.$embed.append(TD.ui.template.render("text/gallery_original_link", t)),
            t.needsSecureUrl || t.isScheduled || this.$embed.append(TD.ui.template.render("text/gallery_flag_media", {
                flagged: t.flaggedNSFW
            })),
            t.needsSecureUrl && $(document).trigger("uiNeedsSecureImageUrl", {
                accountKey: this.chirp.account.getKey(),
                url: t.large()
            });
            var i = $("img", this.$embed);
            0 === i.length ? _.delay(function() {
                this._fadeIn(),
                this._sizeMedia();
            }
            .bind(this), 1e3) : i.load(function() {
                i.attr("data-maxwidth", i.width()),
                i.attr("data-maxheight", i.height()),
                this._sizeMedia(),
                this._fadeIn()
            }
            .bind(this)),
            this.$find(TD.components.MediaGallery.MEDIA_FLAG_NSFW).click(function(e) {
                var i;
                t.flaggedNSFW = !0,
                this.$find(TD.components.MediaGallery.MEDIA_FLAG_NSFW).addClass(TD.components.MediaGallery.HIDDEN_CLASS),
                this.$find(TD.components.MediaGallery.MEDIA_FLAGGED_NSFW).removeClass(TD.components.MediaGallery.HIDDEN_CLASS),
                i = TD.controller.clients.getClient(this.chirp.account.getKey()),
                i.flagTweet(this.chirp.id, function() {}, function() {
                    var e = TD.i("Problem flagging media. Please try again");
                    TD.controller.progressIndicator.addMessage(e),
                    this.$find(TD.components.MediaGallery.MEDIA_FLAG_NSFW).removeClass(TD.components.MediaGallery.HIDDEN_CLASS),
                    this.$find(TD.components.MediaGallery.MEDIA_FLAGGED_NSFW).addClass(TD.components.MediaGallery.HIDDEN_CLASS)
                })
            }
            .bind(this)),
            this.media.length > 1 ? (this.$prevButton.removeClass(TD.components.MediaGallery.HIDDEN_CLASS),
            this.$nextButton.removeClass(TD.components.MediaGallery.HIDDEN_CLASS),
            this.$mainframe.addClass("s-shorter"),
            this.$tweet.find(".js-media").show()) : (this.$prevButton.addClass(TD.components.MediaGallery.HIDDEN_CLASS),
            this.$nextButton.addClass(TD.components.MediaGallery.HIDDEN_CLASS),
            this.$tweet.find(".js-media").hide())
        },
        destroy: function() {
            this.media.length > 1 && (this.$node.unbind("uiKeyLeft", this.prevOrNext),
            this.$node.unbind("uiKeyRight", this.prevOrNext)),
            this.$node.trigger("uiMediaGalleryClosing"),
            $("#open-modal").hide(),
            clearInterval(this.sizeMediaInterval),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.MenuItem = TD.components.MenuItemBase.extend(function() {
        this.type = null
    }).statics({
        BASIC: "basic",
        SUBTITLE: "subtitle",
        PERSON: "person",
        LIST: "list"
    }).methods({
        basic: function(e) {
            return this.type = TD.components.MenuItem.BASIC,
            this.title = e,
            this.$node = $(TD.ui.template.render("list_module_list_item", {
                title: this.title
            })),
            this
        },
        subtitle: function(e, t) {
            this.type = TD.components.MenuItem.SUBTITLE,
            this.title = e,
            this.subtitle = t;
            var i = {
                title: e,
                subtitle: t
            };
            return this.$node = $(TD.ui.template.render("list_module_subtitle_item", i)),
            this
        },
        selfAccount: function(e) {
            this.type = TD.components.MenuItem.PERSON,
            this.account = e;
            var t = {
                fullname: e.getName() || e.getUsername(),
                username: e.getUsername(),
                profileImageURL: e.getProfileImageURL()
            };
            return this.$node = $(TD.ui.template.render("list_module_account_item", t)),
            this
        },
        twitterUser: function(e) {
            this.type = TD.components.MenuItem.PERSON,
            this.twitterUser = e;
            var t = {
                fullname: e.name || e.screenName,
                username: e.screenName,
                profileImageURL: e.profileImageURL
            };
            return this.$node = $(TD.ui.template.render("list_module_account_item", t)),
            this
        },
        list: function(e) {
            this.type = TD.components.MenuItem.LIST,
            this.list = e;
            var t = {
                title: e.name,
                by: TD.i("by {{1}}", {
                    1: e.user.name
                }),
                description: e.description,
                subtitle: TD.i("{{1}} members", {
                    1: e.memberCount
                }),
                miniProfileURL: e.user.miniProfileImageURL(),
                isPrivate: e.isPrivate
            };
            return this.$node = $(TD.ui.template.render("list_module_twitter_list_item", t)),
            this
        },
        customTimeline: function(e) {
            this.type = TD.components.MenuItem.LIST,
            this.list = e;
            var t = {
                title: e.name,
                description: e.description
            };
            return this.$node = $(TD.ui.template.render("list_module_twitter_customtimeline_item", t)),
            this
        },
        dataminr: function(e) {
            return this.type = TD.components.MenuItem.DATAMINR,
            this.watchlist = e,
            this.$node = $(TD.ui.template.render("list_module_dataminr_watchlist", e)),
            this
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.MenuItemBase = TD.components.Base.extend(function() {
        this.eventSubscriptions = [],
        this.selected = !1,
        this.eventSubscriptions.push($.subscribe(TD.components.MenuItemBase.GLOBAL_SELECT_EVENT, _.bind(this._handleSelectionEvent, this))),
        _.defer(_.bind(this._addClickHandler, this))
    }).statics({
        GLOBAL_SELECT_EVENT: "/menuitem/select",
        BUBBLE_SELECT_EVENT: "td-menuitem-select",
        deselectAll: function() {
            var e = {
                target: null
            };
            TD.storage.notification.notify(this.GLOBAL_SELECT_EVENT, e)
        }
    }).methods({
        _handleSelectionEvent: function(e) {
            this.selected = e.target === this,
            this.$node.toggleClass("selected", this.selected)
        },
        _addClickHandler: function() {
            var e = this;
            this.$node.bind("click", function(t) {
                e.selected || e.select()
            })
        },
        select: function() {
            this.publishEvent(TD.components.MenuItemBase.GLOBAL_SELECT_EVENT, null ),
            this.bubbleEvent(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT)
        },
        deselect: function() {
            this.selected = !1,
            this.$node.removeClass("selected")
        },
        destroy: function() {
            _.each(this.eventSubscriptions, function(e) {
                $.unsubscribe(e)
            }),
            this.$node.remove()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.NewCustomTimelineButton = TD.components.Base.extend(function(e) {
        var t = this;
        this.mode = e;
        var i = '<button class="btn btn-positive"><i class="icon icon-plus icon-small-valigned"></i><span class="label padding-ls">{{{button_txt}}}</span></button>';
        switch (this.mode) {
        case "lists":
            this.$button = $(TD.ui.template.toHtml(i, {
                button_txt: TD.i("Create list")
            }));
            break;
        case "customtimelines":
            this.$button = $(TD.ui.template.toHtml(i, {
                button_txt: TD.i("Create collection")
            }))
        }
        this.$button.click(function(e) {
            switch (t.bubbleEvent(TD.components.BaseModal.CLOSE_EVENT),
            t.mode) {
            case "lists":
                new TD.components.ListDetails,
                TD.controller.stats.newListClick();
                break;
            case "customtimelines":
                var i = TD.controller.clients.getPreferredClient();
                i.createCustomTimeline({}, function(e) {
                    var t = new TD.components.TemporaryColumn;
                    t.customTimeline(e),
                    t.populate(),
                    t.makePermanent(),
                    setTimeout(function() {
                        t.destroy()
                    }, 0)
                }, function(e) {
                    TD.controller.progressIndicator.addMessage(TD.i("Error creating customTimeline: {{status}}", {
                        status: e.status
                    }))
                })
            }
        }),
        this.$node.append(this.$button),
        this.$node.addClass("sch-list padding-al")
    })
}
, function(e, t) {
    "use strict";
    TD.components.NewFeaturesSplash = TD.components.BaseModal.extend(function() {
        this.$node.addClass("release-notes-modal"),
        this.$menuContainer.append(TD.ui.template.render("splash/whats_new")),
        this.$find(".js-mdl-content").removeClass("horizontal-flow-container"),
        this.bind(),
        this.setAndShowContainer($("#splash-modal")),
        TD.components.NewFeaturesSplash.updateSeenVersion()
    }).statics({
        FOR_VERSION: "3.5",
        shouldShow: function() {
            var e = TD.components.NewFeaturesSplash.FOR_VERSION
              , t = TD.settings.getPreviousSplashVersion();
            return 1 !== TD.util.versionComparator(e, t) ? !1 : -1 === TD.util.versionComparator(TD.version, e) ? !1 : ($(document).trigger("metric", {
                key: "login:featuresplash"
            }),
            !0)
        },
        updateSeenVersion: function() {
            TD.settings.setPreviousSplashVersion(TD.version)
        }
    }).methods({
        destroy: function() {
            this.supr(),
            $("#splash-modal").hide()
        },
        bind: function() {
            var e = this.$find(".js-done");
            e.click(this.destroy.bind(this)),
            this.$find("[data-action]").click(this._handleActionClick.bind(this))
        },
        _handleActionClick: function(e) {
            e.preventDefault();
            var t = e.target.dataset.action;
            switch (t) {
            case "signOut":
                TD.storage.store.setCurrentAuthType("tweetdeck"),
                TD.controller.init.signOut();
                break;
            case "openSettings":
                $(document).trigger("uiShowAccountSettings")
            }
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.OpenColumn = TD.components.BaseModal.extend(function() {
        var e = this;
        this.$footer.append($(TD.ui.template.render("open_column_footer"))),
        this.$backButton = this.$find(".js-back"),
        this.$addButton = this.$find(".js-add-column"),
        this.history = [],
        this.menu = null ,
        this.$backButton.bind("click", function(t) {
            t.stopPropagation(),
            e._previous()
        }),
        this.$node.on(TD.components.TemporaryColumn.DELETED_EVENT, this._reload.bind(this))
    }).statics({
        GO_URL_REGEX: /^(add|profile)$/,
        GO_EVENT: "/go",
        instance: null
    }).methods({
        canGo: function(e, t) {
            return TD.components.OpenColumn.GO_URL_REGEX.test(e)
        },
        go: function(e, t, i, s) {
            TD.components.OpenColumn.instance = this,
            s && (this.history = [s]),
            this.history.push([e, _.clone(t), i]);
            var n = t.shift();
            if (this.menu && this.menu.canGo && this.menu.canGo(e, t))
                return this.history.pop(),
                this.history[this.history.length - 1] = fullUrl,
                void this.menu.go(n, t, i);
            var r, o = !1, a = !1, c = !1;
            if ("add" === e)
                switch (n) {
                case "home":
                    r = new TD.components.OpenColumnHome,
                    o = !0;
                    break;
                case "lists":
                case "customtimelines":
                    r = new TD.components.OpenCustomTimelines(n);
                    break;
                case "sharedcolumn":
                    r = new TD.components.OpenSharedColumn(i.state);
                    break;
                case "trends":
                    r = new TD.components.OpenTrends;
                    break;
                case "dataminr":
                    r = new TD.components.OpenDataminr;
                    break;
                default:
                    TD.controller.columnManager.TWITTER_GENERIC[n] && (r = new TD.components.OpenTwitterGeneric(n))
                }
            this._show(n, r, o, a, c),
            r.go && r.go(n, t, i)
        },
        _show: function(e, t, i, s, n) {
            this.menu && this.menu.destroy(),
            this.menu = t,
            this.$menuContainer.append(t.$node),
            i || this.menu.setup(this.$addButton),
            this.$node.toggleClass("s-nonav", i),
            this.$node.toggleClass("s-narrow", s),
            this.$backButton.toggle(this.history.length > 1).toggleClass("hide", 0 === this.history.length),
            "home" === e ? this.$title.text(TD.i("Choose column type")) : "profile" === e ? this.$title.text(TD.i("Account profile")) : "sharedcolumn" === e ? this.$title.text(TD.i("Shared column")) : this.$title.text(TD.controller.columnManager.MENU_TITLE[e] || "")
        },
        _previous: function() {
            this.history.pop();
            var e = this.history.pop();
            e instanceof Array ? this.go.apply(this, e) : (this.destroy(),
            $(e.target).trigger(e.type, [e.data]))
        },
        _reload: function() {
            var e = this.history.pop();
            e instanceof Array && this.go.apply(this, e)
        },
        destroy: function() {
            this.menu && this.menu.destroy(),
            _.each(this.eventSubscriptions, function(e) {
                $.unsubscribe(e)
            }),
            this.$backButton.unbind(),
            $("#open-modal").hide(),
            TD.components.OpenColumn.instance = null ,
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.OpenColumnHome = TD.components.Base.extend(function() {
        var e = this;
        this.singletonTypes = {};
        var t = {}
          , i = {};
        i[TD.controller.columnManager.DATAMINR] = !0,
        TD.controller.columnManager.DISPLAY_ORDER_SINGLETONS.forEach(function(s) {
            e.singletonTypes[s.type] = !0,
            t[s.type] = !_.isEmpty(TD.storage.columnController.getColumnsByType(s.type)),
            i[s.type] = !1
        }),
        this.$node = $(TD.ui.template.render("open_column_home", {
            options: TD.controller.columnManager.DISPLAY_ORDER,
            isDisabled: function() {
                return t[this.type]
            },
            isHidden: function() {
                return i[this.type]
            }
        })),
        this.$launchers = this.$find(".js-item-launch"),
        this.$launchers.bind("click", function(t) {
            var i, s = $(t.currentTarget), n = s.data("type"), r = e.singletonTypes[n];
            s.hasClass("is-disabled") || (r ? (i = TD.controller.columnManager.makeColumnFor({
                type: n,
                service: "tweetdeck"
            }),
            TD.controller.columnManager.addColumnToUI(i),
            e.bubbleEvent(TD.components.BaseModal.CLOSE_EVENT)) : e.publishEvent(TD.components.OpenColumn.GO_EVENT, TD.components.OpenColumnHome.URL_BASE + "/" + n))
        }),
        this._boundHandleDataminrAuthenticated = this._handleDataminrAuthenticated.bind(this),
        $(document).on("dataDataminrAuthenticated", this._boundHandleDataminrAuthenticated),
        $(document).trigger("uiNeedsDataminrAuth")
    }).statics({
        URL_BASE: "/add",
        DATAMINR_ADD_SELECTOR: '.js-item-launch[data-type="dataminr"]'
    }).methods({
        _handleDataminrAuthenticated: function() {
            this.$find(TD.components.OpenColumnHome.DATAMINR_ADD_SELECTOR).removeClass("is-hidden")
        },
        destroy: function() {
            $(document).off("dataDataminrAuthenticated", this._boundHandleDataminrAuthenticated),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.OpenColumnPlaceholder = TD.components.Base.extend(function(e) {
        this.helperText = e,
        this.$node = $(TD.ui.template.render("open_column_temp_help", {
            helpText: e
        }))
    })
}
, function(e, t) {
    "use strict";
    TD.components.OpenCustomTimelines = TD.components.OpenSplitMenu.extend(function(e) {
        switch (this.mode = e,
        this.screenName = null ,
        this.listsComponent = null ,
        this.newCustomTimelineButton = null ,
        this.mode) {
        case "lists":
            this.helpText = TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.LISTS];
            break;
        case "customtimelines":
            this.helpText = TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.CUSTOMTIMELINES]
        }
        this.placeHolder = new TD.components.OpenColumnPlaceholder(this.helpText),
        this.removePlaceholder = new TD.components.OpenColumnPlaceholder(""),
        this.setChirpPillar(this.placeHolder),
        this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT, _.bind(this._handleListSelect, this)),
        this.$node.bind(TD.components.CustomTimelines.LOADED, _.bind(this._handleListsLoaded, this))
    }).methods({
        go: function(e, t, i) {
            i.screenName ? (this.screenName = i.screenName,
            this.listsComponent = new TD.components.CustomTimelines(this.screenName,i.slug,this.mode),
            this.appendMenuItem(this.listsComponent)) : (this.newCustomTimelineButton = new TD.components.NewCustomTimelineButton(this.mode),
            this.appendPinnedMenuItem(this.newCustomTimelineButton),
            this.listsComponent = new TD.components.CustomTimelines(null ,null ,this.mode),
            this.appendMenuItem(this.listsComponent))
        },
        _handleListsLoaded: function(e, t) {
            if (t.target === this.listsComponent && 0 === t.data) {
                this.removeMenuItem(this.listsComponent);
                var i;
                switch (this.mode) {
                case "lists":
                    i = this.screenName ? TD.i("This user has no public lists") : TD.i("You are not subscribed to any lists");
                    break;
                case "customtimelines":
                    i = this.screenName ? TD.i("This user has no collections") : TD.i("You do not have any collections")
                }
                this.listsComponent = new TD.components.OpenColumnPlaceholder(i),
                this.setChirpPillar(this.removePlaceholder),
                this.appendMenuItem(this.listsComponent)
            }
        },
        _handleListSelect: function(e, t) {
            var i = t.target.list
              , s = new TD.components.TemporaryColumn;
            switch (this.mode) {
            case "lists":
                s.list(i);
                break;
            case "customtimelines":
                s.customTimeline(i)
            }
            this.setChirpPillar(s),
            e.stopPropagation()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.OpenDataminr = TD.components.OpenSplitMenu.extend(function() {
        this.helpText = TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.DATAMINR],
        this.placeHolder = new TD.components.OpenColumnPlaceholder(this.helpText),
        this.setChirpPillar(this.placeHolder),
        this._boundHandleWatchlistSelect = this._handleWatchlistSelect.bind(this),
        this._boundHandleWatchlists = this._handleWatchlists.bind(this),
        this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT, this._boundHandleWatchlistSelect),
        $(document).bind("dataDataminrWatchlists", this._boundHandleWatchlists)
    }).methods({
        go: function(e, t, i) {
            this.watchlistsComponent && this.watchlistsComponent.destroy(),
            this.watchlistsComponent = new TD.components.Dataminr,
            this.appendMenuItem(this.watchlistsComponent)
        },
        _handleWatchlists: function(e, t) {
            if (!t.watchlists || !t.watchlists.length) {
                this.removeMenuItem(this.watchlistsComponent);
                var i = TD.i("You are not subscribed to any watchlists");
                this.watchlistsComponent = new TD.components.OpenColumnPlaceholder(i),
                this.setChirpPillar(this.removePlaceholder),
                this.appendMenuItem(this.watchlistsComponent)
            }
        },
        _handleWatchlistSelect: function(e, t) {
            var i = new TD.components.TemporaryColumn
              , s = TD.storage.store.getTwitterLoginAccount();
            i.dataminr(t.target.watchlist, s.getKey()),
            this.setChirpPillar(i)
        },
        destroy: function() {
            this.$node.off(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT, this._boundHandleWatchlistSelect),
            $(document).off("dataDataminrWatchlists", this._boundHandleWatchlists),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.OpenSharedColumn = TD.components.OpenSplitMenu.extend(function(e) {
        this.aColumnDeferred = this._deserializeColumn(e)
    }).methods({
        go: function(e, t, i) {
            var s = new TD.components.TemporaryColumn;
            this.aColumnDeferred.addCallback(function(e) {
                s.renderColumn(e),
                this.setChirpPillar(s)
            }
            .bind(this)),
            this.aColumnDeferred.addErrback(function() {
                this.destroy(),
                setTimeout(function() {
                    $(document).trigger("uiCloseModal"),
                    TD.controller.progressIndicator.addMessage(TD.i("Shared column could not be loaded"))
                }, 0)
            }
            .bind(this)),
            this.$leftPillarContainer.html(TD.ui.template.render("open_column_shared_help"))
        },
        _selectAccountKey: function(e) {
            var t = TD.storage.AccountController.getAccountFromId(e.accountkey) || TD.storage.AccountController.getDefault();
            return t.getKey()
        },
        _parseColumn: function(e) {
            var t = e.feeds
              , i = t[0]
              , s = i.type
              , n = i.service
              , r = i.metadata
              , o = new TD.vo.SearchFilter(e.filters)
              , a = this._selectAccountKey(i);
            return TD.controller.columnManager.makeOtherColumnAndFeeds({
                type: s,
                service: n,
                accountKey: a,
                metadata: r,
                searchFilter: o
            })
        },
        _deserializeColumn: function(e) {
            function t(e, n) {
                n.data === i && (s.off("dataSchemaValidation", t),
                n.isValid ? r.callback(n.data) : r.errback(n.validationError))
            }
            var i, s = $(document);
            try {
                i = JSON.parse(e)
            } catch (n) {
                return console.warn("Invalid column data supplied: ", n),
                TD.core.defer.fail(n)
            }
            var r = new TD.core.defer.Deferred;
            return r.addCallback(this._parseColumn.bind(this)),
            s.on("dataSchemaValidation", t),
            s.trigger("uiNeedsSchemaValidation", {
                data: i,
                schemaName: "sharedColumn"
            }),
            r
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.OpenSplitMenu = TD.components.SplitMenu.extend(function() {
        this.$addButton = null
    }).methods({
        setup: function(e) {
            this.$addButton = e,
            this.$addButton.hide(),
            this.$addButton.click(_.bind(this._handleAddClick, this))
        },
        setChirpPillar: function(e) {
            this.setRightPillar(e);
            var t = this;
            e instanceof TD.components.TemporaryColumn && _.defer(function() {
                e.populate(),
                t.$addButton.show(),
                t.$addButton.prop("disabled", !1)
            })
        },
        _handleAddClick: function(e) {
            this.$addButton.prop("disabled") || this.makeChirpColumnPermanent()
        },
        makeChirpColumnPermanent: function() {
            this.rightPillarComponent && (this.rightPillarComponent.makePermanent(),
            this.$addButton.prop("disabled", !0))
        },
        destroy: function() {
            this.$addButton.unbind("click"),
            this.$addButton.hide(),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.OpenTrends = TD.components.OpenSplitMenu.extend(function() {
        this.trends = new TD.components.Trends,
        this.appendMenuItem(this.trends),
        this.helpText = TD.controller.columnManager.HELP_TEXT[TD.controller.columnManager.TRENDS],
        this.placeHolder = new TD.components.OpenColumnPlaceholder(this.helpText),
        this.setChirpPillar(this.placeHolder),
        this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT, _.bind(this._handleTrendSelect, this))
    }).methods({
        _handleTrendSelect: function(e, t) {
            var i = t.target.title
              , s = new TD.components.TemporaryColumn;
            s.search(i),
            this.setChirpPillar(s),
            e.stopPropagation()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.OpenTwitterGeneric = TD.components.OpenSplitMenu.extend(function(e) {
        if (this.type = e,
        this.showUserSearch = !TD.controller.columnManager.SELF_ACCOUNTS_ONLY[e],
        this.userSearch = null ,
        this.helpText = TD.controller.columnManager.HELP_TEXT[e],
        this.placeHolder = new TD.components.OpenColumnPlaceholder(this.helpText),
        this.setChirpPillar(this.placeHolder),
        this.showUserSearch) {
            this.userSearch = new TD.components.TwitterUserSearch,
            this.appendPinnedMenuItem(this.userSearch);
            var t = this.userSearch.detachResultsContainer();
            this.appendMenuItemElement(t)
        }
        this.profileAccount = new TD.components.ProfileAccount,
        this.profileAccount.$node.hide(),
        this.appendMenuItem(this.profileAccount),
        this.selfAccounts = new TD.components.SelfAccounts("twitter"),
        this.appendMenuItem(this.selfAccounts),
        this.$node.bind(TD.components.MenuItemBase.BUBBLE_SELECT_EVENT, _.bind(this._handleSelect, this))
    }).methods({
        go: function(e, t, i) {
            i.screenName ? (this.profileAccount.setUser(i.screenName),
            this.profileAccount.$node.show(),
            this.profileAccount.select()) : this.selfAccounts.selectDefault()
        },
        _handleSelect: function(e, t) {
            var i;
            if (t.target.account)
                i = new TD.components.TemporaryColumn,
                i.genericTwitter(this.type, t.target.account, void 0);
            else if (t.target.twitterUser) {
                i = new TD.components.TemporaryColumn;
                var s = this.userSearch.client.oauth.account;
                i.genericTwitter(this.type, s, t.target.twitterUser)
            }
            i && (this.setChirpPillar(i),
            e.stopPropagation())
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ProfileAccount = TD.components.Base.extend(function() {
        this.titleText = TD.i("Profile Account"),
        this.screenName = null ,
        this.twitterUser = null ,
        this.$node = $(TD.ui.template.render("open_column_list_with_header", {
            title: this.titleText
        })),
        this.$list = this.$find(".js-list-container"),
        this.menuItem = null
    }).methods({
        setUser: function(e) {
            this.screenName = e;
            var t = TD.cache.twitterUsers.getByScreenName(this.screenName);
            t.addCallbackWith(this, this._renderUser)
        },
        _renderUser: function(e) {
            this.twitterUser = e,
            this.menuItem = (new TD.components.MenuItem).twitterUser(e),
            this.$list.append(this.menuItem.$node)
        },
        select: function() {
            this.menuItem.select()
        },
        destroy: function() {
            this.menuItem && this.menuItem.destroy(),
            this.$node.remove()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.RepliesTo = TD.components.Base.extend(function(e, t, i) {
        this.chirp = e.getMainTweet(),
        this.mainTweet = this.chirp.getMainTweet(),
        this.repliesTo = [],
        this.mediaPreviewSize = t,
        this.wantsDragHandle = i,
        this.refreshPeriod = 60,
        this._boundHandleConversation = this._handleConversation.bind(this),
        this.subscriptions = {},
        this.subscriptions[this.mainTweet.id] = $.subscribe("/tweets/conversation/" + this.mainTweet.id, this._boundHandleConversation),
        this.client = TD.controller.clients.getClient(this.chirp.account.getKey()),
        this.pollTaskId = TD.controller.scheduler.schedulePeriodicTask(this.refreshPeriod, function() {
            this.client.getConversation(this.mainTweet.id)
        }
        .bind(this), !0),
        this.$node.html(TD.ui.template.render("status/tweet_detail_repliesto"))
    }).methods({
        _handleConversation: function(e) {
            var t, i, s = {};
            this.repliesTo.forEach(function(e) {
                s[e.id] = !0
            }),
            t = e.descendants.filter(function(e) {
                return !s[e.id]
            }),
            t.sort(TD.util.chirpReverseColumnSort),
            this.repliesTo = this.repliesTo.concat(t),
            t.forEach(function(e) {
                this.subscriptions[e.id] || (this.subscriptions[e.id] = $.subscribe("/tweets/conversation/" + e.id, this._boundHandleConversation))
            }
            .bind(this)),
            i = t.map(function(e) {
                return e.render({
                    mediaPreviewSize: this.mediaPreviewSize,
                    isInConvo: !0,
                    withDragHandle: this.wantsDragHandle && !e.user.isProtected
                })
            }
            .bind(this)).join(""),
            this.$find(".js-replies-to").append(i)
        },
        findChirp: function(e) {
            var t = null ;
            return this.chirp.id === e ? t = this.chirp : this.mainTweet.id === e ? t = this.mainTweet : this.repliesTo && (t = _.detect(this.repliesTo, function(t) {
                return t.id === e
            })),
            t
        },
        destroy: function() {
            for (var e in this.subscriptions)
                $.unsubscribe(this.subscriptions[e]);
            TD.controller.scheduler.removePeriodicTask(this.pollTaskId),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ReplyBar = TD.components.Base.extend(function(e) {
        e && e.postComment && (this._boundHandleGlobalKeydown = this._handleGlobalKeydown.bind(this),
        this._boundSend = this.send.bind(this),
        this._boundPopInlineToDocked = this.popInlineToDocked.bind(this),
        this._boundAddImage = this.addImage.bind(this),
        this._boundHandleDataTweetSent = this._handleDataTweetSent.bind(this),
        this._boundHandleDataTweetError = this._handleDataTweetError.bind(this),
        this.$node = $(TD.ui.template.render("status/tweet_detail_replybar", {
            from: e.account.getUsername(),
            avatarURL: e.account.getProfileImageURL()
        })),
        this.chirp = e,
        this.$inputBox = this.$find(".js-reply-tweetbox"),
        this.$charCount = this.$find(".js-reply-charcount"),
        this.$sendButton = this.$find(".js-send"),
        this.$popoutButton = this.$find(".js-reply-popout"),
        this.$addImageButton = this.$find(".js-reply-add-image"),
        this.$sendButton.bind("click", this._boundSend),
        this.$popoutButton.bind("click", this._boundPopInlineToDocked),
        this.$addImageButton.bind("click", this._boundAddImage),
        $(document).on("dataTweetSent", this._boundHandleDataTweetSent),
        $(document).on("dataTweetError", this._boundHandleDataTweetError),
        $(document).on("dataDmSent", this._boundHandleDataTweetSent),
        $(document).on("dataDmError", this._boundHandleDataTweetError),
        this._reset())
    }).statics({
        ACTIVITY_EVENTS: "click change focus blur input keydown keypress keyup mousedown mouseup paste",
        RESET_EVENT: "td-reset",
        REPLYING_EVENT: "td-replying",
        OVER_CHAR_COUNT_CLASS: "over-char-count"
    }).methods({
        _triggerMetric: function(e) {
            $(document).trigger("metric", {
                key: "dm:ui:conversation:reply:" + e
            })
        },
        _updateCharCount: function() {
            $(document).one("dataHelpConfiguration", function(e, t) {
                var i = twttrTxt.getTweetLength(this.$inputBox.val(), t)
                  , s = t.dm_text_character_limit || 140;
                s > 140 && this.$inputBox.toggleClass("rpl-textarea--expanded", i > 140);
                var n = s - i
                  , r = n >= 0 && i > 0;
                this.$sendButton.prop("disabled", !r),
                this.$charCount.toggleClass(TD.components.ReplyBar.OVER_CHAR_COUNT_CLASS, 0 > n);
                var o = s > 140 && n >= 0;
                this.$charCount.toggle(!o),
                this.$charCount.val(n)
            }
            .bind(this)),
            $(document).trigger("uiNeedsHelpConfiguration")
        },
        _reset: function(e) {
            var t = {
                keepFocus: !1
            };
            e = $.extend({}, t, e);
            var i = "";
            if (this.chirp instanceof TD.services.TwitterStatus) {
                var s = this.chirp.getMainTweet();
                i = TD.i("Reply to @{{1}}", {
                    1: s.user.screenName
                })
            } else
                this.chirp instanceof TD.services.TwitterConversation && (i = TD.i("Reply from @{{1}}", {
                    1: this.chirp.account.getUsername()
                }));
            this.$node.removeClass("s-replying"),
            this.$inputBox.blur().prop("disabled", !1),
            this.$sendButton.prop("disabled", !1),
            this.$inputBox.bind(TD.components.ReplyBar.ACTIVITY_EVENTS, _.bind(this._handleActivity, this)),
            this.bubbleEvent(TD.components.ReplyBar.RESET_EVENT, null ),
            $(window).unbind("keydown", this._boundHandleGlobalKeydown),
            this.$inputBox.val(""),
            e.keepFocus ? this.$inputBox.focus() : this.$inputBox.attr("placeholder", i)
        },
        _handleActivity: function(e) {
            var t = this;
            this.$inputBox.unbind(),
            t.bubbleEvent(TD.components.ReplyBar.REPLYING_EVENT, null ),
            this.$node.addClass("s-replying"),
            this._triggerMetric("active");
            var i = ""
              , s = [];
            this.chirp instanceof TD.services.TwitterStatus && (s = TD.util.getReplyUsers(this.chirp)),
            s.length > 0 && (i = s.join(" ") + " "),
            this.$inputBox.val(i),
            this._updateCharCount();
            var n = i.length
              , r = i.length;
            s.length > 0 && (n = s[0].length + 1),
            this.$inputBox.bind("keydown change", _.bind(this._handleKeydown, this)),
            _.defer(function() {
                t.$inputBox[0].setSelectionRange(n, r)
            }),
            this.$inputBox.bind("cut paste", _.bind(this._handleCutPaste, this)),
            this.$inputBox.bind("keyup", _.bind(this._updateCharCount, this))
        },
        _handleCutPaste: function(e) {
            _.defer(_.bind(this._updateCharCount, this))
        },
        _handleGlobalKeydown: function(e) {
            e.which === TD.constants.keyCodes.escape && this._reset()
        },
        _handleKeydown: function(e) {
            switch (this._updateCharCount(),
            e.charCode || e.keyCode) {
            case 10:
            case 13:
                (e.ctrlKey || e.metaKey) && (e.preventDefault(),
                this.send());
                break;
            case TD.constants.keyCodes.escape:
                this.$inputBox.blur(),
                $(window).bind("keydown", this._boundHandleGlobalKeydown)
            }
        },
        popInlineToDocked: function() {
            var e = {
                type: "message",
                text: this.$inputBox.val(),
                from: [TD.storage.Account.generateKeyFor("twitter", this.chirp.account.getUserID())]
            };
            this.chirp.chirpType === TD.services.ChirpBase.MESSAGE_THREAD ? e.conversationId = this.chirp.conversationId : e.messageRecipients = [{
                screenName: this.chirp.getMainUser().screenName
            }],
            this._triggerMetric("popout"),
            $(document).trigger("uiComposeTweet", e),
            this._reset()
        },
        addImage: function() {
            this._triggerMetric("image:add"),
            this._boundPopInlineToDocked(),
            $(document).trigger("uiComposeAddImageClick")
        },
        send: function() {
            var e, t, i = this.$inputBox.val();
            this.$sendButton.prop("disabled") || i && (this.$sendButton.prop("disabled", !0),
            this.$inputBox.prop("disabled", !0),
            this.$inputBox.blur(),
            this.progressKey = TD.controller.progressIndicator.addTask(TD.i("Sending…")),
            this.currentRequestId = _.uniqueId("sendTweet"),
            this._triggerMetric("send"),
            t = {
                type: "message",
                text: i,
                from: [this.chirp.account.getKey()],
                accountKey: this.chirp.account.getKey(),
                requestId: this.currentRequestId,
                messageType: this.chirp.type
            },
            e = "uiSendDm",
            t.conversationId = this.chirp.conversationId,
            t.isReplyBar = !0,
            $(document).trigger(e, t))
        },
        _handleDataTweetSent: function(e, t) {
            this.currentRequestId && t.request.requestId === this.currentRequestId && (TD.controller.progressIndicator.taskComplete(this.progressKey),
            this._reset({
                keepFocus: !0
            }))
        },
        _handleDataTweetError: function(e, t) {
            this.currentRequestId && t.request.requestId === this.currentRequestId && (TD.controller.progressIndicator.taskFailed(this.progressKey, t.response.errors[0].message),
            this.$sendButton.prop("disabled", !1),
            this.$inputBox.prop("disabled", !1),
            this.$inputBox.focus())
        },
        destroy: function() {
            $(document).off("dataTweetSent", this._boundHandleDataTweetSent),
            $(document).off("dataTweetError", this._boundHandleDataTweetError),
            $(document).off("dataDmSent", this._boundHandleDataTweetSent),
            $(document).off("dataDmError", this._boundHandleDataTweetError)
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.Retweeters = TD.components.Base.extend(function(e, t) {
        function i(e) {
            var t, i = {
                stats: []
            };
            if (this.tweetSummary = e,
            _.isString(e.retweeters_count))
                t = e.retweeters_count;
            else {
                var s = e.retweeters_count || 0;
                t = Math.max(s, n.length) + ""
            }
            if (this.tweetSummary.retweeters_count = t,
            "0" !== t && e.retweeters && e.retweeters.length > 0 && i.stats.push({
                count: TD.util.prettyNumber(t),
                label: TD.util.pluralise(TD.i("Retweet"), TD.i("Retweets"), t),
                type: "retweeters"
            }),
            "0" !== e.favoriters_count && e.favoriters && e.favoriters.length > 0 && i.stats.push({
                count: TD.util.prettyNumber(e.favoriters_count),
                label: TD.decider.get("hearts_and_likes2") ? TD.util.pluralise(TD.i("Like"), TD.i("Likes"), e.favoriters_count) : TD.util.pluralise(TD.i("Favorite"), TD.i("Favorites"), e.favoriters_count),
                type: "favoriters"
            }),
            this.tweet.isOwnChirp() && (i.analytics = r.getAnalyticsUpsell()),
            0 === i.stats.length && !i.analytics)
                return r.destroy();
            var o = TD.ui.template.render("status/tweet_detail_socialstats", i);
            r.$node.html(o),
            r.scribeAnalytics(i.analytics, "impression", this.tweet.user.id),
            this.$node.find(".js-open-analytics").click(this.scribeAnalytics.bind(this, i.analytics, "click", this.tweet.user.id))
        }
        if (!(!e instanceof TD.services.TwitterStatus || e instanceof TD.services.TwitterConversationMessageEvent)) {
            this.tweet = e.getMainTweet();
            var s = TD.controller.clients.getClient(this.tweet.account.getKey())
              , n = []
              , r = this;
            s.getTweetSummary(this.tweet.id, i.bind(this), function() {
                r.destroy()
            })
        }
    }).methods({
        getAnalyticsUpsell: function() {
            var e = TD.util.getTwitterCookieUserId();
            return e === this.tweet.user.id ? {
                type: "tweet",
                text: TD.i("View Tweet Activity"),
                url: TD.ui.template.toHtmlFromRaw("https://analytics.twitter.com/user/{{screenName}}/tweet/{{tweetId}}", {
                    screenName: this.tweet.user.screenName,
                    tweetId: this.tweet.id
                })
            } : {
                type: "generic",
                text: TD.i("Open Twitter Analytics"),
                url: "http://analytics.twitter.com"
            }
        },
        scribeAnalytics: function(e, t, i) {
            if (e && e.type) {
                var s = "generic" === e.type ? "general_analytics_button" : "tweet_analytics_button";
                TD.controller.stats.checkNamespace(t, ["impression", "click"]),
                TD.controller.stats.generic({
                    page: "main",
                    section: "detail",
                    element: s,
                    action: t
                }, {
                    user_id: i
                })
            }
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ScheduledDatePicker = TD.components.Base.extend(function(e, t) {
        var i = this;
        t = _.defaults(t || {}, {
            startDate: null ,
            hidden: !1
        }),
        this.$node = $(TD.ui.template.render("compose/schedule")),
        this.$node.toggle(!t.hidden),
        e.append(this.$node),
        this.$minutes = $("#scheduled-minute"),
        this.$hours = $("#scheduled-hour"),
        this.$datepicker = $("#datepicker"),
        this.$nextMonth = $("#next-month"),
        this.$prevMonth = $("#prev-month"),
        this.$removeDate = $(".js-remove", this.$node),
        this.$amToggle = $("#amPm"),
        this.$hours.bind("change", function() {
            i._refreshDate(),
            i.publishDateChanged()
        }),
        this.$minutes.bind("change", function() {
            var e = $(this);
            e.val(("00" + e.val()).slice(-2)),
            i._refreshDate(),
            i.publishDateChanged()
        }),
        this.$datepicker = this.$datepicker.dateinput({
            onHide: function() {
                return !1
            },
            change: function() {
                i._refreshDate(),
                i.publishDateChanged()
            },
            min: -1
        }),
        i.datePickerData = this.$datepicker.data("dateinput").show(),
        this.$nextMonth.bind("click", function(e) {
            i.datePickerData.addMonth(1)
        }),
        this.$prevMonth.bind("click", function(e) {
            i.datePickerData.addMonth(-1)
        }),
        this.$removeDate.bind("click", function(e) {
            i.publishRemoval()
        }),
        this.$amToggle.bind("click", function(e) {
            var t = i.$amToggle.data("value");
            i._setAmPm(!t),
            i.publishDateChanged()
        }),
        i.setDate(t.startDate)
    }).methods({
        _refreshDate: function() {
            var e = this.$hours.val()
              , t = Number(e) % 12
              , i = Number(this.$minutes.val());
            if (!_.isNaN(t) && !_.isNaN(i)) {
                var s = new Date(this.datePickerData.getValue().getTime())
                  , n = this.$amToggle.data("value");
                n ? s.setHours(t + 12) : s.setHours(t),
                s.setMinutes(i),
                this.date = s,
                e > 12 ? (this.$hours.val(t),
                this._setAmPm(!0)) : "0" === e && (this.$hours.val(12),
                this._setAmPm(!1))
            }
        },
        _setAmPm: function(e) {
            e ? (this.$amToggle.text(TD.i("PM")),
            this.$amToggle.data("value", !0)) : (this.$amToggle.text(TD.i("AM")),
            this.$amToggle.data("value", !1)),
            this._refreshDate()
        },
        setDate: function(e) {
            if (e) {
                var t = e.getHours() % 12 || 12
                  , i = e.getHours() > 11
                  , s = e.getMinutes();
                this._setAmPm(i),
                this.datePickerData.setValue(e.getFullYear(), e.getMonth(), e.getDate()),
                this.$hours.val(t),
                this.$minutes.val(("00" + s).slice(-2))
            }
            this.date = e,
            this.publishDateChanged()
        },
        getDate: function() {
            return this.date
        },
        publishDateChanged: function(e) {
            $.publish("/change/date", [void 0 !== e ? e : this.getDate()])
        },
        publishRemoval: function() {
            this.date = null ,
            this.publishDateChanged(null ),
            $.publish("/removed/date")
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.SearchInput = TD.components.Base.extend(function(e) {
        var t = this;
        _.isString(e) ? this.promptText = e : this.promptText = TD.i("Enter a #hashtag or keyword"),
        this.$node = $(TD.ui.template.render("add_column_search_input", {
            searchInputClassName: "js-add-column-search-input",
            searchInputPlaceholder: this.promptText
        })),
        this.$inputBox = this.$find(".js-add-column-search-input"),
        this.$searchButton = this.$find(".js-perform-search"),
        this.$spinner = this.$find(".js-spinner"),
        this.$clearButton = this.$find(".js-clear-search"),
        this.$node.submit(function(e) {
            t._search(),
            e.preventDefault()
        }),
        this.$clearButton.click(function(e) {
            t._clear(),
            e.preventDefault()
        }),
        this.$searchButton.click(function(e) {
            t._search(),
            e.preventDefault()
        }),
        this.boundCancelSearch = this.cancelSearch.bind(this),
        this.$inputBox.on("uiInputBlur", this.boundCancelSearch)
    }).methods({
        cancelSearch: function() {
            this.$inputBox.val("").blur()
        },
        _search: function() {
            var e = $.trim(this.$inputBox.val());
            "" === e ? this._clear() : this.prevSearchTerm !== e && (this.prevSearchTerm = e,
            this.bubbleEvent("td-search", this.$inputBox.val()))
        },
        _clear: function() {
            this.$inputBox.val(""),
            this.prevSearchTerm = "",
            this.$inputBox.focus(),
            this.bubbleEvent("td-search-clear"),
            this.$clearButton.hide(),
            this.$searchButton.show()
        },
        showActivity: function() {
            this.$searchButton.hide(),
            this.$clearButton.hide(),
            this.$spinner.show()
        },
        hideActivity: function() {
            var e = "" !== this.$inputBox.val();
            this.$clearButton.toggle(e),
            this.$searchButton.toggle(!e),
            this.$spinner.hide()
        },
        destroy: function() {
            $(document).off("uiSearchBlur", this.boundCancelSearch),
            this.$inputBox.unbind(),
            this.$node.remove()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.SelfAccounts = TD.components.Base.extend(function(e) {
        var t = TD.storage.accountController.getPostingAccounts();
        this.titleText = TD.i("Your Accounts"),
        this.service = e,
        this.items = [],
        this.$node = $(TD.ui.template.render("open_column_list_with_header", {
            title: this.titleText
        })),
        this.$list = this.$find(".js-list-container");
        for (var i = 0; i < t.length; i++) {
            var s = t[i]
              , n = s.getType();
            if (!this.service || n === this.service) {
                var r = (new TD.components.MenuItem).selfAccount(t[i]);
                this.items.push(r),
                this.$list.append(r.$node)
            }
        }
    }).methods({
        selectDefault: function() {
            for (var e, t = TD.storage.accountController.getDefault(), i = t.getKey(), s = 0; s < this.items.length; s++)
                if (e = this.items[s],
                i === e.account.getKey()) {
                    e.select();
                    break
                }
        },
        destroy: function() {
            _.each(this.items, function(e) {
                e.destroy()
            }),
            this.$node.remove()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.ServicesSettings = TD.components.Base.extend(function() {
        this.$node = $(TD.ui.template.render("settings/global_setting_services", {})),
        $("#global-settings").append(this.$node),
        this.$bitlyForm = $("#bitly-form"),
        this.$bitlyUsername = $("#bitly-email"),
        this.$bitlyKey = $("#bitly-key"),
        this.$linkShorteners = $("#link-shortening"),
        this.$linkShorteners.change(_.bind(this.handleLinkShortenerChange, this)),
        this.setLinkShortener()
    }).methods({
        handleLinkShortenerChange: function(e) {
            var t = this.$linkShorteners.val();
            t = t.split("-")[1],
            TD.settings.setLinkShortener(t),
            this.setLinkShortener()
        },
        setLinkShortener: function() {
            var e = TD.settings.getLinkShortener()
              , t = TD.services.bitly.getAccount();
            this.$linkShorteners.val("link-" + e),
            "bitly" === e ? (this.$bitlyForm.show(),
            t && (this.$bitlyUsername.val(t.login),
            this.$bitlyKey.val(t.apiKey))) : this.$bitlyForm.hide()
        },
        destroy: function() {
            this.saveChanges(),
            this.$node.remove()
        },
        saveChanges: function() {
            TD.util.metric("settings:services:save");
            var e = TD.settings.getLinkShortener();
            return "bitly" !== e ? TD.core.defer.succeed() : TD.services.bitly.updateAccount({
                login: this.$bitlyUsername.val(),
                apiKey: this.$bitlyKey.val()
            })
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.SplitMenu = TD.components.Base.extend(function() {
        this.$node = $(TD.ui.template.render("open_split_menu")),
        this.menuItems = [],
        this.rightPillarComponent = null ,
        this.$leftPinnedContainer = this.$find(".js-left-pinned"),
        this.$leftPillarContainer = this.$find(".js-left-column"),
        this.$rightPillarContainer = this.$find(".js-right-column")
    }).methods({
        appendMenuItem: function(e) {
            this.menuItems.push(e),
            this.$leftPillarContainer.append(e.$node)
        },
        removeMenuItem: function(e) {
            e.destroy(),
            this.menuItems = _.without(this.menuItems, e)
        },
        appendPinnedMenuItem: function(e) {
            this.menuItems.push(e),
            this.$leftPillarContainer.addClass("s-with-pinned"),
            this.$leftPinnedContainer.html(e.$node)
        },
        appendMenuItemElement: function(e) {
            this.$leftPillarContainer.append(e)
        },
        setRightPillar: function(e) {
            this.rightPillarComponent && this.rightPillarComponent.destroy(),
            this.rightPillarComponent = e,
            this.$rightPillarContainer.html(e.$node)
        },
        destroy: function() {
            _.each(this.menuItems, function(e) {
                e.destroy()
            }),
            this.rightPillarComponent && this.rightPillarComponent.destroy(),
            this.supr()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.SuggestedUsers = TD.components.TwitterUserSearch.extend(function(e, t, i, s) {
        this.searchTerm = s,
        this._ready = !1,
        this._userData = null ,
        this.resultsTitle = TD.i("Suggested"),
        $(".js-title", this.$searchResults).text(this.resultsTitle),
        this.$node = this.$searchResults,
        this.searchInput.$node.detach(),
        this._search(s)
    }).methods({
        _handleUsers: function(e) {
            this._ready ? e && e.length > 0 && (this.supr(e),
            this._userData = null ) : this._userData = e
        },
        render: function() {
            this._ready || (this._ready = !0,
            this._handleUsers(this._userData))
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.TemporaryColumn = TD.components.Base.extend(function() {
        this.type = void 0,
        this.service = void 0,
        this.accountKey = void 0,
        this.metaString = void 0,
        this.column = null ,
        this.$actionButton = null ,
        this.destroyCallbacks = []
    }).statics({
        DELETED_EVENT: "td-column-deleted"
    }).methods({
        _init: function(e) {
            var t = TD.controller.columnManager.makeColumnFor(e);
            this.renderColumn(t)
        },
        renderColumn: function(e) {
            this.column = e,
            e.visible = !0,
            e.temporary = !0,
            TD.controller.columnManager.add(this.column);
            var t = this.column.model
              , i = {
                columnkey: t.getKey(),
                columntitle: this.column.getTitleHTML(),
                columniconclass: this.column.getIconClass(),
                isTemporary: !0
            };
            this.$node = $(TD.ui.template.render("column", i)),
            TD.util.isTouchDevice() && TD.decider.get("touchdeck_tweet_controls_v3") && this.$node.find(".js-chirp-container").addClass("is-touch-tweet-container"),
            this.$actionButton = this.$find(".js-action-header-button")
        },
        populate: function() {
            TD.ui.columns.setupColumn(this.column),
            TD.controller.feedScheduler.addColumn(this.column, !1)
        },
        makePermanent: function() {
            var e = this.column.clone();
            TD.controller.columnManager.addColumnToUI(e)
        },
        home: function(e) {
            this._init({
                type: "home",
                service: "tweetdeck"
            })
        },
        me: function() {
            this._init({
                type: "me",
                service: "tweetdeck"
            })
        },
        inbox: function() {
            this._init({
                type: "privateMe",
                service: "tweetdeck"
            })
        },
        scheduled: function() {
            this._init({
                type: "scheduled",
                service: "tweetdeck"
            })
        },
        genericTwitter: function(e, t, i) {
            var s, n, r = "twitter", o = t.getKey(), a = i ? i.id : void 0;
            i ? (s = TD.controller.columnManager.NON_SELF_FEED_TYPE[e] || e,
            e === TD.controller.columnManager.MENTIONS && (a = "+@" + i.screenName),
            TD.cache.names.addScreenName(i.id, i.screenName)) : (e === TD.controller.columnManager.MENTIONS && (n = new TD.vo.SearchFilter,
            n.action.fromJSONObject({
                showMentions: !0
            })),
            e === TD.controller.columnManager.FOLLOWERS && (n = new TD.vo.SearchFilter,
            n.action.fromJSONObject({
                showFollowers: !0
            })),
            s = TD.controller.columnManager.SELF_FEED_TYPE[e] || e),
            this._init({
                type: s,
                service: r,
                accountKey: o,
                metaString: a,
                searchFilter: n
            })
        },
        search: function(e, t) {
            if (!t) {
                var i = TD.storage.accountController.getPreferredAccount("twitter");
                t = i.getKey()
            }
            this._init({
                type: "search",
                service: "twitter",
                accountKey: t,
                metaString: e
            })
        },
        list: function(e) {
            function t() {
                if (e.isOwnList()) {
                    var t = i.$find(".js-action-header-button");
                    t.text(TD.i("Edit")),
                    t.removeClass("is-hidden"),
                    t.click(function() {
                        i.bubbleEvent(TD.components.BaseModal.CLOSE_EVENT),
                        new TD.components.ListMembers(e)
                    })
                }
            }
            var i = this
              , s = e.user.account.getKey()
              , n = e.user.id + "/" + e.id;
            TD.cache.names.addScreenName(e.user.id, e.user.screenName),
            TD.cache.names.addListName(e.id, e.name),
            this._init({
                type: "list",
                service: "twitter",
                accountKey: s,
                metaString: n
            }),
            t();
            var r = $(document)
              , o = function(e, s) {
                i.column.model.privateState.key === s.columnKey && t()
            }
            ;
            r.on("uiColumnTitleRefreshed", o),
            this.destroyCallbacks.push(r.off.bind(r, "uiColumnTitleRefreshed", o))
        },
        customTimeline: function(e) {
            function t() {
                if (e.isOwnCustomTimeline()) {
                    var t = i.$find(".js-action-header-button");
                    t.text(TD.i("Delete")),
                    t.removeClass("is-hidden"),
                    t.addClass("btn-negative"),
                    t.click(function() {
                        var e = _.uniqueId()
                          , t = {
                            id: e,
                            title: TD.i("Delete"),
                            message: TD.i("Are you sure you want to delete this collection?"),
                            okLabel: TD.i("Delete"),
                            cancelLabel: TD.i("Cancel")
                        }
                          , s = function(t, s) {
                            s.id === e && ($(document).off("uiConfirmationAction"),
                            s.result && i.column.deleteCustomTimeline(function() {
                                _.defer(function() {
                                    i.bubbleEvent(TD.components.TemporaryColumn.DELETED_EVENT)
                                })
                            }))
                        }
                        ;
                        r.on("uiConfirmationAction", s),
                        i.destroyCallbacks.push(r.off.bind(r, "uiConfirmationAction", s)),
                        i.$node.trigger("uiShowConfirmationDialog", t)
                    })
                }
            }
            var i = this
              , s = e.account.getKey()
              , n = e.user.id + "/" + e.id;
            TD.cache.names.addCustomTimelineName(e.id, e.name),
            TD.cache.names.addScreenName(e.user.id, e.user.screenName),
            this._init({
                type: TD.util.columnUtils.feedTypes.CUSTOMTIMELINE,
                service: "twitter",
                accountKey: s,
                metaString: n
            }),
            t();
            var r = $(document)
              , o = function(e, s) {
                i.column.model.privateState.key === s.columnKey && t()
            }
            ;
            $(document).on("uiColumnTitleRefreshed", o),
            this.destroyCallbacks.push(r.off.bind(r, "uiColumnTitleRefreshed", o))
        },
        dataminr: function(e, t) {
            this._init({
                type: "dataminr",
                service: "twitter",
                accountKey: t,
                metadata: {
                    watchlist: e
                }
            })
        },
        destroy: function() {
            this.column && this.column.temporary && TD.controller.columnManager.removeFromAppLayer(this.column.model.getKey()),
            this.destroyCallbacks.forEach(function(e) {
                e.call(this)
            }
            .bind(this)),
            this.$node.remove()
        }
    })
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(18)
      , r = s(n)
      , o = i(19)
      , a = s(o);
    TD.components.Trends = TD.components.Base.extend(function() {
        this.defaultWoeid = 1,
        this.isTailoredTrendsOn = TD.decider.get("trends_tailored"),
        this.isRegionalTrendsOn = TD.decider.get("trends_regional"),
        this.withLocationSelector = this.isTailoredTrendsOn || this.isRegionalTrendsOn,
        this.$node = $(TD.ui.template.render("list_module_trends", {
            withLocationSelector: this.withLocationSelector
        })),
        this.$trendList = this.$find(".js-trend-list"),
        this.trendComponents = [],
        this.boundHandleChangeTrend = this.handleChangeTrend.bind(this),
        this.boundHandleChangeCity = this.handleChangeCity.bind(this),
        this.citiesByCountryWoeid = null ,
        this.$trends = this.$find(".js-trends"),
        this.$trendsSelect = this.$find(".js-trends-select"),
        this.$trendsSelect.on("change", this.boundHandleChangeTrend),
        this.$cities = this.$find(".js-cities"),
        this.$citiesSelect = this.$find(".js-cities-select"),
        this.$citiesSelect.on("change", this.boundHandleChangeCity),
        this.account = TD.storage.accountController.getPreferredAccount("twitter"),
        this.client = TD.controller.clients.getClient(this.account.getKey());
        var e = this.preloadTrendSelectors();
        e.addCallback(this.handleChangeTrend.bind(this)),
        e.addErrback(function(e) {
            this.$trendList.html(TD.i("There was a problem loading trends. Please try again.")),
            console.error(e.stack)
        }
        .bind(this))
    }).statics({
        PLACE_TYPE_TOWN: 7,
        PLACE_TYPE_COUNTRY: 12,
        PLACE_TYPE_WORLDWIDE: 19
    }).methods({
        handleChangeTrend: function() {
            var e = this.$trendsSelect.val();
            try {
                var t = JSON.parse(e)
            } catch (i) {
                t = {
                    type: "location",
                    id: this.defaultWoeid
                }
            }
            if ("tailored" === t.type)
                return this.showTailoredTrendsFor(t.id);
            var s = this.citiesByCountryWoeid[t.id];
            !s || s.length <= 1 ? (this.$cities.addClass("is-hidden"),
            this.$citiesSelect.html("")) : (this.$cities.removeClass("is-hidden"),
            this.$citiesSelect.html(s)),
            this.showTrendsForLocation(t.id)
        },
        handleChangeCity: function() {
            var e = this.$citiesSelect.val();
            this.showTrendsForLocation(e)
        },
        makeOptGroup: function(e, t) {
            var i = document.createElement("optgroup");
            return i.label = e,
            $(i).attr(t || {})
        },
        makeOption: function(e, t) {
            var i = document.createElement("option");
            return $(i).text(e).attr(t || {})
        },
        preloadTrendSelectors: function() {
            var e = this.makeOptGroup(TD.i("Regions"), {
                "data-group-id": "regions"
            });
            e.append(this.makeOption(TD.i("Worldwide"), {
                selected: !this.isTailoredTrendsOn,
                value: (0,
                a.default)({
                    type: "location",
                    id: this.defaultWoeid
                }),
                "data-region": "Worldwide"
            }));
            var t = TD.core.defer.succeed({
                trends: [e],
                citiesByCountryWoeid: {}
            });
            return this.isTailoredTrendsOn && t.addCallback(this.preloadTailoredTrends.bind(this)),
            this.isRegionalTrendsOn && t.addCallback(this.preloadRegionalTrends.bind(this)),
            t.addCallback(function(e) {
                this.$trendsSelect.append(e.trends),
                this.withLocationSelector && this.$trends.removeClass("is-hidden"),
                this.citiesByCountryWoeid = e.citiesByCountryWoeid
            }
            .bind(this)),
            t
        },
        preloadTailoredTrends: function(e) {
            var t = this.makeOptGroup(TD.i("Tailored"), {
                "data-group-id": "tailored"
            })
              , i = TD.storage.accountController.getAccountsForService("twitter").sort(function(e, t) {
                return TD.storage.accountController.getDefault() === e ? -1 : 0
            }).map(function(e, t) {
                return this.makeOption("@" + e.getUsername(), {
                    value: (0,
                    a.default)({
                        type: "tailored",
                        id: e.getUserID()
                    }),
                    selected: 0 === t
                })
            }, this);
            return t.append(i),
            e.trends.unshift(t),
            e
        },
        showTailoredTrendsFor: function(e) {
            this.resetTrends();
            var t = TD.storage.accountController.getAccountFromId(e)
              , i = TD.controller.clients.getClient(t.getKey());
            i.getTailoredTrends(this.displayTrends.bind(this))
        },
        preloadRegionalTrends: function(e) {
            var t = new TD.core.defer.Deferred;
            return this.client.getTrendLocations(function(i) {
                var s = i.reduce(function(e, t) {
                    if (!this.canDisplay(t) || this.isWorldwide(t))
                        return e;
                    switch ("undefined" == typeof e[t.country] && (e[t.country] = {
                        $elem: null ,
                        $cities: []
                    }),
                    t.placeType.code) {
                    case TD.components.Trends.PLACE_TYPE_COUNTRY:
                        e[t.country].$elem = this.makeOption(t.country, {
                            value: (0,
                            a.default)({
                                type: "location",
                                id: t.woeid
                            }),
                            "data-region": t.country
                        }),
                        e[t.country].$cities.unshift(this.makeOption(TD.i("All cities"), {
                            selected: !0,
                            value: t.woeid
                        }));
                        break;
                    case TD.components.Trends.PLACE_TYPE_TOWN:
                        e[t.country].$cities.push(this.makeOption(t.name, {
                            value: t.woeid
                        }))
                    }
                    return e
                }
                .bind(this), {})
                  , n = e.trends.filter(function(e) {
                    return "regions" === $(e).attr("data-group-id")
                })[0];
                return n ? (n.append((0,
                r.default)(s).sort().map(function(t) {
                    var i = s[t].$cities[0].val();
                    return e.citiesByCountryWoeid[i] = s[t].$cities,
                    s[t].$elem
                })),
                void t.callback(e)) : t.callback(e)
            }
            .bind(this)),
            t
        },
        canDisplay: function(e) {
            return -1 !== [TD.components.Trends.PLACE_TYPE_WORLDWIDE, TD.components.Trends.PLACE_TYPE_TOWN, TD.components.Trends.PLACE_TYPE_COUNTRY].indexOf(e.placeType.code)
        },
        isWorldwide: function(e) {
            return e.placeType.code === TD.components.Trends.PLACE_TYPE_WORLDWIDE
        },
        showTrendsForLocation: function(e) {
            this.resetTrends(),
            this.client.getTrends(e, this.displayTrends.bind(this))
        },
        displayTrends: function(e) {
            e = e.trends;
            for (var t, i = 0; i < e.length; i++)
                e[i].promotedContent || (t = (new TD.components.MenuItem).basic(e[i].name),
                this.trendComponents.push(t),
                this.$trendList.append(t.$node))
        },
        resetTrends: function() {
            this.$trendList.empty(),
            this.destroyTrendComponents()
        },
        destroyTrendComponents: function() {
            this.trendComponents.forEach(function(e) {
                e.destroy()
            }),
            this.trendComponents = []
        },
        destroy: function() {
            this.destroyTrendComponents(),
            this.$trendsSelect.off("click", this.boundHandleChangeTrend),
            this.$citiesSelect.off("click", this.boundHandleChangeCity),
            this.$node.remove()
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.TweetDetailView = TD.components.DetailView.extend(function(e, t) {}).statics({
        CARD_CONTAINER: ".js-cards-container",
        MEDIA_CONTAINER: ".js-tweet-media",
        TWEET_STAT: ".js-tweet-stat",
        RENDER_OPTIONS: {
            headerClass: "js-detail-header",
            headerAction: "resetToTopColumn",
            headerLinkClass: "js-column-back"
        }
    }).methods({
        _render: function(e) {
            var t = $.extend({}, TD.components.TweetDetailView.RENDER_OPTIONS, e);
            this.$node = $(TD.ui.template.render("status/tweet_detail_wrapper", t))
        },
        showChirp: function(e, t) {
            this.chirp = e,
            this.parentChirp = t,
            this._renderChirp(),
            this._subscription || (this._subscription = $.subscribe("/tweets/conversation/" + e.getMainTweet().id, function(e) {
                e.root && (this.chirp = e.root,
                this._showCardsForChirp(this.chirp),
                this._refreshPoll(this.chirp))
            }
            .bind(this))),
            this._showCardsForChirp(e),
            this._refreshPoll(e),
            TD.ui.Column.identifyInlinedLinks(this.$node)
        },
        _showCardsForChirp: function(e) {
            var t = TD.settings.getDisplaySensitiveMedia();
            if (e.cards && !e.quotedTweet) {
                e.cards.isPossiblySensitive = e.possiblySensitive && !t;
                var i = TD.ui.template.render("cards/card_layouts", e.cards);
                this.$find(TD.components.TweetDetailView.CARD_CONTAINER).html(i)
            }
            this.showMedia(e)
        },
        _refreshPoll: function(e) {
            this.$find(".js-poll").replaceWith(TD.ui.template.render("status/poll", $.extend({}, e, {
                chirp: e
            })))
        },
        showMedia: function(e) {
            if (e.getMedia()) {
                var t = TD.settings.getDisplaySensitiveMedia()
                  , i = e.possiblySensitive && !t;
                e.getMedia().forEach(function(e) {
                    e.isPossiblySensitive = i
                });
                var s = TD.ui.template.render("status/tweet_detail_media", $.extend({}, e, {
                    isPossiblySensitive: i
                }));
                this.$find(TD.components.TweetDetailView.MEDIA_CONTAINER).html(s)
            }
        },
        _chirpRetrievalError: function() {},
        _renderChirp: function(e) {
            var t = this.column.isOwnCustomTimeline()
              , i = !this.column.temporary && !t;
            this.$tweetDetail = $(TD.ui.template.render("status/tweet_detail", {
                withDragHandle: i && !this.chirp.getMainUser().isProtected,
                withRemove: t,
                renderQuoted: function() {
                    return this.renderQuotedTweet({
                        isMediaPreviewInQuoted: !0,
                        mediaPreviewSize: TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM,
                        thumbSizeClass: TD.services.TwitterMedia.thumbSizeClasses.medium
                    })
                },
                chirp: this.chirp
            })),
            this.$tweetDetail.find(".tweet-location-search").on("click", function(t) {
                return $(document).trigger("uiPerformSearch", {
                    query: 'near:"' + e.getLocationFullName() + '"'
                }),
                !1
            }),
            this.$tweetDetail.find(".js-detail-view-inline-text").html("Reply to " + this.chirp.getReplyUsers().join(" ")),
            this.$find(".js-tweet-detail").html(this.$tweetDetail);
            var s = this.$find(".spn-loading")
              , n = this.$header
              , r = this.$tweetDetail.find(".js-translate-call-to-action")
              , o = this.column.getMediaPreviewSize();
            o !== TD.vo.Column.MEDIA_PREVIEW_OFF && (o = TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL),
            this.replies = new TD.components.InReplyTo(this.chirp,this.$detailContainer,o,i),
            this.retweeters = new TD.components.Retweeters(this.chirp,TD.components.DetailView.RETWEETER_COUNT),
            this.repliesTo = new TD.components.RepliesTo(this.chirp,o,i),
            this.$find(".js-inreplyto").replaceWith(this.replies.$node),
            this.$find(".js-tweet-stats").append(this.retweeters.$node),
            this.$find(".js-tweet-replies").append(this.repliesTo.$node),
            this._boundShowSocialProof = this.showSocialProof.bind(this),
            this.$column.on("click", TD.components.TweetDetailView.TWEET_STAT, this._boundShowSocialProof),
            this.replies.$node.bind(TD.components.InReplyTo.BEGIN, function() {
                s.show()
            }),
            this.replies.$node.bind(TD.components.InReplyTo.END, function() {
                n.addClass("gradient-top"),
                s.hide()
            }),
            r.on("click", function() {
                this.chirp.translate()
            }
            .bind(this)),
            this.initialised = !0,
            this.$tweetDetail.trigger("uiDetailViewActive", {
                $chirp: this.$tweetDetail,
                chirp: this.chirp,
                parentChirp: this.parentChirp
            }),
            TD.controller.stats.tweetImpression(this.chirp.getScribeItemData());
            var a = this.chirp.getMainTweet();
            a.isOwnChirp() && TD.controller.stats.ownTweetDetailImpression(a.getScribeItemData())
        },
        showSocialProof: function(e) {
            var t = $(e.target).closest(TD.components.TweetDetailView.TWEET_STAT).data("type");
            this.$column.trigger("uiShowSocialProof", {
                type: t,
                tweetSummary: this.retweeters.tweetSummary,
                $chirp: this.$tweetDetail,
                chirp: this.chirp,
                parentChirp: this.parentChirp
            })
        },
        destroy: function() {
            this._subscription && $.unsubscribe(this._subscription),
            this.$column.off("click", this._boundShowSocialProof);
            var e = function() {
                this.initialised && (this.replies.destroy(),
                this.retweeters.destroy(),
                this.repliesTo.destroy())
            }
            .bind(this);
            this.supr(e)
        },
        findChirp: function(e) {
            return this.initialised ? this.replies.findChirp(e) || this.repliesTo.findChirp(e) : void 0
        },
        getMostInteresting$Chirp: function() {
            return this.$tweetDetail
        }
    })
}
, function(e, t) {
    "use strict";
    TD.components.TwitterUserSearch = TD.components.Base.extend(function(e, t, i) {
        e || (e = TD.storage.accountController.getPreferredAccount("twitter")),
        e && (this.ListItemComponent = i,
        this.client = TD.controller.clients.getClient(e.getKey()),
        this.maxResults = t || TD.components.TwitterUserSearch.MAX_RESULTS,
        this.searchInput = new TD.components.SearchInput(TD.i("Enter a @name or full name")),
        this.items = [],
        this.resultsTitle = TD.i("Search results"),
        this.$searchResults = $(TD.ui.template.render("open_column_list_with_header", {
            title: this.resultsTitle
        })),
        this.$searchResults.hide(),
        this.$node = $(this.searchInput.$node),
        this.$node.append(this.$searchResults),
        this.$node.bind("td-search", _.bind(this._handleSearchSubmit, this)),
        this.$node.bind("td-search-clear", _.bind(this._handleSearchClear, this)),
        this.$searchResultsList = this.$find(".js-list-container"))
    }).statics({
        SEARCH_COMPLETE: "td-search-complete",
        MAX_RESULTS: 4
    }).methods({
        _handleSearchSubmit: function(e, t) {
            this.searchInput.showActivity();
            var i = t.data;
            this._search(i),
            e.stopPropagation()
        },
        _search: function(e) {
            e && this.client.userSearch(e, _.bind(this._handleUsers, this))
        },
        _handleSearchClear: function(e) {
            _.each(this.items, function(e) {
                e.destroy()
            }),
            this.$searchResults.hide()
        },
        _handleUsers: function(e) {
            this.searchInput.hideActivity();
            var t, i, s;
            for (e = _.take(e, this.maxResults),
            this.items = [],
            this.$searchResultsList.empty(),
            t = 0,
            i = e.length; i > t; t++)
                s = this.ListItemComponent ? new this.ListItemComponent(e[t]) : (new TD.components.MenuItem).twitterUser(e[t]),
                this.items.push(s),
                this.$searchResultsList.append(s.$node);
            this.$searchResults.show(),
            this.bubbleEvent(TD.components.TwitterUserSearch.SEARCH_COMPLETE)
        },
        detachResultsContainer: function() {
            return this.$searchResults.detach()
        },
        destroy: function() {
            _.each(this.items, function(e) {
                e.destroy()
            }),
            this.supr()
        }
    })
}
, function(e, t, i) {
    "use strict";
    TD.buildID = "6149bf5338fe6dbab32001b276d57626ffc45053",
    TD.buildIDShort = "6149bf5",
    TD.version = "4.0.160505102101",
    TD.config = {
        minimum_version: "4.0.160318155607",
        web_root: "https://tweetdeck.twitter.com",
        api_root: "https://tweetdeck.twitter.com",
        twitter_api_base: "https://api.twitter.com",
        twitter_api_version: "1.1",
        twitter_stream_base: "https://userstream.twitter.com",
        twitter_upload_base: "https://upload.twitter.com",
        td_create_key: "WRaMQNHU2Jy51bhFEL3C",
        td_create_secret: "MiLkmD1t1xlZqKoLLY8ScxX5gwpOQsjBopZcV4KLcuo=",
        bearer_token: "AAAAAAAAAAAAAAAAAAAAAF7aAAAAAAAAi95Q2QkUrMfOxflMJIWoZ3JcvJw%3DOLBx5qSvcDbL37ad9Moq9MtZN2yYQ0r6zKtIupfa5AEbVAoZnM",
        mapbox_access_token: "pk.eyJ1IjoidHdpdHRlcmdlbzQ0YWJjN2IiLCJhIjoiY2lteGNuejUzMDBlMXZwbTFwYnpmcXcxaSJ9.v5xhiTh6Z0KAvBaKWfsI-w",
        client_name: "blackbird",
        sync_name: "blackbird",
        touchdeck: !0
    }
}
, function(e, t) {
    "use strict";
    TD.constants = {
        keyCodes: {
            enter: 13,
            shift: 16,
            escape: 27,
            tab: 9,
            del: 8,
            spacebar: 32,
            upArrow: 38,
            downArrow: 40,
            leftArrow: 37,
            rightArrow: 39
        },
        charCodes: {
            space: 32,
            questionMark: 63
        },
        regexps: {
            name: /\S+/,
            username: /^[@＠]?([a-zA-Z0-9_]{1,15})$/,
            usernameWithAt: /^[@＠]{1}([a-zA-Z0-9_]{1,15}) /,
            usernameWithSpace: /^[@＠]{1}(\w{1,15})\s*$/,
            email: /^[\w-]+([^@,\s\<\>\(\)]*[\w-]+)?\@[\w-]+(\.[\w-]+)*\.[a-z]{2,}$/i,
            tokenSeparator: /[\s-_]+/
        },
        time: {
            oneDay: 864e5,
            oneHour: 36e5
        },
        TDApi: {
            ERROR_ACCOUNT_DOESNT_EXIST: "Account does not exist.",
            ERROR_BAD_PASSWORD: "BadPassword",
            ERROR_SESSION_EXPIRED: "SessionExpired",
            ERROR_RATE_LIMIT_EXCEEDED: "RateLimitExceeded"
        }
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(89);
    TD.controller.auth = function() {
        var e = {}
          , t = {
            twitter: "TwitterAuth",
            bitly: "BitlyValidate"
        };
        return e.create = function(e, i) {
            return TD.sync.util.assert(t[e], 'bad name for auth "' + e + '"'),
            new TD.controller.auth[t[e]](i)
        }
        ,
        e
    }(),
    TD.controller.auth.AuthorisationProcessor = function() {
        this.start = function(e, t, i) {
            TD.util.isChromeApp() ? this.start_chrome(e, t, i) : TD.util.isWrapperApp() ? this.start_wrapper(e, t, i) : this.start_web(e, t, i)
        }
        ,
        this.start_wrapper = function(e, t, i) {
            var s = deck.authenticateOn(this.getAuthURL(e, i))
              , n = this
              , r = function(i) {
                var r = n.getTokenFromURL(e.getType(), i);
                r && (r.access_token ? n.updateAccount(r.access_token, t) : n.updateAccount(r.oauth_token, r.oauth_token_secret, t),
                s.hide(),
                s.deleteLater())
            }
            ;
            s.loadedUrl.connect(r),
            s.show()
        }
        ,
        this.start_web = function(e, t, i) {
            var s = window.open(this.getAuthURL(e, i), "mywindow", "width=800,height=450")
              , n = this
              , r = function o() {
                var i, r;
                try {
                    s && s.location && s.location.href && (i = s.location.href)
                } catch (a) {}
                return i && (r = n.getTokenFromURL(e.getType(), i)) ? (r.access_token ? n.updateAccount(r.access_token, t) : n.updateAccount(r.oauth_token, r.oauth_token_secret, t),
                void s.close()) : void setTimeout(o, 250)
            }
            ;
            setTimeout(r, 500)
        }
        ,
        this.getAuthURL = function(e, t) {
            var i = "oauth"
              , s = e.getType()
              , n = {};
            if ("twitter" === s) {
                var r = Boolean(t)
                  , o = e.getUsername();
                r && (n.force_login = r),
                o && (n.screen_name = o)
            }
            return TD.net.util.addURLParameters(TD.config.api_root + "/" + i + "/authorize/" + s, n)
        }
        ,
        this.getTokenFromURL = function(e, t) {
            var i, s;
            return (_.contains(t, "/oauth/success/" + e) || _.contains(t, "/oauth2/success/" + e)) && (s = t.split("?")[1],
            i = TD.net.util.formDecode(s)),
            i
        }
        ,
        this.start_chrome = function(e, t, i) {
            var s, n, r = this;
            chrome.tabs.getSelected(null , function(e) {
                s = e.id
            }),
            n = {
                url: this.getAuthURL(e, i)
            },
            chrome.tabs.create(n, function(i) {
                var n = i.id;
                chrome.tabs.onUpdated.addListener(function(i, o, a) {
                    var c;
                    i === n && a.url && "complete" == a.status && (c = r.getTokenFromURL(e.getType(), a.url),
                    c && (c.access_token ? r.updateAccount(c.access_token, t) : r.updateAccount(c.oauth_token, c.oauth_token_secret, t),
                    chrome.tabs.update(s, {
                        selected: !0
                    }),
                    chrome.tabs.remove(i)))
                })
            })
        }
    }
    ,
    TD.controller.auth.TwitterAuth = function(e) {
        var t = this;
        t.account = e,
        this.verifyAccount = function(e, i) {
            $(document).trigger("metric", {
                key: "auth:twitter:verify:start"
            });
            var s = t.account
              , n = TD.config.twitter_api_base + "/" + TD.config.twitter_api_version
              , r = n + "/account/verify_credentials.json"
              , o = TD.net.ajax.request(r, {
                account: s,
                isSigned: !0,
                settings: {
                    timeout: 6e3
                }
            });
            o.addCallback(function(n) {
                var r = n.data
                  , o = s.getUserID();
                o && o != r.id ? (console.log("Attempting to update wrong account:", s, "Using data:", r),
                $(document).trigger("metric", {
                    key: "auth:twitter:verify:wrong_account"
                }),
                TD.sync.util.printStacktrace(),
                TD.controller.progressIndicator.addMessage("Failed to add account. Please try again later."),
                i()) : ($(document).trigger("metric", {
                    key: "auth:twitter:verify:success"
                }),
                t.updateAccountFromVerifySuccess(s, r),
                e(s))
            }),
            o.addErrback(function(e) {
                return $(document).trigger("metric", {
                    key: "auth:twitter:verify:fail"
                }),
                TD.controller.progressIndicator.addMessage("Failed to verify account. Please try again later."),
                e
            }),
            i && o.addErrback(i)
        }
        ,
        this.verifyCookieAccount = function() {
            return TD.util.metric("auth:twitter:verify-cookie:start"),
            TD.net.ajax.getCookieUser().addCallbackWith(this, function(e) {
                TD.util.metric("auth:twitter:verify-cookie:success"),
                this.updateAccountFromVerifySuccess(this.account, e.data)
            }).addErrback(TD.util.effect(function(e) {
                TD.util.metric("auth:twitter:verify-cookie:fail")
            }))
        }
        ,
        this.updateAccountFromVerifySuccess = function(e, t) {
            e.setUsername(t.screen_name),
            e.setName(t.name),
            e.setProfileImageURL(t.profile_image_url_https),
            e.setUserID(t.id_str),
            e.setIsPrivate(t.protected),
            e.setUpdated(Date.now()),
            e.computeKey()
        }
        ,
        this.updateAccount = function(e, i, s) {
            var n = t.account;
            n.setUsername(""),
            n.setUserID(""),
            n.setType("twitter"),
            n.setOAuthToken(e),
            n.setTokenSecret(i),
            this.verifyAccount(s)
        }
        ,
        this.isAccountEmployee = function() {
            var e = TD.config.twitter_api_base + "/" + TD.config.twitter_api_version
              , t = e + "/help/settings.json"
              , i = TD.net.ajax.request(t, {
                account: this.account,
                settings: {
                    timeout: 6e3
                }
            });
            return i.addCallback(function(e) {
                return s.getIn(e, "data.config.tweetdeck_is_employee.value", !1) || s.getIn(e, "data.config.tweetdeck_use_cookie.value", !1)
            }),
            i.addErrback(_.constant(!1)),
            i
        }
        ,
        this.becomeContributor = function() {
            var e, t = TD.storage.store.getTwitterLoginAccount(), i = TD.decider.get("convert_new_oauth_account_to_contributor");
            return i && !this.account.isContributor() && t && this.account.getUserID() !== t.getUserID() ? (e = this.becomeContributorApiRequest(t.getUserID()),
            e.addCallbackWith(this, function() {
                this.account.makeContributor(),
                this.account.setTokenSecret(void 0)
            }),
            e.addCallbacks(this.handleBecomeContributorSuccess.bind(this), this.handleBecomeContributorError.bind(this)),
            e) : TD.core.defer.succeed()
        }
        .bind(this),
        this.becomeContributorApiRequest = function(e) {
            var t = TD.config.twitter_api_base + "/" + TD.config.twitter_api_version
              , i = t + "/users/contributors/update.json";
            return TD.net.ajax.request(i, {
                account: this.account,
                isSigned: !0,
                method: "POST",
                params: {
                    user_id: e,
                    admin: !0
                }
            })
        }
        ,
        this.handleBecomeContributorSuccess = function(e) {
            return $(document).trigger("metric", {
                key: "account:become_contributor:success"
            }),
            e
        }
        ,
        this.handleBecomeContributorError = function(e) {
            var t, i = e.req.responseJSON.errors[0], s = "unknown", n = e.req.status;
            if (i)
                switch (s = i.code || s,
                i.code) {
                case 317:
                    t = TD.i("@{{username}} may not have any more Team members.", {
                        username: this.account.getUsername()
                    });
                    break;
                case 318:
                    t = TD.i("You cannot join any more Teams.");
                    break;
                case 330:
                    t = TD.i("You have privacy settings enabled preventing you from joining this Team. Visit twitter.com/settings to adjust.");
                    break;
                default:
                    t = i.message
                }
            return t = t || TD.i("An unknown error occurred. Please try again shortly."),
            TD.controller.progressIndicator.addMessage(t),
            $(document).trigger("metric", {
                key: "account:become_contributor:error:" + n + ":" + s
            }),
            e
        }
    }
    ,
    TD.controller.auth.BitlyValidate = function(e) {
        var t = this;
        t.account = e,
        this.updateAccount = function(e, t) {
            this.verifyAccount(t)
        }
        ,
        this.verifyAccount = function(e, i) {
            var s = t.account
              , n = "https://api-ssl.bitly.com/v3/validate"
              , r = {
                x_login: s.get("userId"),
                x_apiKey: s.get("oauth_token"),
                apiKey: "R_b8032856b71a14fabfe64f6845689ddf",
                login: "tweetdeckapi",
                format: "json"
            }
              , o = TD.net.ajax.jsonp(n, r);
            o.addCallback(function(t) {
                var n = t.data;
                return n.data && 1 == n.data.valid ? (s.setUpdated((new Date).getTime()),
                s.computeKey(),
                void e(s)) : void i()
            }),
            o.addErrback(i)
        }
    }
    ,
    TD.controller.auth.TwitterAuth.prototype = new TD.controller.auth.AuthorisationProcessor
}
, function(e, t) {
    "use strict";
    TD.controller.clients = function() {
        var e = {}
          , t = 300
          , i = function(e, t) {
            switch (e) {
            case "twitter":
                return new TD.services.TwitterClient(t);
            case "tweetdeck":
                return new TD.services.TweetDeckClient
            }
        }
        ;
        return {
            init: function() {
                $.subscribe("/storage/account/new", function(e) {
                    TD.controller.clients.initialiseClients()
                }),
                $(document).on("dataContributees", this.handleContributees.bind(this)).on("uiContributeeInviteAccept", this.handleContributeeInviteAccept.bind(this)),
                TD.controller.clients.initialiseClients()
            },
            initialiseClients: function() {
                for (var s, n = TD.storage.accountController.getPostingAccounts(), r = 0; r < n.length; r++)
                    s = e[n[r].getKey()],
                    s || (s = i(n[r].getType(), n[r]),
                    e[n[r].getKey()] = s);
                e.tweetdeck || (e.tweetdeck = new TD.services.TweetDeckClient),
                TD.controller.scheduler.schedulePeriodicTask(1200, TD.controller.clients.refreshRetweetBlockLists),
                TD.controller.scheduler.schedulePeriodicTask(t, this.fetchContributees.bind(this), !0),
                $(document).trigger("dataClientsUpdated")
            },
            getClient: function(t) {
                return e[t]
            },
            getTDClient: function() {
                return e.tweetdeck
            },
            getClientsByService: function(t) {
                var i = [];
                for (var s in e)
                    e[s].type == t && i.push(e[s]);
                return i
            },
            getPreferredClient: function(e) {
                var t = TD.storage.accountController.getPreferredAccount(e);
                return t ? this.getClient(t.getKey()) : void 0
            },
            showSharedAccountWarning: function() {
                var e = new TD.core.defer.Deferred
                  , t = function() {
                    $(document).off("uiAccountSharedWarningContinue uiAccountSharedWarningAbort")
                }
                  , i = function() {
                    $(document).trigger("uiShowAccountSettings")
                }
                ;
                return $(document).on("uiAccountSharedWarningContinue", function() {
                    t(),
                    i(),
                    e.callback()
                }).on("uiAccountSharedWarningAbort", function() {
                    t(),
                    i(),
                    e.cancel()
                }).on("uiAccountSharedWarningDismiss", function() {
                    t(),
                    e.cancel()
                }).trigger("uiShowAccountSharedWarning"),
                e
            },
            addClient: function(e, t) {
                t || (t = new TD.storage.Account,
                t.setType(e));
                var i = TD.controller.auth.create(e, t)
                  , s = this.getClientsByService(e).length > 0
                  , n = function() {
                    var e = i.becomeContributor();
                    e.addCallbackWith(this, function() {
                        TD.storage.accountController.manage(t),
                        this.initialiseClients()
                    })
                }
                .bind(this);
                $(document).trigger("metric", {
                    key: "account:manage:start"
                }),
                i.start(t, n, s)
            },
            removeClient: function(t) {
                var i = TD.storage.accountController.get(t);
                i && (e[t] && e[t].cleanUp && e[t].cleanUp(),
                delete e[t],
                TD.controller.feedManager.deleteFeedsWhere(function(e) {
                    return e.getAccountKey() === t
                }),
                TD.storage.accountController.blacklistAccount(i),
                $(document).trigger("dataClientsUpdated"))
            },
            refreshRetweetBlockLists: function() {
                if (TD.util.shouldStream()) {
                    var e = TD.controller.clients.getClientsByService("twitter");
                    _.each(e, function(e) {
                        e.populateRetweetBlockList()
                    })
                }
            },
            fetchContributees: function() {
                var e = TD.storage.store.getTwitterLoginAccount();
                e && $(document).trigger("uiNeedsContributees", {
                    accountKey: e.getKey()
                })
            },
            handleContributeeInviteAccept: function(e, t) {
                var i = TD.storage.accountController.manageContributee(t);
                i.addCallback(function() {
                    $(document).trigger("dataContributeeInviteSuccess", t)
                })
            },
            handleContributees: function(e, t) {
                var i = TD.storage.store.getTwitterLoginAccount();
                t.accountKey === i.getKey() && t.contributees.reduce(function(e, t) {
                    return TD.storage.accountController.isContributeeManaged(t) ? e.concat([t]) : ($(document).trigger("dataContributeeNotManaged", t),
                    e)
                }, []).forEach(function(e) {
                    TD.storage.accountController.manageContributee(e)
                })
            }
        }
    }()
}
, function(e, t) {
    "use strict";
    TD.controller.columnManager = function(e, t, i) {
        var s = {}
          , n = {}
          , r = [];
        s.TIMELINE = "timeline",
        s.MENTIONS = "mentions",
        s.FOLLOWERS = "followers",
        s.SEARCH = "search",
        s.LISTS = "lists",
        s.CUSTOMTIMELINES = "customtimelines",
        s.MESSAGES = "messages",
        s.TRENDS = "trends",
        s.TWEETS = "tweets",
        s.FAVORITES = "favorites",
        s.HOME = "home",
        s.ME = "me",
        s.INBOX = "privateMe",
        s.SCHEDULED = "scheduled",
        s.NETWORKACTIVITY = "networkactivity",
        s.INTERACTIONS = "interactions",
        s.DATAMINR = "dataminr",
        s.columnTypeToIconClass = {},
        TD.util.extendObjectWith(s.columnTypeToIconClass, [[s.TIMELINE, TD.util.columnUtils.columnIconClasses.HOME], [s.INTERACTIONS, TD.util.columnUtils.columnIconClasses.INTERACTIONS], [s.MENTIONS, TD.util.columnUtils.columnIconClasses.MENTIONS], [s.FOLLOWERS, TD.util.columnUtils.columnIconClasses.FOLLOWERS], [s.SEARCH, TD.util.columnUtils.columnIconClasses.SEARCH], [s.LISTS, TD.util.columnUtils.columnIconClasses.LIST], [s.CUSTOMTIMELINES, TD.util.columnUtils.columnIconClasses.CUSTOMTIMELINE], [s.MESSAGES, TD.util.columnUtils.columnIconClasses.MESSAGES], [s.TWEETS, TD.util.columnUtils.columnIconClasses.USER], [s.FAVORITES, TD.util.columnUtils.columnIconClasses.FAVORITES], [s.NETWORKACTIVITY, TD.util.columnUtils.columnIconClasses.ACTIVITY], [s.HOME, TD.util.columnUtils.columnIconClasses.HOME], [s.ME, TD.util.columnUtils.columnIconClasses.MENTIONS], [s.INBOX, TD.util.columnUtils.columnIconClasses.MESSAGES], [s.SCHEDULED, TD.util.columnUtils.columnIconClasses.SCHEDULED], [s.TRENDS, TD.util.columnUtils.columnIconClasses.TRENDS], [s.DATAMINR, TD.util.columnUtils.columnIconClasses.DATAMINR]]),
        s.SELF_ACCOUNTS_ONLY = {},
        s.SELF_ACCOUNTS_ONLY[s.MESSAGES] = !0,
        s.SELF_ACCOUNTS_ONLY[s.NETWORKACTIVITY] = !0,
        s.SELF_ACCOUNTS_ONLY[s.INTERACTIONS] = !0,
        s.SELF_ACCOUNTS_ONLY[s.FOLLOWERS] = !0,
        s.SELF_ACCOUNTS_ONLY[s.TIMELINE] = !0,
        s.TWITTER_GENERIC = {},
        s.TWITTER_GENERIC[s.TIMELINE] = !0,
        s.TWITTER_GENERIC[s.MENTIONS] = !0,
        s.TWITTER_GENERIC[s.FOLLOWERS] = !0,
        s.TWITTER_GENERIC[s.MESSAGES] = !0,
        s.TWITTER_GENERIC[s.TWEETS] = !0,
        s.TWITTER_GENERIC[s.FAVORITES] = !0,
        s.TWITTER_GENERIC[s.NETWORKACTIVITY] = !0,
        s.TWITTER_GENERIC[s.INTERACTIONS] = !0,
        s.SELF_FEED_TYPE = {},
        s.SELF_FEED_TYPE[s.TIMELINE] = "home",
        s.SELF_FEED_TYPE[s.MESSAGES] = "direct",
        s.SELF_FEED_TYPE[s.TWEETS] = "usertweets",
        s.SELF_FEED_TYPE[s.FOLLOWERS] = "interactions",
        s.NON_SELF_FEED_TYPE = {},
        s.NON_SELF_FEED_TYPE[s.TIMELINE] = "usertimeline",
        s.NON_SELF_FEED_TYPE[s.TWEETS] = "usertweets",
        s.NON_SELF_FEED_TYPE[s.MENTIONS] = "search",
        s.MENU_TITLE = {},
        s.MENU_TITLE[s.TIMELINE] = TD.i("Home"),
        s.MENU_TITLE[s.MENTIONS] = TD.i("Mentions"),
        s.MENU_TITLE[s.SEARCH] = TD.i("Search"),
        s.MENU_TITLE[s.FOLLOWERS] = TD.i("Followers"),
        s.MENU_TITLE[s.LISTS] = TD.i("Lists"),
        s.MENU_TITLE[s.CUSTOMTIMELINES] = TD.i("Collections"),
        s.MENU_TITLE[s.MESSAGES] = TD.i("Messages"),
        s.MENU_TITLE[s.TRENDS] = TD.i("Trending"),
        s.MENU_TITLE[s.TWEETS] = TD.i("User"),
        s.MENU_TITLE[s.FAVORITES] = TD.i("Favorites"),
        s.MENU_TITLE[s.ME] = TD.i("Mentions"),
        s.MENU_TITLE[s.INBOX] = TD.i("Messages"),
        s.MENU_TITLE[s.SCHEDULED] = TD.i("Scheduled"),
        s.MENU_TITLE[s.NETWORKACTIVITY] = TD.i("Activity"),
        s.MENU_TITLE[s.INTERACTIONS] = TD.i("Notifications"),
        s.MENU_TITLE[s.DATAMINR] = TD.i("Dataminr"),
        s.MENU_ATTRIBUTION = {},
        s.MENU_ATTRIBUTION[s.ME] = TD.i("(all accounts)"),
        s.MENU_ATTRIBUTION[s.INBOX] = TD.i("(all accounts)"),
        s.DISPLAY_ORDER = [{
            type: s.TIMELINE,
            service: "twitter"
        }, {
            type: s.SEARCH,
            service: "twitter"
        }, {
            type: s.INTERACTIONS,
            service: "twitter"
        }, {
            type: s.FOLLOWERS,
            service: "twitter"
        }, {
            type: s.MENTIONS,
            service: "twitter"
        }, {
            type: s.MESSAGES,
            service: "twitter"
        }, {
            type: s.ME
        }, {
            type: s.INBOX
        }, {
            type: s.NETWORKACTIVITY,
            service: "twitter"
        }, {
            type: s.TWEETS,
            service: "twitter"
        }, {
            type: s.FAVORITES,
            service: "twitter"
        }, {
            type: s.TRENDS,
            service: "twitter"
        }, {
            type: s.LISTS,
            service: "twitter"
        }, {
            type: s.CUSTOMTIMELINES,
            service: "twitter",
            "class": "feature-customtimelines"
        }, {
            type: s.SCHEDULED
        }, {
            type: s.DATAMINR,
            service: "dataminr"
        }],
        s.DISPLAY_ORDER_SINGLETONS = [{
            type: s.ME
        }, {
            type: s.INBOX
        }, {
            type: s.SCHEDULED
        }],
        s.DISPLAY_ORDER_PROFILE = [{
            type: s.TWEETS,
            service: "twitter",
            profile: !0
        }, {
            type: s.MENTIONS,
            service: "twitter",
            profile: !0
        }, {
            type: s.LISTS,
            service: "twitter",
            profile: !0
        }, {
            type: s.CUSTOMTIMELINES,
            service: "twitter",
            profile: !0,
            "class": "feature-customtimelines"
        }, {
            type: s.FAVORITES,
            service: "twitter",
            profile: !0
        }];
        var o = s.DISPLAY_ORDER.concat(s.DISPLAY_ORDER_SINGLETONS).concat(s.DISPLAY_ORDER_PROFILE);
        s.updateTitlesAndIconClasses = function() {
            _.each(o, function(e) {
                e.title = s.MENU_TITLE[e.type] || e.title,
                e.attribution = s.MENU_ATTRIBUTION[e.type] || e.attribution,
                e.columnIconClass = s.columnTypeToIconClass[e.type] || e.columnIconClass
            })
        }
        ,
        s.updateTitlesAndIconClasses(),
        s.HELP_TEXT = {},
        s.HELP_TEXT[s.TIMELINE] = TD.i("Add a Timeline column for your own accounts, or search for a user and add theirs"),
        s.HELP_TEXT[s.MENTIONS] = TD.i("Add a Mentions column for your own accounts, or search for a user and add theirs"),
        s.HELP_TEXT[s.SEARCH] = TD.i("Add a column for a saved or recent Search, or enter a new search in the box"),
        s.HELP_TEXT[s.LISTS] = TD.i("Create a new list, or select an existing list to edit or add a column"),
        s.HELP_TEXT[s.CUSTOMTIMELINES] = TD.i("Create a new collection, or select an existing timeline"),
        s.HELP_TEXT[s.MESSAGES] = TD.i("Add a Direct Messages column for your accounts"),
        s.HELP_TEXT[s.TRENDS] = TD.i("Add a column to monitor Tweets for any Trend"),
        s.HELP_TEXT[s.TWEETS] = TD.i("Add a column for Tweets sent from your own accounts, or search for a user and add theirs"),
        s.HELP_TEXT[s.FAVORITES] = TD.i("Add a Favorites column for your own accounts, or search for a user and add theirs"),
        s.HELP_TEXT[s.INTERACTIONS] = TD.i("Add a column to monitor your mentions, retweets, favourites, follows and list additions in real time"),
        s.HELP_TEXT[s.NETWORKACTIVITY] = TD.i("Add a column to view favourites, follows and list additions by your friends in real time"),
        s.HELP_TEXT[s.DATAMINR] = TD.i("Add a column to view alerts for a Dataminr watchlist"),
        s.STREAMING_FULL = "streaming_full",
        s.STREAMING_NONE = "streaming_none",
        s.STREAMING_PARTIAL = "streaming_partial",
        $(document).on("dataDeciderUpdated", function() {
            var e = TD.decider.get("hearts_and_likes2");
            s.MENU_TITLE[s.FAVORITES] = e ? TD.i("Likes") : TD.i("Favorites"),
            s.HELP_TEXT[s.FAVORITES] = e ? TD.i("Add a Likes column for your own accounts, or search for a user and add theirs") : TD.i("Add a Favorites column for your own accounts, or search for a user and add theirs"),
            s.updateTitlesAndIconClasses()
        }),
        s.init = function() {
            a(),
            s.checkColumns(),
            $.subscribe("/storage/client/column_order_changed", a),
            $.subscribe("/storage/client/change", a),
            $.subscribe("/storage/column/feeds_changed", function(e, t, i) {
                var n = s.get(i.getKey());
                n && n.loadFeeds()
            }),
            $.subscribe("/storage/column/change", function(e) {
                var i = s.get(e.getKey());
                if (i) {
                    var n = i.model.getFeedKeys()
                      , r = e.getFeedKeys();
                    _.isEqual(n, r) || i.loadFeeds(),
                    e.managed && e.hasApiid() && (i = s.getByApiid(e.getApiid()),
                    TD.ui.columns.refreshTitle(i)),
                    i.loadFilters()
                } else
                    t.stateLog("loading new new column", e),
                    a()
            }),
            $.subscribe("/cache/names/change", s.refreshColumnTitles),
            $.subscribe("/storage/account/change", s.refreshColumnTitles),
            $.subscribe("/storage/account/new", function(e) {
                1 === TD.storage.accountController.getAll().length && s.checkColumns()
            }),
            $(document).on("uiNeedsScheduledColumnVisible", this.handleMakeOrRefreshScheduledColumn),
            $(document).on("uiNeedsColumnOrder", s.handleUiNeedsColumnOrder),
            $(document).on("uiNeedsColumns", s.handleUiNeedsColumns)
        }
        ,
        s.refreshColumnTitles = _.throttle(function() {
            _.each(s.getAll(), function(e) {
                TD.ui.columns.refreshTitle(e)
            })
        }, 100),
        s.handleUiNeedsColumns = function() {
            s.sendColumns()
        }
        ,
        s.handleUiNeedsColumnOrder = function() {
            s.sendColumnOrder()
        }
        ,
        s.sendColumnOrder = function() {
            $(document).trigger("dataColumnOrder", {
                columnOrder: r
            })
        }
        ,
        s.sendColumns = function() {
            $(document).trigger("dataColumns", {
                columns: s.getAllOrdered()
            })
        }
        ,
        s.checkColumns = function() {
            var t = TD.storage.accountController.getPreferredAccount("twitter");
            0 === e.clientController.client.getColumnOrder().length && t && s.makeDefaultColumns(t)
        }
        ,
        s.get = function(e) {
            return n[e]
        }
        ,
        s.getByApiid = function(e) {
            return _.find(n, function(t) {
                return t.model.hasApiid() && t.model.getApiid() === e ? t : null
            })
        }
        ,
        s.getAll = function() {
            return _.clone(n)
        }
        ,
        s.getAllOrdered = function() {
            for (var e = this.getAll(), t = [], i = 0; i < r.length; i++)
                t.push(e[r[i]]);
            return t
        }
        ,
        s.add = function(e) {
            n[e.model.getKey()] = e
        }
        ,
        s.deleteColumn = function(t) {
            var i = n[t];
            i && !i.temporary && TD.controller.stats.removeColumn(i.getColumnType()),
            e.clientController.client.removeColumn(t)
        }
        ,
        s.removeFromAppLayer = function(t) {
            var i = n[t];
            i && i.removeSubscriptions(),
            delete n[t],
            e.columnController.remove(t),
            TD.controller.feedScheduler.removeColumn(t),
            TD.ui.columns.removeColumn(t)
        }
        ,
        s.move = function(e, t) {
            var i, n, o = r.indexOf(e), c = r.concat();
            if ("right" === t)
                n = Math.min(o + 1, r.length - 1);
            else {
                if ("left" !== t)
                    return;
                n = Math.max(o - 1, 0)
            }
            i = r[n],
            c[n] = c[o],
            c[o] = i,
            TD.storage.clientController.client.setColumnOrder(c),
            a(),
            s.showColumn(e)
        }
        ;
        var a = function() {
            var t = e.clientController.client.getColumnOrder()
              , i = !_.isEqual(r, t);
            i && c(t),
            $(document).trigger("dataColumnsLoaded")
        }
          , c = function(i) {
            var n = _.difference(r, i)
              , o = _.difference(i, r)
              , a = [];
            _.each(n, function(e) {
                s.removeFromAppLayer(e),
                TD.ui.columns.removeColumn(e)
            }),
            _.each(o, function(n) {
                var r, o = s.get(n);
                if (!o) {
                    if (r = e.columnController.get(n),
                    !r)
                        return void t.stateLog("WARNING: column not found for", n, "all columns:", e.columnController.getAll(), "in column_order", i);
                    o = new TD.vo.Column(r),
                    s.add(o)
                }
                a.push(o)
            }),
            TD.ui.columns.addColumnsToView(a),
            r = i,
            s.sendColumnOrder(),
            s.sendColumns(),
            _.each(o, function(e) {
                var t = s.get(e);
                TD.controller.feedScheduler.addColumn(t, !0)
            })
        }
        ;
        return s.addColumnToUI = function(t) {
            var i, n = t.model.getKey();
            return t.reset(),
            t.temporary = !1,
            s.add(t),
            e.feedController.manageFeeds(t.getFeeds()),
            e.columnController.manage(t.model),
            i = e.clientController.client.appendColumn(n),
            a(),
            _.defer(s.showColumn, n),
            TD.controller.stats.addColumn(t.getColumnType()),
            i
        }
        ,
        s.makeColumnFor = function(t) {
            var i, n, r, o = t.metadata || {}, a = t.searchFilter, c = e.accountController.getAccountsForService("twitter");
            if ("tweetdeck" === t.service)
                switch (t.type) {
                case "me":
                    n = e.columnController.getMeFeeds(c),
                    i = s.makeColumn("me", n);
                    break;
                case "privateMe":
                    n = e.columnController.getInboxFeeds(c),
                    i = s.makeColumn("privateMe", n);
                    break;
                case "scheduled":
                    n = e.columnController.getScheduledFeeds(),
                    i = s.makeColumn("scheduled", n)
                }
            else {
                switch (t.type) {
                case "usertimeline":
                case "favorites":
                case "usertweets":
                    t.metaString && (o.id = t.metaString);
                    break;
                case "search":
                    a = new TD.vo.SearchFilter,
                    o.searchFilterData = a.toJSONObject(),
                    o.baseQuery = t.metaString;
                    break;
                case "list":
                    r = t.metaString.split("/"),
                    TD.sync.util.assert(2 === r.length, "List meta should contain both ownerId and listId", r),
                    o.ownerId = r[0],
                    o.listId = r[1];
                    break;
                case "customtimeline":
                    r = t.metaString.split("/"),
                    TD.sync.util.assert(2 === r.length, "Collection meta should contain both ownerId and id", r),
                    o.ownerId = r[0],
                    o.id = r[1]
                }
                i || (i = s.makeOtherColumnAndFeeds({
                    type: t.type,
                    service: t.service,
                    accountKey: t.accountKey,
                    metadata: o,
                    searchFilter: a
                }))
            }
            return i
        }
        ,
        s.makeDefaultColumns = function(e) {
            var t = [];
            "twitter" === e.getType() && (t = ["home", "interactions", "direct", "networkactivity"]),
            _.each(t, function(t) {
                var i = s.makeColumnFor({
                    type: t,
                    service: e.getType(),
                    accountKey: e.getKey()
                });
                s.addColumnToUI(i)
            })
        }
        ,
        s.makeColumn = function(t, i, s) {
            var n = {
                type: t,
                feedkeys: [],
                settings: {}
            };
            s && (n.filters = s);
            var r = new TD.vo.Column(new e.Column(n),i);
            return r
        }
        ,
        s.makeOtherColumnAndFeeds = function(t) {
            var i = e.feedController
              , n = [];
            return n.push(i.getOrCreateFeed(t.type, t.service, t.accountKey, t.metadata)),
            s.makeColumn("other", n, t.searchFilter)
        }
        ,
        s.handleMakeOrRefreshScheduledColumn = function(e, t) {
            t = t || {};
            var i = TD.storage.columnController.getColumnsByType("scheduled");
            if (!i.length && !TD.settings.getScheduledColAdded() && t.allowAdd) {
                var n = s.makeColumnFor({
                    type: "scheduled",
                    service: "tweetdeck"
                });
                return s.addColumnToUI(n),
                void TD.settings.setScheduledColAdded(!0)
            }
            i.forEach(function(e) {
                try {
                    TD.controller.feedScheduler.refreshColumn(e.getKey()),
                    s.get(e.getKey()).doInfiniteScroll()
                } catch (t) {
                    console.error("Refreshing scheduled column failed", t)
                }
            })
        }
        ,
        s.showColumn = function(e) {
            $(document).trigger("uiColumnFocus", {
                columnKey: e
            })
        }
        ,
        s.isStreaming = function(e) {
            var t = s.getStreamingState(e);
            return t !== s.STREAMING_NONE
        }
        ,
        s.getStreamingState = function(e) {
            var t, i = s.STREAMING_NONE, n = s.get(e), r = 0;
            return n && (t = n.model.getFeedKeys(),
            _.each(t, function(e) {
                TD.controller.feedManager.isStreaming(e) && r++
            }),
            i = 0 === r ? s.STREAMING_NONE : r === t.length ? s.STREAMING_FULL : s.STREAMING_PARTIAL),
            i
        }
        ,
        s.getColumnsByAccountKey = function(e) {
            return _.values(n).filter(function(t) {
                return t.getFeeds().some(function(t) {
                    return t.getAccountKey() === e
                })
            })
        }
        ,
        s.findChirpByAccountKey = function(e, t) {
            for (var i, n = s.getColumnsByAccountKey(t), r = 0; r < n.length && !(i = n[r].findChirp(e)); r += 1)
                ;
            return i
        }
        ,
        s
    }(TD.storage, TD.sync.util, TD.core.defer)
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    function n() {
        var e = {}
          , t = sessionStorage.getItem("sessionDeciderOverlay");
        t && (console.warn("sessionDeciderOverlay found in sessionStorage"),
        TD.config.decider_overlay = _.extend(TD.config.decider_overlay || {}, JSON.parse(t) || {})),
        this.accessLevels = {
            scheduler: {
                levels: [{
                    level: "READ_BACKGROUND",
                    deciderKey: "scheduler_read_background"
                }, {
                    level: "READ_VISIBLE",
                    deciderKey: "scheduler_read_visible"
                }, {
                    level: "WRITE",
                    deciderKey: "scheduler_write"
                }, {
                    level: "WRITE_MEDIA",
                    deciderKey: "scheduler_write_media"
                }]
            }
        },
        this.updateFromBackendForID = function(e) {
            var t = TD.sync.tdapi.getDecider(e);
            return t.addCallbackWith(this, function(e) {
                this.updateFromBackend(e.decider)
            }),
            t
        }
        ,
        this.updateForLoginAccount = function() {
            return this.updateFromBackendForID(TD.storage.store.getTwitterLoginAccountID())
        }
        ,
        this.updateFromBackend = function(t) {
            e = t || {},
            $(document).trigger("dataDeciderUpdated")
        }
        ,
        this.get = function(t) {
            if (TD.config.decider_overlay && "undefined" != typeof TD.config.decider_overlay[t]) {
                var i = TD.config.decider_overlay[t];
                return i
            }
            return e[t]
        }
        ,
        this.getAll = function() {
            return _.clone(e)
        }
        ,
        this.getAllWithOverlay = function() {
            return (0,
            o.default)(TD.config.decider_overlay || {}).reduce(function(e, t) {
                return e[t] = this.get(t),
                e
            }
            .bind(this), this.getAll())
        }
        ,
        this.hasAccessLevel = function(e, t) {
            var i = this.accessLevels[e];
            return i.opts && i.opts.gateFunction && !i.opts.gateFunction() ? !1 : i.levels.reduce(function(e, i) {
                var s = i.level === t
                  , n = i.deciderKey;
                !n && i.deciderKeyByEnv && (n = i.deciderKeyByEnv[TD.util.getAppEnv()] || i.deciderKeyByEnv.default);
                var r = e.canAccessPreviousLevel && !!this.get(n);
                return {
                    canAccessPreviousLevel: r,
                    canAccessDesiredLevel: s ? r : e.canAccessDesiredLevel
                }
            }
            .bind(this), {
                canAccessPreviousLevel: !0,
                canAccessDesiredLevel: !1
            }).canAccessDesiredLevel
        }
    }
    var r = i(18)
      , o = s(r);
    e.exports = new n
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(18)
      , r = s(n);
    TD.controller.feedManager = function() {
        function e() {
            var e, t = TD.storage.accountController.getDefault(), i = t.getKey();
            "twitter" === t.getType() && (e = TD.storage.feedController.getAll(),
            e = _.filter(e, function(e) {
                return "search" === e.getType() && e.getAccountKey() !== i
            }),
            _.each(e, function(e) {
                var t = TD.storage.feedController.getOrCreateFeed(e.getType(), e.getService(), i, e.getMetadata());
                TD.controller.feedManager.replaceFeed(e, t)
            }))
        }
        function t(e, t) {
            var i, s = t && t.toLowerCase();
            i = t ? TD.i("User @{{screenName}} has been suspended", {
                screenName: t
            }) : TD.i("User has been suspended"),
            TD.controller.progressIndicator.addMessage(i),
            TD.controller.feedManager.deleteWhere(function(i) {
                var n = i.getMainUser && i.getMainUser();
                return n ? e && e == n.id || t && s === n.screenName.toLowerCase() : !1
            })
        }
        function i(e, t, i) {
            var s = i.getRelatedTweet();
            if (!s)
                return !1;
            var n = s.id === e || s.retweetedStatus && s.retweetedStatus.id === e
              , r = s.account.getKey() === t;
            return n && r
        }
        var s = {}
          , n = {};
        return s.init = function() {
            var i, s = TD.storage.feedController.getAll();
            for (i = 0; i < s.length; i++) {
                var r = s[i];
                n[r.getKey()] = new TD.controller.FeedPoller(r)
            }
            $.subscribe("/user/removeTweets", this.deleteUserChirps),
            $.subscribe("/user/suspended", t),
            $.subscribe("/storage/client/default_account_changed", e),
            $(document).on("dataUndoRetweetSuccess", this.handleUndoRetweetSuccess.bind(this)),
            $(document).on("dataUndoRetweetError", this.handleUndoRetweetError.bind(this))
        }
        ,
        s.handleUndoRetweetSuccess = function(e, t) {
            this.deleteWhere(function(e) {
                return e.retweetedStatus && e.retweetedStatus.id === t.tweetId && e.creatorAccount && e.creatorAccount.getKey() === t.from
            }),
            this.doWhere(i.bind(null , t.tweetId, t.from), function(e) {
                e.getRelatedTweet().setRetweeted(!1)
            })
        }
        ,
        s.handleUndoRetweetError = function(e, t) {
            TD.controller.progressIndicator.addMessage(TD.i("Undo retweet failed")),
            this.doWhere(i.bind(null , t.tweetId, t.from), function(e) {
                e.getRelatedTweet().setRetweeted(!0)
            })
        }
        ,
        s.getPoller = function(e) {
            return n[e]
        }
        ,
        s.addFeed = function(e) {
            var t = e.getKey()
              , i = n[t];
            return i ? i : (i = new TD.controller.FeedPoller(e),
            n[t] = i,
            i)
        }
        ,
        s.removeFeed = function(e) {
            var t, i = e.getKey(), s = n[i];
            delete n[i],
            s.destroy(),
            "twitter" == e.getService() && (t = TD.controller.clients.getClient(e.getAccountKey()),
            t && t.checkUserStream())
        }
        ,
        s.cleanupFeeds = function() {
            var e = TD.controller.columnManager.getAll()
              , t = {};
            for (var i in e)
                for (var r = e[i].getFeeds(), o = 0; o < r.length; o++)
                    t[r[o].getKey()] = !0;
            for (var a in n)
                if (!t[a]) {
                    var c = n[a].feed;
                    s.removeFeed(c),
                    TD.storage.feedController.remove(c.getKey())
                }
        }
        ,
        s.deleteChirp = function(e) {
            s.deleteWhere(function(t) {
                if (t.id === e)
                    return !0;
                if (t.getRelatedTweet) {
                    var i = t.getRelatedTweet();
                    return i && i.id === e
                }
                return !1
            })
        }
        ,
        s.deleteWhere = function(e, t) {
            t = _.defaults(t || {}, {
                feedTypes: TD.util.columnUtils.allFeedTypes
            }),
            (0,
            r.default)(n).forEach(function(i) {
                var s = n[i]
                  , r = s.feed.getType();
                t.feedTypes[r] && s.removeWhere(e)
            })
        }
        ,
        s.doWhere = function(e, t) {
            var i;
            for (var s in n)
                i = n[s],
                i.doWhere(e, t)
        }
        ,
        s.deleteUserChirps = function(e, t, i) {
            var n = function(i) {
                try {
                    var s = i.getCreator && i.getCreator();
                    return s && s.id === e && i.account.getUserID() === t
                } catch (n) {}
                return !1
            }
            ;
            s.deleteWhere(n, i)
        }
        ,
        s.deleteFeedsWhere = function(e) {
            var t, i, s, n, r, o = TD.storage.clientController.client.getColumnOrder();
            for (n = 0; n < o.length; n++) {
                for (t = TD.controller.columnManager.get(o[n]),
                i = t.getFeeds(),
                r = i.length - 1; r >= 0; r--)
                    s = i[r],
                    e(s) && (TD.storage.feedController.remove(s),
                    t.removeFeed(s));
                0 === t.getFeedCount() && TD.controller.columnManager.deleteColumn(t.model.getKey())
            }
        }
        ,
        s.replaceFeed = function(e, t, i) {
            var n = TD.controller.columnManager.getAll();
            i && (n = _.filter(n, function(e) {
                return -1 !== i.indexOf(e.model.getKey())
            })),
            _.each(n, function(i) {
                i.removeFeed(e) > 0 && i.addFeed(t)
            }),
            s.cleanupFeeds()
        }
        ,
        s.fixListFeeds = _.debounce(_.once(function() {
            var e = function(e, t) {
                var i = TD.storage.feedController.getOrCreateFeed(e.getType(), e.getService(), e.getAccountKey(), {
                    listId: t.id,
                    ownerId: t.user.id
                });
                TD.controller.feedManager.replaceFeed(e, i)
            }
              , t = []
              , i = TD.storage.feedController.getAll();
            i = _.filter(i, function(e) {
                var t = e.getMetadata();
                return "list" !== e.getType() || t.listId && t.ownerId ? !1 : !0
            }),
            _.each(i, function(i) {
                var s = i.getMetadata()
                  , n = TD.cache.lists.find(null , s.screenName, s.slug);
                n ? e(i, n) : t.push(i)
            }),
            _.each(t, function(t) {
                var i = TD.controller.clients.getClient(t.getAccountKey())
                  , s = t.getMetadata()
                  , n = function(i) {
                    e(t, i)
                }
                  , r = function() {}
                ;
                i.getList(null , s.screenName, s.slug, n, r)
            })
        }), 5e3),
        s.isStreaming = function(e) {
            var t, i, s = this.getPoller(e), n = !1;
            return s && (t = s.feed,
            i = TD.controller.clients.getClient(t.getAccountKey()),
            n = i.feedIsStreaming(e)),
            n
        }
        ,
        s
    }()
}
, function(e, t, i) {
    "use strict";
    var s = i(92);
    TD.controller.FeedPoller = function(e) {
        this.TRIM_THROTTLE_MS = 1e4,
        this.OPTIMUM_ARRAY_LENGTH = 200,
        this.MAX_ARRAY_LENGTH = 300,
        this.TWEET_ID_QUEUE_LENGTH = 500,
        this.REFRESH_LOCK_EXPIRY = 6e4,
        this.EXHAUSTED_API_THRESHOLD = 10,
        this.feed = e,
        this.mark = "",
        this.chirpArray = [],
        this.chirpIndex = {},
        this.seenTweetIDs = new s(this.TWEET_ID_QUEUE_LENGTH),
        this.refreshLock = 0,
        this.requestsInFlight = 0,
        this.cursorQueue = [],
        this.isInitialLoad = !0,
        this.intervalOfPossibility = TD.services.ChirpInterval.whole,
        this.shouldTrackHighWaterMark = !1,
        this._checkNotifications = function() {
            var e = TD.storage.columnController.getColumnsContainingFeed(this.feed.getKey());
            this.shouldTrackHighWaterMark = e.some(function(e) {
                return e.getHasSound() || e.getHasNotification()
            })
        }
        ,
        this._checkNotifications(),
        this.subscription = $.subscribe("/storage/column/column_flags_changed", this._checkNotifications.bind(this)),
        this.removeChirp = function(e) {
            var t, i = this.chirpIndex[e];
            if (i) {
                for (var s = 0; s < this.chirpArray.length; s++)
                    if (t = this.chirpArray[s],
                    t === i) {
                        this.chirpArray.splice(s, 1);
                        break
                    }
                delete this.chirpIndex[e],
                $.publish("/delete/" + this.feed.getKey(), [this, [i]])
            }
        }
        ,
        this.removeWhere = function(e) {
            this.doWhere(e, function(e) {
                this.removeChirp(e.id)
            }
            .bind(this))
        }
        ,
        this.doWhere = function(e, t) {
            var i = this.chirpArray.filter(e);
            i.forEach(t)
        }
        ,
        this.forgetAll = function() {
            this.chirpArray = [],
            this.chirpIndex = {},
            this.seenTweetIDs.flush()
        }
        ,
        this.recordChirpLateness = function(e, t, i, s) {
            if (TD.decider.get("chirp_lateness_metric")) {
                var n = (e || []).filter(function(e) {
                    return e.chirpType === TD.services.ChirpBase.TWEET && Math.random() < s
                }, this).map(function(e) {
                    return i - e.created.getTime()
                });
                if (0 !== n.length) {
                    var r = TD.ui.template.toHtmlFromRaw("api:delivery-delay:{{apiType}}:{{feedType}}", {
                        apiType: t,
                        feedType: this.feed.getType()
                    });
                    $(document).trigger("metric", {
                        key: r,
                        type: "metric",
                        value: n
                    })
                }
            }
        }
        ,
        this.acceptStreamChirps = function(e) {
            this.acceptChirps(TD.util.poller.annotateChirpsWithApiBounds(this.feed, e), !1),
            this.recordChirpLateness(e, "stream", Date.now(), TD.controller.FeedPoller.CHIRP_LATENESS_METRIC_SAMPLE)
        }
        ,
        this.acceptChirps = function(e, t) {
            if (e && e.length) {
                var i = this.addChirpsToMemCache(e);
                this.isInitialLoad && !TD.settings.getShowStartupNotifications() && this.saveHighWaterMark(),
                this.publishChirps(i, t),
                this.saveHighWaterMark(),
                this.deferredTrimChirps()
            } else
                this.publishChirps([], t);
            this.isInitialLoad = !1
        }
        ,
        this.saveHighWaterMark = function() {
            if (this.shouldTrackHighWaterMark) {
                var t = this.chirpArray[0].getSortIndex();
                e.setTopSortIndex(t);
                var i = this.chirpArray[0].created.getTime();
                e.setLatestTime(Math.max(e.getLatestTime(), i))
            }
        }
        ,
        this.addChirpsToMemCache = function(e) {
            var t, i, s, n, r, o, a, c = [], l = [], u = !0;
            for (e.sort(TD.util.chirpColumnSort),
            t = 0; t < e.length; t++)
                i = e[t],
                s = this.chirpIndex[i.id],
                r = this.isRepeatedRetweet(i),
                s ? (n = this.chirpArray.indexOf(s),
                this.chirpArray[n] = i,
                this.chirpIndex[i.id] = i,
                l.push(i)) : r || (c.push(i),
                this.chirpIndex[i.id] = i,
                l.push(i));
            return this.chirpArray.length && c.length && (o = this.chirpArray[0],
            a = c[c.length - 1],
            u = o.belongsAbove(a)),
            this.chirpArray = c.concat(this.chirpArray),
            u && this.chirpArray.sort(TD.util.chirpColumnSort),
            l
        }
        ,
        this.isRepeatedRetweet = function(e) {
            var t, i, s = !1;
            return e instanceof TD.services.TwitterStatus && (t = e.getMainTweet().id,
            i = this.seenTweetIDs.get(t) || 0,
            s = e.isRetweetedStatus() && i > 0,
            this.seenTweetIDs.put(t, i + 1)),
            s
        }
        ,
        this.refresh = function(e) {
            e = _.defaults({}, e),
            e.retries = e.retries || 0;
            var t = Date.now()
              , i = t < this.refreshLock + this.REFRESH_LOCK_EXPIRY;
            if (i)
                return TD.core.defer.succeed();
            e.reset && (this.cursorQueue.forEach(function(e) {
                e.d.cancel()
            }),
            this.cursorQueue = []);
            var s = TD.util.poller.getRefreshCursor(this.feed, this.chirpArray)
              , n = s.interval.from !== TD.services.ChirpInterval.negInf && s.interval.to === TD.services.ChirpInterval.posInf
              , r = {
                bypassCache: !0,
                forceFetch: e.reset
            };
            this.refreshLock = t;
            var o = this.fillCursor(s, r);
            return o.addBoth(function(e) {
                return this.refreshLock = 0,
                e
            }
            .bind(this)),
            o.addCallbackWith(this, TD.util.effect(function(e) {
                n && this.recordChirpLateness(e.chirps, "rest", Date.now(), TD.controller.FeedPoller.CHIRP_LATENESS_METRIC_SAMPLE)
            })),
            o.addErrbackWith(this, function(t) {
                if (!TD.decider.get("disable_network_failure_retry") && e.reset) {
                    var i = t && _.isObject(t.message) && "responseText"in t.message;
                    if (i) {
                        var s = t.message
                          , n = TD.util.isNetworkFailure(s);
                        if (n)
                            return this.retryRefresh(e)
                    }
                }
            }),
            o
        }
        ,
        this.retryRefresh = function(e) {
            var t = _.assign({}, e, {
                retries: e.retries + 1
            });
            $(document).trigger("metric", {
                key: "feed_poller:refresh:retry:request"
            });
            var i = Math.min(1e3 * Math.pow(2, e.retries / 2), 6e4)
              , s = TD.core.defer.timeout(i);
            return s.addCallback(this.refresh.bind(this, t)),
            1 === t.retries && s.addCallback(function(e) {
                return $(document).trigger("metric", {
                    key: "feed_poller:refresh:retry:success"
                }),
                e
            }),
            s
        }
        ,
        this.fillCursor = function(e, t) {
            t = t || {},
            _.defaults(t, {
                bypassCache: !1,
                forceFetch: !1
            });
            var i = new TD.core.defer.Deferred;
            return this.cursorQueue.push({
                cursor: e,
                opts: t,
                d: i
            }),
            this.processCursorQueue(),
            i
        }
        ,
        this.getCacheResult = function(e, t) {
            var i = TD.util.poller.makeChirpInterval(t)
              , s = e.interval.intersection(this.intervalOfPossibility)
              , n = t.filter(s.contains, s)
              , r = s.intersection(i.complement().before)
              , o = TD.util.poller.calculateUpperBound(this.feed.getKey(), n);
            return {
                requestCursor: e,
                chirps: n,
                remainderCursor: {
                    feedKey: this.feed.getKey(),
                    interval: r,
                    bounds: {
                        upper: o || e.bounds.upper,
                        lower: e.bounds.lower
                    }
                }
            }
        }
        ,
        this.recalculateResult = function(e, t) {
            return t.length === e.chirps.length ? e : this.getCacheResult(e.requestCursor, t)
        }
        ,
        this.processCursorQueue = function() {
            if (this.cursorQueue = this.cursorQueue.filter(function(e) {
                if (e.opts.bypassCache)
                    return !0;
                var t = this.getCacheResult(e.cursor, this.chirpArray)
                  , i = TD.util.poller.isCacheHit(t);
                return i && _.defer(e.d.callback.bind(e.d, t)),
                !i
            }, this),
            !(0 === this.cursorQueue.length || this.requestsInFlight > 0)) {
                var e = this.cursorQueue.shift()
                  , t = this.fetchChirps(e.cursor, e.opts);
                t.addCallbackWith(this, function(t) {
                    var i = this.processRestResult(this.chirpArray, e.cursor, t);
                    i.isGappy && this.forgetAll(),
                    this.acceptChirps(i.chirps, i.isGappy);
                    var s = this.getCacheResult(e.cursor, this.chirpArray)
                      , n = TD.util.poller.isCacheHit(s);
                    return n || (s = this.getCacheResult(e.cursor, t)),
                    t.length < this.EXHAUSTED_API_THRESHOLD && (TD.util.columnUtils.nonExhaustibleFeedTypes[this.feed.getType()] || (this.intervalOfPossibility = s.remainderCursor.interval.complement().after),
                    s.remainderCursor.interval = TD.services.ChirpInterval.empty),
                    s
                }),
                t.addCallbacks(e.d.callback.bind(e.d), e.d.errback.bind(e.d)),
                t.addBothWith(this, this.processCursorQueue)
            }
        }
        ,
        this.processRestResult = function(e, t, i) {
            var s = TD.util.poller.makeChirpInterval(e)
              , n = TD.util.poller.makeRequestResultInterval(i, t.interval)
              , r = s.unify(n)
              , o = !TD.util.columnUtils.gaplessFeedTypes[this.feed.getType()];
            o || (r = s.hull(n));
            var a = [s, n, r].sort(function(e, t) {
                return e.toComparator(e.to, t.to) || e.fromComparator(t.from, e.from)
            }).pop()
              , c = r.empty && a.equalTo(n)
              , l = i;
            if (o) {
                var u = a.intersection(t.interval);
                l = i.filter(u.contains, u)
            }
            return {
                chirps: l,
                isGappy: c
            }
        }
        ,
        this.fetchChirps = function(t, i) {
            i = _.defaults(i || {}, {
                forceFetch: !1
            }),
            i.poller = this,
            i.feedType = this.feed.getType(),
            i.metadata = this.feed.getMetadata();
            var s = TD.controller.clients.getClient(this.feed.getAccountKey());
            if (!s)
                return TD.core.defer.fail(new Error("Could not find client for feed: " + e.getAccountKey()));
            this.requestsInFlight++;
            var n = s.getChirpsForFeed(t, i)
              , r = setTimeout(function() {
                n.cancel(),
                $(document).trigger("metric", {
                    key: "feed_poller:request:timeout:" + i.feedType
                })
            }, TD.controller.FeedPoller.REQUEST_TIMEOUT);
            return n.addCallbackWith(this, function(e) {
                return TD.util.poller.annotateChirpsWithApiBounds(this.feed, e).sort(TD.util.chirpColumnSort)
            }),
            n.addBoth(function(e) {
                return this.requestsInFlight--,
                clearTimeout(r),
                setTimeout(this.processCursorQueue.bind(this), 1),
                e
            }
            .bind(this)),
            n
        }
        ,
        this.getCursor = function(e) {
            var t = [];
            e.upper && (t = this.chirpArray.filter(function(t) {
                return !t.belongsBelow(e.upper)
            }));
            var i = [];
            return e.lower && (i = this.chirpArray.filter(function(t) {
                return !t.belongsAbove(e.lower)
            })),
            {
                feedKey: this.feed.getKey(),
                interval: new TD.services.ChirpInterval(e.lower ? TD.services.ChirpInterval.excEnd(e.lower) : TD.services.ChirpInterval.negInf,e.upper ? TD.services.ChirpInterval.excEnd(e.upper) : TD.services.ChirpInterval.posInf),
                bounds: {
                    upper: e.upper ? TD.util.poller.calculateUpperBound(this.feed.getKey(), t) : void 0,
                    lower: e.lower ? TD.util.poller.calculateLowerBound(this.feed.getKey(), i, {
                        isGapless: TD.util.columnUtils.gaplessFeedTypes[this.feed.getType()]
                    }) : void 0
                }
            }
        }
        ,
        this.isStreamableForOauthUser = function(e) {
            var t = this.feed.getType()
              , i = this.feed.getMetadata()
              , s = !!TD.controller.FeedPoller.STREAMING_FEED_TYPES[t];
            switch (t) {
            case "favorites":
                s = !i.id || i.id === e;
                break;
            case "search":
                s = TD.services.TwitterSearchParser.isStreamable(i.term)
            }
            return s
        }
        ,
        this.trimChirps = function() {
            if (!(this.chirpArray.length < this.MAX_ARRAY_LENGTH))
                for (var e = this.chirpArray.splice(this.OPTIMUM_ARRAY_LENGTH, Number.MAX_VALUE), t = 0; t < e.length; t++)
                    delete this.chirpIndex[e[t].id]
        }
        ,
        this.deferredTrimChirps = _.throttle(this.trimChirps.bind(this), this.TRIM_THROTTLE_MS, {
            leading: !1
        }),
        this.publishAll = function() {
            this.publishChirps(this.chirpArray)
        }
        ,
        this.publishChirps = function(e, t) {
            $.publish("/feed/" + this.feed.getKey(), [{
                poller: this,
                chirps: e.concat(),
                notifyAfterSortIndex: this.feed.getTopSortIndex(),
                gap: !!t
            }])
        }
        ,
        this.destroy = function() {
            var e = this.feed;
            this.chirpArray = [],
            this.chirpIndex = {},
            $.unsubscribeAll("/feed/" + e.getKey()),
            $.unsubscribeAll("/delete/" + e.getKey()),
            $.unsubscribe(this.subscription)
        }
    }
    ,
    TD.controller.FeedPoller.FEED_TYPES = {
        customTimeline: "customtimeline",
        direct: "direct",
        dataminr: "dataminr",
        favorites: "favorites",
        home: "home",
        interactions: "interactions",
        list: "list",
        mentions: "mentions",
        networkactivity: "networkactivity",
        scheduled: "scheduled",
        search: "search",
        useractivity: "useractivity",
        usertimeline: "usertimeline",
        usertweets: "usertweets"
    },
    TD.controller.FeedPoller.STREAMING_FEED_TYPES = {
        home: !0,
        mentions: !0,
        favorites: !0,
        search: !0,
        interactions: !0,
        networkactivity: !0
    },
    TD.controller.FeedPoller.CURSORED_ON_TWEET_TIMESTAMP = {
        interactions: !0,
        networkactivity: !0,
        useractivity: !0
    },
    TD.controller.FeedPoller.CURSORED_FEED_TYPES = {
        customtimeline: !0
    },
    TD.controller.FeedPoller.SCHEDULED_FEED_TYPES = {
        scheduled: !0
    },
    TD.controller.FeedPoller.CHIRP_LATENESS_METRIC_SAMPLE = .01,
    TD.controller.FeedPoller.REQUEST_TIMEOUT = 45e3
}
, function(e, t) {
    "use strict";
    TD.controller.feedScheduler = function() {
        var e = {};
        return e.DEFAULT_REFRESH_PERIOD = 45,
        e.THROTTLED_REFRESH_PERIOD = 120,
        e._activeColumns = {},
        e._temporaryColumns = {},
        e._taskIndex = {},
        e.init = function() {
            this._streamingTaskId = TD.controller.scheduler.schedulePeriodicTask(120, this._startStreams.bind(this), !1),
            $.subscribe("/storage/column/feeds_changed", function(t, i, s) {
                var n = s.getKey()
                  , r = TD.controller.columnManager.get(n);
                r && e.addColumn(r, !r.temporary)
            }),
            $.subscribe("/storage/column/change", function(t) {
                var i = t.getKey()
                  , s = TD.controller.columnManager.get(i);
                if (s) {
                    var n = s.model.getFeedKeys()
                      , r = t.getFeedKeys();
                    _.isEqual(n, r) || e.addColumn(s, !s.temporary)
                }
            }),
            $(document).on("dataRateLimit", this._handleRateLimitData.bind(this)),
            $(document).on("dataThrottleFeed", this._handleThrottleFeed.bind(this)),
            $(document).on("dataUserStreamStatus", this._handleStreamStatus.bind(this)),
            $(document).on("dataAppWokenFromSleep", this._handleAppWoken.bind(this)),
            $(document).on("dataTwitterAccountAccessEnabled", this._handeAccessEnabled.bind(this))
        }
        ,
        e._getTask = function(e, t) {
            return this._taskIndex[e] ? this._taskIndex[e][t] : void 0
        }
        ,
        e._setTask = function(e, t, i) {
            this._taskIndex[e] = this._taskIndex[e] || {},
            this._taskIndex[e][t] = i
        }
        ,
        e._handleRateLimitData = function(e, t) {
            var i = this._getTask(t.accountKey, t.feedType);
            i && (i.rateLimitData = t.rateLimitData,
            this._setPeriodicTask(i))
        }
        ,
        e._handleThrottleFeed = function(e, t) {
            var i = this._getTask(t.accountKey, t.feedType);
            i && i.isThrottled !== t.doThrottle && (i.isThrottled = t.doThrottle,
            this._setPeriodicTask(i))
        }
        ,
        e._handleStreamStatus = function(t, i) {
            var s = this._taskIndex[i.accountKey];
            _.each(s, e._setPeriodicTask.bind(this))
        }
        ,
        e._handleAppWoken = function(e, t) {
            _.each(this._taskIndex, function(e) {
                _.each(e, this._resetTask)
            }
            .bind(this)),
            TD.controller.stats.appWokenFromSleep(t.lateness)
        }
        ,
        e._handeAccessEnabled = function(e, t) {
            this._taskIndex[t.accountKey] && _.each(this._taskIndex[t.accountKey], this._resetTask, this)
        }
        ,
        e._resetTask = function(e) {
            e.doTask({
                reset: !0
            }),
            TD.controller.scheduler.restartPeriodicTask(e.taskId)
        }
        ,
        e.addColumn = function(e, t) {
            var i = e.getFeeds()
              , s = e.model.getKey();
            this._activeColumns[s] && this.removeColumn(s),
            this._activeColumns[s] = e,
            e.temporary && (this._temporaryColumns[s] = e);
            for (var n = 0; n < i.length; n++)
                TD.controller.feedManager.addFeed(i[n]),
                this._addFeed(i[n]);
            e.backfill(),
            t && this._startStreams()
        }
        ,
        e._addFeed = function(e) {
            var t, i = e.getAccountKey(), s = e.getType(), n = e.getKey();
            t = this._getTask(i, s) || {
                accountKey: i,
                feedType: s,
                feeds: {},
                taskId: null ,
                rateLimitData: null ,
                isThrottled: !1,
                doTask: null
            },
            t.doTask || (t.doTask = this._doTaskFactory(t)),
            this._setTask(i, s, t),
            t.feeds[n] = e,
            this._setPeriodicTask(t)
        }
        ,
        e._setPeriodicTask = function(e) {
            var t = this._calculatePeriod(e);
            e.taskId ? TD.controller.scheduler.updatePeriodicTask(e.taskId, t) : e.taskId = TD.controller.scheduler.schedulePeriodicTask(t, e.doTask, !1);
        }
        ,
        e._doTaskFactory = function(t) {
            return function(i) {
                var s = _.map(t.feeds, function(t, s) {
                    return e._refreshFeed(s, i)
                });
                return TD.core.defer.gatherResults(s)
            }
        }
        ,
        e._calculatePeriod = function(t) {
            var i, s, n, r, o, a, c = this.DEFAULT_REFRESH_PERIOD;
            return t.rateLimitData && (i = t.rateLimitData.rateLimitRemaining - 10,
            s = t.rateLimitData.rateLimitReset + 10,
            n = Date.now() / 1e3,
            r = s - n,
            a = _.filter(t.feeds, function(t) {
                var i = t.getKey()
                  , s = Boolean(_.some(e._temporaryColumns, function(e) {
                    return -1 !== e.model.getFeedKeys().indexOf(i)
                }));
                return s || !TD.controller.feedManager.isStreaming(i)
            }),
            r > 0 && i > 0 && a.length > 0 ? (o = i / a.length,
            c = r / o,
            c = Math.min(c, r)) : c = 0 >= r ? this.DEFAULT_REFRESH_PERIOD : r),
            c = Math.round(c),
            c = Math.max(c, 10),
            c = Math.min(c, 900),
            (t.isThrottled || TD.decider.get("throttle_polling_period")) && (c = Math.max(c, this.THROTTLED_REFRESH_PERIOD)),
            c
        }
        ,
        e._refreshFeed = function(e, t) {
            t = _.defaults({}, t),
            t.reset = t.reset || _.some(this._temporaryColumns, function(t) {
                return -1 !== t.model.getFeedKeys().indexOf(e)
            });
            var i = TD.controller.feedManager.getPoller(e);
            return i.refresh(t)
        }
        ,
        e.removeColumn = function(e) {
            delete this._activeColumns[e],
            delete this._temporaryColumns[e],
            this._rebuildTaskIndex(),
            TD.controller.feedManager.cleanupFeeds()
        }
        ,
        e._rebuildTaskIndex = function() {
            _.each(this._taskIndex, function(e) {
                _.each(e, function(e) {
                    e.feeds = {}
                })
            }),
            _.each(this._activeColumns, function(t) {
                _.each(t.getFeeds(), function(t) {
                    e._addFeed(t)
                })
            }),
            _.each(this._taskIndex, function(e) {
                _.each(e, function(e) {
                    _.isEmpty(e.feeds) && (TD.controller.scheduler.removePeriodicTask(e.taskId),
                    e.taskId = null )
                })
            })
        }
        ,
        e.refreshColumn = function(e) {
            var t, i = this._activeColumns[e];
            if (i) {
                t = i.getFeeds();
                for (var s = 0; s < t.length; s++)
                    this._refreshFeed(t[s].getKey())
            }
        }
        ,
        e.refreshAccountFeeds = function(e, t) {
            _.each(this._taskIndex[e], function(e) {
                e.doTask({
                    reset: t
                })
            })
        }
        ,
        e._startStreams = function() {
            TD.storage.accountController.getAccountsForService("twitter").forEach(function(e) {
                TD.controller.clients.getClient(e.getKey()).checkUserStream()
            })
        }
        ,
        e
    }()
}
, function(e, t) {
    "use strict";
    TD.controller.filterManager = function() {
        var e = {}
          , t = []
          , i = function() {
            var e = [];
            _.each(t, function(t) {
                e.push(t.toBackendState())
            }),
            TD.settings.setGlobalFilter(e)
        }
        ;
        return e.init = function() {
            var i = TD.settings.getGlobalFilter();
            _.each(i, function(e) {
                var i = new TD.vo.Filter;
                i.fromBackendState(e),
                t.push(i)
            }),
            e.reapplyAllFilters()
        }
        ,
        e.reapplyAllFilters = function() {
            _.each(TD.controller.columnManager.getAll(), function(e) {
                e.reloadTweets()
            })
        }
        ,
        e.pass = function(e, i) {
            var s, n;
            for (s = 0,
            n = t.length; n > s; s++)
                if (!t[s].pass(e))
                    return !1;
            if (i)
                for (s = 0,
                n = i.length; n > s; s++)
                    if (!i[s].pass(e))
                        return !1;
            return !0
        }
        ,
        e.getAll = function(e, i) {
            return t
        }
        ,
        e.addFilter = function(s, n, r) {
            var o = new TD.vo.Filter(s,n,Boolean(r));
            return t.push(o),
            e.reapplyAllFilters(),
            i(),
            o
        }
        ,
        e.validateFilter = function(e, i) {
            return e && i ? 0 == _.trim(i).length ? !1 : _.any(t, function(t) {
                return t.type === e && t.value === i
            }) ? !1 : !0 : !1
        }
        ,
        e.removeFilter = function(s) {
            var n = null ;
            t.forEach(function(e, t) {
                s.id ? e.id === s.id && (n = t) : s.type && s.text && e.type === s.type && e.value === s.text && (n = t)
            }),
            null !== n && (t.splice(n, 1),
            e.reapplyAllFilters(),
            i())
        }
        ,
        e.hasFilterApplied = function(e, i) {
            return t.some(function(t) {
                return t.type === e && t.value === i
            })
        }
        ,
        e
    }()
}
, function(e, t) {
    "use strict";
    TD.controller.init = function(e, t, i, s, n, r, o, a, c) {
        var l = {}
          , u = 2592e3
          , d = 3;
        l.purgedServices = [],
        l.restarts = 0,
        l.preload = function() {
            var e = $(document.documentElement);
            TD.util.isTouchDevice() && window.navigator.standalone && ($("head meta[name=viewport]").remove(),
            $("head").prepend('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">')),
            e.addClass("os-" + TD.util.getOSName()),
            TD.util.isTouchDevice() && (e.addClass("touch-device"),
            TD.decider.get("touchdeck_font_size_v2") && e.addClass("with-touch-font-size")),
            TD.controller.stats.init()
        }
        ,
        l.start = function(t) {
            TD.util.metric("startup:start");
            var n = TD.core.defer.succeed()
              , r = TD.util.getAppEnv();
            return TD.util.isWrapperApp() && (TD.util.isUnsupportedWebWrapperVersion() && (TD.util.metric("startup:start:wrapper-app:unsupported"),
            deck.closeLoadingScreen && deck.closeLoadingScreen(),
            window.location.assign(TD.config.api_root + TD.assets.get("html", {
                name: "deprecated"
            }) + "?appenv" + r)),
            "win" === r && $(document.body).toggleClass("no-mp4-support", !0)),
            TD.controller.scheduler.schedulePeriodicTask(u, function() {
                window.location.reload(!0)
            }),
            $(document).on("unload", function() {
                window.deck && window.deck.closeLoadingScreen && window.deck.closeLoadingScreen()
            }),
            n.addCallback(function() {
                return $(document).trigger("dataAppStart"),
                TD.util.isWeb() && TD.sessionMigration.unpackSessionStorage(),
                TD.decider.updateFromBackendForID(TD.storage.store.getOrCreateGuestID()).addBoth(TD.sessionMigration.migrateSessionToWeb).addBoth(l.doLogin.bind(l, t))
            }),
            n.addCallbackWith(e.store, e.store.storeLoginResult),
            n.addCallbackWith(o.controller, o.controller.init),
            n.addCallback(e.notification.flush),
            n.addCallback(m),
            n.addCallback(function() {
                return a.gatherResults([e.feedController.triggerPush(.05), e.columnController.triggerPush(.05)])
            }),
            n.addCallback(function() {
                e.store.checkVersion()
            }),
            n.addCallback(m),
            n.addCallbackWith(i.upgrade, i.upgrade.doUpgrades),
            n.addCallback(function() {
                return a.gatherResults([e.accountController.verifyNewTwoginAccount(), e.accountController.isEmployee()])
            }),
            n.addCallback(function(t) {
                var i = t[1];
                e.accountController.setEmployeeState(i),
                TD.storage.Store.removeReloadedFlag()
            }),
            n.addErrback(function(e) {
                throw TD.storage.Store.shouldTryReload() && TD.sync.controller.flushSyncDataAndReload(),
                e
            }),
            n.addCallback(TD.settings.init),
            n.addCallback(function() {
                i.stats.setUid(TD.storage.store.getTwitterLoginAccountID())
            }),
            n.addCallback(v),
            n.addErrback(function(e) {
                if (s.warn(e, "controller.init.start failed, restarting", e.message),
                e.stackTrace)
                    try {
                        console.log(e.stackTrace.join("\n"))
                    } catch (t) {
                        console.log("Unable to get stackTrace to report error:", t)
                    }
                return o.controller.reset(),
                l.restarts++ <= d ? l.start(e.message) : (alert("Fatal error: " + e.message),
                void TD.storage.Store.wipeAll())
            }),
            n
        }
        ,
        l.doLogin = function(e) {
            return $(document).trigger("metric", {
                key: "startup:do-login"
            }),
            TD.util.isWrapperApp() && deck.closeLoadingScreen && deck.closeLoadingScreen(),
            e ? this.setupLoginScreen(e) : this.continueLogin()
        }
        ,
        l.setupLoginScreen = function(e) {
            return $(document).trigger("metric", {
                key: "startup:setup-login-screen"
            }),
            e && s.warn("Login failed with message: " + e),
            this.showLoginScreen(e)
        }
        ,
        l.showLoginScreen = function(e) {
            var t = new a.Deferred;
            return $(document).one("uiLoginAuthComplete", function(e, i) {
                t.callback(i)
            }),
            $(document).trigger("uiLoginShowLoginForm", {
                errorMsg: e
            }),
            t
        }
        ,
        l.getUser = function() {
            return c.drequest("/user", null , null , !0)
        }
        ,
        l.makeLoginDataFromAccount = function(e) {
            return {
                account: {
                    uid: e.getUserID()
                },
                data: {
                    screen_name: e.getUserID()
                }
            }
        }
        ,
        l.tryCookieLogin = function() {
            var e = TD.storage.accountController.verifyTwitterCookieAccount();
            return e.addCallback(l.makeLoginDataFromAccount),
            e
        }
        ,
        l.tryCookie = function(e) {
            var t = l.tryCookieLogin();
            return t.addCallbacks(TD.util.effect(function() {
                return TD.util.metric("login:try-cookie:allowed")
            }), TD.util.effect(function() {
                return TD.util.metric("login:try-cookie:failed")
            })),
            t.addErrback(function(e) {
                return !e.req || 401 !== e.req.status && 403 !== e.req.status ? (TD.util.metric("login:try-cookie:error"),
                e) : new a.CancelledError
            }),
            t
        }
        ,
        l.continueLogin = function() {
            $(document).trigger("metric", {
                key: "startup:continue-login"
            });
            var e = l.tryCookie();
            return e.addErrback(function(e) {
                var t;
                return e instanceof a.CancelledError ? t = "" : e.req && h(e) ? (TD.util.metric("startup:network-failure"),
                t = TD.i("Unable to connect. Please check your network.")) : (TD.util.metric("startup:something-went-wrong"),
                t = TD.i("Sorry, something went wrong. It's not you, it's us. Please try again later.")),
                l.showLoginScreen(t)
            }),
            e
        }
        ;
        var h = function(e) {
            if (!e.req)
                throw e;
            return 0 === e.req.status || 12007 === e.req.status
        }
          , m = function() {
            s.trace("init.purgeDeprecatedAccounts()"),
            f("buzz"),
            f("foursquare"),
            f("facebook"),
            p(),
            l.purgedServices.length > 0 && TD.controller.stats.purgedServices(l.purgedServices),
            g(function(e) {
                var t = "twitter" === e.getService() && "sentdirect" === e.getType();
                return t && TD.controller.stats.purgedFeed({
                    service: e.getService(),
                    type: e.getType(),
                    message: "Purged sentdirect feed (no longer supported)"
                }),
                t
            }),
            g(function(t) {
                var i = _.isUndefined(e.accountController.get(t.getAccountKey()));
                return i && TD.controller.stats.purgedFeed({
                    service: t.getService(),
                    type: t.getType(),
                    accountKey: t.getAccountKey(),
                    message: "Purged feed due to bad account key"
                }),
                i
            }),
            g(function(e) {
                var t = "usertimeline" === e.getType();
                return t && TD.controller.stats.purgedFeed({
                    service: e.getService(),
                    type: e.getType(),
                    message: "Purged usertimeline feed (no longer supported)"
                }),
                t
            })
        }
          , p = function() {
            e.columnController.getAll().forEach(function(e) {
                if (1 === e.getFeedKeys().length)
                    switch (e.getType()) {
                    case TD.util.columnUtils.storageColumnTypes.HOME:
                    case TD.util.columnUtils.storageColumnTypes.INBOX:
                    case TD.util.columnUtils.storageColumnTypes.ME:
                        e.setType(TD.util.columnUtils.storageColumnTypes.OTHER);
                        break;
                    default:
                        return
                    }
            })
        }
          , f = function(t) {
            var i = e.accountController.getAccountsForService(t);
            _.isEmpty(i) || (l.purgedServices.push(t),
            _.each(i, function(t) {
                e.accountController.blacklistAccount(t)
            })),
            g(function(e) {
                return e.getService() === t
            })
        }
          , g = function(t) {
            var i, s, n, r;
            if (i = _.filter(e.feedController.getAll(), t),
            s = _.map(i, function(t) {
                var i = t.getKey();
                return e.feedController.remove(i),
                i
            }),
            n = _.filter(e.columnController.getAll(), function(e) {
                var t = _.difference(e.getFeedKeys(), s);
                return e.setFeedKeys(t),
                _.isEmpty(t)
            }),
            r = _.map(n, function(e) {
                return e.getKey()
            }),
            !_.isEmpty(r)) {
                var o = e.clientController.client;
                o.setColumnOrder(_.difference(o.getColumnOrder(), r)),
                _.each(r, function(t) {
                    e.columnController.remove(t)
                })
            }
        }
          , v = function() {
            s.trace("init.initControllerAndUI()"),
            $(document).trigger("uiNeedsSettings"),
            i.clients.init(),
            i.feedManager.init(),
            TD.cache.names.init(),
            TD.decider.get("disable_instagram") && delete TD.services.TwitterMedia.SERVICES.instagram,
            t.main.init(),
            i.columnManager.init(),
            i.scheduler.init(),
            i.notifications.init(),
            i.filterManager.init(),
            TD.ready = !0,
            s.trace("init: TD.ready"),
            $(document).trigger("TD.ready"),
            e.accountController.isEmpty() ? ($(document).trigger("uiShowAccountSettings"),
            TD.components.NewFeaturesSplash.updateSeenVersion()) : TD.components.NewFeaturesSplash.shouldShow() && new TD.components.NewFeaturesSplash
        }
        ;
        return l.signOut = function(e) {
            return $(document).trigger("uiLogout", e),
            TD.core.defer.timeout(1e4)
        }
        ,
        l
    }(TD.storage, TD.ui, TD.controller, TD.sync.util, TD.util, TD.net.util, TD.sync, TD.core.defer, TD.sync.tdapi)
}
, function(e, t) {
    "use strict";
    TD.controller.notifications = function() {
        function e(e) {
            var n = e.column
              , c = e.items;
            if (c = c.filter(function(e) {
                return e.passFilters(n.filters) && !e.isOwnChirp()
            }),
            0 !== c.length) {
                var u = [];
                if (n.model.getHasNotification() && l)
                    for (var d = 0; d < c.length; d++) {
                        var m = c[d]
                          , p = o[m.id];
                        if (p)
                            h(n.type) > h(p.columnType) && (p.columnKey = n.model.getKey(),
                            p.columnTitle = n.getTitleHTML(),
                            p.columnType = n.model.getType(),
                            p.accountKey = m.account.getKey());
                        else {
                            var f = {
                                chirpID: m.messageThreadId || m.id,
                                accountKey: m.account.getKey(),
                                columnKey: n.model.getKey(),
                                columnTitle: n.getTitleHTML(),
                                columnType: n.model.getType()
                            }
                              , g = m.getNotificationData();
                            if (!g)
                                continue;g.img = g.img || TD.assets.get("logos", {
                                name: "32"
                            }),
                            _.extend(f, g),
                            u.push(f),
                            o[c[d].id] = f
                        }
                    }
                a = a || n.model.getHasSound(),
                r = r.concat(u),
                !i && (r.length > 0 || a) && (i = setTimeout(t, s))
            }
        }
        function t() {
            if (i = null ,
            a && (document.getElementById("update-sound").play(),
            a = !1),
            r.length && l) {
                var e = l === u ? r.slice(0, 5) : r;
                e.forEach(function(e) {
                    var t;
                    switch (l) {
                    case u:
                        deck.doGrowl(e.title, e.text, e.img, e.chirpID, e.columnKey);
                        break;
                    case d:
                        t = new c(e.title,{
                            body: e.text,
                            icon: e.img
                        }),
                        t.onclose = n.reset,
                        t.onshow = function() {
                            setTimeout(function() {
                                t.close()
                            }, 5e3)
                        }
                        ,
                        t.onclick = function() {
                            n.showDetailView(e.columnKey, e.chirpID),
                            TD.util.isChromeApp() && chrome.extension.getBackgroundPage().TD.bg.utils.showTDTab(),
                            window.focus()
                        }
                    }
                }),
                n.reset(),
                r = []
            }
        }
        var i, s = 500, n = {}, r = [], o = {}, a = !1, c = window.Notification, l = !1, u = "growl", d = "w3c", h = function(e) {
            switch (e) {
            case "privateMe":
                return 5;
            case "direct":
                return 4;
            case "me":
                return 3;
            case "mentions":
                return 2;
            case "home":
                return 1;
            case "search":
                return -1;
            default:
                return 0
            }
        }
        , m = function() {
            return TD.util.isWrapperApp() ? !0 : n.isPermissionGranted()
        }
        , p = function(e) {
            var t = m();
            return t && (l = d,
            e && e("granted")),
            t
        }
        ;
        return n.init = function() {
            TD.util.isMacApp() ? l = u : c && p(),
            $.subscribe("/notifications/new", e.bind(this))
        }
        ,
        n.hasNotifications = function() {
            return !!l || c && "denied" !== c.permission
        }
        ,
        n.isPermissionGranted = function() {
            return !!l || c && "granted" === c.permission
        }
        ,
        n.canPermissionBeRequested = function() {
            return c && "default" === c.permission
        }
        ,
        n.getPermission = function(e) {
            p(e) || c.requestPermission(function(t) {
                "permission"in c || (c.permission = t),
                p(e)
            })
        }
        ,
        n.showDetailView = function(e, t) {
            $(document).trigger("uiColumnFocus", {
                columnKey: e
            });
            var i = TD.controller.columnManager.get(e)
              , s = i.findMostInterestingChirp(t);
            if (s) {
                var n = i.findChirp(t);
                TD.ui.updates.showDetailView(i, s, n)
            }
        }
        ,
        n.reset = function() {
            o = {},
            a = !1
        }
        ,
        n
    }()
}
, function(e, t) {
    "use strict";
    TD.controller.progressIndicator = function() {
        function e() {
            s = $(".js-progress-indicator"),
            s.on("click", ".js-dismiss", i)
        }
        function t() {
            var t, r = null , a = "";
            if (s && s.length || e(),
            h)
                switch (r = h.message,
                h.state) {
                case o:
                    a = TD.i("Failed");
                    break;
                case n:
                    a = TD.i("Success")
                }
            if (r) {
                var c = TD.ui.template.render("topbar/alert_message", {
                    prefix: a,
                    message: r
                });
                s.html(c);
                var l = s.find(".js-status-message");
                t = u,
                u = l.height(),
                t !== u ? (t || l.css("bottom", -u),
                l.animate({
                    bottom: 0
                }, 200)) : l.css("bottom", 0)
            } else
                i()
        }
        function i() {
            var e = s.find(".js-status-message");
            e.animate({
                bottom: -u
            }, 200, function() {
                s.empty(),
                h = null
            }),
            u = 0
        }
        var s, n = "complete", r = "working", o = "failed", a = "message", c = 7e3, l = 3e3, u = 0, d = {}, h = null ;
        return d.addTask = function(e) {
            var i = _.uniqueId("msg_");
            return h = {
                key: i,
                message: e,
                state: r,
                timeout: null
            },
            t(),
            i
        }
        ,
        d.addMessage = function(e) {
            var i = _.uniqueId("msg_");
            return h = {
                key: i,
                message: e,
                state: a,
                timeout: null
            },
            h.timeout = setTimeout(function() {
                d.deleteTask(i)
            }, c),
            t(),
            i
        }
        ,
        d.deleteTask = function(e) {
            h && h.key === e && (h = null ,
            t())
        }
        ,
        d.taskComplete = function(e, i) {
            h && h.key === e && (h.state = n,
            h.message = i || h.message,
            h.timeout = setTimeout(function() {
                d.deleteTask(e)
            }, l),
            t())
        }
        ,
        d.taskFailed = function(e, i) {
            h && h.key === e && (h.state = o,
            h.message = i || h.message,
            h.timeout = setTimeout(function() {
                d.deleteTask(e)
            }, c),
            t())
        }
        ,
        d.changeMessage = function(e, i) {
            h && h.key === e && (h.message = i,
            t())
        }
        ,
        d
    }()
}
, function(e, t) {
    "use strict";
    TD.controller.scheduler = function() {
        var e = {};
        return e.QUERY_INTERVAL = 10,
        e.SLEEP_THRESHOLD = 20,
        e._tickInterval,
        e._tasks = {},
        e._lastTickTime = null ,
        e.init = function() {
            this._tickInterval = setInterval(this._handleTick, 1e3 * this.QUERY_INTERVAL),
            e._lastTickTime = Date.now(),
            this._jQueryCleanupTaskId = TD.controller.scheduler.schedulePeriodicTask(600, function() {
                jQuery.fragments = {}
            }),
            TD.controller.feedScheduler.init()
        }
        ,
        e._handleTick = function() {
            var t = Date.now()
              , i = (t - e._lastTickTime) / 1e3 - e.QUERY_INTERVAL;
            e._lastTickTime = t,
            i > e.SLEEP_THRESHOLD && $(document).trigger("dataAppWokenFromSleep", {
                lateness: i
            }),
            _.each(e._tasks, function(i) {
                var s = t - i.cycleStartTime;
                s > i.period && (e._fireTask(i),
                i.cycleStartTime = Date.now())
            })
        }
        ,
        e._fireTask = function(e) {
            try {
                e.callback()
            } catch (t) {
                console.log("Error in periodic task:", e, "Error:", t)
            }
        }
        ,
        e.schedulePeriodicTask = function(e, t, i) {
            var s = {
                id: _.uniqueId("sched_task_"),
                callback: t,
                period: 1e3 * e,
                cycleStartTime: Date.now()
            };
            return i && this._fireTask(s),
            this._tasks[s.id] = s,
            s.id
        }
        ,
        e.updatePeriodicTask = function(e, t, i) {
            var s = this._tasks[e];
            s && (s.period = 1e3 * t,
            s.callback = i || s.callback)
        }
        ,
        e.restartPeriodicTask = function(e) {
            var t = this._tasks[e];
            t && (t.cycleStartTime = Date.now())
        }
        ,
        e.removePeriodicTask = function(e) {
            delete this._tasks[e]
        }
        ,
        e
    }()
}
, function(e, t) {
    "use strict";
    TD.controller.stats = function() {
        var e = {}
          , t = "twid"
          , i = "interval"
          , s = "oid"
          , n = "tw"
          , r = "is_touch_device"
          , o = 10
          , a = {};
        TD.util.extendObjectWith(a, [[TD.util.columnUtils.columnMetaTypes.MENTIONS, {
            legacyId: 2,
            namespace: {
                section: "twitter",
                component: "mention"
            }
        }], [TD.util.columnUtils.columnMetaTypes.FOLLOWERS, {
            legacyId: 3,
            namespace: {
                section: "twitter",
                component: "followers"
            }
        }], [TD.util.columnUtils.columnMetaTypes.TIMELINE, {
            legacyId: 3,
            namespace: {
                section: "twitter",
                component: "home"
            }
        }], [TD.util.columnUtils.columnMetaTypes.SEARCH, {
            legacyId: 4,
            namespace: {
                section: "twitter",
                component: "search"
            }
        }], [TD.util.columnUtils.columnMetaTypes.MESSAGES, {
            legacyId: 5,
            namespace: {
                section: "twitter",
                component: "inbox"
            }
        }], [TD.util.columnUtils.columnMetaTypes.FAVORITES, {
            legacyId: 8,
            namespace: {
                section: "twitter",
                component: "favorites"
            }
        }], [TD.util.columnUtils.columnMetaTypes.LIST, {
            legacyId: 22,
            namespace: {
                section: "twitter",
                component: "list"
            }
        }], [TD.util.columnUtils.columnMetaTypes.SCHEDULED, {
            legacyId: 28,
            namespace: {
                section: "tweetdeck",
                component: "scheduledupdates"
            }
        }], [TD.util.columnUtils.columnMetaTypes.USERTWEETS, {
            legacyId: 32,
            namespace: {
                section: "twitter",
                component: "usertweets"
            }
        }], [TD.util.columnUtils.columnMetaTypes.USERTIMELINE, {
            legacyId: 33,
            namespace: {
                section: "twitter",
                component: "usertimeline"
            }
        }], [TD.util.columnUtils.columnMetaTypes.HOME, {
            legacyId: 34,
            namespace: {
                section: "tweetdeck",
                component: "home"
            }
        }], [TD.util.columnUtils.columnMetaTypes.ME, {
            legacyId: 35,
            namespace: {
                section: "tweetdeck",
                component: "me"
            }
        }], [TD.util.columnUtils.columnMetaTypes.INBOX, {
            legacyId: 36,
            namespace: {
                section: "tweetdeck",
                component: "inbox"
            }
        }], [TD.util.columnUtils.columnMetaTypes.INTERACTIONS, {
            legacyId: 37,
            namespace: {
                section: "twitter",
                component: "interactions"
            }
        }], [TD.util.columnUtils.columnMetaTypes.ACTIVITY, {
            legacyId: 38,
            namespace: {
                section: "twitter",
                component: "networkactivity"
            }
        }], [TD.util.columnUtils.columnMetaTypes.CUSTOMTIMELINE, {
            legacyId: 39,
            namespace: {
                section: "twitter",
                component: "customtimeline"
            }
        }], [TD.util.columnUtils.columnMetaTypes.DATAMINR, {
            legacyId: 39,
            namespace: {
                section: "dataminr",
                component: "watchlist"
            }
        }]]);
        var c, l, u, d, h = "Twitter-TweetDeck-{{{client_name}}}/{{{client_version}}} {{{platform}}}/{{{platform_version}}}", m = "deck", p = {
            config: {},
            impressions: []
        }, f = {}, g = [], v = $(document), T = function(t, i) {
            if (!e.scribeClientEvent || !e.scribeGuestId)
                return void g.push([t, i]);
            if (t = t || {},
            i = i || {},
            t.client = m,
            i.user_agent = u,
            i.guest_id = e.scribeGuestId,
            !i.user_id) {
                var s = TD.storage.store.getTwitterLoginAccount() || TD.storage.accountController.getDefault();
                s && (i.user_id = s.getUserID())
            }
            e.scribeClientEvent.scribe(t, i),
            v.trigger("scribing", {
                terms: t,
                data: i
            }),
            TD.config.scribe_debug_level > 0 && console.log("Scribing:", t, i)
        }
        , w = function() {
            var e, t = {};
            try {
                e = TD.storage.accountController.getPreferredAccount("twitter")
            } catch (i) {}
            return e && (t[n] = e.getUserID()),
            t
        }
        ;
        return e.generateScribeUserAgent = function(e, t, i, s) {
            var n = {
                client_name: e,
                client_version: t,
                platform: i,
                platform_version: s
            }
              , r = TD.ui.template.toHtml(h, n);
            return r
        }
        ,
        e.generateScribeGuestId = function(e, t) {
            var i = "tweetdeck:" + e + ":" + t
              , s = TD.core.sha1(i)
              , n = parseInt(s.substr(0, 13), 16);
            return n
        }
        ,
        e.flushScribeQueue = function() {
            d && d.flush(d.getBuffer())
        }
        ,
        e.updateTransportOptions = function(e) {
            return d ? void d.updateOptions(e) : void TD.sync.util.warn("scribeTransport options not updated as controller.stats not initialised")
        }
        ,
        e.init = function() {
            var t = TD.util.getAppEnv();
            c = TD.config.client_name + "-" + t,
            u = e.generateScribeUserAgent(c, TD.version, t, "1");
            var i = {
                bufferEvents: !0,
                useAjax: !1,
                flushOnUnload: !0
            };
            d = new ScribeTransport(i),
            e.scribeClientEvent = new ClientEvent(d),
            TD.controller.scheduler.schedulePeriodicTask(900, function() {
                e.impression(),
                e.twitterSession(),
                TD.util.metric("ping");
                var t = TD.storage.store.getTwitterLoginAccount();
                t ? t.isCookieUser() ? TD.util.metric("ping:session:cookie") : TD.util.metric("ping:session:tweetdeck") : TD.util.metric("ping:session:none")
            }, !0),
            TD.controller.scheduler.schedulePeriodicTask(60, TD.controller.stats.flushScribeQueue),
            $(document).on("scribeEvent", function(e, t) {
                this.generic(t.terms, t.data)
            }
            .bind(this))
        }
        ,
        e.setUid = function(t) {
            if (l = t,
            e.scribeGuestId = "",
            t) {
                for (e.scribeGuestId = e.generateScribeGuestId(u, TD.core.sha1(t)); g.length; ) {
                    var i = g.shift();
                    T(i[0], i[1])
                }
                e.impression()
            }
        }
        ,
        e.generic = function(e, t) {
            T(e, t)
        }
        ,
        e.setExperiments = function(e) {
            p.config = e.config || {},
            p.impressions = e.impressions || []
        }
        ,
        e.getExperimentBucket = function(e) {
            var t = p.config[e]
              , i = p.impressions.some(function(t) {
                return t.key === e
            });
            return t && i ? t.value : ""
        }
        ,
        e.isInExperimentBucket = function(t, i) {
            return e.getExperimentBucket(t) === i
        }
        ,
        e.experimentImpression = function(e) {
            var t = p.impressions.filter(function(t) {
                return t.key === e
            })[0];
            if (t && !f[e]) {
                var i = {
                    page: "ddg",
                    section: t.key,
                    component: "",
                    element: "",
                    action: "experiment"
                }
                  , s = {
                    experiment_key: t.key,
                    bucket: t.bucket,
                    version: t.version
                };
                T(i, s),
                f[e] = !0
            }
        }
        ,
        e.checkNamespace = function(e, t) {
            if (-1 === t.indexOf(e))
                throw new Error("value must be in " + t)
        }
        ,
        e.impression = function() {
            var e = {
                action: "impression",
                page: "main"
            }
              , t = w();
            t[i] = "900",
            t[r] = !1,
            TD.util.isTouchDevice() && (t[r] = !0),
            T(e, t)
        }
        ,
        e.twitterSession = function() {
            if ("web" === TD.util.getAppEnv()) {
                var e, t = TD.storage.store.getTwitterLoginAccount();
                if (t) {
                    var i = TD.util.getTwitterCookieUserId();
                    e = i ? i === t.getUserID() ? "same" : "different" : "none";
                    var s = {
                        page: "accounts",
                        section: "twitter_session",
                        action: e
                    };
                    T(s)
                }
            }
        }
        ,
        e.favorite = function(e, t) {
            var i = {
                page: "column",
                section: "tweet",
                action: "favorite"
            }
              , s = {
                items: [e],
                user_id: t
            };
            T(i, s);
            var n = {
                page: "column",
                section: "tweet",
                action: "favorite_engagement"
            }
              , r = {
                items: [e],
                user_id: TD.storage.store.getTwitterLoginAccount().getUserID()
            };
            T(n, r)
        }
        ,
        e.unfavorite = function(e, t) {
            var i = {
                page: "column",
                section: "tweet",
                action: "unfavorite"
            }
              , s = {
                items: [e],
                user_id: t
            };
            T(i, s)
        }
        ,
        e.retweet = function(e, t) {
            var i = {
                page: "column",
                section: "tweet",
                action: "retweet"
            }
              , s = {
                items: [e],
                user_id: t
            };
            T(i, s);
            var n = {
                page: "column",
                section: "tweet",
                action: "retweet_engagement"
            }
              , r = {
                items: [e],
                user_id: TD.storage.store.getTwitterLoginAccount().getUserID()
            };
            T(n, r)
        }
        ,
        e.embedTweetDialogOpen = function(e) {
            var i = {
                page: "main",
                section: "embed_tweet_dialog",
                action: "open"
            }
              , s = {};
            s[t] = e,
            T(i, s)
        }
        ,
        e.translate = function(e, i, r, o, a) {
            var c = {
                page: "column",
                section: "tweet",
                action: "translate"
            }
              , l = {};
            l[s] = e,
            l[t] = i,
            l[n] = r,
            l.dest_lang = o,
            l.src_lang = a,
            T(c, l)
        }
        ,
        e.reportUser = function(e, t) {
            var i = {
                page: "column",
                section: "tweet",
                component: "report_user",
                element: t || "",
                action: e
            };
            T(i)
        }
        ,
        e.reportUserAbusive = function(e, t) {
            var i = {
                page: "column",
                section: "tweet",
                component: "report_user_abusive",
                element: t || "",
                action: e
            };
            T(i)
        }
        ,
        e.reportDM = function(e) {
            var t = {
                page: "column",
                section: "tweet",
                component: "report_message",
                element: "",
                action: e
            };
            T(t)
        }
        ,
        e.sharedAccountWarning = function(e) {
            var t = {
                page: "main",
                section: "shared_account_warning",
                action: e
            };
            T(t)
        }
        ,
        e._genericColumnEvent = function(e, t, i) {
            var s = a[e]
              , n = {
                page: "column",
                section: "unknown",
                component: "unknown",
                action: t
            };
            i && (n.element = i),
            s && s.namespace ? _.extend(n, s.namespace) : console.log("Tracking: Unknown column type", e),
            T(n)
        }
        ,
        e.addColumn = function(t) {
            e._genericColumnEvent(t, "add")
        }
        ,
        e.removeColumn = function(t) {
            e._genericColumnEvent(t, "remove")
        }
        ,
        e.compose = function(e) {
            e = e || {};
            var t = {
                page: e.page || "compose",
                section: e.section,
                component: e.component,
                action: e.action
            }
              , i = {
                with_image: Boolean(e.withImage),
                scheduled: Boolean(e.isScheduled)
            };
            e.twitterId && (i.user_id = e.twitterId),
            e.isScheduled && (t.action += "_scheduled"),
            T(t, i)
        }
        ,
        e.postTweet = function(t, i, s) {
            e.compose({
                action: "send_tweet",
                twitterId: t,
                withImage: i,
                isScheduled: s
            })
        }
        ,
        e.postReply = function(t, i, s, n) {
            e.compose({
                action: "send_reply",
                component: n ? "inline_compose" : "docked_compose",
                twitterId: t,
                withImage: i,
                isScheduled: s
            });
            var r = {
                component: n ? "inline_compose" : "docked_compose",
                action: "reply_engagement",
                page: "compose"
            }
              , o = {
                user_id: TD.storage.store.getTwitterLoginAccount().getUserID()
            };
            T(r, o)
        }
        ,
        e.composeFromContextMenu = function(e) {
            var t = {
                page: "compose",
                component: "docked_compose",
                element: "chrome_context_menu",
                action: e
            };
            T(t)
        }
        ,
        e.postMessage = function(t) {
            var i = t.isGroupDm ? "send_group_dm" : "send_dm"
              , s = {
                action: i,
                twitterId: t.twitterId,
                withImage: t.withImage,
                component: "docked_compose"
            };
            t.isReplyBar && (s.page = "main",
            s.section = "messages",
            s.component = "reply_bar"),
            e.compose(s)
        }
        ,
        e.quoteTweet = function() {
            var e = {
                page: "main",
                section: "tweet",
                element: "tweet",
                action: "quote"
            };
            T(e)
        }
        ,
        e.discardQuoteTweet = function() {
            var e = {
                page: "main",
                section: "compose",
                element: "tweet",
                action: "discard_quote_tweet"
            };
            T(e)
        }
        ,
        e.shareTweetViaDM = function() {
            var e = {
                page: "main",
                section: "tweet",
                element: "send_tweet_dm",
                action: "click"
            };
            T(e)
        }
        ,
        e.sharedTweetDM = function() {
            var e = {
                page: "main",
                section: "messages",
                element: "shared_tweet_dm",
                action: "click"
            };
            T(e)
        }
        ,
        e.composeClearReply = function() {
            var e = {
                page: "compose",
                action: "clear_reply"
            };
            T(e)
        }
        ,
        e.composeStackReply = function() {
            var e = {
                page: "compose",
                action: "stack_reply"
            };
            T(e)
        }
        ,
        e.composePopFromInline = function() {
            var e = {
                page: "compose",
                component: "inline_compose",
                element: "pop_inline_to_docked",
                action: "click"
            };
            T(e)
        }
        ,
        e.messageBannerImpression = function(e) {
            var t = {
                page: "main",
                section: "message_banner",
                action: "impression"
            }
              , i = {
                message_id: e
            };
            T(t, i)
        }
        ,
        e.messageBannerDismiss = function(e) {
            var t = {
                page: "main",
                section: "message_banner",
                action: "dismiss"
            }
              , i = {
                message_id: e
            };
            T(t, i)
        }
        ,
        e.messageBannerClick = function(e, t) {
            var i = {
                page: "main",
                section: "message_banner",
                action: "click"
            }
              , s = {
                message_id: e,
                button_id: t
            };
            T(i, s)
        }
        ,
        e.searchboxFocus = function() {
            var e = {
                page: "main",
                component: "search_box",
                action: "focus_field"
            };
            T(e)
        }
        ,
        e.searchboxPerformSearch = function(e) {
            var t = {
                page: "main",
                component: "search_box",
                action: "search"
            }
              , i = {
                query: e
            };
            T(t, i)
        }
        ,
        e.typeaheadItemSelected = function(e, t, i) {
            var s = {
                page: "main",
                component: "search_box",
                element: "typeahead",
                action: "search"
            }
              , n = {
                query: e,
                type: t,
                index: i
            };
            T(s, n)
        }
        ,
        e.typeaheadRecentItemSelected = function(e, t, i) {
            var s = {
                page: "main",
                component: "search_box",
                element: "recent",
                action: "search"
            }
              , n = {
                query: e,
                type: t,
                index: i
            };
            T(s, n)
        }
        ,
        e.viewedTweetSocialProof = function(e) {
            var t = {
                page: "column",
                section: "social_proof",
                component: e,
                action: "impression"
            };
            switch (e) {
            case "retweeters":
                t.component = "retweeted_by";
                break;
            case "favoriters":
                t.component = "favorited_by";
                break;
            default:
                throw new Error("Social proof type “" + e + "” not recognised")
            }
            T(t)
        }
        ,
        e.setting = function(e, t) {
            var i = {
                page: "settings",
                section: e
            }
              , s = {
                section: {
                    condensed: "narrow",
                    "full-size": "wide"
                }
            };
            _.isBoolean(t) ? i.action = t ? "on" : "off" : (i.component = s.section[t] || t,
            i.action = "select"),
            T(i)
        }
        ,
        e.defaultAccountSelected = function() {
            T({
                page: "settings",
                section: "default_account",
                action: "select"
            })
        }
        ,
        e.apiErrorResponse = function(e, t, i) {
            var s = {
                page: "api",
                action: "request"
            }
              , n = {
                status_code: e
            };
            TD.util.random(0, 99) < o && (t && (n.event_info = t),
            i && (n.url = i),
            T(s, n))
        }
        ,
        e.advancedSearchSettings = function(e, t, i, s) {
            var n = {
                section: {},
                component: {
                    action: "interactions"
                },
                element: {
                    written_in: "language"
                }
            }
              , r = {
                page: "main",
                section: n.section[e] || e,
                component: n.component[t] || t,
                element: n.element[i] || i,
                action: "change"
            }
              , o = {
                value: s
            };
            T(r, o)
        }
        ,
        e.actionFilterError = function() {
            var e = {
                page: "main",
                section: "column_options",
                component: "interactions",
                action: "validation_error"
            }
              , t = {
                error: "No interaction types selected"
            };
            T(e, t)
        }
        ,
        e.columnActionClick = function(e, t) {
            var i = {
                page: "main",
                section: "column_options",
                element: e,
                action: "click"
            };
            if (t && a[t.type]) {
                var s = a[t.type]
                  , n = s.namespace.component;
                n && (i.component = n)
            }
            t = t || {},
            T(i, t)
        }
        ,
        e.conversationDetailViewImpression = function(e) {
            var t = {
                page: "main",
                section: "messages",
                component: "conversation",
                element: e,
                action: "impression"
            };
            T(t)
        }
        ,
        e.messagesColumnHeaderClick = function(e) {
            var t = {
                page: "main",
                section: "messages",
                component: "header",
                element: e,
                action: "click"
            };
            T(t)
        }
        ,
        e.messageAttachmentClick = function(e) {
            var t = {
                page: "main",
                section: "messages",
                component: "message",
                element: e,
                action: "click"
            };
            T(t)
        }
        ,
        e.unknownStreamData = function(e) {
            var t = {
                page: "api",
                section: "userstream",
                action: "unrecognized_data"
            };
            T(t, e)
        }
        ,
        e.navbarListsClick = function() {
            var e = {
                page: "main",
                section: "navbar",
                element: "lists",
                action: "click"
            };
            T(e)
        }
        ,
        e.navbarAddColumnClick = function() {
            var e = {
                page: "main",
                section: "navbar",
                element: "add_column",
                action: "click"
            };
            T(e)
        }
        ,
        e.navbarPageLeft = function() {
            var e = {
                page: "main",
                section: "navbar",
                component: "column_nav",
                element: "page_left",
                action: "click"
            };
            T(e)
        }
        ,
        e.navbarReorderColumns = function() {
            var e = {
                page: "main",
                section: "navbar",
                component: "column_nav",
                action: "reorder"
            };
            T(e)
        }
        ,
        e.navbarJumpToColumn = function() {
            var e = {
                page: "main",
                section: "navbar",
                component: "column_nav",
                element: "column_item",
                action: "click"
            };
            T(e)
        }
        ,
        e.navbarPageRight = function() {
            var e = {
                page: "main",
                section: "navbar",
                component: "column_nav",
                element: "page_right",
                action: "click"
            };
            T(e)
        }
        ,
        e.navbarSettingsClick = function() {
            var e = {
                page: "main",
                section: "navbar",
                element: "settings",
                action: "click"
            };
            T(e)
        }
        ,
        e.navbarMigrate = function(e) {
            var t = ["impression", "click"];
            if (-1 === t.indexOf(e))
                throw new Error("action must be in " + t);
            var i = {
                page: "main",
                section: "navbar",
                element: "migrate",
                action: e
            };
            T(i)
        }
        ,
        e.navbarComposeClick = function() {
            var e = {
                page: "main",
                section: "navbar",
                element: "compose",
                action: "click"
            };
            T(e)
        }
        ,
        e.tweetStreamImpression = function(e, t, i) {
            if (!(t.length < 1)) {
                var s = {
                    component: "stream",
                    action: "results"
                };
                i && (s.element = "linger");
                var n = {
                    items: t
                }
                  , r = TD.util.columnUtils.columnMetaTypeToScribeNamespace[e];
                r && (s = _.extend(s, r),
                T(s, n))
            }
        }
        ,
        e.tweetImpression = function(e) {
            var t = {
                page: "tweet",
                component: "tweet",
                action: "impression"
            }
              , i = {
                items: [e]
            };
            T(t, i)
        }
        ,
        e.mediaImpression = function(e) {
            var t = {
                page: "tweet",
                component: "gallery",
                element: "photo",
                action: "impression"
            }
              , i = {
                items: [e]
            };
            T(t, i)
        }
        ,
        e.ownTweetDetailImpression = function(e) {
            var t = {
                page: "main",
                section: "detail",
                component: "own_tweet",
                action: "impression"
            }
              , i = {
                items: [e]
            };
            T(t, i)
        }
        ,
        e.appWokenFromSleep = function(e) {
            var t = {
                page: "main",
                action: "wake"
            }
              , i = {
                secondsSinceSleep: e
            };
            T(t, i)
        }
        ,
        e.purgedServices = function(e) {
            e.forEach(function(e) {
                var t = {
                    page: "main",
                    section: "service",
                    action: "remove"
                };
                T(t, {
                    service: e
                })
            })
        }
        ,
        e.purgedFeed = function(e) {
            var t = {
                page: "main",
                section: "feed",
                action: "remove"
            };
            T(t, e)
        }
        ,
        e.newListClick = function() {
            var e = {
                page: "add_column",
                component: "list",
                element: "create_list_button",
                action: "click"
            };
            T(e)
        }
        ,
        e.listCreated = function() {
            var e = {
                page: "main",
                component: "list",
                action: "create"
            };
            T(e)
        }
        ,
        e.listUpdated = function() {
            var e = {
                page: "main",
                component: "list",
                action: "update"
            };
            T(e)
        }
        ,
        e.listDeleted = function() {
            var e = {
                page: "main",
                component: "list",
                action: "delete"
            };
            T(e)
        }
        ,
        e.customTimelineCreated = function() {
            var e = {
                page: "main",
                component: "customtimeline",
                action: "create"
            };
            T(e)
        }
        ,
        e.customTimelineUpdated = function() {
            var e = {
                page: "main",
                component: "customtimeline",
                action: "update"
            };
            T(e)
        }
        ,
        e.customTimelineDeleted = function() {
            var e = {
                page: "main",
                component: "customtimeline",
                action: "delete"
            };
            T(e)
        }
        ,
        e.tweetAddedToCustomTimeline = function() {
            var e = {
                page: "main",
                component: "customtimeline",
                element: "tweet",
                action: "add"
            };
            T(e)
        }
        ,
        e.tweetRemovedFromCustomTimeline = function() {
            var e = {
                page: "main",
                component: "customtimeline",
                element: "tweet",
                action: "remove"
            };
            T(e)
        }
        ,
        e.migrateAppflow = function(t, i) {
            e.checkNamespace(t, ["migrate_education", "migrate_risk", "migrate_risk_agreement", "migrate_teams", "migrate_team_instructions", "migrate_team_member"]),
            e.checkNamespace(i, ["impression", "previous", "cancel", "next", "ok"]);
            var s = {
                page: "startflow",
                section: t,
                action: i
            };
            T(s)
        }
        ,
        e.migrateStartflow = function(t, i, s) {
            e.checkNamespace(t, ["migrate_tweetdeck_login", "migrate_twitter_login", "migrate_final_confirmation", "migrate_progress", "migrate_progress_success", "migrate_progress_team_setup"]),
            e.checkNamespace(i, ["impression", "previous", "cancel", "next", "restart"]);
            var n = {
                page: "startflow",
                section: t,
                element: s ? "error" : void 0,
                action: i
            };
            T(n)
        }
        ,
        e.dataminrAuthRequest = function() {
            var e = {
                page: "api",
                section: "dataminr",
                element: "authorize",
                action: "request"
            };
            T(e)
        }
        ,
        e.dataminrApiRequest = function(t) {
            e.checkNamespace(t, ["alerts", "watchlists"]);
            var i = {
                page: "api",
                section: "dataminr",
                element: t,
                action: "request"
            };
            T(i)
        }
        ,
        e.dataminrClickImpression = function(t, i) {
            e.checkNamespace(i, ["show_followers", "show_following", "website", "map", "dataminr_settings", "user_media", "dataminr", "search", "search_any", "search_all", "hashtag"]),
            e.checkNamespace(t, ["dataminr_alert", "dataminr_alert_detail"]);
            var s = {
                page: "main",
                section: t,
                element: i,
                action: "click"
            };
            T(s)
        }
        ,
        e
    }()
}
, function(e, t) {
    "use strict";
    TD.controller.upgrade = function(e, t, i, s) {
        var n = {};
        return n.CURRENT_VERSION = 2,
        n.recordVersion = function(t) {
            return e.clientController.client.dictSet("settings", "version", t)
        }
        ,
        n.doUpgrades = function() {
            var t = e.clientController.client.get("settings")
              , i = _.isUndefined(t) || _.isUndefined(t.version);
            if (i)
                return TD.util.metric("controller:upgrade:new-user:to:" + n.CURRENT_VERSION),
                n.recordVersion(n.CURRENT_VERSION).addErrback(TD.util.effect(function() {
                    TD.util.metric("controller:upgrade:error"),
                    TD.util.metric("controller:upgrade:new-user:error")
                }));
            var r = Number(t.version) || 0;
            TD.util.metric("controller:upgrade:existing-version:" + r);
            for (var o = s.succeed(), a = 1; a <= n.CURRENT_VERSION; a++)
                if (a > r) {
                    var c = "version_" + a.toString();
                    n.hasOwnProperty(c) && (TD.util.metric("controller:upgrade:to:" + a),
                    o.addCallback(n[c]),
                    o.addCallback(n.recordVersion.bind(n, a)))
                }
            return o.addErrback(TD.util.effect(function() {
                return TD.util.metric("controller:upgrade:error")
            })),
            o
        }
        ,
        n.version_1 = function() {
            e.columnController.getAll().forEach(function(e) {
                var t, i = TD.storage.feedController.get(e.getFeedKeys()[0]).getType();
                i === TD.util.columnUtils.feedTypes.MENTIONS && (t = new TD.vo.SearchFilter(e.getFilters()),
                t.action.fromJSONObject({
                    showMentions: !0,
                    showRetweets: !1,
                    showFavorites: !1,
                    showFollowers: !1,
                    showLists: !1
                }),
                e.setFilters(t.toJSONObject()))
            })
        }
        ,
        n.version_2 = function() {
            var t = TD.storage.clientController.client.get("settings").show_inline_media;
            t === !1 && e.columnController.getAll().forEach(function(e) {
                e.setMediaPreviewSize(TD.vo.Column.MEDIA_PREVIEW_OFF)
            })
        }
        ,
        n
    }(TD.storage, TD.config, TD.sync.util, TD.core.defer)
}
, function(e, t, i) {
    "use strict";
    window.ScribeTransport = i(584),
    window.ClientEvent = i(583),
    i(391),
    i(389),
    i(392),
    i(393),
    i(394),
    TD.core.defer = i(390),
    i(171),
    TD.util.i18n = i(194),
    TD.i = i(574),
    TD.assets = i(316),
    i(373),
    i(576),
    i(605),
    i(607),
    TD.sync.util = i(127),
    i(169)
}
, function(e, t) {
    "use strict";
    window.TD = window.TD || {},
    TD.core = TD.core || {},
    TD.core.base64 = function() {
        var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
          , t = function(e) {
            e = e.replace(/\r\n/g, "\n");
            for (var t = "", i = 0; i < e.length; i++) {
                var s = e.charCodeAt(i);
                128 > s ? t += String.fromCharCode(s) : s > 127 && 2048 > s ? (t += String.fromCharCode(s >> 6 | 192),
                t += String.fromCharCode(63 & s | 128)) : (t += String.fromCharCode(s >> 12 | 224),
                t += String.fromCharCode(s >> 6 & 63 | 128),
                t += String.fromCharCode(63 & s | 128))
            }
            return t
        }
          , i = function(e) {
            for (var t = "", i = 0, s = 0, n = 0, r = 0; i < e.length; )
                s = e.charCodeAt(i),
                128 > s ? (t += String.fromCharCode(s),
                i++) : s > 191 && 224 > s ? (n = e.charCodeAt(i + 1),
                t += String.fromCharCode((31 & s) << 6 | 63 & n),
                i += 2) : (n = e.charCodeAt(i + 1),
                r = e.charCodeAt(i + 2),
                t += String.fromCharCode((15 & s) << 12 | (63 & n) << 6 | 63 & r),
                i += 3);
            return t
        }
          , s = function(i) {
            var s, n, r, o, a, c, l, u = "", d = 0;
            for (i = t(i); d < i.length; )
                s = i.charCodeAt(d++),
                n = i.charCodeAt(d++),
                r = i.charCodeAt(d++),
                o = s >> 2,
                a = (3 & s) << 4 | n >> 4,
                c = (15 & n) << 2 | r >> 6,
                l = 63 & r,
                isNaN(n) ? c = l = 64 : isNaN(r) && (l = 64),
                u = u + e.charAt(o) + e.charAt(a) + e.charAt(c) + e.charAt(l);
            return u
        }
          , n = function(t) {
            var s, n, r, o, a, c, l, u = "", d = 0;
            for (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); d < t.length; )
                o = e.indexOf(t.charAt(d++)),
                a = e.indexOf(t.charAt(d++)),
                c = e.indexOf(t.charAt(d++)),
                l = e.indexOf(t.charAt(d++)),
                s = o << 2 | a >> 4,
                n = (15 & a) << 4 | c >> 2,
                r = (3 & c) << 6 | l,
                u += String.fromCharCode(s),
                64 != c && (u += String.fromCharCode(n)),
                64 != l && (u += String.fromCharCode(r));
            return u = i(u)
        }
        ;
        return {
            encode: s,
            decode: n
        }
    }()
}
, function(e, t, i) {
    "use strict";
    var s = i(118)
      , n = {};
    n.NAME = "TD.core.defer",
    n.DEBUG_DEFERREDS = !1;
    var r = Array.prototype.slice
      , o = function(e) {
        this.message = e,
        this.name = e
    }
    ;
    o.prototype = new Error,
    o.prototype.toString = function() {
        return this.message && this.message != this.name ? this.name + "(" + this.message.toString() + ")" : this.name + "()"
    }
    ;
    var a = function(e, t, i) {
        i.prototype = new o(e.NAME + "." + t),
        e[t] = i
    }
    ;
    a(n, "AlreadyCalledError", function(e) {
        this.deferred = e
    }),
    a(n, "CancelledError", function(e) {
        this.deferred = e
    }),
    a(n, "GenericError", function(e) {
        this.message = e
    }),
    a(n, "XMLHttpRequestError", function(e, t, i) {
        this.req = e,
        this.message = t,
        this.requestSettings = i || {};
        try {
            this.number = e.status
        } catch (s) {}
        if (this.req)
            switch (this.req.responseText) {
            case "Item cannot be scheduled for the past.":
                this.humanReadableMessage = TD.i("You can't schedule a Tweet for the past.");
                break;
            case "Item too far in the future.":
                this.humanReadableMessage = TD.i("You can't schedule a Tweet for more than a year ahead.");
                break;
            case "You have too many updates scheduled.":
                this.humanReadableMessage = TD.i("You can only save 150 scheduled Tweets at once. Please delete one or try later.")
            }
    });
    var c = function() {
        try {
            throw new Error("DEBUG_DEFERRED stack trace")
        } catch (e) {
            return e.stack
        }
    }
    ;
    n.Deferred = function(e) {
        this.chain = [],
        this.id = s.uniqueId("d:"),
        n.DEBUG_DEFERREDS && (this.create_stack = c()),
        this.fired = -1,
        this.paused = 0,
        this.results = [null , null ],
        this.canceller = e,
        this.silentlyCancelled = !1,
        this.chained = !1
    }
    ,
    n.Deferred.prototype = {
        toString: function() {
            var e;
            return e = -1 == this.fired ? "unfired" : 0 === this.fired ? "success" : "error",
            "Deferred(" + this.id + ", " + e + "[" + this.chain.length + "])"
        },
        cancel: function() {
            -1 == this.fired ? (this.canceller ? this.canceller(this) : this.silentlyCancelled = !0,
            -1 == this.fired && this.errback(new n.CancelledError(this))) : 0 === this.fired && this.results[0]instanceof n.Deferred && this.results[0].cancel()
        },
        _resback: function(e) {
            n.DEBUG_DEFERREDS && (this.invoke_stack = c()),
            this.fired = e instanceof Error ? 1 : 0,
            this.results[this.fired] = e,
            this._fire()
        },
        _check: function() {
            if (-1 != this.fired) {
                if (!this.silentlyCancelled)
                    throw new n.AlreadyCalledError(this);
                return void (this.silentlyCancelled = !1)
            }
        },
        callback: function(e) {
            if (this._check(),
            e instanceof n.Deferred)
                throw new Error("Deferred instances can only be chained if they are the result of a callback");
            this._resback(e)
        },
        errback: function(e) {
            if (this._check(),
            e instanceof n.Deferred)
                throw new Error("Deferred instances can only be chained if they are the result of a callback");
            e instanceof Error || (e = new n.GenericError(e)),
            this._resback(e)
        },
        addBoth: function(e) {
            var t = r.call(arguments, 1);
            return this.addCallbacks(e, e, t, t, null , null )
        },
        addBothWith: function(e, t) {
            var i = r.call(arguments, 2);
            return this.addCallbacks(t, t, i, i, e, e)
        },
        addCallback: function(e) {
            var t = r.call(arguments, 1);
            return this.addCallbacks(e, null , t, null , null , null )
        },
        addCallbackWith: function(e, t) {
            var i = r.call(arguments, 2);
            return this.addCallbacks(t, null , i, null , e, null )
        },
        addErrback: function(e) {
            var t = r.call(arguments, 1);
            return this.addCallbacks(null , e, null , t, null , null )
        },
        addErrbackWith: function(e, t) {
            var i = r.call(arguments, 2);
            return this.addCallbacks(null , t, null , i, null , e)
        },
        addCallbacks: function(e, t, i, s, n, r) {
            if (this.chained)
                throw new Error("Chained Deferreds can not be re-used");
            return this.chain.push([e, t, i, s, n, r]),
            this.fired >= 0 && this._fire(),
            this
        },
        addCallbacksWith: function(e, t, i, s, n) {
            return this.addCallbacks(t, i, s, n, e, e)
        },
        _fire: function() {
            for (var e, t, i = this.chain, s = this.fired, r = this.results[s], o = this, a = null , c = function(e) {
                o._resback(e),
                o.paused--,
                0 === o.paused && o.fired >= 0 && o._fire()
            }
            ; i.length > 0 && 0 === this.paused; ) {
                var l = i.shift()
                  , u = l[s];
                if (null !== u)
                    try {
                        e = l[2 + s] ? [r].concat(l[2 + s]) : [r],
                        t = l[4 + s],
                        r = u.apply(t, e),
                        s = r instanceof Error ? 1 : 0,
                        r instanceof n.Deferred && (a = c,
                        this.paused++)
                    } catch (d) {
                        s = 1,
                        r = d instanceof Error ? d : new n.GenericError(d),
                        r.stack && r.stack.split ? r.stackTrace = r.stack.split("\n") : r.stackTrace = []
                    }
            }
            this.fired = s,
            this.results[s] = r,
            a && this.paused && (r.addBoth(a),
            r.chained = !0)
        }
    },
    n.DeferredList = function(e, t, i) {
        n.Deferred.apply(this, [i]),
        this.list = e;
        var r = [];
        this.resultList = r,
        this.finishedCount = 0,
        this.fireOnOneCallback = Boolean(t && t.fireOnOneCallback),
        this.fireOnOneErrback = Boolean(t && t.fireOnOneErrback),
        this.consumeErrors = Boolean(t && t.consumeErrors);
        for (var o = s.bind(this._cbDeferred, this), a = 0; a < e.length; a++) {
            var c = e[a];
            r.push(void 0),
            c.addCallback(o, a, !0),
            c.addErrback(o, a, !1)
        }
        0 !== e.length || this.fireOnOneCallback || this.callback(this.resultList)
    }
    ,
    n.DeferredList.prototype = new n.Deferred,
    n.DeferredList.prototype._cbDeferred = function(e, t, i) {
        return this.resultList[t] = [i, e],
        this.finishedCount += 1,
        -1 == this.fired && (i && this.fireOnOneCallback ? this.callback([t, e]) : !i && this.fireOnOneErrback ? this.errback(e) : this.finishedCount == this.list.length && this.callback(this.resultList)),
        !i && this.consumeErrors && (e = null ),
        e
    }
    ,
    n.gatherResults = function(e) {
        var t = new n.DeferredList(e,{
            fireOnOneErrback: !0
        });
        return t.addCallback(function(e) {
            for (var t = [], i = 0; i < e.length; i++)
                t.push(e[i][1]);
            return t
        }),
        t
    }
    ,
    n.succeed = function(e) {
        var t = new n.Deferred;
        return t.callback(e),
        t
    }
    ,
    n.fail = function(e) {
        var t = new n.Deferred;
        return t.errback(e),
        t
    }
    ,
    n.maybeDeferred = function(e) {
        var t;
        try {
            var i = e.apply(null , r.call(arguments, 1));
            t = i instanceof n.Deferred ? i : i instanceof Error ? n.fail(i) : n.succeed(i)
        } catch (s) {
            t = n.fail(s)
        }
        return t
    }
    ,
    n.timeout = function(e, t) {
        var i = new TD.core.defer.Deferred;
        return setTimeout(i.callback.bind(i, t), e),
        i
    }
    ,
    e.exports = n
}
, function(e, t) {
    "use strict";
    !function(e) {
        var t = {};
        e.publish = function(i, s) {
            var n = t[i];
            n && e.each(n, function() {
                this.apply(e, s || [])
            })
        }
        ,
        e.subscribe = function(e, i) {
            return t[e] || (t[e] = []),
            t[e].push(i),
            [e, i]
        }
        ,
        e.unsubscribe = function(i) {
            if (!(i && i instanceof Array))
                throw new Error("unsubscribe(): handle must be an instance of Array.");
            var s = i[0];
            t[s] && e.each(t[s], function(e) {
                this == i[1] && t[s].splice(e, 1)
            })
        }
        ,
        e.unsubscribeAll = function(e) {
            delete t[e]
        }
    }(jQuery)
}
, function(e, t) {
    "use strict";
    window.TD = window.TD || {},
    TD.core = TD.core || {},
    TD.core.sha1 = function(e) {
        function t(e, t) {
            var i = e << t | e >>> 32 - t;
            return i
        }
        function i(e) {
            var t, i, s = "";
            for (t = 7; t >= 0; t--)
                i = e >>> 4 * t & 15,
                s += i.toString(16);
            return s
        }
        function s(e) {
            e = e.replace(/\r\n/g, "\n");
            for (var t = "", i = 0; i < e.length; i++) {
                var s = e.charCodeAt(i);
                128 > s ? t += String.fromCharCode(s) : s > 127 && 2048 > s ? (t += String.fromCharCode(s >> 6 | 192),
                t += String.fromCharCode(63 & s | 128)) : (t += String.fromCharCode(s >> 12 | 224),
                t += String.fromCharCode(s >> 6 & 63 | 128),
                t += String.fromCharCode(63 & s | 128))
            }
            return t
        }
        var n, r, o, a, c, l, u, d, h, m = new Array(80), p = 1732584193, f = 4023233417, g = 2562383102, v = 271733878, T = 3285377520;
        e = s(e);
        var w = e.length
          , b = new Array;
        for (r = 0; w - 3 > r; r += 4)
            o = e.charCodeAt(r) << 24 | e.charCodeAt(r + 1) << 16 | e.charCodeAt(r + 2) << 8 | e.charCodeAt(r + 3),
            b.push(o);
        switch (w % 4) {
        case 0:
            r = 2147483648;
            break;
        case 1:
            r = e.charCodeAt(w - 1) << 24 | 8388608;
            break;
        case 2:
            r = e.charCodeAt(w - 2) << 24 | e.charCodeAt(w - 1) << 16 | 32768;
            break;
        case 3:
            r = e.charCodeAt(w - 3) << 24 | e.charCodeAt(w - 2) << 16 | e.charCodeAt(w - 1) << 8 | 128
        }
        for (b.push(r); b.length % 16 != 14; )
            b.push(0);
        for (b.push(w >>> 29),
        b.push(w << 3 & 4294967295),
        n = 0; n < b.length; n += 16) {
            for (r = 0; 16 > r; r++)
                m[r] = b[n + r];
            for (r = 16; 79 >= r; r++)
                m[r] = t(m[r - 3] ^ m[r - 8] ^ m[r - 14] ^ m[r - 16], 1);
            for (a = p,
            c = f,
            l = g,
            u = v,
            d = T,
            r = 0; 19 >= r; r++)
                h = t(a, 5) + (c & l | ~c & u) + d + m[r] + 1518500249 & 4294967295,
                d = u,
                u = l,
                l = t(c, 30),
                c = a,
                a = h;
            for (r = 20; 39 >= r; r++)
                h = t(a, 5) + (c ^ l ^ u) + d + m[r] + 1859775393 & 4294967295,
                d = u,
                u = l,
                l = t(c, 30),
                c = a,
                a = h;
            for (r = 40; 59 >= r; r++)
                h = t(a, 5) + (c & l | c & u | l & u) + d + m[r] + 2400959708 & 4294967295,
                d = u,
                u = l,
                l = t(c, 30),
                c = a,
                a = h;
            for (r = 60; 79 >= r; r++)
                h = t(a, 5) + (c ^ l ^ u) + d + m[r] + 3395469782 & 4294967295,
                d = u,
                u = l,
                l = t(c, 30),
                c = a,
                a = h;
            p = p + a & 4294967295,
            f = f + c & 4294967295,
            g = g + l & 4294967295,
            v = v + u & 4294967295,
            T = T + d & 4294967295
        }
        var h = i(p) + i(f) + i(g) + i(v) + i(T);
        return h.toLowerCase()
    }
}
, function(e, t) {
    "use strict";
    !function() {
        var e = 8
          , t = "="
          , i = 0
          , s = function(t) {
            var i, s = [], n = (1 << e) - 1, r = t.length * e;
            for (i = 0; r > i; i += e)
                s[i >> 5] |= (t.charCodeAt(i / e) & n) << 32 - e - i % 32;
            return s
        }
          , n = function(e) {
            var t, i, s = [], n = e.length;
            for (t = 0; n > t; t += 2) {
                if (i = parseInt(e.substr(t, 2), 16),
                isNaN(i))
                    return "INVALID HEX STRING";
                s[t >> 3] |= i << 24 - 4 * (t % 8)
            }
            return s
        }
          , r = function(e) {
            var t, s, n = i ? "0123456789ABCDEF" : "0123456789abcdef", r = "", o = 4 * e.length;
            for (t = 0; o > t; t += 1)
                s = e[t >> 2] >> 8 * (3 - t % 4),
                r += n.charAt(s >> 4 & 15) + n.charAt(15 & s);
            return r
        }
          , o = function(e) {
            var i, s, n, r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", o = "", a = 4 * e.length;
            for (i = 0; a > i; i += 3)
                for (n = (e[i >> 2] >> 8 * (3 - i % 4) & 255) << 16 | (e[i + 1 >> 2] >> 8 * (3 - (i + 1) % 4) & 255) << 8 | e[i + 2 >> 2] >> 8 * (3 - (i + 2) % 4) & 255,
                s = 0; 4 > s; s += 1)
                    o += 8 * i + 6 * s <= 32 * e.length ? r.charAt(n >> 6 * (3 - s) & 63) : t;
            return o
        }
          , a = function(e, t) {
            return e >>> t | e << 32 - t
        }
          , c = function(e, t) {
            return e >>> t
        }
          , l = function(e, t, i) {
            return e & t ^ ~e & i
        }
          , u = function(e, t, i) {
            return e & t ^ e & i ^ t & i
        }
          , d = function(e) {
            return a(e, 2) ^ a(e, 13) ^ a(e, 22)
        }
          , h = function(e) {
            return a(e, 6) ^ a(e, 11) ^ a(e, 25)
        }
          , m = function(e) {
            return a(e, 7) ^ a(e, 18) ^ c(e, 3)
        }
          , p = function(e) {
            return a(e, 17) ^ a(e, 19) ^ c(e, 10)
        }
          , f = function(e, t) {
            var i = (65535 & e) + (65535 & t)
              , s = (e >>> 16) + (t >>> 16) + (i >>> 16);
            return (65535 & s) << 16 | 65535 & i
        }
          , g = function(e, t, i, s) {
            var n = (65535 & e) + (65535 & t) + (65535 & i) + (65535 & s)
              , r = (e >>> 16) + (t >>> 16) + (i >>> 16) + (s >>> 16) + (n >>> 16);
            return (65535 & r) << 16 | 65535 & n
        }
          , v = function(e, t, i, s, n) {
            var r = (65535 & e) + (65535 & t) + (65535 & i) + (65535 & s) + (65535 & n)
              , o = (e >>> 16) + (t >>> 16) + (i >>> 16) + (s >>> 16) + (n >>> 16) + (r >>> 16);
            return (65535 & o) << 16 | 65535 & r
        }
          , T = function(e, t, i) {
            var s, n, r, o, a, c, T, w, b, y, D, C, _, S, A, E, I = [];
            for (("SHA-224" === i || "SHA-256" === i) && (C = (t + 65 >> 9 << 4) + 15,
            A = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298],
            D = "SHA-224" === i ? [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428] : [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225]),
            e[t >> 5] |= 128 << 24 - t % 32,
            e[C] = t,
            E = e.length,
            _ = 0; E > _; _ += 16) {
                for (s = D[0],
                n = D[1],
                r = D[2],
                o = D[3],
                a = D[4],
                c = D[5],
                T = D[6],
                w = D[7],
                S = 0; 64 > S; S += 1)
                    16 > S ? I[S] = e[S + _] : I[S] = g(p(I[S - 2]), I[S - 7], m(I[S - 15]), I[S - 16]),
                    b = v(w, h(a), l(a, c, T), A[S], I[S]),
                    y = f(d(s), u(s, n, r)),
                    w = T,
                    T = c,
                    c = a,
                    a = f(o, b),
                    o = r,
                    r = n,
                    n = s,
                    s = f(b, y);
                D[0] = f(s, D[0]),
                D[1] = f(n, D[1]),
                D[2] = f(r, D[2]),
                D[3] = f(o, D[3]),
                D[4] = f(a, D[4]),
                D[5] = f(c, D[5]),
                D[6] = f(T, D[6]),
                D[7] = f(w, D[7])
            }
            switch (i) {
            case "SHA-224":
                return [D[0], D[1], D[2], D[3], D[4], D[5], D[6]];
            case "SHA-256":
                return D;
            default:
                return []
            }
        }
          , w = function(t, i) {
            if (this.sha224 = null ,
            this.sha256 = null ,
            this.strBinLen = null ,
            this.strToHash = null ,
            "HEX" === i) {
                if (0 !== t.length % 2)
                    return "TEXT MUST BE IN BYTE INCREMENTS";
                this.strBinLen = 4 * t.length,
                this.strToHash = n(t)
            } else {
                if ("ASCII" !== i && "undefined" != typeof i)
                    return "UNKNOWN TEXT INPUT TYPE";
                this.strBinLen = t.length * e,
                this.strToHash = s(t)
            }
        }
        ;
        w.prototype = {
            getHash: function(e, t) {
                var i = null
                  , s = this.strToHash.slice();
                switch (t) {
                case "HEX":
                    i = r;
                    break;
                case "B64":
                    i = o;
                    break;
                default:
                    return "FORMAT NOT RECOGNIZED"
                }
                switch (e) {
                case "SHA-224":
                    return null === this.sha224 && (this.sha224 = T(s, this.strBinLen, e)),
                    i(this.sha224);
                case "SHA-256":
                    return null === this.sha256 && (this.sha256 = T(s, this.strBinLen, e)),
                    i(this.sha256);
                default:
                    return "HASH NOT RECOGNIZED"
                }
            },
            getHMAC: function(t, i, a, c) {
                var l, u, d, h, m, p, f = [], g = [];
                switch (c) {
                case "HEX":
                    l = r;
                    break;
                case "B64":
                    l = o;
                    break;
                default:
                    return "FORMAT NOT RECOGNIZED"
                }
                switch (a) {
                case "SHA-224":
                    p = 224;
                    break;
                case "SHA-256":
                    p = 256;
                    break;
                default:
                    return "HASH NOT RECOGNIZED"
                }
                if ("HEX" === i) {
                    if (0 !== t.length % 2)
                        return "KEY MUST BE IN BYTE INCREMENTS";
                    u = n(t),
                    m = 4 * t.length
                } else {
                    if ("ASCII" !== i)
                        return "UNKNOWN KEY INPUT TYPE";
                    u = s(t),
                    m = t.length * e
                }
                for (m / 8 > 64 ? (u = T(u, m, a),
                u[15] &= 4294967040) : 64 > m / 8 && (u[15] &= 4294967040),
                d = 0; 15 >= d; d += 1)
                    f[d] = 909522486 ^ u[d],
                    g[d] = 1549556828 ^ u[d];
                return h = T(f.concat(this.strToHash), 512 + this.strBinLen, a),
                h = T(g.concat(h), 512 + p, a),
                l(h)
            }
        },
        window.jsSHA = w
    }()
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(19)
      , r = s(n)
      , o = i(68)
      , a = i(171);
    TD.util = function() {
        var e, t = 0, i = 1e3, s = 60 * i, n = 60 * s, c = 24 * n, l = /(.+)(?:_normal)\.(\w+)$/, u = new RegExp("<(?:.|\\n)*?>","gm"), d = /\B(?=(\d{3})+(?!\d))/g, h = /^[@\uff20]?/, m = /^https?:\/\/twitter\.com\/([a-zA-Z0-9_-]+)(?:(?:\/status(?:es)?\/([0-9]+))?|(?:(\/(?:lists|timelines)\/)|\/)?([a-zA-Z0-9_-]+))\/?(\?.*)?$/, p = /^#column=([a-zA-Z0-9+\/=]+)$/, f = /^https?:\/\/tweetdeck.twitter.com\/(#[a-zA-Z0-9+\/=]+)$/, g = "Twitter-TweetDeck-blackbird-chrome/{{{clientVersion}}} {{{platform}}}/{{{platformVersion}}}", v = ["404", "500", "about", "account", "help", "jobs", "privacy", "search", "search-advanced", "search-home", "tos"], T = !isNaN(new Date("Mon Oct 08 16:34:01 +0000 2012").getTime());
        return $.subscribe("/date", function(e) {
            var i = TD.util.parseDateString(e).getTime()
              , s = (new Date).getTime();
            t = i - s
        }),
        {
            ANCHOR_TAG_REGEXP: /href=/g,
            LT_REGEXP: /</g,
            GT_REGEXP: />/g,
            SINGLE_QUOTE_REGEXP: /'/g,
            QUOTE_REGEXP: /"/g,
            TWITTER_USERNAME_REGEXP: /@([A-Za-z0-9_]+)/g,
            parseDateString: function(e) {
                var t;
                return t = !T && e ? new Date(Date.parse(e.replace(/( \+)/, " UTC$1"))) : new Date(e)
            },
            parseISO8601: function(e) {
                return new Date(Date.parse(e))
            },
            iso8601: function(e) {
                return (e || new Date).toISOString()
            },
            unixTime: function(e) {
                return Math.round(e.getTime() / 1e3)
            },
            prettyDate: function(e) {
                return TD.util.timeAgo(e.getTime(), {
                    longForm: !1,
                    adjustSystemTime: !0
                })
            },
            quotedForRegExp: function(e) {
                return String(e || "").replace(/([.\\+*?[^\]$(){}=!<>|:\/\-])/g, "\\$1")
            },
            clean: function(e) {
                if (!e)
                    return e;
                var t = {
                    "<": "&lt;",
                    ">": "&gt;",
                    '"': "&quot;",
                    "'": "&#39;"
                };
                return e.replace(/[<>"']/g, function(e) {
                    return t[e]
                })
            },
            removeHTMLCodes: function(e) {
                var t = {
                    "&lt;": "<",
                    "&gt;": ">",
                    "&quot;": '"',
                    "&apos;": "'",
                    "&#39;": "'",
                    "&amp;": "&"
                };
                return e.replace(/&(?:lt|gt|quot|apos|#39|amp);/g, function(e) {
                    return t[e]
                })
            },
            stripHTMLTags: function(e) {
                return e.replace(u, "")
            },
            htmlToText: function(e) {
                return $("<div>" + e + "</div>").text()
            },
            h: function(e) {
                var t = $("<div/>")
                  , i = function(e) {
                    return e ? t.text(e).html().replace(/\"/gi, "&quot;") : e
                }
                ;
                return this.h = function(e) {
                    return i(e)
                }
                ,
                i(e)
            },
            transform: function(e, t) {
                return e ? (t = t || {},
                this.updateEntities(e, t),
                this.linkify(e, t)) : ""
            },
            cleanWithEmoji: function(e) {
                return e = this.clean(e),
                TD.decider.get("tweets_emoji") && (e = a.parse(e)),
                e
            },
            updateEntities: function(e, t) {
                var i, s, n, r, o, a = twttrTxt.modifyIndicesFromUnicodeToUTF16;
                if (t.convertedToUTF16)
                    return t;
                for (t.convertedToUTF16 = !0,
                t.media && t.media.length ? a(e, t.media) : t.media = [],
                t.urls && t.urls.length ? a(e, t.urls) : t.urls = [],
                t.hashtags && t.hashtags.length ? a(e, t.hashtags) : t.hashtags = this.extractHashtagEntities(e),
                t.user_mentions && t.user_mentions.length ? a(e, t.user_mentions) : t.user_mentions = [],
                t.cashtags = twttrTxt.extractCashtagsWithIndices(e),
                i = this.extractMentionEntities(e),
                s = 0,
                n = i.length; n > s; s++)
                    r = i[s],
                    o = this.getEntityOverlap(r, t),
                    o ? r.list_slug && r.indices[0] === o.indices[0] && (o.indices = r.indices,
                    o.list_slug = r.list_slug) : t.user_mentions.push(r);
                return t
            },
            extractMentionEntities: function(e) {
                var t = twttrTxt.extractMentionsOrListsWithIndices(e);
                return _.each(t, function(e) {
                    e.screen_name = e.screenName,
                    e.list_slug = e.listSlug,
                    delete e.screenName,
                    delete e.listSlug
                }),
                t
            },
            extractHashtagEntities: function(e) {
                var t = twttrTxt.extractHashtagsWithIndices(e);
                return _.each(t, function(e) {
                    e.text = e.hashtag,
                    delete e.hashtag
                }),
                t
            },
            getEntityOverlap: function(e, t) {
                var i = t.urls;
                i = i.concat(t.media),
                i = i.concat(t.user_mentions),
                i = i.concat(t.hashtags);
                for (var s = 0, n = i.length; n > s; s++)
                    if (e.indices[0] < i[s].indices[1] && e.indices[1] > i[s].indices[0])
                        return i[s];
                return null
            },
            linkify: function(e, t) {
                var i, s, n, r, o, a, c = "", l = t.urls || [];
                l = l.concat(t.media || []),
                l = l.concat(t.user_mentions || []),
                l = l.concat(t.hashtags || []),
                l = l.concat(t.cashtags || []),
                l.sort(function(e, t) {
                    return t.indices[0] - e.indices[0]
                });
                for (var u = 0, d = l.length; d > u; u++)
                    r = l[u],
                    i = e.substring(0, r.indices[0]),
                    r.indices[1] > e.length || (s = e.substring(r.indices[0], r.indices[1]),
                    n = e.substring(r.indices[1]),
                    o = "",
                    r.url ? o = s === r.url ? this.createUrlAnchor(r) : s : r.screen_name ? o = r.list_slug ? TD.ui.template.render("text/list_link_slug", {
                        slug: r.list_slug.substr(1),
                        user: {
                            screenName: r.screen_name
                        },
                        fullName: "@" + r.screen_name + r.list_slug
                    }) : TD.ui.template.render("text/profile_link", {
                        user: {
                            screenName: r.screen_name
                        }
                    }) : r.text ? (a = {
                        searchTerm: r.text,
                        symbol: "#",
                        escapedSymbol: escape("#")
                    },
                    o = TD.ui.template.render("text/search_link", a)) : r.cashtag && (a = {
                        searchTerm: r.cashtag,
                        symbol: "$",
                        escapedSymbol: escape("$")
                    },
                    o = TD.ui.template.render("text/search_link", a)),
                    c = o + this.cleanWithEmoji(n) + c,
                    e = i);
                return this.cleanWithEmoji(e) + c
            },
            extractTweetIdFromPermalink: function(e) {
                var t, i = e.trim().match(m);
                return i && (t = i[2]),
                t
            },
            extractTweetDeckSharedColumnFromFragment: function(e) {
                var t = e.match(p)
                  , i = t ? t[1] : "";
                return i
            },
            createUrlAnchor: function(e) {
                var t, i, s, n, r, o = e.url, a = "url", c = e.expanded_url || e.url, l = c.match(m), u = c.match(f), d = u ? this.extractTweetDeckSharedColumnFromFragment(u[1]) : "";
                l && (i = l[1],
                s = l[2],
                l[3] && (n = l[3].replace(/\//g, "")),
                r = l[4]);
                var h = i && r && !(s || n);
                (-1 !== v.indexOf(i) || h) && (i = void 0,
                r = void 0,
                s = void 0,
                n = void 0,
                d = void 0),
                _.startsWith(o, "https://") || _.startsWith(o, "http://") || (o = "http://" + o);
                var p = "url-ext";
                return e.isUrlForAttachment && (p += " is-url-for-attachment"),
                t = '<a href="' + TD.util.escape(o) + '" target="_blank" class="' + p + '" ',
                e.expanded_url && (t += 'data-full-url="' + TD.util.escape(e.expanded_url) + '" '),
                s ? (a = "tweet",
                t += 'data-tweet-id="' + s + '" ') : r ? (t += 'data-screen-name="' + i + '" ',
                a = "timelines" === n ? "viewCustomTimeline" : "list",
                t += 'data-slug="' + r + '" ') : i ? (a = "user",
                t += 'data-user-name="' + i + '" ') : d && (a = "importSerializedColumn",
                t += 'data-serialized-column="' + d + '" '),
                t += 'rel="' + a + '" ',
                e.display_url && e.expanded_url && 8230 == e.display_url.charCodeAt(e.display_url.length - 1) && (t += 'title="' + TD.util.escape(e.expanded_url) + '" '),
                t += ">" + TD.util.escape(e.display_url || e.url) + "</a>"
            },
            isLinkToTwitterItem: function(e) {
                return m.test(e)
            },
            pluralise: function(e, t, i) {
                return 1 != i ? t : e
            },
            atMentionify: function(e) {
                return e.replace(h, "@")
            },
            deMentionify: function(e) {
                return e.replace(h, "")
            },
            selectAttrsFrom: function(e, t) {
                for (var i = {}, s = 0; s < t.length; s++)
                    i[t[s]] = e[t[s]];
                return i
            },
            values: function w(e) {
                var w = [];
                for (var t in e)
                    e.hasOwnProperty(t) && w.push(e[t]);
                return w
            },
            isEmpty: _.isEmpty,
            isWeb: _.memoize(function() {
                return /^https?:\/\//.test(document.location)
            }),
            isMacApp: _.memoize(function() {
                return "mac" === TD.util.getAppEnv()
            }),
            isChromeApp: _.memoize(function() {
                return _.startsWith(window.location.href, "chrome-extension://")
            }),
            isChrome: _.memoize(function() {
                return window.navigator.userAgent.indexOf("Chrome") > -1
            }),
            isFirefox: _.memoize(function() {
                return window.navigator.userAgent.indexOf("Gecko/") > -1
            }),
            isWrapperApp: _.memoize(function() {
                return Boolean(window.deck && deck.inApp())
            }),
            getTweetDeckUserAgentString: function() {
                var e = {
                    clientVersion: TD.version,
                    platform: TD.util.getAppEnv(),
                    platformVersion: TD.util.isWrapperApp() && void 0 !== deck ? deck.getWrapperVersion() : ""
                }
                  , t = TD.ui.template.toHtml(g, e);
                return t
            },
            getTwitterCookieUserId: function() {
                var e = document.cookie.match(/(?:^|;\s*)twid="(.*?)"\s*(;|$)/);
                if (e) {
                    var t = e[1]
                      , i = t.split("|")[0]
                      , s = TD.net.util.formDecode(i);
                    return s.u
                }
                return ""
            },
            getBearerTokenAuthHeader: function() {
                return "Bearer " + TD.config.bearer_token
            },
            getCsrfTokenHeader: function() {
                var e = document.cookie.match(/(?:^|;\s*)ct0=([0-9a-f]+)\s*(?:;|$)/);
                return e ? e[1] : ""
            },
            visibilityChangeEventName: function() {
                return null == e && ("undefined" != typeof document.hidden ? e = "visibilitychange" : "undefined" != typeof document.mozHidden ? e = "mozvisibilitychange" : "undefined" != typeof document.msHidden ? e = "msvisibilitychange" : "undefined" != typeof document.webkitHidden && (e = "webkitvisibilitychange")),
                e
            },
            documentIsHidden: function() {
                return document.hidden || document.mozHidden || document.msHidden || document.webkitHidden
            },
            isTouchDevice: _.memoize(function() {
                return TD.config.force_touchdeck || TD.config.touchdeck && TD.util.isiOSDevice()
            }),
            isiOSDevice: _.memoize(function() {
                return /(iPad|iPhone|iPod)/g.test(navigator.userAgent)
            }),
            isUnsupportedWebWrapperVersion: function() {
                var e, t, i = !1, s = Boolean(TD.util.isWrapperApp() && deck.getWrapperVersion);
                if (s) {
                    switch (t = deck.getWrapperVersion(),
                    TD.util.getAppEnv()) {
                    case "mac":
                        e = TD.minWrapperVersionMac;
                        break;
                    case "win":
                        e = TD.minWrapperVersionWin
                    }
                    i = !e || !t || TD.util.versionComparator(t, e) < 0
                }
                return i
            },
            getFullVersionString: function() {
                var e = {
                    version: TD.version,
                    buildIDShort: TD.buildIDShort,
                    appEnv: TD.util.getAppEnv()
                };
                return TD.util.isWrapperApp() && deck.getWrapperVersion && (e.wrapperVersion = deck.getWrapperVersion()),
                TD.ui.template.render("version", e)
            },
            isRetina: function() {
                return window.devicePixelRatio >= 1.5
            },
            shouldStream: function() {
                var e = new XMLHttpRequest
                  , t = "withCredentials"in e;
                return t && TD.settings.getUseStream() && !TD.decider.get("disable_streaming") && !TD.config.disable_streaming
            },
            getCurrentLocation: function(e, t, i) {
                var s, n, r, o = Number.MAX_VALUE, a = navigator.geolocation, c = function(e) {
                    var t = e.coords.accuracy;
                    o > t && (s = e,
                    o = t),
                    50 > t && (clearTimeout(r),
                    l())
                }
                , l = function() {
                    a.clearWatch(n),
                    s ? t(s) : i && i()
                }
                ;
                r = setTimeout(l, e),
                n = a.watchPosition(c, i, {
                    enableHighAccuracy: !0
                })
            },
            openURL: function(e, t) {
                if (_.isString(e) && (_.startsWith(e, "https://") || _.startsWith(e, "http://")))
                    if (t && (e = TD.net.util.addURLParameters(e, t)),
                    window.navigator.standalone) {
                        var i = document.createElement("a");
                        i.setAttribute("href", e),
                        i.setAttribute("target", "_blank");
                        var s = document.createEvent("HTMLEvents");
                        s.initEvent("click", !0, !0),
                        i.dispatchEvent(s)
                    } else {
                        var n = window.open(e);
                        n && n.focus()
                    }
            },
            maybeOpenClickExternally: function(e) {
                var t = !1
                  , i = $(e.currentTarget)
                  , s = i.prop("tagName")
                  , n = i.attr("rel")
                  , r = i.attr("target")
                  , a = i.attr("href") || ""
                  , c = i.attr("data-full-url") || a
                  , l = e.isTrigger
                  , u = e.ctrlKey || e.shiftKey || e.altKey || e.metaKey || 0 !== e.button;
                if ("A" === s && "_blank" === r && ("url" === n || u)) {
                    TD.util.isWrapperApp() || l ? (TD.util.openURL(a),
                    e.preventDefault(),
                    e.stopImmediatePropagation()) : e.stopImmediatePropagation(),
                    t = !0;
                    var d = "twitter.com" === o(c).domain().toLowerCase();
                    $(document).trigger("scribeEvent", {
                        terms: {
                            page: "main",
                            section: "link",
                            component: d ? "twitter" : void 0,
                            action: "click"
                        }
                    })
                }
                return t
            },
            openEmail: function(e, t, i) {
                var s = "mailto:"
                  , n = {};
                t && (n.subject = t),
                i && (n.body = i),
                e && (s += e),
                s = s + "?" + TD.net.util.formEncode(n),
                window.open(s)
            },
            escape: function(e) {
                return this.clean(e)
            },
            truncateText: function(e, t, i, s, n, r) {
                t = void 0 == t ? "…" : t,
                s = s || 0,
                r = r || 0;
                var o;
                if (e.length > i + s) {
                    var a = e.indexOf(" ", i - r - 1);
                    -1 != a && (i = Math.min(i, a + 1)),
                    o = e.substr(0, i),
                    n && (o = this.transform(o)),
                    o += t
                }
                return o
            },
            timesCached: null ,
            timeWords: function() {
                return TD.util.timesCached || (TD.util.timesCached = {
                    longFormPast: {
                        singular: {
                            now: TD.i("now", null , !0),
                            seconds: TD.i("{{one}} second ago", null , !0),
                            minutes: TD.i("{{one}} minute ago", null , !0),
                            hours: TD.i("{{one}} hour ago", null , !0),
                            days: TD.i("{{one}} day ago", null , !0)
                        },
                        plural: {
                            now: TD.i("now", null , !0),
                            seconds: TD.i("{{plural_number}} seconds ago", null , !0),
                            minutes: TD.i("{{plural_number}} minutes ago", null , !0),
                            hours: TD.i("{{plural_number}} hours ago", null , !0),
                            days: TD.i("{{plural_number}} days ago", null , !0)
                        }
                    },
                    longFormFuture: {
                        singular: {
                            now: TD.i("now", null , !0),
                            seconds: TD.i("{{one}} second left", null , !0),
                            minutes: TD.i("{{one}} minute left", null , !0),
                            hours: TD.i("{{one}} hour left", null , !0),
                            days: TD.i("{{one}} day left", null , !0)
                        },
                        plural: {
                            now: TD.i("now", null , !0),
                            seconds: TD.i("{{plural_number}} seconds left", null , !0),
                            minutes: TD.i("{{plural_number}} minutes left", null , !0),
                            hours: TD.i("{{plural_number}} hours left", null , !0),
                            days: TD.i("{{plural_number}} days left", null , !0)
                        }
                    },
                    shortForm: {
                        singular: {
                            now: TD.i("now", null , !0),
                            seconds: TD.i("{{one}}s", null , !0),
                            minutes: TD.i("{{one}}m", null , !0),
                            hours: TD.i("{{one}}h", null , !0),
                            days: TD.i("{{one}}d", null , !0)
                        },
                        plural: {
                            now: TD.i("now", null , !0),
                            seconds: TD.i("{{plural_number}}s", null , !0),
                            minutes: TD.i("{{plural_number}}m", null , !0),
                            hours: TD.i("{{plural_number}}h", null , !0),
                            days: TD.i("{{plural_number}}d", null , !0)
                        }
                    }
                }),
                TD.util.timesCached
            },
            datesCached: null ,
            dates: function() {
                return TD.util.datesCached || (TD.util.datesCached = {
                    months: [TD.i("Jan"), TD.i("Feb"), TD.i("Mar"), TD.i("Apr"), TD.i("May"), TD.i("Jun"), TD.i("Jul"), TD.i("Aug"), TD.i("Sep"), TD.i("Oct"), TD.i("Nov"), TD.i("Dec")],
                    dates: [TD.i("1st"), TD.i("2nd"), TD.i("3rd"), TD.i("4th"), TD.i("5th"), TD.i("6th"), TD.i("7th"), TD.i("8th"), TD.i("9th"), TD.i("10th"), TD.i("11th"), TD.i("12th"), TD.i("13th"), TD.i("14th"), TD.i("15th"), TD.i("16th"), TD.i("17th"), TD.i("18th"), TD.i("19th"), TD.i("20th"), TD.i("21st"), TD.i("22nd"), TD.i("23rd"), TD.i("24th"), TD.i("25th"), TD.i("26th"), TD.i("27th"), TD.i("28th"), TD.i("29th"), TD.i("30th"), TD.i("31st")]
                }),
                TD.util.datesCached
            },
            timeLeft: function(e, t) {
                return TD.util.timeDiff(e, {
                    longForm: t.longForm,
                    adjustSystemTime: t.adjustSystemTime,
                    isFutureTime: !0
                })
            },
            timeAgo: function(e, t) {
                return TD.util.timeDiff(e, {
                    longForm: t.longForm,
                    adjustSystemTime: t.adjustSystemTime,
                    isFutureTime: !1
                })
            },
            timeDiff: function(e, r) {
                r = r || {};
                var o, a, l, u, d = Date.now(), h = new Date(e).getTime(), m = r.longForm ? r.isFutureTime ? "longFormFuture" : "longFormPast" : "shortForm", p = TD.util.timeWords()[m];
                return r.adjustSystemTime && (d += t),
                o = r.isFutureTime ? h - d : d - h,
                isNaN(o) || -5 * i > o ? "" : (7 * i > o ? (l = "",
                a = "now") : s > o ? (l = Math.floor(o / i),
                a = "seconds") : n > o ? (l = Math.floor(o / s),
                a = "minutes") : c > o ? (l = Math.floor(o / n),
                a = "hours") : (l = Math.floor(o / c),
                a = "days"),
                p = 1 === l ? p.singular : p.plural,
                u = TD.ui.template.toHtml(p[a], {
                    one: l,
                    plural_number: l
                }))
            },
            getDayOfWeek: function(e) {
                var t = [TD.i("Sunday"), TD.i("Monday"), TD.i("Tuesday"), TD.i("Wednesday"), TD.i("Thursday"), TD.i("Friday"), TD.i("Saturday")];
                return t[e.getDay()]
            },
            prettyTime: function(e) {
                var t = {
                    month: TD.util.dates().months[e.getMonth()],
                    hours24: e.getHours(),
                    hours12: e.getHours() % 12 || 12,
                    minutes: TD.util.padLeadingZero(e.getMinutes()),
                    amPm: e.getHours() < 12 ? TD.i("am") : TD.i("pm"),
                    date: TD.util.dates().dates[e.getDate() - 1],
                    day: e.getDate(),
                    dayOfWeek: this.getDayOfWeek(e),
                    year: e.getFullYear().toString().slice(2),
                    fullYear: e.getFullYear()
                };
                return t
            },
            prettyTimeString: function(e) {
                return TD.i("{{hours12}}:{{minutes}}{{amPm}} · {{day}} {{month}} {{fullYear}}", TD.util.prettyTime(e))
            },
            prettyTimeOrDateString: function(e) {
                var t = new Date;
                return t.setHours(0),
                t.setMinutes(0),
                t.setSeconds(0),
                t.setMilliseconds(1),
                e >= t ? TD.util.prettyTimeOfDayString(e) : e >= t - 5184e5 ? TD.i("{{dayOfWeek}}, {{hours12}}:{{minutes}}{{amPm}}", TD.util.prettyTime(e)) : TD.i("{{day}} {{month}} {{year}}, {{hours12}}:{{minutes}}{{amPm}}", TD.util.prettyTime(e))
            },
            prettyTimeOfDayString: function(e) {
                return TD.i("{{hours12}}:{{minutes}}{{amPm}}", TD.util.prettyTime(e))
            },
            prettyDateString: function(e) {
                return TD.i("{{day}} {{month}} {{fullYear}}", TD.util.prettyTime(e))
            },
            prettyDateShortString: function(e) {
                return TD.i("{{month}} {{year}}", TD.util.prettyTime(e))
            },
            padLeadingZero: function(e) {
                return e.toString().replace(/^(\d)$/, "0$1")
            },
            prettyTimeOfDayOrDateString: function(e) {
                return (new Date).toDateString() === e.toDateString() ? TD.util.prettyTimeOfDayString(e) : TD.util.prettyDateString(e)
            },
            isValidNumber: function(e) {
                return "string" == typeof e && (e = parseFloat(e)),
                "number" == typeof e && isFinite(e)
            },
            truncateNumber: function(e, t) {
                if (!TD.util.isValidNumber(e))
                    return "";
                var i = 0
                  , s = e;
                if (t = t || 4,
                String(e).length <= t)
                    return TD.util.prettyNumber(e);
                for (t -= 1; t < String(Math.floor(s)).length; )
                    ++i,
                    s /= 1e3;
                return parseFloat(s.toPrecision(t)) + ["", "K", "M", "B", "T"][i]
            },
            prettyNumber: function(e) {
                if (!TD.util.isValidNumber(e))
                    return "";
                "string" == typeof e && (e = parseInt(e, 10));
                var t = e.toString().split(".");
                return t[0].replace(d, ",")
            },
            chirpColumnSort: function(e, t) {
                var i = {
                    before: -1,
                    after: 1
                }
                  , s = 0
                  , n = e.getSortIndex()
                  , r = t.getSortIndex()
                  , o = n.type;
                if (n.type !== r.type)
                    return TD.config.internal_build && console.warn("chirpColumnSort cannot compare", n.type, "to", r.type),
                    0;
                switch (o) {
                case "milliseconds":
                case "number":
                    s = r.value - n.value;
                    break;
                case "numericString":
                    s = TD.util.numericStringComparator(r.value, n.value);
                    break;
                default:
                    TD.config.internal_build && console.warn("chirpColumnSort unrecognised sort type:", o),
                    s = 0
                }
                if (!s) {
                    var a = i[n.conflictResolution] || 0
                      , c = i[r.conflictResolution] || 0;
                    s = a - c
                }
                return s
            },
            chirpReverseColumnSort: function(e, t) {
                return TD.util.chirpColumnSort(t, e)
            },
            getTopChirp: function(e) {
                return e.reduce(function(e, t) {
                    return e && t ? e.belongsAbove(t) ? e : t : e || t
                })
            },
            transformTwitterAvatar: function(e, t) {
                return e.replace(l, "$1_" + t + ".$2")
            },
            getOSName: function() {
                var e = "";
                return this.isWrapperApp() ? e = deck.osname() : -1 != navigator.appVersion.indexOf("Win") ? e = "windows" : -1 != navigator.appVersion.indexOf("Mac") ? e = "osx" : -1 != navigator.appVersion.indexOf("Linux") && (e = "linux"),
                e
            },
            numericStringComparator: function(e, t) {
                var i = e.length - t.length;
                return i || (e > t ? i = 1 : t > e && (i = -1)),
                i
            },
            hasFeature: function(e) {
                switch (e) {
                case "file":
                    return !!window.File;
                case "filereader":
                    return !!window.FileReader;
                default:
                    return
                }
            },
            getAppEnv: function() {
                var e, t = "unknown";
                if (this.isChromeApp())
                    t = "chrome";
                else if (this.isWrapperApp())
                    switch (e = this.getOSName()) {
                    case "osx":
                        t = "mac";
                        break;
                    case "windows":
                        t = "win"
                    }
                else
                    _.startsWith(window.location.href, "file://") || (t = "web");
                return t
            },
            checkAPIRoot: function() {
                if ("http:" === window.location.protocol || "https:" === window.location.protocol) {
                    var e = window.location.protocol + "//" + window.location.host;
                    e !== TD.config.api_root && (console.log("NOTE: overwriting api_root of", TD.config.api_root, "with", e),
                    TD.config.api_root = e)
                }
            },
            hasFixedScrollBars: function() {
                var e, t = $("<div>").css({
                    width: "100px",
                    height: "100px",
                    overflow: "scroll",
                    position: "absolute",
                    top: "-9999px"
                });
                return $("body").append(t),
                e = t[0].offsetWidth - t[0].clientWidth,
                t.remove(),
                Boolean(e)
            },
            bind: function(e, t) {
                return function() {
                    e.apply(t, arguments)
                }
            },
            random: function(e, t) {
                return null == t && (t = e,
                e = 0),
                e + (0 | Math.random() * (t - e + 1))
            },
            extendObjectWith: function(e, t) {
                _.each(t, function(t) {
                    e[t[0]] = t[1]
                })
            },
            insertLogDivider: _.debounce(function() {
                console.log(" ")
            }, 1),
            versionComparator: function(e, t) {
                e = e.toString(),
                t = t.toString();
                for (var i, s, n = e.split("."), r = t.split("."), o = Math.min(n.length, r.length), a = 0; o > a; a++) {
                    if (i = parseInt(n[a], 10),
                    s = parseInt(r[a], 10),
                    i > s)
                        return 1;
                    if (s > i)
                        return -1
                }
                return n.length > r.length ? 1 : n.length < r.length ? -1 : 0
            },
            TpmCounter: function(e, t, i) {
                var s = 0
                  , n = 0
                  , r = 0
                  , o = []
                  , a = (new Date).getTime()
                  , c = setInterval(function() {
                    var e, c, l, u = (new Date).getTime(), d = u - t;
                    for (o.push({
                        renderedCount: r,
                        startTime: a
                    }),
                    n += r,
                    r = 0,
                    a = u; o.length && o[0].startTime < d; )
                        e = o.shift(),
                        n -= e.renderedCount;
                    o.length && (c = u - o[0].startTime,
                    l = 6e4 / c,
                    s = n * l,
                    $(document).trigger(i, {
                        itemsPerMinute: Math.round(s)
                    }))
                }, e);
                this.incrementCounter = function(e) {
                    r += e
                }
                ,
                this.stop = function() {
                    clearInterval(c)
                }
            },
            deterministicObjectHash: function(e) {
                var t = TD.util.createHashableObject(e)
                  , i = (0,
                r.default)(t)
                  , s = TD.core.sha1(i);
                return s = s.substr(0, 10)
            },
            createHashableObject: function(e) {
                var t, i;
                if (Array.isArray(e))
                    t = e.map(TD.util.createHashableObject),
                    t.push("A");
                else if (e === Object(e)) {
                    t = [];
                    for (var s in e)
                        e.hasOwnProperty(s) && (i = TD.util.createHashableObject(e[s]),
                        t.push([s, i]));
                    t.sort(function(e, t) {
                        return e[0].localeCompare(t[0])
                    }),
                    t.push("O")
                } else
                    t = e;
                return t
            },
            isNetworkFailure: function(e) {
                return 0 === e.status || 500 === e.status && "internal server error" === e.responseText
            },
            keyEquals: function(e, t) {
                return function(i) {
                    return i[e] === t
                }
            },
            equals: function(e) {
                return function(t) {
                    return e === t
                }
            },
            merge: function() {
                return _.assign.apply(_, [{}].concat([].slice.call(arguments)))
            },
            pluck: function(e) {
                return function(t) {
                    return t && t[e]
                }
            },
            unpluck: function(e) {
                return function(t) {
                    var i = {};
                    return i[e] = t,
                    i
                }
            },
            makeHasClass: function(e) {
                return function(t) {
                    return $(t).hasClass(e)
                }
            },
            makeDate: function(e) {
                return new Date(e)
            },
            effect: function(e) {
                return function(t) {
                    return e.apply(this, arguments),
                    t
                }
            },
            dEffect: function(e) {
                return function(t) {
                    var i = this
                      , s = [].slice.call(arguments);
                    return TD.core.defer.maybeDeferred(function() {
                        return e.apply(i, s)
                    }).addCallback(function() {
                        return t
                    })
                }
            },
            metric: function(e, t, i) {
                $(document).trigger("metric", {
                    key: e,
                    value: t,
                    type: i
                })
            },
            getChirpId: function(e) {
                return e.id.toString()
            },
            getXhrStatusFromSendRequestResult: function(e) {
                return e = e || {},
                (e.req || e.xhr || {}).status
            },
            "catch": function(e, t) {
                return function() {
                    try {
                        return e.apply(this, arguments)
                    } catch (i) {
                        t && console.error(i.stack)
                    }
                }
            },
            getSignedAuthticationURL: function(e) {
                e = e || "/";
                var t = TD.net.util.addURLParameters("https://twitter.com/account/authenticate_web_view", {
                    remember_me: !0,
                    redirect_url: TD.config.web_root + e
                });
                return TD.net.ajax.signRequest(TD.storage.store.getTwitterLoginAccount(), t, "GET").addCallback(function(e) {
                    return e.data.url
                })
            }
        }
    }()
}
, function(e, t) {
    "use strict";
    TD.debug = function() {
        var e = {};
        return e.spoof_data = null ,
        e
    }()
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                experimentId: "thamshere_test_3281"
            }),
            this.after("initialize", function() {
                this.observe(this.requestResource("ddg.experiments")).pluck(this.attr.experimentId).subscribeOnNext(this.recordImpression, this)
            }),
            this.recordImpression = function() {
                this.trigger("ddgImpression", {
                    name: this.attr.experimentId
                })
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8);
        return s(n, r, t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                logoutTimeout: 1e4
            }),
            this.initialState(o.fromJS.bind(o, {
                badAccounts: {}
            })),
            this.after("initialize", function() {
                this.on(document, "dataTwitterAccountAccessSuccess", this.handleAccessSuccess),
                this.on(document, "dataTwitterAccountAccessDenied", this.handleAccessDenied),
                this.after("stateChanged", this.handleStateChanged)
            }),
            this.handleAccessSuccess = function(e, t) {
                var i = t.account.getKey();
                this.state.hasIn(["badAccounts", i]) && (clearTimeout(this.state.getIn(["badAccounts", i, "logoutTimeoutId"])),
                this.replaceState(this.state.deleteIn(["badAccounts", i])))
            }
            ,
            this.handleAccessDenied = function(e, t) {
                var i = t.account.getKey();
                if (!this.state.hasIn(["badAccounts", i])) {
                    var s = this.addBadAccountFromEventData(this.state, t);
                    this.replaceState(s),
                    this.getClientByAccountKey(i).getHomeTimeline(null , null , 1)
                }
            }
            ,
            this.handleStateChanged = function(e) {
                var t = this.getBadAccount(e);
                t ? this.trigger("uiShowAccountAccessDeniedBanner", t.get("eventData").toJS()) : this.trigger("uiHideAccountAccessDeniedBanner")
            }
            ,
            this.addBadAccountFromEventData = function(e, t) {
                var i = t.account.getKey()
                  , s = {
                    eventData: t,
                    logoutTimeoutId: t.isLoginAccount ? setTimeout(this.signOut.bind(this), this.attr.logoutTimeout) : null
                };
                return e.mergeDeepIn(["badAccounts", i], s)
            }
            ,
            this.getBadAccount = function(e) {
                return e.get("badAccounts").reduce(function(e, t) {
                    return t.getIn(["eventData", "isLoginAccount"]) ? t : e
                })
            }
            ,
            this.signOut = function() {
                TD.storage.accountController.getCookieAccount() ? this.trigger(document, "uiReload") : this.trigger(document, "uiLogout", {
                    allSessions: !0
                })
            }
        }
        var s = i(1).component
          , n = i(11)
          , r = i(28)
          , o = i(90);
        return s(r, t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                accountUpdateDebounce: 50
            }),
            this.after("initialize", function() {
                this.on(document, "TD.ready", this.initializeAccountsState),
                this.on(document, "uiNeedsSingleAccountStatus", this.handleNeedsSingleAccountStatus),
                this.accountsStream = new c.BehaviorSubject(this.getTwitterAccounts()),
                this.stateStream = this.accountsStream.map(this.filterAccountsWithClient).distinctUntilChanged(u.fromJS, u.is).map(function(e) {
                    return {
                        accounts: e,
                        defaultAccount: e.find(function(e) {
                            return e.isDefault
                        }),
                        loginAccount: e.find(function(e) {
                            return e.isTwoginAccount
                        })
                    }
                }),
                this.provideResource("accounts.state", this.stateStream),
                this.observe(this.stateStream).pluck("defaultAccount").filter(Boolean).distinctUntilChanged(null , l.shallowEquals()).subscribeOnNext(this.broadcastClient, this),
                this.subscription = $.subscribe("/storage/client/default_account_changed", this.pushAccounts.bind(this)),
                this.subscriptionToAccountChange = $.subscribe("/storage/account/change", this.pushAccounts.bind(this)),
                this.on(document, "dataAccountWhitelist dataContributeeInviteSuccess dataClientsUpdated", this.pushAccounts.bind(this)),
                this.on(document, "uiAccountAction", this.handleAccountAction),
                this.on(document, "dataContributorActionSuccess", this.handleContributorActionSuccess),
                this.on(document, "dataTwitterAccountAccessDenied", this.handleTwitterAccountAccessDenied),
                this.on(document, "dataTwitterAccountAccessSuccess", this.handleTwitterAccountAccessSuccess)
            }),
            this.before("teardown", function() {
                $.unsubscribe(this.subscription),
                $.unsubscribe(this.subscriptionToAccountChange),
                this.accountsStream.dispose()
            }),
            this.initializeAccountsState = function() {
                this.pushAccounts()
            }
            ,
            this.getAndSendAccount = function(e) {
                var t = this.getAccount(e);
                this.sendAccount(t)
            }
            ,
            this.pushAccounts = function() {
                this.accountsStream.onNext(this.getTwitterAccounts())
            }
            ,
            this.broadcastClient = function() {
                this.trigger("dataTwitterClientChanged", {
                    client: this.getTwitterClient()
                })
            }
            ,
            this.handleAccountAction = function(e, t) {
                switch (t.action) {
                case "reauthorize":
                    this.reauthorizeAccount(t.accountKey);
                    break;
                case "rewriteColumns":
                    if (!TD.decider.get("enable_rewrite_columns"))
                        break;
                    var i = this.chooseNextAvailableAccount(this.getAccountsForService("twitter"), t.accountKey);
                    this.getDefaultAccount().accountKey === t.accountKey && this.setDefaultAccount(i.accountKey),
                    this.rewriteColumns(t.accountKey, i.accountKey),
                    this.removeAccount(t.accountKey);
                    break;
                case "remove":
                    this.removeAccount(t.accountKey);
                    break;
                case "setDefault":
                    this.setDefaultAccount(t.accountKey);
                    break;
                case "add":
                    this.addAccount()
                }
            }
            ,
            this.handleContributorActionSuccess = function(e, t) {
                var i = this.getTwitterLoginAccount();
                if (i)
                    switch (t.request.action) {
                    case "remove":
                        t.request.userId === i.userId && this.removeAccount(t.request.accountKey);
                        break;
                    case "update":
                        t.request.userId === i.userId && this.setIsAdmin(t.request.accountKey, t.request.isAdmin)
                    }
            }
            ,
            this.handleNeedsSingleAccountStatus = function() {
                this.trigger("dataSingleAccountStatus", {
                    isSingleAccount: 1 === this.getTwitterAccounts().length
                })
            }
            ,
            this.handleTwitterAccountAccessDenied = function(e, t) {
                var i = t.account;
                i && i.setPrivate("isAccessDenied", !0)
            }
            ,
            this.handleTwitterAccountAccessSuccess = function(e, t) {
                var i = t.account;
                i && i.getPrivate("isAccessDenied") && (i.setPrivate("isAccessDenied", !1),
                this.trigger("dataTwitterAccountAccessEnabled", {
                    accountKey: i.getKey()
                }))
            }
            ,
            this.rewriteColumns = function(e, t) {
                this.trigger("dataAccountsRewriteColumns", {
                    sourceAccountKey: e,
                    targetAccountKey: t
                })
            }
            ,
            this.chooseNextAvailableAccount = function(e, t) {
                return e.find(function(e) {
                    return e.accountKey !== t
                })
            }
        }
        var s = i(1).component
          , n = i(11)
          , r = i(22)
          , o = i(7)
          , a = i(8)
          , c = i(21)
          , l = i(29)
          , u = i(90);
        return s(a, o, t, n, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.initialState({}),
            this.after("initialize", function() {
                this.observe(this.requestResource("accounts.state")).pluck("accounts").flatMap(_.identity).filter(this.shouldFetchAccount, this).doOnNext(this.makeSetStateFetchingAccount(!0), this).flatMap(l.makeFromDeferred(function(e) {
                    return this.fixAccount(e)
                }, this)).doOnNext(this.makeSetStateFetchingAccount(!1), this).publish().connect()
            }),
            this.fixAccount = function(e) {
                var t = this.getTwitterLoginAccount()
                  , i = TD.core.defer.succeed();
                return i.addCallbackWith(this, function() {
                    return this.fetchUser(e.userId, t.accountKey)
                }),
                i.addCallbackWith(this, function(t) {
                    this.updateAccount(e.accountKey, t)
                }),
                i.addBoth(_.constant(e)),
                i
            }
            ,
            this.fetchUser = function(e, t) {
                var i = new TD.core.defer.Deferred
                  , s = this.getClientByAccountKey(t);
                return s.showUser(e, null , i.callback.bind(i), i.errback.bind(i)),
                i
            }
            ,
            this.shouldFetchAccount = function(e) {
                var t = this.state;
                return e.isMissingUserData && !t[e.userId]
            }
            ,
            this.makeSetStateFetchingAccount = function(e) {
                return function(t) {
                    var i = {};
                    i[t.userId] = e,
                    this.mergeState(i)
                }
            }
        }
        var s = i(1).component
          , n = i(22)
          , r = i(11)
          , o = i(8)
          , a = i(28)
          , c = i(7)
          , l = i(29);
        return s(a, t, n, r, o, c)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                collectionUrlRegex: /twitter.com\/([a-z0-9_]+)\/timelines\/(\d+)/i
            }),
            this.initialState({}),
            this.after("initialize", function() {
                this.on(document, "dataCustomTimelineSuccess", this.handleCollection),
                this.on(document, "dataCustomTimelineError", this.handleCollectionError);
                var e = this.observe(this.requestResource("accounts.state"))
                  , t = s.Observable.fromEvent($(document), "uiAddColumnsByUrl", function(e) {
                    return e[1]
                }).selectMany(function(e) {
                    return e.urls
                }).map(this.matchCollectionUrl, this).filter(Boolean).map(this.makeCollectionFromRegexMatch, this).filter(this.isNewCollection, this).share();
                this.stateUpdater = t.map(function(e) {
                    var t = {};
                    return t[e.id] = e,
                    t
                }).subscribeOnNext(this.mergeState, this),
                this.fetcher = t.withLatestFrom([e], function(e, t) {
                    return {
                        collection: e,
                        accountsState: t
                    }
                }).subscribeOnNext(this.fetchCollection, this)
            }),
            this.after("teardown", function() {
                this.stateUpdater.dispose(),
                this.fetcher.dispose()
            }),
            this.matchCollectionUrl = function(e) {
                return e.match(this.attr.collectionUrlRegex)
            }
            ,
            this.makeCollectionFromRegexMatch = function(e) {
                return {
                    id: "custom-" + e[2],
                    screenName: e[1].toLowerCase()
                }
            }
            ,
            this.isNewCollection = function(e) {
                return !this.state[e.id]
            }
            ,
            this.fetchCollection = function(e) {
                var t = this.bestAccountForCollection(e.collection, e.accountsState);
                this.trigger(document, "uiNeedsCustomTimeline", {
                    id: e.collection.id,
                    account: t.accountKey
                })
            }
            ,
            this.bestAccountForCollection = function(e, t) {
                var i = t.accounts.filter(function(t) {
                    return e.screenName === t.screenName.toLowerCase()
                })[0];
                return i || t.defaultAccount
            }
            ,
            this.handleCollection = function(e, t) {
                var i = t.result.id;
                this.state[i] && (this.addCollectionColumn(t.result),
                this.removeCollection(i))
            }
            ,
            this.handleCollectionError = function(e, t) {
                var i = t.action.id;
                this.state[i] && (TD.controller.progressIndicator.addMessage(TD.i("Could not add Collection")),
                this.removeCollection(i))
            }
            ,
            this.removeCollection = function(e) {
                this.replaceState(_.omit(this.state, e))
            }
            ,
            this.addCollectionColumn = function(e) {
                var t = new TD.components.TemporaryColumn;
                t.customTimeline(e),
                t.populate(),
                t.makePermanent(),
                setTimeout(function() {
                    t.destroy()
                }, 0)
            }
        }
        var s = i(21)
          , n = i(1).component
          , r = i(8)
          , o = i(7)
          , a = i(28);
        return n(a, t, r, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n, r = i(112), o = s(r);
    n = function(e) {
        "use strict";
        function t() {
            this.attributes({
                paths: ["/1.1/account/verify_credentials.json", "/1.1/activity/about_me.json", "/1.1/activity/by_friends.json", "/1.1/activity/by_me.json", "/1.1/beta/timelines/custom/add.json", "/1.1/beta/timelines/custom/create.json", "/1.1/beta/timelines/custom/destroy.json", "/1.1/beta/timelines/custom/list.json", "/1.1/beta/timelines/custom/remove.json", "/1.1/beta/timelines/custom/show.json", "/1.1/beta/timelines/custom/update.json", "/1.1/beta/timelines/custom/whitelisted.json", "/1.1/beta/timelines/timeline.json", "/1.1/blocks/create.json", "/1.1/blocks/destroy.json", "/1.1/blocks/ids.json", "/1.1/collections/create.json", "/1.1/collections/entries.json", "/1.1/collections/entries/add.json", "/1.1/collections/entries/remove.json", "/1.1/collections/update.json", "/1.1/collections/list.json", "/1.1/collections/show.json", "/1.1/conversation/show.json", "/1.1/direct_messages.json", "/1.1/direct_messages/destroy.json", "/1.1/direct_messages/new.json", "/1.1/direct_messages/read.json", "/1.1/direct_messages/report_spam.json", "/1.1/direct_messages/sent.json", "/1.1/dm/conversation/mark_read.json", "/1.1/dm/destroy.json", "/1.1/dm/mark_read.json", "/1.1/dm/new.json", "/1.1/dm/user_inbox.json", "/1.1/dm/user_updates.json", "/1.1/favorites/create.json", "/1.1/favorites/destroy.json", "/1.1/favorites/list.json", "/1.1/friends/following/list.json", "/1.1/friendships/create.json", "/1.1/friendships/destroy.json", "/1.1/friendships/no_retweets/ids.json", "/1.1/friendships/show.json", "/1.1/help/configuration.json", "/1.1/help/settings.json", "/1.1/lists/create.json", "/1.1/lists/destroy.json", "/1.1/lists/list.json", "/1.1/lists/members.json", "/1.1/lists/members/create.json", "/1.1/lists/members/create_all.json", "/1.1/lists/members/destroy.json", "/1.1/lists/memberships.json", "/1.1/lists/ownerships.json", "/1.1/lists/show.json", "/1.1/lists/statuses.json", "/1.1/lists/subscriptions.json", "/1.1/lists/update.json", "/1.1/mutes/users/create.json", "/1.1/mutes/users/destroy.json", "/1.1/prompts/suggest.json", "/1.1/saved_searches/list.json", "/1.1/schedule/status/list.json", "/1.1/schedule/status/lookup.json", "/1.1/schedule/status/tweet.json", "/1.1/search/tweets.json", "/1.1/search/typeahead.json", "/1.1/search/universal.json", "/1.1/statuses/flag_possibly_sensitive.json", "/1.1/statuses/following_timeline.json", "/1.1/statuses/home_timeline.json", "/1.1/statuses/lookup.json", "/1.1/statuses/mentions_timeline.json", "/1.1/statuses/oembed.json", "/1.1/statuses/show.json", "/1.1/statuses/update.json", "/1.1/statuses/user_timeline.json", "/1.1/translations/show.json", "/1.1/trends/available.json", "/1.1/trends/personalized.json", "/1.1/trends/place.json", "/1.1/trends/plus.json", "/1.1/tweetdeck/clients", "/1.1/tweetdeck/columns", "/1.1/tweetdeck/feeds", "/1.1/users/contributees.json", "/1.1/users/contributees/destroy.json", "/1.1/users/contributees/update.json", "/1.1/users/contributors.json", "/1.1/users/contributors/destroy.json", "/1.1/users/contributors/update.json", "/1.1/users/lookup.json", "/1.1/users/report_spam.json", "/1.1/users/search.json", "/1.1/users/show.json", "/1/account/verify_credentials.xml", "/1/statuses/following_timeline.json", "/1/statuses/update.xml", "/i/activity/about_me.json", "/i/activity/by_friends.json", "/i/search/typeahead.json", "/users/following_followers_of.json"].reduce(function(e, t) {
                    return e[t] = t,
                    e
                }, {}),
                pathMatchers: [{
                    regex: "/1.1/statuses/\\d*/activity/summary.json",
                    key: "/1.1/statuses/.../activity/summary.json"
                }, {
                    regex: "/i/statuses/\\d*/activity/summary.json",
                    key: "/i/statuses/.../activity/summary.json"
                }, {
                    regex: "/1/friendships/create/.*xml",
                    key: "/1/friendships/create/....xml"
                }, {
                    regex: "/1.1/schedule/status/dismiss/\\d*.json",
                    key: "/1.1/schedule/status/dismiss/....json"
                }, {
                    regex: "/1.1/schedule/status/retweet/\\d*.json",
                    key: "/1.1/schedule/status/retweet/....json"
                }, {
                    regex: "/1.1/schedule/status/\\d*.json",
                    key: "/1.1/schedule/status/....json"
                }, {
                    regex: "/1.1/statuses/destroy/\\d*.json",
                    key: "/1.1/statuses/destroy/....json"
                }, {
                    regex: "/1.1/statuses/retweet/\\d*.json",
                    key: "/1.1/statuses/retweet/....json"
                }, {
                    regex: "/1.1/statuses/show/\\d*.json",
                    key: "/1.1/statuses/show/....json"
                }, {
                    regex: "/1.1/dm/conversation/(\\d*|\\d*-\\d*).json",
                    key: "/1.1/dm/conversation/....json"
                }, {
                    regex: "/1.1/dm/conversation/(\\d*|\\d*-\\d*)/add_participants.json",
                    key: "/1.1/dm/conversation/.../add_participants.json"
                }, {
                    regex: "/1.1/dm/conversation/(\\d*|\\d*-\\d*)/delete.json",
                    key: "/1.1/dm/conversation/.../delete.json"
                }, {
                    regex: "/1.1/dm/conversation/(\\d*|\\d*-\\d*)/update_name.json",
                    key: "/1.1/dm/conversation/.../update_name.json"
                }, {
                    regex: "/1.1/dm/conversation/(\\d*|\\d*-\\d*)/mark_read.json",
                    key: "/1.1/dm/conversation/.../mark_read.json"
                }, {
                    regex: "/1.1/tweetdeck/clients(.+)",
                    key: "/1.1/tweetdeck/clients/..."
                }, {
                    regex: "/1.1/tweetdeck/columns(.+)",
                    key: "/1.1/tweetdeck/columns/..."
                }, {
                    regex: "/1.1/tweetdeck/feeds(.+)",
                    key: "/1.1/tweetdeck/feeds/..."
                }].map(function(e) {
                    return {
                        regex: new RegExp(e.regex || e.key + "$"),
                        key: e.key
                    }
                })
            }),
            this.after("initialize", function() {
                this.on(document, "dataApiResponse", function(e, t) {
                    this.sendApiResponseMetrics(t)
                })
            }),
            this.sendApiResponseMetrics = TD.util.catch(function(e) {
                if (e = e || {},
                "number" != typeof e.status || (0,
                o.default)(e.status) < 0)
                    return TD.util.metric("api:other:status-wrong-type");
                if ("string" != typeof e.url)
                    return TD.util.metric("api:other:url-wrong-type");
                var t = n(e.url).normalize()
                  , i = t.pathname()
                  , s = t.host();
                if (!s)
                    return TD.util.metric("api:other:host-missing");
                var r = this.getKeyForPathname(i);
                TD.util.metric(["api:host", s, e.status, r].join(":"));
                var a = ("" + e.status).charAt(0) + "XX";
                TD.util.metric(["api:host:aggregate", s, a, r].join(":"))
            }, !0),
            this.getKeyForPathname = function(e) {
                var t = this.attr.paths[e];
                if (!t) {
                    var i = this.attr.pathMatchers.find(function(t) {
                        return null !== e.match(t.regex)
                    });
                    i && (t = i.key)
                }
                return t || "other"
            }
        }
        var s = i(1).component
          , n = i(68);
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== n && (e.exports = n))
}
, function(e, t, i) {
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n, r = i(19), o = s(r);
    n = function(e) {
        var t = i(1).component
          , s = function() {
            this.deleteColumn = function(e, t) {
                var i = t.columnId;
                i && TD.controller.columnManager.deleteColumn(i)
            }
            ,
            this.moveColumn = function(e, t) {
                var i = t.columnId
                  , s = t.action;
                i && s && TD.controller.columnManager.move(i, s)
            }
            ,
            this.handleUiNeedsSerializedColumn = function(e, t) {
                var i = TD.controller.columnManager.get(t.columnId)
                  , s = {
                    feeds: _.map(i.getFeeds(), function(e) {
                        return e.state
                    }),
                    filters: i.getSearchFilter().toJSONObject()
                };
                this.trigger("dataSerializedColumn", {
                    columnId: t.columnId,
                    column: s,
                    url: "https://tweetdeck.twitter.com/#column=" + TD.core.base64.encode((0,
                    o.default)(s))
                })
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiDeleteColumnAction", this.deleteColumn),
                this.on(document, "uiMoveColumnAction", this.moveColumn),
                this.on(document, "uiNeedsSerializedColumn", this.handleUiNeedsSerializedColumn)
            })
        }
        ;
        return t(s)
    }
    .call(t, i, t, e),
    !(void 0 !== n && (e.exports = n))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                pollIntervalMs: 9e5
            }),
            this.after("initialize", function() {
                var e = c.Observable.combineLatest([this.observe(c.Observable.timer(0, this.attr.pollIntervalMs)), this.observe(this.requestResource("accounts.state")).pluck("defaultAccount").filter(Boolean).distinctUntilChanged(function(e) {
                    return e.accountKey
                })], function(e, t) {
                    return t
                }).pausableBuffered(l.fromEventOnce(this.$node, "TD.ready").map(_.constant(!0))).debounce(1).flatMap(function(e) {
                    return c.Observable.catch(l.fromDeferred(this.getConfiguration(e)), c.Observable.just(!1))
                }
                .bind(this)).filter(Boolean).startWith({
                    dm_text_character_limit: 1e4,
                    characters_reserved_per_media: 23,
                    max_media_per_upload: 1,
                    non_username_paths: ["about", "account", "accounts", "activity", "all", "announcements", "anywhere", "api_rules", "api_terms", "apirules", "apps", "auth", "badges", "blog", "business", "buttons", "contacts", "devices", "direct_messages", "download", "downloads", "edit_announcements", "faq", "favorites", "find_sources", "find_users", "followers", "following", "friend_request", "friendrequest", "friends", "goodies", "help", "home", "i", "im_account", "inbox", "invitations", "invite", "jobs", "list", "login", "logo", "logout", "me", "mentions", "messages", "mockview", "newtwitter", "notifications", "nudge", "oauth", "phoenix_search", "positions", "privacy", "public_timeline", "related_tweets", "replies", "retweeted_of_mine", "retweets", "retweets_by_others", "rules", "saved_searches", "search", "sent", "sessions", "settings", "share", "signup", "signin", "similar_to", "statistics", "terms", "tos", "translate", "trends", "tweetbutton", "twttr", "update_discoverability", "users", "welcome", "who_to_follow", "widgets", "zendesk_auth", "media_signup"],
                    photo_size_limit: 3145728,
                    photo_sizes: {
                        thumb: {
                            h: 150,
                            resize: "crop",
                            w: 150
                        },
                        small: {
                            h: 480,
                            resize: "fit",
                            w: 340
                        },
                        medium: {
                            h: 1200,
                            resize: "fit",
                            w: 600
                        },
                        large: {
                            h: 2048,
                            resize: "fit",
                            w: 1024
                        }
                    },
                    short_url_length: 23,
                    short_url_length_https: 23,
                    client_event_url: "https://twitter.com/scribe"
                }).shareReplay(1).map(function(e) {
                    return "help_configuration_overlay"in TD.config ? _.merge(e, TD.config.help_configuration_overlay || {}) : e
                });
                this.provideResource("/1.1/help/configuration.json", e),
                this.observe(c.Observable.fromEvent(this.$node, "uiNeedsHelpConfiguration")).withLatestFrom([e], function(e, t) {
                    return t
                }).subscribeOnNext(function(e) {
                    this.trigger("dataHelpConfiguration", e)
                }, this)
            }),
            this.getConfiguration = function(e) {
                return this.makeTwitterRequest(e.accountKey, "help/configuration.json").addCallback(function(e) {
                    return e.data
                })
            }
        }
        var s = i(1).component
          , n = i(44)
          , r = i(7)
          , o = i(8)
          , a = i(22)
          , c = i(21)
          , l = i(29);
        return s(r, t, a, o, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({}),
            this.after("initialize", function() {
                this.on(document, "uiNeedsContributees", this.handleUiNeedsContributees),
                this.on(document, "uiRemoveContributee", this.handleUiRemoveContributee),
                this.on(document, "uiNeedsContributors", this.handleUiNeedsContributors),
                this.on(document, "uiContributorAction", this.handleUiContributorAction)
            }),
            this.triggerResult = function(e, t, i) {
                this.trigger(e, {
                    request: t,
                    response: i
                })
            }
            ,
            this.handleUiNeedsContributees = function(e, t) {
                var i = this.makeTwitterRequest(t.accountKey, "users/contributees.json", {});
                i.addCallback(function(e) {
                    var i = e.data.map(function(e) {
                        return {
                            id: e.user.id_str,
                            isAdmin: !!e.admin
                        }
                    });
                    this.trigger("dataContributees", {
                        accountKey: t.accountKey,
                        contributees: i
                    })
                }
                .bind(this))
            }
            ,
            this.handleUiRemoveContributee = function(e, t) {
                var i = this.makeTwitterRequest(t.accountKey, "users/contributees/destroy.json", {
                    method: "POST",
                    params: {
                        user_id: t.userId
                    }
                });
                i.addCallbacks(this.triggerResult.bind(this, "dataContributeeRemoveSuccess", t), this.triggerResult.bind(this, "dataContributeeRemoveError", t))
            }
            ,
            this.handleUiNeedsContributors = function(e, t) {
                var i = this.makeTwitterRequest(t.accountKey, "users/contributors.json", {});
                i.addCallback(function(e) {
                    var i = this.processContributorsData(e.data, t.accountKey);
                    this.trigger("dataContributors", {
                        accountKey: t.accountKey,
                        contributors: i
                    })
                }
                .bind(this)),
                i.addErrback(this.triggerResult.bind(this, "dataContributorsError", t))
            }
            ,
            this.processContributorsData = function(e, t) {
                var i = TD.storage.accountController.get(t);
                return e.map(function(e) {
                    return {
                        user: new TD.services.TwitterUser(i).fromJSONObject(e.user, {
                            isContributor: !0
                        }),
                        isAdmin: e.admin
                    }
                })
            }
            ,
            this.handleUiContributorAction = function(e, t) {
                var i;
                t.userId ? i = TD.core.defer.succeed() : (i = TD.cache.twitterUsers.getByScreenName(t.screenName),
                i.addCallback(function(e) {
                    t.userId = e.id
                })),
                i.addCallback(this.performContributorAction.bind(this, t)),
                i.addCallbacks(this.triggerResult.bind(this, "dataContributorActionSuccess", t), this.triggerResult.bind(this, "dataContributorActionError", t))
            }
            ,
            this.updateContributor = function(e) {
                var t = this.makeTwitterRequest(e.accountKey, "users/contributors/update.json", {
                    method: "POST",
                    params: {
                        user_id: e.userId,
                        admin: !!e.isAdmin
                    }
                });
                return t.addCallbackWith(this, function(t) {
                    var i = this.processContributorsData(t.data, e.accountKey);
                    return this.trigger("dataContributor", {
                        accountKey: e.accountKey,
                        contributor: i[0]
                    }),
                    t
                }),
                t
            }
            ,
            this.removeContributor = function(e) {
                return this.makeTwitterRequest(e.accountKey, "users/contributors/destroy.json", {
                    method: "POST",
                    params: {
                        user_id: e.userId
                    }
                })
            }
            ,
            this.performContributorAction = function(e) {
                var t;
                switch (e.action && this.trigger("metric", {
                    key: "contributors:data:action:" + e.action
                }),
                e.action) {
                case "add":
                case "update":
                    t = this.updateContributor(e);
                    break;
                case "remove":
                    t = this.removeContributor(e);
                    break;
                default:
                    t = TD.core.defer.fail()
                }
                return t
            }
        }
        var s = i(1).component
          , n = i(22)
          , r = i(44);
        return s(t, n, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    function s() {
        this.attributes({
            pollMs: 18e5
        }),
        this.after("initialize", function() {
            this.observe(o.Observable.timer(0, this.attr.pollMs)).subscribeOnNext(this.metricCookieSize, this)
        }),
        this.metricCookieSize = function() {
            TD.util.metric("cookie-size:all:size", [document.cookie.length], "metric"),
            TD.util.metric("cookie-size:all:count", [document.cookie.split("; ").length], "metric");
            var e = document.cookie.match(/mp_.+?;/g);
            if (e) {
                var t = e.map(TD.util.pluck("length"))
                  , i = t.reduce(_.add, 0);
                TD.util.metric("cookie-size:mixpanel:sizes", t, "metric"),
                TD.util.metric("cookie-size:mixpanel:count", [e.length], "metric"),
                TD.util.metric("cookie-size:mixpanel:total-size", [i], "metric")
            }
        }
    }
    var n = i(98)
      , r = i(8)
      , o = i(21);
    e.exports = n.mixin(s, r)
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on(document, "uiAddTweetToCustomTimeline", this.checkData(this.addTweetToCustomTimeline)),
                this.on(document, "uiRemoveTweetFromCustomTimeline", this.checkData(this.removeTweetFromCustomTimeline)),
                this.on(document, "uiNeedsCustomTimeline", this.fetchCustomTimeline),
                this.on(document, "uiUpdateCustomTimeline", this.updateCustomTimeline),
                this.on(document, "dataAddTweetToCustomTimelineError", function() {
                    TD.controller.progressIndicator.addMessage(TD.i("Problem adding Tweet: please try again"))
                }),
                this.on(document, "dataRemoveTweetToCustomTimelineError", function() {
                    TD.controller.progressIndicator.addMessage(TD.i("Problem removing Tweet: please try again"))
                })
            }),
            this.addTweetToCustomTimeline = function(e, t) {
                var i = this.getClientByAccountKey(t.account);
                i.addTweetToCustomTimeline(t.id, t.tweetId, t.relativeToId, this.callbackFactory("dataAddTweetToCustomTimelineSuccess", t), this.callbackFactory("dataAddTweetToCustomTimelineError", t))
            }
            ,
            this.removeTweetFromCustomTimeline = function(e, t) {
                var i = this.getClientByAccountKey(t.account);
                i.removeTweetFromCustomTimeline(t.id, t.tweetId, this.callbackFactory("dataRemoveTweetFromCustomTimelineSuccess", t), this.callbackFactory("dataRemoveTweetFromCustomTimelineError", t))
            }
            ,
            this.fetchCustomTimeline = function(e, t) {
                var i = this.getClientByAccountKey(t.account);
                i.getCustomTimeline(t.id, this.callbackFactory("dataCustomTimelineSuccess", t), this.callbackFactory("dataCustomTimelineError", t))
            }
            ,
            this.updateCustomTimeline = function(e, t) {
                function i(e) {
                    var i = {
                        name: void 0 !== t.name ? t.name : e.name,
                        description: void 0 !== t.description ? t.description : e.description,
                        url: void 0 !== t.url ? t.url : e.url
                    };
                    s.updateCustomTimeline(t.id, i, this.callbackFactory("dataCustomTimelineSuccess", t), this.callbackFactory("dataCustomTimelineUpdateError", t))
                }
                var s = this.getClientByAccountKey(t.account);
                s.getCustomTimeline(t.id, i.bind(this), this.callbackFactory("dataCustomTimelineUpdateError", t))
            }
            ,
            this.callbackFactory = function(e, t) {
                return function(i) {
                    this.trigger(document, e, {
                        action: t,
                        result: i
                    })
                }
                .bind(this)
            }
            ,
            this.checkData = function(e) {
                return function(t, i) {
                    if (!i.id || !i.tweetId || !i.account)
                        throw new Error("data needs id, tweetId, and account");
                    e.apply(this, [].slice.call(arguments))
                }
            }
        }
        var s = i(1).component
          , n = i(11);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                resources: {
                    watchlists: {
                        resource: "account/1/get_lists",
                        method: "GET",
                        metricsKey: "watchlists"
                    },
                    alerts: {
                        resource: "alerts/1/get_alert",
                        method: "GET",
                        metricsKey: "alerts"
                    }
                }
            }),
            this.after("initialize", function() {
                this.on(document, "uiNeedsDataminrAuth", this.handleUiNeedsDataminrAuth),
                this.on(document, "uiNeedsDataminrWatchlists", this.handleUiNeedsDataminrWatchlists),
                this.on(document, "uiNeedsDataminrAlerts", this.handleUiNeedsDataminrAlerts)
            }),
            this.handleUiNeedsDataminrAuth = function() {
                if (this.dataminrIsEnabled()) {
                    var e, t = TD.settings.getDataminrAuthToken();
                    e = t ? TD.core.defer.succeed() : this.makeDataminrRequestForAuthToken(),
                    e.addCallback(this.trigger.bind(this, "dataDataminrAuthenticated"))
                }
            }
            ,
            this.handleUiNeedsDataminrWatchlists = function() {
                this.dataminrIsEnabled() && this.makeDataminrRequest(this.attr.resources.watchlists).addCallback(this.getEventDataFromResponse.bind(this)).addCallbacks(this.trigger.bind(this, "dataDataminrWatchlists"), this.trigger.bind(this, "dataDataminrWatchlistsError"))
            }
            ,
            this.handleUiNeedsDataminrAlerts = function(e, t) {
                if (this.dataminrIsEnabled()) {
                    var i = _.defaults(t.params, {
                        pagesize: 200
                    });
                    this.makeDataminrRequest(this.attr.resources.alerts, i).addCallback(this.getEventDataFromResponse.bind(this)).addCallbacks(this.handleAlertsSuccess.bind(this, t.success), this.handleAlertsError.bind(this, t.error))
                }
            }
            ,
            this.handleAlertsSuccess = function(e, t) {
                return "function" == typeof e ? e(t) : void this.trigger("dataDataminrAlerts", t)
            }
            ,
            this.handleAlertsError = function(e, t) {
                return "function" == typeof e ? e(t) : void this.trigger("dataDataminrAlertsError", t)
            }
            ,
            this.getEventDataFromResponse = function(e) {
                return e.data
            }
            ,
            this.dataminrIsEnabled = function() {
                return TD.decider.get("dataminr")
            }
        }
        var s = i(1).component
          , n = i(11)
          , r = i(448);
        return s(t, n, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                pollingPeriod: 300
            }),
            this.after("initialize", function() {
                this.on("ddgImpression", this.handleImpression),
                this.on("TD.ready", this.initializeExperimentsTask),
                this.experimentStream = new a.Subject,
                this.provideResource("ddg.experiments", this.experimentStream)
            }),
            this.initializeExperimentsTask = function() {
                if (this.getTwitterLoginAccount()) {
                    var e = TD.controller.scheduler.schedulePeriodicTask(this.attr.pollingPeriod, this.getExperiments.bind(this), !0);
                    this.before("teardown", function() {
                        TD.controller.scheduler.removePeriodicTask(e)
                    })
                }
            }
            ,
            this.getExperiments = function() {
                var e = this.makeTwitterRequest(this.getTwitterLoginAccount().accountKey, "help/settings.json");
                e.addCallbackWith(this, this.handleExperiments)
            }
            ,
            this.handleExperiments = function(e) {
                if (e.data.impressions) {
                    var t = e.data.impressions.reduce(function(e, t) {
                        return e[t.key] = t,
                        e
                    }, {});
                    this.experimentStream.onNext(t)
                }
                TD.controller.stats.setExperiments(e.data)
            }
            ,
            this.handleImpression = function(e, t) {
                TD.controller.stats.experimentImpression(t.name)
            }
            ,
            this.before("teardown", function() {
                this.experimentStream.dispose()
            })
        }
        var s = i(1).component
          , n = i(44)
          , r = i(7)
          , o = i(22)
          , a = i(21);
        return s(r, t, n, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                experimentId: "tweetdeck_engagement_icons_3569",
                experimentClassNames: {
                    buttons_visible: "show-tweet-actions",
                    buttons_visible_muted: "show-tweet-actions-muted"
                }
            }),
            this.after("initialize", function() {
                this.observe(this.requestResource("ddg.experiments")).pluck(this.attr.experimentId).filter(function(e) {
                    return !_.isUndefined(e)
                }).take(1).subscribeOnNext(this.setupExperiment, this)
            }),
            this.setupExperiment = function(e) {
                $(document.body).addClass(this.attr.experimentClassNames[e.bucket]),
                this.trigger("ddgImpression", {
                    name: this.attr.experimentId
                })
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8);
        return s(n, r, t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                resources: {
                    "delete": {
                        method: "POST",
                        resource: "dm/destroy.json",
                        metricsKey: "status:delete"
                    },
                    read: {
                        method: "POST",
                        resource: "dm/conversation/{{conversationId}}/mark_read.json",
                        metricsKey: "conversation:read-one"
                    },
                    readAll: {
                        method: "POST",
                        resource: "dm/conversation/mark_read.json",
                        metricsKey: "conversation:read-all"
                    },
                    "new": {
                        method: "POST",
                        resource: "dm/new.json",
                        metricsKey: "status:new"
                    },
                    addParticipants: {
                        method: "POST",
                        resource: "dm/conversation/{{conversationId}}/add_participants.json",
                        metricsKey: "conversation:add-participants"
                    },
                    deleteConversation: {
                        method: "POST",
                        resource: "dm/conversation/{{conversationId}}/delete.json",
                        metricsKey: "conversation:delete"
                    },
                    updateConversationName: {
                        method: "POST",
                        resource: "dm/conversation/{{conversationId}}/update_name.json",
                        metricsKey: "conversation:rename"
                    },
                    disableNotifications: {
                        method: "POST",
                        resource: "dm/conversation/{{conversationId}}/disable_notifications.json",
                        metricsKey: "conversation:disable_notifications"
                    },
                    enableNotifications: {
                        method: "POST",
                        resource: "dm/conversation/{{conversationId}}/enable_notifications.json",
                        metricsKey: "conversation:enable_notifications"
                    }
                }
            }),
            this.after("initialize", function() {
                this.on(document, "uiDeleteDm", this.handleDeleteDm),
                this.on(document, "uiDeleteConversation", this.handleDeleteConversation),
                this.on(document, "uiMarkDmAsRead", this.handleMarkDmAsRead),
                this.on(document, "uiMarkAllDmsAsRead", this.handleMarkAllDmsAsRead),
                this.on(document, "uiSendDm", this.handleSendDm),
                this.on(document, "uiAddConversationParticipants", this.handleAddConversationParticipants),
                this.on(document, "uiUpdateConversationName", this.handleUpdateConversationName),
                this.on(document, "uiConversationsDisableNotifications", this.handleConversationsDisableNotifications),
                this.on(document, "uiConversationsEnableNotifications", this.handleConversationsEnableNotifications)
            }),
            this.handleMarkDmAsRead = function(e, t) {
                var i = this.attr.resources.read;
                this.trigger("metric", {
                    key: "dm:data:" + i.metricsKey
                }),
                this.makeTwitterApiCall({
                    request: t,
                    method: i.method,
                    resource: this.toURLFromRaw(i.resource, t),
                    params: {
                        last_read_event_id: t.lastReadEventId
                    },
                    error: t.error
                })
            }
            ,
            this.handleMarkAllDmsAsRead = function(e, t) {
                var i = this.attr.resources.readAll;
                this.trigger("metric", {
                    key: "dm:data:" + i.metricsKey
                }),
                this.makeTwitterApiCall({
                    request: t,
                    method: i.method,
                    resource: i.resource,
                    params: {
                        last_read_event_id: t.lastReadEventId
                    },
                    error: t.error,
                    success: t.success
                })
            }
            ,
            this.handleSendDm = function(e, t) {
                if (!t.files || !t.files.length) {
                    var i = this.attr.resources.new
                      , s = {
                        text: t.text
                    };
                    if (t.tweetId && (s.tweet_id = t.tweetId),
                    t.conversationId && (s.conversation_id = t.conversationId),
                    t.messageRecipientIds && t.messageRecipientIds.length > 0 && (s.recipient_ids = t.messageRecipientIds),
                    !s.conversation_id && !s.recipient_ids)
                        return void this.trigger("dataDmError", {
                            request: t
                        });
                    this.trigger("metric", {
                        key: "dm:data:" + i.metricsKey
                    }),
                    t.mediaId && (s.media_id = t.mediaId),
                    this.makeTwitterApiCall({
                        request: t,
                        resource: i.resource,
                        method: i.method,
                        params: s,
                        success: "dataDmSent",
                        error: "dataDmError",
                        dataProcessor: function(e) {
                            return {
                                user_events: e
                            }
                        },
                        processAsStreamData: !0
                    })
                }
            }
            ,
            this.handleDeleteDm = function(e, t) {
                var i = this.attr.resources.delete;
                this.trigger("metric", {
                    key: "dm:data:" + i.metricsKey
                }),
                this.makeTwitterApiCall({
                    request: t,
                    method: i.method,
                    resource: i.resource,
                    params: {
                        dm_id: t.id
                    },
                    success: t.success,
                    error: t.error
                })
            }
            ,
            this.handleAddConversationParticipants = function(e, t) {
                var i = this.attr.resources.addParticipants;
                this.trigger("metric", {
                    key: "dm:data:" + i.metricsKey
                }),
                this.makeTwitterApiCall({
                    request: t,
                    method: i.method,
                    resource: this.toHtmlFromRaw(i.resource, t),
                    params: {
                        participant_ids: t.participantIds.join(",")
                    },
                    success: t.success,
                    error: t.error,
                    dataProcessor: function(e) {
                        return {
                            participantAdded: {
                                user_events: e
                            }
                        }
                    },
                    processAsStreamData: !0
                })
            }
            ,
            this.handleDeleteConversation = function(e, t) {
                var i = this.attr.resources.deleteConversation;
                this.trigger("metric", {
                    key: "dm:data:" + i.metricsKey
                }),
                this.makeTwitterApiCall({
                    request: t,
                    method: i.method,
                    resource: this.toHtmlFromRaw(i.resource, t),
                    success: t.success,
                    error: t.error,
                    dataProcessor: function(e) {
                        return {
                            "delete": {
                                conversationId: t.conversationId
                            }
                        }
                    },
                    processAsStreamData: !0
                })
            }
            ,
            this.handleUpdateConversationName = function(e, t) {
                var i = this.attr.resources.updateConversationName;
                this.trigger("metric", {
                    key: "dm:data" + i.metricsKey
                }),
                this.makeTwitterApiCall({
                    request: t,
                    method: i.method,
                    resource: this.toHtmlFromRaw(i.resource, t),
                    params: {
                        name: t.name
                    },
                    success: t.success,
                    error: t.error,
                    dataProcessor: function(e) {
                        return {
                            conversationRenamed: {
                                conversationId: t.conversationId,
                                name: t.name
                            }
                        }
                    },
                    processAsStreamData: !0
                })
            }
            ,
            this.handleConversationsDisableNotifications = function(e, t) {
                var i = this.attr.resources.disableNotifications;
                this.trigger("metric", {
                    key: "dm:data:" + i.metricsKey
                }),
                this.makeTwitterApiCall({
                    request: t,
                    method: i.method,
                    resource: this.toHtmlFromRaw(i.resource, t),
                    success: t.success,
                    error: t.error
                })
            }
            ,
            this.handleConversationsEnableNotifications = function(e, t) {
                var i = this.attr.resources.enableNotifications;
                this.trigger("metric", {
                    key: "dm:data:" + i.metricsKey
                }),
                this.makeTwitterApiCall({
                    request: t,
                    method: i.method,
                    resource: this.toHtmlFromRaw(i.resource, t),
                    success: t.success,
                    error: t.error
                })
            }
        }
        var s = i(1).component
          , n = i(44)
          , r = i(11)
          , o = i(4);
        return s(t, n, r, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on(document, "uiNeedsDMReport", this.handleDMReport)
            }),
            this.handleDMReport = function(e, t) {
                TD.sync.util.assert(t.account, "Source account for report must be specified."),
                TD.sync.util.assert(t.dmId, "dmId must be specified"),
                TD.sync.util.assert(_.contains(["spam", "abuse"], t.reportType), "reportType must be one of {spam, abuse}");
                var i = this.getClientByAccount(t.account);
                i.reportDMSpam(t.dmId, t.reportType, !!t.blockUser, this.handleSuccessFactory(t).bind(this), this.handleErrorFactory(t))
            }
            ,
            this.handleSuccessFactory = function(e) {
                return function() {
                    var t = this.getClientByAccount(e.account);
                    t.destroyDM(e.dmId),
                    t.deleteMessage(e.dmId),
                    this.trigger("dataDMReport", {
                        error: null
                    })
                }
            }
            ,
            this.handleErrorFactory = function(e) {
                return function(t) {
                    this.trigger("dataDMReport", {
                        error: t || {},
                        request: e
                    })
                }
                .bind(this)
            }
        }
        var s = i(1).component
          , n = i(11);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                widgetBaseURL: o("https://twitter.com/settings/widgets/new/{type}"),
                publishBaseURL: o("https://publish.twitter.com/"),
                collectionURL: o("https://twitter.com/{username}/timelines/{id}")
            }),
            this.checkListSubscription = function(e, t, i) {
                var s = _.uniqueId()
                  , n = {
                    id: s,
                    title: TD.i("Subscribe to this list?"),
                    message: [TD.i("To share this list, we need to subscribe you to it."), TD.i("Subscribe and share?")].join("\n"),
                    okLabel: TD.i("OK"),
                    cancelLabel: TD.i("Cancel")
                }
                  , r = function() {
                    TD.util.openURL(t, i)
                }
                  , o = function l(t, i) {
                    var n;
                    i.id === s && (this.off(document, "uiConfirmationAction", l),
                    i.result && (n = this.getTwitterClient(),
                    n.subscribeToList(e, r)))
                }
                  , a = this.getTwitterClient().oauth.account.getKey()
                  , c = TD.cache.lists.find(e, null , null , !1, a);
                c ? r() : (this.on(document, "uiConfirmationAction", o.bind(this)),
                this.trigger("uiShowConfirmationDialog", n))
            }
            ,
            this.openEmbedTimeline = function(e, t) {
                var i, s, n, r, o = {};
                if (t && t.column && t.column.isEmbeddable()) {
                    switch (s = t.column.getFeeds()[0],
                    n = s.getMetadata(),
                    t.column.getColumnType()) {
                    case TD.util.columnUtils.columnMetaTypes.USERTWEETS:
                        i = this.attr.widgetBaseURL.expand({
                            type: "user"
                        }),
                        n.id ? o.user_id = n.id : o.user_id = TD.storage.accountController.get(s.getAccountKey()).getUserID();
                        break;
                    case TD.util.columnUtils.columnMetaTypes.FAVORITES:
                        i = this.attr.widgetBaseURL.expand({
                            type: "favorites"
                        }),
                        n.id ? o.user_id = n.id : o.user_id = TD.storage.accountController.get(s.getAccountKey()).getUserID();
                        break;
                    case TD.util.columnUtils.columnMetaTypes.LIST:
                        return i = this.attr.widgetBaseURL.expand({
                            type: "list"
                        }),
                        o.list_id = n.listId,
                        void this.checkListSubscription(n.listId, i, o);
                    case TD.util.columnUtils.columnMetaTypes.SEARCH:
                        i = this.attr.widgetBaseURL.expand({
                            type: "search"
                        }),
                        n.baseQuery && n.searchFilterData ? (r = new TD.vo.SearchFilter(n.searchFilterData),
                        o.query = [n.baseQuery, r.getQueryString()].join(" ").trim()) : o.query = n.term;
                        break;
                    case TD.util.columnUtils.columnMetaTypes.CUSTOMTIMELINE:
                        i = this.attr.publishBaseURL.expand(),
                        o.query = this.attr.collectionURL.expand({
                            username: this.getAccountData().screenName,
                            id: n.id.replace(/[^\d]*/, "")
                        })
                    }
                    TD.util.openURL(i, o)
                }
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiEmbedTimelineAction", this.openEmbedTimeline)
            })
        }
        var s = i(1).component
          , n = i(11)
          , r = i(22)
          , o = i(871);
        return s(t, n, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.handleEmbeddedTweetFactory = function(e) {
                return function(t) {
                    t.request = e,
                    this.trigger(document, "dataEmbeddedTweet", t)
                }
            }
            ,
            this.handleErrorFactory = function(e) {
                return function() {
                    var t = {
                        request: e
                    };
                    this.trigger(document, "dataEmbeddedTweetError", t)
                }
            }
            ,
            this.getEmbeddedTweet = function(e, t) {
                if (t && t.tweetID) {
                    var i = this.getTwitterClient();
                    i.getEmbeddedTweet(t.tweetID, t.hideThread, t.hideMedia, t.maxWidth, this.handleEmbeddedTweetFactory(t).bind(this), this.handleErrorFactory(t).bind(this))
                }
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiNeedsEmbeddedTweet", this.getEmbeddedTweet)
            })
        }
        var s = i(1).component
          , n = i(11);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on("uiNeedsFavoriteState", this.getFavoriteState),
                this.on("uiFavoriteTweet", this.handleFavoriteTweet),
                this.on("uiUnfavoriteTweet", this.handleUnfavoriteTweet)
            }),
            this.handleErrorFactory = function(e, t) {
                return function(i) {
                    this.trigger(document, t, {
                        request: e,
                        error: i
                    })
                }
                .bind(this)
            }
            ,
            this.handleFavoriteState = function(e) {
                this.trigger("dataFavoriteState", {
                    tweetId: e.id,
                    isFavorite: e.isFavorite,
                    accountKey: e.account.getKey()
                })
            }
            ,
            this.handleFavoriteTweet = function(e, t) {
                var i = this.getClientByAccountKey(t.accountKey);
                i.favorite(t.tweetId, this.handleFavoriteSuccessFactory(t, !0), this.handleErrorFactory(t, "dataFavoriteError"))
            }
            ,
            this.handleUnfavoriteTweet = function(e, t) {
                var i = this.getClientByAccountKey(t.accountKey);
                i.unfavorite(t.tweetId, this.handleFavoriteSuccessFactory(t, !1), this.handleErrorFactory(t, "dataFavoriteError"))
            }
            ,
            this.handleFavoriteSuccessFactory = function(e, t) {
                return function() {
                    this.trigger("dataFavoriteState", {
                        tweetId: e.tweetId,
                        accountKey: e.accountKey,
                        isFavorite: t
                    })
                }
                .bind(this)
            }
            ,
            this.getFavoriteState = function(e, t) {
                var i = this.getClientByAccountKey(t.accountKey);
                i.show(t.tweetId, this.handleFavoriteState.bind(this), this.handleErrorFactory(t, "dataFavoriteStateError").bind(this))
            }
        }
        var s = i(1).component
          , n = i(11);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = i(566);
        return t(function() {
            this.after("initialize", function() {
                this.on(document, "dataAccountsRewriteColumns", function(e, t) {
                    var i = this.rewriteFeeds(t.sourceAccountKey, t.targetAccountKey);
                    TD.controller.progressIndicator.addMessage(this.getRewriteResultMessage(i))
                })
            }),
            this.rewriteFeeds = s,
            this.getRewriteResultMessage = function(e) {
                var t = {
                    kept: e.newFeeds.length,
                    lost: e.lostFeeds.length,
                    total: e.initialCount
                }
                  , i = TD.i("Kept {{kept}} columns.", t);
                1 === t.kept && (i = TD.i("Kept 1 column."));
                var s = TD.i("{{lost}} columns could not be kept.", t);
                return 1 === t.lost && (s = TD.i("1 column could not be kept.")),
                0 === t.lost ? s = "" : i = TD.i("Kept {{kept}} out of {{total}} columns.", t),
                (i + " " + s).trim()
            }
        })
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = function() {
            this.getLists = function(e) {
                var t = TD.cache.lists.getAll();
                this.trigger(document, "dataSubscribedLists", {
                    lists: t
                })
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiNeedsSubscribedLists", this.getLists)
            })
        }
        ;
        return t(s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on(document, "uiLogout", this.logout),
                this.on(document, "uiLogin", this.login),
                this.on(document, "uiReload", this.reload)
            }),
            this.logout = function(e, t) {
                t = t || {};
                var i = this.getTwitterLoginAccount()
                  , s = TD.util.getTwitterCookieUserId();
                this.wipeStorage(),
                i && i.isCookieUser ? this.redirect(r.getLogoutUrl()) : this.killTDSession(t).addBothWith(this, function() {
                    s && !t.noCookieLogout ? this.redirect(r.getLogoutUrl()) : this.reload()
                })
            }
            ,
            this.login = function(e, t) {
                t = t || {};
                var i = t.id
                  , s = this.getTwitterLoginAccount()
                  , n = this.getAccountFromId(i) || {}
                  , o = r.getLoginUrl({
                    usernameOrEmail: n.screenName
                })
                  , a = TD.util.getTwitterCookieUserId()
                  , c = s && s.userId;
                return s ? s.isCookieUser ? (i !== c && this.wipeStorage(),
                void (a ? i !== a ? this.logout() : i === a && (i === c || this.reload()) : this.redirect(o))) : this.logout() : this.redirect(o)
            }
            ,
            this.killTDSession = function(e) {
                return TD.sync.tdapi.logout(e)
            }
            ,
            this.wipeStorage = function() {
                TD.storage.Store.flushWebstorage()
            }
            ,
            this.teardownNativeApi = function() {
                TD.util.isWrapperApp() && deck.tearDown()
            }
            ,
            this.redirect = function(e) {
                this.teardownNativeApi(),
                window.location.href = e
            }
            ,
            this.reload = function() {
                this.teardownNativeApi(),
                window.location.reload()
            }
        }
        var s = i(1).component
          , n = i(22)
          , r = i(191);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on(document, "uiHidingMessageBanner", this.dismissMessage),
                this.on(document, "dataMessages", this.handleMessages)
            }),
            this.handleMessages = function(e, t) {
                var i = t.messages;
                i && (i = i.filter(this.satisfiesPlatformRequirements, this),
                i = i.filter(this.satisfiesVersionRequirements, this),
                i = i.filter(this.hasNotBeenDismissed, this),
                i.length && this.trigger("dataMessage", i[0]))
            }
            ,
            this.dismissMessage = function(e, t) {
                this.updateIdsForSeenMessages(),
                this.idsForSeenMessages.push(t.id),
                TD.settings.setIdsForSeenMessages(this.idsForSeenMessages)
            }
            ,
            this.satisfiesPlatformRequirements = function(e) {
                if (e.target && e.target.platform) {
                    var t = TD.util.getAppEnv();
                    return _.include(e.target.platform, t)
                }
                return !0
            }
            ,
            this.satisfiesVersionRequirements = function(e) {
                return e.target && e.target.version ? this.appSatisfiesVersionRequirements(e.target.version) : !0
            }
            ,
            this.hasNotBeenDismissed = function(e) {
                if (e.message) {
                    this.updateIdsForSeenMessages();
                    var t = this.idsForSeenMessages.every(function(t) {
                        return e.message.id !== t
                    });
                    return t
                }
                return !1
            }
            ,
            this.updateIdsForSeenMessages = function() {
                var e = TD.settings.getIdsForSeenMessages();
                this.idsForSeenMessages = _.union(this.idsForSeenMessages, e)
            }
        }
        var s = i(1).component
          , n = i(572);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.send = function(e) {
                this.trigger(document, "dataPreferredAccount", {
                    account: e
                })
            }
            ,
            this.getPreferredTwitterAccount = function() {
                this.ready && this.send(TD.storage.accountController.getPreferredAccount("twitter"))
            }
            ,
            this.tdReady = function() {
                this.ready = !0,
                this.getPreferredTwitterAccount(),
                this.off(document, "TD.ready", this.tdReady)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiNeedsPreferredAccount", this.getPreferredTwitterAccount),
                this.on(document, "TD.ready", this.tdReady),
                $.subscribe("/storage/account/new", this.getPreferredTwitterAccount.bind(this)),
                $.subscribe("/storage/client/default_account_changed", this.getPreferredTwitterAccount.bind(this))
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = function() {
            this.saveRecentSearch = function(e, t) {
                TD.storage.clientController.client.addRecentSearch(t.query)
            }
            ,
            this.getRecentSearches = function(e) {
                var t = {
                    recentSearches: TD.storage.clientController.client.getRecentSearches()
                };
                this.trigger("dataRecentSearches", t)
            }
            ,
            this.clearRecentSearches = function(e) {
                TD.storage.clientController.client.clearRecentSearches()
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiSearch", this.saveRecentSearch),
                this.on(document, "uiRecentSearchClearAction", this.clearRecentSearches),
                this.on(document, "uiNeedsRecentSearches", this.getRecentSearches)
            })
        }
        ;
        return t(s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.handleRelationship = function(e) {
                this.trigger(document, "dataRelationship", e)
            }
            ,
            this.handleError = function(e) {
                return function() {
                    this.trigger(document, "dataRelationshipError", e)
                }
            }
            ,
            this.getRelationship = function(e, t) {
                if (t && t.account && t.screenName) {
                    var i = this.getClientByAccount(t.account);
                    i.showFriendship(t.account.getUserID(), null , t.screenName, this.handleRelationship.bind(this), this.handleError(t).bind(this))
                }
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiNeedsRelationship", this.getRelationship)
            })
        }
        var s = i(1).component
          , n = i(11);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.initialHref = window.location.href,
                this.initialUrlHash = window.location.hash,
                this.on(document, "TD.ready", this.handleTDReady)
            }),
            this.handleTDReady = function() {
                this.processQueryParams(this.initialHref),
                this.processUrlHash(this.initialUrlHash),
                this.cleanUrl()
            }
            ,
            this.processQueryParams = function(e) {
                if (e) {
                    var t = n(e).search(!0)
                      , i = [].concat(t.add_by_url || []);
                    i && i.length && this.getDecider("add_column_by_url_query_param") && this.trigger(document, "uiAddColumnsByUrl", {
                        urls: i
                    }),
                    this.trigger("dataQueryParams", {
                        params: t
                    })
                }
            }
            ,
            this.processUrlHash = function(e) {
                if (e) {
                    var t = TD.util.extractTweetDeckSharedColumnFromFragment(e);
                    t && this.trigger("uiShowImportColumnDialog", {
                        columnState: t
                    })
                }
            }
            ,
            this.cleanUrl = function() {
                window.history && "function" == typeof window.history.replaceState ? history.replaceState({}, "", window.location.pathname) : window.location.hash = ""
            }
        }
        var s = i(1).component
          , n = i(68)
          , r = i(30);
        return s(t, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                resources: {
                    tweet: {
                        method: "POST",
                        url: "schedule/status/tweet.json",
                        metricsKey: "status:tweet"
                    },
                    "delete": {
                        method: "DELETE",
                        url: "schedule/status/{{id}}.json",
                        metricsKey: "status:delete"
                    },
                    dismiss: {
                        method: "POST",
                        url: "schedule/status/dismiss/{{id}}.json",
                        metricsKey: "status:dismiss"
                    },
                    edit: {
                        method: "PUT",
                        url: "schedule/status/{{id}}.json",
                        metricsKey: "status:edit"
                    }
                }
            }),
            this.after("initialize", function() {
                this.on(document, "uiSendScheduledTweets", this.handleSendScheduleTweets),
                this.on(document, "uiDeleteScheduledTweetGroup", this.handleDeleteScheduledTweets),
                this.on(document, "uiEditScheduledTweetGroup", this.handleEditScheduleTweets),
                this.watchDecider("scheduler_read_background scheduler_read_visible", this.handleDeciderChange)
            }),
            this.handleSendScheduleTweets = function(e, t) {
                if (t && t.requests) {
                    t.metadata = t.metadata || {};
                    var i = t.requests
                      , s = i.filter(function(e) {
                        return this.shouldSchedule(e.type)
                    }, this)
                      , n = []
                      , r = []
                      , o = t.metadata.originalUpdates || [];
                    if (s.length || o.length) {
                        this.trigger("metric", {
                            key: "scheduler:ui:send"
                        });
                        var a = s.map(function(e) {
                            return e.accountKey
                        });
                        this.trigger("metric", {
                            key: "scheduler:data:selected-accounts-to-nearest-hundred:" + ~~(100 * Math.round(a.length / 100))
                        }),
                        this.trigger("metric", {
                            type: "metric",
                            key: "scheduler:data:selected-accounts",
                            value: [a.length]
                        }),
                        t.tokenToDelete && (o = []),
                        o.forEach(function(e, t) {
                            var i = a.indexOf(e.account.getKey());
                            if (0 > i)
                                return r.push(e);
                            var o = s.splice(i, 1)[0];
                            o.id = e.id,
                            n.push(o)
                        });
                        var c = TD.core.defer.succeed();
                        a.length > 200 && (this.trigger("metric", {
                            key: "scheduler:data:force-failure"
                        }),
                        c.addCallback(function() {
                            throw new Error(TD.i("Failed to schedule tweets."))
                        })),
                        c.addCallbackWith(this, function() {
                            return TD.core.defer.gatherResults(s.map(this.waitForUploads, this))
                        }),
                        c.addCallbackWith(this, function(e) {
                            var t = TD.core.defer.gatherResults(n.map(this.waitForUploads, this));
                            return t.addCallbackWith(this, function(t) {
                                return {
                                    toCreate: e,
                                    toEdit: t
                                }
                            }),
                            t
                        }),
                        c.addErrbackWith(this, function(e) {
                            return i.forEach(function(t) {
                                this.trigger("dataTweetError", {
                                    request: t,
                                    response: e
                                })
                            }, this),
                            e
                        }),
                        c.addCallbackWith(this, function(e) {
                            var t = [].concat(e.toCreate.map(this.makeApiCallToResource.bind(this, this.attr.resources.tweet)), e.toEdit.map(this.makeApiCallToResource.bind(this, this.attr.resources.edit)));
                            return TD.core.defer.gatherResults(t)
                        }),
                        c.addCallbackWith(this, function(e) {
                            return TD.core.defer.gatherResults(r.map(function(e) {
                                return this.deleteScheduledTweet({
                                    id: e.id,
                                    token: e.token,
                                    accountKey: e.account.getKey()
                                })
                            }, this))
                        }),
                        c.addBothWith(this, this.addOrRefreshScheduledColumn)
                    }
                }
            }
            ,
            this.handleDeleteScheduledTweets = function(e, t) {
                if (!this.isVisibilityOff()) {
                    this.trigger("metric", {
                        key: "scheduler:ui:delete"
                    });
                    var i = new TD.core.defer.DeferredList(t.scheduledTweetGroup.updates.map(function(e) {
                        return this.deleteScheduledTweet({
                            id: e.id,
                            token: e.token,
                            state: e.state,
                            accountKey: e.account.getKey()
                        })
                    }, this));
                    i.addBoth(this.refreshScheduledColumn.bind(this))
                }
            }
            ,
            this.handleEditScheduleTweets = function(e, t) {
                if (this.isWriteOff())
                    return alert(TD.i("Sorry – editing scheduled tweets is currently unavailable."));
                this.trigger("metric", {
                    key: "scheduler:ui:edit"
                });
                var i = t.scheduledTweetGroup;
                this.trigger("uiComposeTweet", {
                    type: "tweet",
                    schedule: {
                        time: i.time
                    },
                    text: i.text,
                    from: i.updates.map(function(e) {
                        return e.account.getKey()
                    }),
                    inReplyTo: {
                        tweetId: status.inReplyToStatusId
                    },
                    metadata: {
                        originalUpdates: i.updates
                    }
                })
            }
            ,
            this.makeApiCallToResource = function(e, t) {
                this.trigger("metric", {
                    key: "scheduler:data:" + e.metricsKey
                });
                var i = {
                    status: t.text,
                    execute_at: Math.round(t.scheduledDate.getTime() / 1e3)
                };
                return t.inReplyToStatusId && (i.in_reply_to_status_id = t.inReplyToStatusId),
                t.mediaId && (i.media_ids = t.mediaId),
                this.makeTwitterApiCall({
                    resource: o.toURLFromRaw(e.url, t),
                    method: e.method,
                    request: t,
                    params: i,
                    success: "dataTweetSent",
                    error: "dataTweetError"
                })
            }
            ,
            this.deleteScheduledTweet = function(e) {
                var t = this.attr.resources["failed" === e.state ? "dismiss" : "delete"];
                this.trigger("metric", {
                    key: "scheduler:data:" + t.metricsKey
                });
                var i = this.makeTwitterApiCall({
                    resource: o.toURLFromRaw(t.url, {
                        id: e.id
                    }),
                    request: e,
                    method: t.method
                });
                return i.addCallback(function() {
                    TD.controller.feedManager.deleteChirp(e.token)
                }),
                i.addErrbackWith(this, function(e) {
                    return TD.controller.progressIndicator.addMessage(TD.i("Failed to delete scheduled tweet.")),
                    e
                }),
                i
            }
            ,
            this.waitForUploads = function(e) {
                if (!e.files || !e.files.length)
                    return TD.core.defer.succeed(e);
                var t = e.mediaIds;
                return t.addCallbackWith(this, function(t) {
                    return delete e.file,
                    delete e.files,
                    e.mediaId = t.map(_.last).join(","),
                    e
                }),
                t
            }
            ,
            this.refreshScheduledColumn = function(e) {
                this.trigger("uiNeedsScheduledColumnVisible", e || {})
            }
            ,
            this.handleDeciderChange = function() {
                this.refreshScheduledColumn()
            }
            ,
            this.addOrRefreshScheduledColumn = function() {
                this.refreshScheduledColumn({
                    allowAdd: !0
                })
            }
            ,
            this.isWriteOff = function() {
                var e = !TD.decider.hasAccessLevel("scheduler", "WRITE");
                return e
            }
            ,
            this.isVisibilityOff = function() {
                var e = !TD.decider.hasAccessLevel("scheduler", "READ_VISIBLE");
                return e
            }
            ,
            this.shouldSchedule = function(e) {
                var t = !this.isWriteOff()
                  , i = {
                    message: !1,
                    tweet: t,
                    reply: t
                };
                return i[e]
            }
        }
        var s = i(1).component
          , n = i(44)
          , r = i(30)
          , o = i(9);
        return s(t, n, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.after("initialize", function() {
                this.on(document, "uiNeedsSchemaValidation", function(e, t) {
                    if (t.schemaName && (t.schema = this.getValidationSchema(t.schemaName)),
                    !t.schema)
                        throw new Error("Missing validation schema",t);
                    this.validate(t)
                }),
                this.validate = function(e) {
                    var t = r.validate(e.schema, e.data, {
                        checkRequired: !0,
                        useDefault: !0,
                        removeAdditional: !0
                    });
                    this.trigger("dataSchemaValidation", {
                        schema: e.schema,
                        data: e.data,
                        isValid: !t,
                        validationError: t
                    })
                }
            })
        }
        var s = i(1).component
          , n = i(449)
          , r = i(242)();
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                needsSecureUrlSelector: ".js-needs-secure-url",
                needsSecureUrlClass: "js-needs-secure-url",
                orignalUrlAttribute: "data-original-url",
                cacheSize: 200,
                cacheExpiryMinutes: 15
            }),
            this.after("initialize", function() {
                this.on(document, "uiNeedsSecureImageUrl", this.queueSignedImage),
                this.signedUrlCache = new n(this.attr.cacheSize),
                this.imageQueue = [],
                this.debouncedProcessQueue = _.debounce(this.processQueue, 100)
            }),
            this.queueSignedImage = function(e, t) {
                this.imageQueue.push({
                    event: e,
                    data: t
                }),
                this.debouncedProcessQueue()
            }
            ,
            this.processQueue = function() {
                var e = this.$node.find(this.attr.needsSecureUrlSelector);
                this.imageQueue.forEach(function(t) {
                    this.findAndSignImage(e, t.event, t.data)
                }
                .bind(this)),
                this.imageQueue = []
            }
            ,
            this.findAndSignImage = function(e, t, i) {
                var s = TD.storage.accountController.get(i.accountKey)
                  , n = this.getSignedImage(s, i.url);
                n.addCallbackWith(this, function(t) {
                    var s = this.attr.orignalUrlAttribute
                      , n = this.attr.needsSecureUrlClass;
                    e.each(function() {
                        var e = $(this);
                        if (e.attr(s) === i.url) {
                            var r = e.find("img");
                            r.length ? r.attr("src", t.data.url) : e.css({
                                "background-image": "url(" + t.data.url + ")"
                            }),
                            e.removeClass(n).attr(s, "")
                        }
                    })
                })
            }
            ,
            this.getSignedImage = function(e, t, i) {
                var s = e.getKey() + ":" + t
                  , n = this.signedUrlCache.get(s);
                if (n && n.expires > Date.now())
                    return this.signedUrlCache.put(s, n),
                    TD.core.defer.succeed(n.data);
                var r = TD.net.ajax.getSignedUrl(e, t);
                return r.addCallbackWith(this, function(e) {
                    return this.signedUrlCache.put(s, {
                        expires: Date.now() + 6e4 * this.attr.cacheExpiryMinutes,
                        data: e
                    }),
                    e
                }),
                r
            }
        }
        var s = i(1).component
          , n = i(92);
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on(document, "dataSettingsValues", this.handleDataSettingsValues),
                this.on(document, "uiNeedsSettings", this.handleUiNeedsSettings),
                this.on(document, "uiToggleTheme", this.toggleTheme),
                this.on(document, "uiNavbarWidthChangeAction", this.handleNavbarWidthChange),
                this.provideResource("settings.state", this.observableState)
            }),
            this.handleDataSettingsValues = function(e, t) {
                this.mergeState(t)
            }
            ,
            this.handleUiNeedsSettings = function() {
                this.settings = {
                    theme: TD.settings.getTheme(),
                    navbarWidth: TD.settings.getNavbarWidth()
                },
                this.trigger(document, "dataSettings", this.settings)
            }
            ,
            this.toggleTheme = function() {
                var e = this.settings.theme;
                e = "light" === e ? "dark" : "light",
                TD.settings.setTheme(e),
                this.settings.theme = e,
                this.trigger(document, "dataSettings", this.settings)
            }
            ,
            this.handleNavbarWidthChange = function(e, t) {
                TD.settings.setNavbarWidth(t.navbarWidth),
                this.settings.navbarWidth = t.navbarWidth,
                this.trigger(document, "dataSettings", this.settings)
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(67);
        return s(n, r, t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = i(193)
          , n = s.store
          , r = function() {
            function e(e) {
                var t;
                try {
                    t = n.getJSON(name)
                } catch (i) {
                    return void TD.sync.util.stateLog("Error parsing JSON for storage key", e)
                }
                this.trigger(document, "dataStorageItem", {
                    name: e,
                    value: t
                })
            }
            this.get = function(t, i) {
                i.names && i.names.forEach(e.bind(this)),
                i.name && e.call(this, i.name)
            }
            ,
            this.set = function(e, t) {
                for (var i in t)
                    if (t.hasOwnProperty(i))
                        try {
                            n.setJSON(i, t[i])
                        } catch (s) {
                            s.code === DOMException.QUOTA_EXCEEDED_ERR ? this.trigger(document, "dataStorageFull", {
                                name: i,
                                value: t[i]
                            }) : this.trigger(document, "dataStorageSetError", {
                                name: i,
                                value: t[i]
                            })
                        }
            }
            ,
            this.after("initialize", function() {
                this.on("dataStorageSet", this.set),
                this.on("dataStorageGet", this.get)
            })
        }
        ;
        return t(r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = function() {
            this.attributes({
                updatePeriod: 500,
                aggregationPeriod: 1e4
            }),
            this.updateStreamCount = function(e, t) {
                this.streamCounter.incrementCounter(t.numStreamItems)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "dataReceivedStreamData", this.updateStreamCount),
                this.streamCounter = new TD.util.TpmCounter(this.attr.updatePeriod,this.attr.aggregationPeriod,"dataStreamRate")
            })
        }
        ;
        return t(s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = function() {
            this.attributes({
                isTouchComposeClass: "is-touch-compose",
                isTouchSearchClass: "is-touch-search",
                isTouchSidebarClass: "is-touch-sidebar",
                isTouchTweetContainer: "is-touch-tweet-container",
                withTouchSidebarClass: "with-touch-sidebar",
                withTouchFontSizeClass: "with-touch-font-size"
            }),
            this.handleUpdateCompose = function() {
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_compose_v2") ? $(".js-docked-compose").addClass(this.attr.isTouchComposeClass) : $(".js-docked-compose").removeClass(this.attr.isTouchComposeClass)
            }
            ,
            this.handleUpdateFontSize = function() {
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_font_size_v2") ? $("html").addClass(this.attr.withTouchFontSizeClass) : $("html").removeClass(this.attr.withTouchFontSizeClass)
            }
            ,
            this.handleUpdateSearch = function() {
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_search_v2") ? $(".js-search").addClass(this.attr.isTouchSearchClass) : $(".js-search").removeClass(this.attr.isTouchSearchClass)
            }
            ,
            this.handleUpdateSidebar = function() {
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_sidebar_v2") ? ($(".js-app").addClass(this.attr.withTouchSidebarClass),
                $(".js-app-header").addClass(this.attr.isTouchSidebarClass)) : ($(".js-app").removeClass(this.attr.withTouchSidebarClass),
                $(".js-app-header").removeClass(this.attr.isTouchSidebarClass))
            }
            ,
            this.handleUpdateTweetControls = function() {
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_tweet_controls_v3") ? $(".js-chirp-container").addClass(this.attr.isTouchTweetContainer) : $(".js-chirp-container").removeClass(this.attr.isTouchTweetContainer)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "dataDeciderUpdated", this.handleUpdateCompose),
                this.on(document, "dataDeciderUpdated", this.handleUpdateFontSize),
                this.on(document, "dataDeciderUpdated", this.handleUpdateSearch),
                this.on(document, "dataDeciderUpdated", this.handleUpdateSidebar),
                this.on(document, "dataDeciderUpdated", this.handleUpdateTweetControls)
            })
        }
        ;
        return t(s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                resources: {
                    show: {
                        method: "GET",
                        url: "statuses/show/:id.json"
                    },
                    destroy: {
                        method: "POST",
                        url: "statuses/destroy/:id.json"
                    },
                    message: {
                        method: "POST",
                        url: "direct_messages/new.json"
                    },
                    reply: {
                        method: "POST",
                        url: "statuses/update.json"
                    },
                    tweet: {
                        method: "POST",
                        url: "statuses/update.json"
                    },
                    retweet: {
                        method: "POST",
                        url: "statuses/retweet/:id.json"
                    }
                }
            }),
            this.after("initialize", function() {
                this.on(document, "uiSendTweet", this.handleSendTweet),
                this.on(document, "uiRetweet", this.handleRetweet),
                this.on(document, "uiUndoRetweet", this.handleUndoRetweet)
            }),
            this.getTweet = function(e) {
                var t, i = new TD.core.defer.Deferred;
                try {
                    t = this.attr.resources.show,
                    this.makeTwitterApiCall({
                        request: {
                            accountKey: e.accountKey
                        },
                        params: e.params,
                        resource: t.url.replace(":id", e.id),
                        method: t.method,
                        success: function(e) {
                            i.callback(e)
                        },
                        error: function(e) {
                            i.errback(e)
                        }
                    })
                } catch (s) {
                    i.errback({
                        request: e
                    })
                }
                return i
            }
            ,
            this.sendTweet = function(e) {
                var t, i, s;
                try {
                    switch (t = this.attr.resources[e.type],
                    e.type) {
                    case "message":
                        var n = e.messageRecipients && e.messageRecipients[0] && e.messageRecipients[0].id;
                        i = {
                            text: e.text,
                            user_id: n
                        },
                        s = function(e) {
                            return {
                                direct_message: e
                            }
                        }
                        ;
                        break;
                    case "reply":
                        i = {
                            status: e.text,
                            in_reply_to_status_id: e.inReplyToStatusId
                        };
                        break;
                    case "tweet":
                        i = {
                            status: e.text
                        }
                    }
                    var r = "message" === e.type ? "media_id" : "media_ids";
                    e.mediaId && (i[r] = e.mediaId),
                    this.makeTwitterApiCall({
                        request: e,
                        resource: t.url,
                        method: t.method,
                        params: i,
                        success: "dataTweetSent",
                        error: "dataTweetError",
                        dataProcessor: s,
                        processAsStreamData: !0
                    })
                } catch (o) {
                    this.trigger("dataTweetError", {
                        request: e
                    })
                }
            }
            ,
            this.sendRetweet = function(e, t) {
                var i;
                try {
                    i = this.attr.resources.retweet,
                    this.makeTwitterApiCall({
                        request: {
                            accountKey: e
                        },
                        resource: i.url.replace(":id", t.id),
                        method: i.method,
                        success: "dataRetweetSuccess",
                        error: "dataRetweetError",
                        processAsStreamData: !0
                    })
                } catch (s) {
                    this.trigger("dataRetweetError", {
                        request: t
                    })
                }
            }
            ,
            this.handleRetweet = function(e, t) {
                t.from.forEach(function(e) {
                    this.sendRetweet(e, t)
                }
                .bind(this))
            }
            ,
            this.handleUndoRetweet = function(e, t) {
                var i = t.tweetId
                  , s = t.from
                  , n = this.getTweet({
                    id: i,
                    accountKey: s,
                    params: {
                        include_my_retweet: !0
                    }
                });
                n.addCallback(function(e) {
                    var t;
                    return t = e.response.current_user_retweet ? this.destroyTweet({
                        accountKey: s,
                        tweetId: e.response.current_user_retweet.id_str
                    }) : TD.core.defer.succeed()
                }
                .bind(this)),
                n.addCallbacks(function() {
                    $(document).trigger("dataUndoRetweetSuccess", {
                        tweetId: i,
                        from: s
                    })
                }, function() {
                    $(document).trigger("dataUndoRetweetError", {
                        tweetId: i,
                        from: s
                    })
                })
            }
            ,
            this.destroyTweet = function(e) {
                var t, i = new TD.core.defer.Deferred;
                try {
                    t = this.attr.resources.destroy,
                    this.makeTwitterApiCall({
                        request: {
                            accountKey: e.accountKey
                        },
                        resource: t.url.replace(":id", e.tweetId),
                        method: t.method,
                        success: function(e) {
                            i.callback(e)
                        },
                        error: function(e) {
                            i.errback(e)
                        }
                    })
                } catch (s) {
                    i.errback({
                        request: e
                    })
                }
                return i
            }
            ,
            this.handleSendTweet = function(e, t) {
                t.files && t.files.length || this.sendTweet(t)
            }
        }
        var s = i(1).component
          , n = i(44);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            var e = 1
              , t = 2
              , i = 32
              , s = 253;
            this.attributes({
                mobileAuthRequestLimit: 60,
                mobile2FAPollInterval: 2e3
            }),
            this.mobileAuthRequestCount = 0,
            this.after("initialize", function() {
                this.on(document, "uiSendDm", this.handleSendTweet),
                this.on(document, "uiSendTweet", this.handleSendTweet),
                this.on(document, "uiLoginRequest", function(e, t) {
                    "twitter" === t.authType ? this.handleTwitterLoginRequest(e, t) : this.handleTweetDeckLoginRequest(e, t)
                }),
                this.on(document, "uiLogin2FARequest", this.handleLogin2FARequest),
                this.on(document, "uiLogin2FACancel", this.handleLogin2FACancel)
            }),
            this.responseFactory = function(e, t) {
                return function(i) {
                    this.trigger(e, {
                        response: i,
                        request: t
                    })
                }
                .bind(this)
            }
            ,
            this.handleSendTweet = function(e, t) {
                if (t.files && t.files.length) {
                    var i = this.responseFactory("dataTweetError", t);
                    t.mediaIds.addCallbacks(function(s) {
                        var n = !1;
                        delete t.file,
                        delete t.files,
                        delete t.mediaIds,
                        t.mediaId = s.map(function(e) {
                            return e[0] || (n = !0),
                            e[1]
                        }).join(","),
                        n ? i({
                            errors: [{
                                message: TD.i("We could not upload all images, please try again.")
                            }]
                        }) : this.trigger(document, e, t)
                    }
                    .bind(this), i)
                }
            }
            ,
            this.handleTwitterLoginRequest = function(e, t) {
                t = _.defaults({}, t, {
                    doXAuth: !1
                });
                var i = TD.storage.accountController.loginTwitter(t.username, t.password, {
                    doXAuth: t.doXAuth
                });
                return i.addCallback(function(e) {
                    this.handleLoginResponse(t, e)
                }
                .bind(this)),
                i
            }
            ,
            this.handleTweetDeckLoginRequest = function(e, t) {
                var i = TD.storage.accountController.loginTweetdeck(t.username, t.password);
                return i.addCallback(function(e) {
                    this.handleTweetDeckLoginResponse(t, e)
                }
                .bind(this)),
                i
            }
            ,
            this.handleTweetDeckLoginResponse = function(e, t) {
                switch (t.httpStatus) {
                case 200:
                    t.account.uid ? this.trigger("dataLoginAuthSuccess", t) : this.trigger("dataLoginError");
                    break;
                case 401:
                    this.trigger("dataLoginError", {
                        code: t.message
                    });
                    break;
                case 500:
                    this.trigger("dataLoginServerError");
                    break;
                default:
                    this.trigger("dataLoginError")
                }
            }
            ,
            this.handleLogin2FARequest = function(e, t) {
                var i, s;
                return t.requestId ? (s = {
                    requestId: t.requestId,
                    userId: t.userId,
                    doXAuth: t.doXAuth
                },
                t.code && (s.code = t.code),
                i = TD.storage.accountController.loginTwitterWith2FACode(t.username, t.password, s),
                i.addCallback(function(e) {
                    this.handleLoginResponse(t, e)
                }
                .bind(this)),
                i) : void TD.sync.util.errmark("Undefined 2FA login request.")
            }
            ,
            this.handleLoginResponse = function(n, r) {
                n = n || {},
                r.username = n.username,
                r.password = n.password;
                var o = {};
                r.xAuth && r.xAuth.errors && r.xAuth.errors.length && (o = r.xAuth.errors[0]),
                200 === r.httpStatus ? r.account.uid ? this.trigger("dataLoginAuthSuccess", r) : r.xAuth.login_verification_request_type === e ? (TD.sync.util.verboseLog("Twogin: Awaiting 2FA code from SMS"),
                this.trigger("dataLoginTwoFactorCodeRequired", r)) : r.xAuth.login_verification_request_type === t ? (TD.sync.util.verboseLog("Twogin: Awaiting 2FA auth from mobile app"),
                this.schedule2FARequest({
                    username: r.username,
                    password: r.password,
                    requestId: r.xAuth.login_verification_request_id,
                    userId: r.xAuth.login_verification_user_id,
                    doXAuth: n.doXAuth
                }),
                this.trigger("dataLoginTwoFactorAwaitingConfirmation")) : this.trigger("dataLoginError", {
                    isXAuth: !0
                }) : 401 === r.httpStatus && o ? [i, s].indexOf(o.code) > -1 && n.requestId ? this.schedule2FARequest(n) : this.getXAuthErrorIs2FACodeError(o.code) ? this.trigger("dataLogin2FAError", {
                    isXAuth: !0,
                    code: o.code
                }) : this.trigger("dataLoginError", {
                    isXAuth: !0,
                    code: o.code,
                    message: o.message
                }) : 429 === r.httpStatus ? this.trigger("dataLoginError", {
                    isXAuth: !0,
                    code: o.code || "245",
                    message: o.message
                }) : 500 === r.httpStatus ? this.trigger("dataLoginServerError") : this.trigger("dataLoginError", {
                    isXAuth: !0,
                    httpStatus: r.httpStatus,
                    code: o.code,
                    message: o.message
                });
                var a = 401 === r.httpStatus && o.code === s
                  , c = 200 !== r.httpStatus && !a;
                if (c) {
                    var l = o.code || "unknown";
                    $(document).trigger("metric", {
                        key: "login:" + r.httpStatus + ":" + l
                    })
                }
            }
            ,
            this.schedule2FARequest = function(e) {
                this.mobileAuthRequestCount < this.attr.mobileAuthRequestLimit ? (TD.sync.util.verboseLog("Twogin: Scheduling mobile 2FA check"),
                this.mobileAuthRequestTimeout = setTimeout(function() {
                    this.mobileAuthRequestCount = this.mobileAuthRequestCount + 1,
                    this.trigger("uiLogin2FARequest", e)
                }
                .bind(this), this.attr.mobile2FAPollInterval)) : this.trigger("dataLogin2FATimeout", e)
            }
            ,
            this.handleLogin2FACancel = function() {
                clearTimeout(this.mobileAuthRequestTimeout)
            }
            ,
            this.isTweetSchedulerOn = function() {
                return TD.decider.hasAccessLevel("scheduler", "WRITE")
            }
            ,
            this.shouldSchedule = function(e) {
                var t = this.isTweetSchedulerOn()
                  , i = {
                    message: !0,
                    tweet: !t,
                    reply: !t
                };
                return i[e]
            }
        }
        var s = i(1).component
          , n = i(11)
          , r = i(173)
          , o = i(95);
        return s(t, n, r, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.getTwitterUser = function(e, t) {
                var i;
                t && (i = t.id ? TD.cache.twitterUsers.getById(t.id) : TD.cache.twitterUsers.getByScreenName(t.screenName),
                i.addCallbacks(this.handleTwitterUser, this.errorHandlerFactory(t.screenName), null , null , this, this))
            }
            ,
            this.errorHandlerFactory = function(e) {
                var t = function(t) {
                    var i = t.req.errors
                      , s = TD.i("Sorry, we couldn't retrieve user @{{1}}", {
                        1: e
                    })
                      , n = !1;
                    i && i.forEach(function(e) {
                        63 === e.twitterErrorCode ? n = !0 : e.message && (s += " - " + e.message)
                    }),
                    n || TD.controller.progressIndicator.addMessage(s),
                    this.trigger("dataTwitterUserError", {
                        screenName: e
                    })
                }
                ;
                return t.bind(this)
            }
            ,
            this.handleTwitterUser = function(e) {
                e && e.account && this.trigger(document, "dataTwitterUser", e)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiNeedsTwitterUser", this.getTwitterUser)
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = i(11)
          , n = function() {
            this.handleTwitterUsersFactory = function(e) {
                var t = function(t) {
                    this.trigger("dataTwitterUsers", {
                        requestId: e,
                        users: t
                    })
                }
                ;
                return t.bind(this)
            }
            ,
            this.handleTwitterUsersErrorFactory = function(e) {
                var t = function() {
                    this.trigger("dataTwitterUsersError", {
                        requestId: e
                    })
                }
                ;
                return t.bind(this)
            }
            ,
            this.getTwitterUsers = function(e, t) {
                this.twitterClient = this.twitterClient || this.getTwitterClient(),
                this.twitterClient.getUsersByIds(t.userIds, this.handleTwitterUsersFactory(t.requestId), this.handleTwitterUsersErrorFactory(t.requestId))
            }
            ,
            this.after("initialize", function() {
                this.on("uiNeedsTwitterUsers", this.getTwitterUsers)
            })
        }
        ;
        return t(n, s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n, r = i(800), o = s(r);
    n = function(e) {
        "use strict";
        function t() {
            this.attributes({
                count: 5,
                limits: {
                    "default": 5,
                    lists: 2
                },
                recentSearchOnlyLimit: 10,
                timing: {
                    "default": 150,
                    search: 150,
                    compose: 300
                }
            }),
            this.after("initialize", function() {
                this.currentRequest = {},
                this.datasources = {},
                this.suggestions = {},
                this.userPrefetchComplete = !1,
                this.getRemoteSuggestionsByType = _.reduce(this.attr.timing, function(e, t, i) {
                    return e[i] = _.throttle(this._getRemoteSuggestions.bind(this), t, {
                        leading: !1
                    }),
                    e
                }, {}, this),
                this.on("uiNeedsTypeaheadSuggestions", this.getSuggestions),
                this.on("uiRecentSearchClearAction", this.updateSuggestions),
                this.on("dataTypeaheadQueryReset", this.queryReset),
                this.on("dataTypeaheadUserPrefetchComplete", this.handleUserPrefetchComplete)
            }),
            this.handleUserPrefetchComplete = function() {
                this.userPrefetchComplete = !0
            }
            ,
            this.getLimit = function(e) {
                return this.currentRequest.limits[e] || this.currentRequest.limits.default
            }
            ,
            this.sendSuggestions = function() {
                this.trigger("dataTypeaheadSuggestions", {
                    query: this.currentRequest.query,
                    suggestions: this.dedupeSuggestions(this.suggestions),
                    datasources: this.currentRequest.datasources,
                    dropdownId: this.currentRequest.dropdownId
                })
            }
            ,
            this.dedupeSuggestions = function(e) {
                var t = {};
                return e = _.clone(e),
                e.recentSearches = this.dedupeArray(e.recentSearches, null , t),
                e.savedSearches = this.dedupeArray(e.savedSearches, "query", t),
                e.topics = this.dedupeArray(e.topics, "topic", t),
                e
            }
            ,
            this.dedupeArray = function(e, t, i) {
                return e && 0 !== e.length ? _.filter(e, function(e) {
                    var s = t ? e[t] : e
                      , n = s.toLowerCase()
                      , r = !i[n];
                    return i[n] = !0,
                    r
                }) : e
            }
            ,
            this.processTypeaheadData = function(e, t) {
                t.query === this.currentRequest.query && (t.datasources.forEach(function(t) {
                    var i = this.datasources[t]
                      , s = e[t]
                      , n = this.getLimit(t);
                    i && s && (i.processData(s),
                    this.suggestions[t] = i.getSuggestions(this.currentRequest, n))
                }, this),
                this.sendSuggestions())
            }
            ,
            this.updateSuggestions = function() {
                var e = new o.default(function(e) {
                    this.userPrefetchComplete ? e() : this.$node.one("dataTypeaheadUserPrefetchComplete", e)
                }
                .bind(this));
                this.currentRequest && this.currentRequest.datasources && e.then(this.actuallyUpdateSuggestions.bind(this))
            }
            ,
            this.actuallyUpdateSuggestions = function() {
                this.currentRequest.datasources && (this.currentRequest.datasources.forEach(function(e) {
                    var t = this.datasources[e]
                      , i = this.getLimit(e);
                    if (t) {
                        var s = t.getSuggestions(this.currentRequest, i);
                        s && s.length > 0 && (this.suggestions[e] = s)
                    }
                }, this),
                this.sendSuggestions())
            }
            ,
            this.handleGetSuggestionsError = function() {
                this.trigger("dataTypeaheadSuggestionsError")
            }
            ,
            this._getRemoteSuggestions = function() {
                var e = this.getTwitterClient();
                this.currentRequest.query && "" !== this.currentRequest.query.trim() && void 0 !== e && e.typeaheadSearch(this.currentRequest, this.processTypeaheadData.bind(this), this.handleGetSuggestionsError.bind(this))
            }
            ,
            this.getSuggestions = function(e, t) {
                if (t.query !== this.currentRequest.query) {
                    var i = $.extend({}, this.attr.limits, t.limits);
                    this.currentRequest = {
                        accountKey: t.accountKey,
                        query: t.query,
                        datasources: t.datasources,
                        count: this.attr.count,
                        dropdownId: t.dropdownId,
                        limits: i
                    },
                    this.suggestions = {},
                    this.updateSuggestions(),
                    t.onlyLocalData || this.getRemoteSuggestions(t.type)
                }
            }
            ,
            this.queryReset = function() {
                this.currentRequest = {}
            }
            ,
            this.getRemoteSuggestions = function(e) {
                e = e || "default",
                this.attr.timing[e] || (e = "default");
                var t = this.getRemoteSuggestionsByType[e];
                if (!t)
                    throw new Error("No matching remote suggestion debounce type.");
                return t()
            }
        }
        var s = i(1).component
          , n = i(11)
          , r = i(440)
          , a = i(439)
          , c = i(437)
          , l = i(438)
          , u = i(436)
          , d = i(435);
        return s(t, n, r, a, c, l, u, d)
    }
    .call(t, i, t, e),
    !(void 0 !== n && (e.exports = n))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.getConversationsSuggestions = function(e, t) {
                function i(e) {
                    return r.test(e.name)
                }
                function s(e) {
                    return r.test(e.screenName)
                }
                if (e.accountKey) {
                    var n = TD.controller.clients.getClient(e.accountKey).conversations.getAllConversations()
                      , r = new RegExp(TD.util.quotedForRegExp(e.query.trim()),"i")
                      , o = n.filter(function(e) {
                        return "GROUP_DM" === e.type && (r.test(e.name || "") || e.participants.some(i) || e.participants.some(s))
                    }, this);
                    return o.sort(function(e, t) {
                        var n = e.participants.some(i)
                          , r = e.participants.some(s)
                          , o = t.participants.some(i)
                          , a = t.participants.some(s)
                          , c = !!e.name && i(e)
                          , l = !!t.name && i(t);
                        return n && !o ? -1 : !n && o ? 1 : r && !a ? -1 : !r && a ? 1 : c && !l ? -1 : !c && l ? 1 : 0
                    }).slice(0, t)
                }
            }
            ,
            this.processConversationsData = function() {}
            ,
            this.after("initialize", function() {
                this.datasources = this.datasources || {},
                this.datasources.conversations = {
                    getSuggestions: this.getConversationsSuggestions.bind(this),
                    processData: this.processConversationsData.bind(this)
                }
            })
        }
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = function() {
            this.getListSuggestions = function(e, t) {
                var i = e.query.trim().toLowerCase();
                if (this.trigger("uiNeedsSubscribedLists"),
                !this.lists)
                    return [];
                var s = this.lists.filter(function(e) {
                    var t = -1 !== e.user.screenName.toLowerCase().indexOf(i) || -1 !== e.name.toLowerCase().indexOf(i);
                    return t
                }, this);
                return s.slice(0, t)
            }
            ,
            this.handleSubscribedLists = function(e, t) {
                t && t.lists && (this.lists = t.lists)
            }
            ,
            this.processListData = function() {}
            ,
            this.after("initialize", function() {
                this.datasources = this.datasources || {},
                this.datasources.lists = {
                    getSuggestions: this.getListSuggestions.bind(this),
                    processData: this.processListData.bind(this)
                },
                this.on(document, "dataSubscribedLists", this.handleSubscribedLists)
            })
        }
        ;
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = function() {
            this.tokenize = function(e) {
                return e.trim().toLowerCase().split(TD.constants.regexps.tokenSeparator)
            }
            ,
            this.getRecentSearchSuggestions = function(e, t) {
                if (this.trigger("uiNeedsRecentSearches"),
                !this.recentSearches)
                    return [];
                var i = this.recentSearches
                  , s = this.tokenize(e.query)
                  , n = i.filter(function(e) {
                    var t = this.tokenize(e)
                      , i = this.recentSearchMatchesQuery(t, s);
                    return i
                }, this);
                return n.slice(0, t)
            }
            ,
            this.recentSearchMatchesQuery = function(e, t) {
                var i = t.every(function(t) {
                    return e.some(function(e) {
                        return 0 === e.indexOf(t)
                    })
                });
                return i
            }
            ,
            this.handleRecentSearches = function(e, t) {
                t && t.recentSearches && (this.recentSearches = t.recentSearches)
            }
            ,
            this.processRecentSearchData = function() {}
            ,
            this.after("initialize", function() {
                this.datasources = this.datasources || {},
                this.datasources.recentSearches = {
                    getSuggestions: this.getRecentSearchSuggestions.bind(this),
                    processData: this.processRecentSearchData.bind(this)
                },
                this.on(document, "dataRecentSearches", this.handleRecentSearches)
            })
        }
        ;
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(11)
          , n = function() {
            t.mixin(this, [s]),
            this.tokenize = function(e) {
                return e.trim().toLowerCase().split(TD.constants.regexps.tokenSeparator)
            }
            ,
            this.savedSearchesComparator = function(e, t) {
                var i = e.query.toLowerCase()
                  , s = t.query.toLowerCase();
                return (i > s) - (s > i)
            }
            ,
            this.updateSavedSearches = function() {
                var e = Date.now() - TD.constants.time.oneHour;
                if (!this.savedSearchesLastFetch || this.savedSearchesLastFetch < e) {
                    var t = this.getClientsByService("twitter");
                    this.savedSearches = [],
                    t.forEach(function(e) {
                        this.savedSearches = this.savedSearches.concat(e.searches)
                    }, this),
                    this.savedSearchesLastFetch = Date.now()
                }
            }
            ,
            this.getSavedSearchSuggestions = function(e) {
                if ("" === e.query.trim())
                    return [];
                var t = e.datasources && e.datasources.some(function(e) {
                    return "savedSearches" === e
                });
                if (!t)
                    return [];
                var i = []
                  , s = this.tokenize(e.query);
                return this.updateSavedSearches(),
                this.savedSearches.forEach(function(e) {
                    var t = this.tokenize(e.query)
                      , n = this.savedSearchMatchesQuery(t, s);
                    n && i.push(e)
                }, this),
                i.sort(this.savedSearchesComparator),
                i.splice(this.attr.limit),
                i
            }
            ,
            this.savedSearchMatchesQuery = function(e, t) {
                return t.every(function(t) {
                    return e.some(function(e) {
                        return 0 === e.indexOf(t)
                    })
                })
            }
            ,
            this.processSavedSearchData = function() {}
            ,
            this.after("initialize", function() {
                this.savedSearches = [],
                this.savedSearchesLastFetch = !1,
                this.datasources = this.datasources || {},
                this.datasources.savedSearches = {
                    getSuggestions: this.getSavedSearchSuggestions.bind(this),
                    processData: this.processSavedSearchData.bind(this)
                }
            })
        }
        ;
        return n
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(11)
          , n = function() {
            t.mixin(this, [s]),
            this.attributes({
                storageTopicsHash: "typeaheadTopicsHash",
                storageTopicsLastPrefetch: "typeaheadTopicsLastPrefetch"
            }),
            this.tokenize = function(e) {
                return e.trim().toLowerCase().split(TD.constants.regexps.tokenSeparator)
            }
            ,
            this.topicSortComparator = function(e, t) {
                return t.rounded_score - e.rounded_score
            }
            ,
            this.overwriteTopics = function(e) {
                this.topicsHash = {},
                this.topicsAdjacencyList = {},
                this.processTopicData(e)
            }
            ,
            this.processTopicData = function(e) {
                _.each(e, function(e) {
                    var t, i = e.topic;
                    this.topicsHash[i] = e,
                    0 === e.tokens.length && (t = this.tokenize(e.topic),
                    e.tokens = t.map(function(e) {
                        return {
                            token: e.toLowerCase()
                        }
                    })),
                    e.tokens.forEach(function(e) {
                        var t = e.token.charAt(0).toLowerCase()
                          , s = this.topicsAdjacencyList[t] || [];
                        -1 === s.indexOf(i) && s.push(i),
                        this.topicsAdjacencyList[t] = s
                    }, this)
                }, this);
                var t = {};
                t[this.attr.storageTopicsHash] = this.topicsHash,
                this.trigger("dataStorageSet", t)
            }
            ,
            this.processPrefetchTopicData = function(e) {
                this.processTopicData(e.topics),
                this.topicsLastPrefetch = Date.now();
                var t = {};
                t[this.attr.storageTopicsLastPrefetch] = this.topicsLastPrefetch,
                this.trigger("dataStorageSet", t)
            }
            ,
            this.pruneTopics = function() {
                var e = _.values(this.topicsHash);
                e.sort(this.topicSortComparator),
                e = e.slice(0, Math.floor(e.length / 2)),
                this.overwriteTopics(e)
            }
            ,
            this.getTopicSuggestions = function(e, t) {
                var i = e.query.toLowerCase()
                  , s = this.topicsAdjacencyList[i.charAt(0)] || []
                  , n = s.filter(function(e) {
                    return 0 === e.toLowerCase().indexOf(i)
                }, this);
                return n = this.getTopicObjectsFromStrings(n),
                n.sort(this.topicSortComparator),
                n = n.slice(0, t)
            }
            ,
            this.getTopicObjectsFromStrings = function(e) {
                var t = [];
                return e.forEach(function(e) {
                    var i = this.topicsHash[e];
                    i && t.push(i)
                }, this),
                t
            }
            ,
            this.prefetchTopicsSuggestions = function() {
                var e = this.getTwitterClient();
                e.typeaheadSearch({
                    query: "",
                    prefetch: !0,
                    limit: 200,
                    datasources: ["topics"]
                }, this.processPrefetchTopicData.bind(this), this.trigger.bind(this, "dataTypeaheadSuggestionsError"))
            }
            ,
            this.processTopicStorageItem = function(e, t) {
                switch (t.name) {
                case this.attr.storageTopicsHash:
                    this.processTopicData(t.value);
                    break;
                case this.attr.storageTopicsLastPrefetch:
                    this.topicsLastPrefetch = t.value,
                    (!this.topicsLastPrefetch || Date.now() - this.topicsLastPrefetch > TD.constants.time.oneDay) && this.prefetchTopicsSuggestions()
                }
            }
            ,
            this.loadTopicsData = function() {
                this.trigger("dataStorageGet", {
                    names: [this.attr.storageTopicsHash, this.attr.storageTopicsLastPrefetch]
                })
            }
            ,
            this.resetTopicData = function(e, t) {
                t.client && (this.overwriteTopics([]),
                this.prefetchTopicsSuggestions())
            }
            ,
            this.after("initialize", function() {
                this.topicsHash = {},
                this.topicsAdjacencyList = {},
                this.datasources = this.datasources || {},
                this.datasources.topics = {
                    getSuggestions: this.getTopicSuggestions.bind(this),
                    processData: this.processTopicData.bind(this)
                },
                this.on(document, "dataStorageItem", this.processTopicStorageItem),
                this.on(document, "TD.ready", this.loadTopicsData),
                this.on(document, "dataTwitterClientChanged", this.resetTopicData),
                this.on(document, "dataStorageFull", this.pruneTopics)
            })
        }
        ;
        return n
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t(e) {
            this.attributes({
                usersStorageLimit: 2500,
                storageUserHash: "typeaheadUserHash",
                storageUserLastPrefetch: "typeaheadUserLastPrefetch"
            }),
            this.after("initialize", function() {
                this.userAdjacencyList = {},
                this.userHash = {},
                this.blockedUserIds = {},
                this.datasources = this.datasources || {},
                this.datasources.users = {
                    processData: this.processUserData.bind(this),
                    getSuggestions: this.getUserSuggestions.bind(this)
                },
                this.on(document, "dataStorageItem", this.processUserStorageItem),
                this.on(document, "TD.ready", this.loadUserData),
                this.on(document, "dataTwitterClientChanged", this.resetUserData),
                this.on(document, "dataStorageFull", this.pruneUsers)
            }),
            this.tokenize = function(e) {
                return e.trim().toLowerCase().split(TD.constants.regexps.tokenSeparator)
            }
            ,
            this.overwriteUserdata = function(e) {
                this.userHash = {},
                this.userAdjacencyList = {},
                this.processUserData(e)
            }
            ,
            this.processUserData = function(e) {
                _.each(e, function(e) {
                    e.tokens = e.tokens.map(function(e) {
                        return e = "string" == typeof e ? e : e.token,
                        e.toLowerCase()
                    }),
                    0 === e.tokens.length && (e.tokens = this.tokenize(e.name),
                    e.tokens.push(e.screen_name),
                    e.tokens.push(TD.util.atMentionify(e.screen_name)),
                    e.tokens = e.tokens.map(function(e) {
                        return e.toLowerCase()
                    })),
                    delete e.location,
                    delete e.connecting_user_ids,
                    this.userHash[e.id] = e,
                    e.tokens.forEach(function(t) {
                        var i = t.charAt(0);
                        void 0 === this.userAdjacencyList[i] && (this.userAdjacencyList[i] = []),
                        -1 === this.userAdjacencyList[i].indexOf(e.id) && this.userAdjacencyList[i].push(e.id)
                    }, this)
                }, this);
                var t = {};
                t[this.attr.storageUserHash] = this.userHash,
                this.trigger("dataStorageSet", t)
            }
            ,
            this.processPrefetchUserData = function(e) {
                this.processUserData(e.users);
                var t = {};
                t[this.attr.storageUserLastPrefetch] = Date.now(),
                this.trigger("dataStorageSet", t),
                this.trigger("dataTypeaheadUserPrefetchComplete")
            }
            ,
            this.prefetchUserSuggestions = function() {
                var e = this.getTwitterClient();
                e && e.typeaheadSearch({
                    prefetch: !0,
                    count: this.attr.usersStorageLimit
                }, this.processPrefetchUserData.bind(this), this.handleGetSuggestionsError.bind(this))
            }
            ,
            this.pruneUsers = function() {
                var e = _.values(this.userHash);
                e.sort(this.userSortComparator),
                e = e.slice(0, Math.floor(e.length / 2)),
                this.overwriteUserdata(e)
            }
            ,
            this.getUserSuggestions = function(e, t) {
                var i, s, n, r = [];
                return i = this.tokenize(e.query),
                s = this.getPotentiallyMatchingUserIds(i),
                n = this.getUsersFromIds(s),
                r = n.filter(this.matchUsers(i)),
                r.sort(this.userSortComparator),
                r = r.slice(0, t)
            }
            ,
            this.getPotentiallyMatchingUserIds = function(e) {
                var t = [];
                return e.map(function(e) {
                    var i = this.userAdjacencyList[e.charAt(0)];
                    i && (t = t.concat(i))
                }, this),
                t = _.uniq(t)
            }
            ,
            this.getUsersFromIds = function(e) {
                var t = [];
                return e.forEach(function(e) {
                    var i = this.userHash[e];
                    i && !this.isUserBlocked(e) && t.push(i)
                }, this),
                t
            }
            ,
            this.matchUsers = function(e) {
                return function(t) {
                    var i = t.tokens
                      , s = e.every(function(e) {
                        var t = i.filter(function(t) {
                            return 0 === t.indexOf(e)
                        });
                        return t.length
                    });
                    return s ? t : void 0
                }
            }
            ,
            this.userSortComparator = function(e, t) {
                var i = 0 !== e.rounded_graph_weight
                  , s = 0 !== t.rounded_graph_weight;
                return i && !s ? -1 : s && !i ? 1 : i && s ? t.rounded_graph_weight - e.rounded_graph_weight : t.rounded_score - e.rounded_score
            }
            ,
            this.isUserBlocked = function(e) {
                return this.blockedUserIds[e] ? !0 : !1
            }
            ,
            this.processUserStorageItem = function(e, t) {
                switch (t.name) {
                case this.attr.storageUserHash:
                    this.processUserData(t.value);
                    break;
                case this.attr.storageUserLastPrefetch:
                    ("number" != typeof t.value || Date.now() - t.value > TD.constants.time.oneDay) && this.prefetchUserSuggestions()
                }
            }
            ,
            this.loadUserData = function() {
                this.trigger("dataStorageGet", {
                    names: [this.attr.storageUserHash, this.attr.storageUserLastPrefetch]
                });
                var e = this.getTwitterClient();
                e && (this.blockedUserIds = e.blocks)
            }
            ,
            this.resetUserData = function(e, t) {
                t.client && (this.overwriteUserdata([]),
                this.blockedUserIds = t.client.blocks,
                this.prefetchUserSuggestions())
            }
        }
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                pollingPeriod: 900,
                bannerId: "umf-prompt",
                bannerActedOnEvent: "uiUmfPromptActedOn",
                resources: {
                    getPrompts: {
                        method: "GET",
                        resource: "prompts/suggest.json"
                    },
                    recordEvent: {
                        method: "POST",
                        resource: "prompts/record_event.json"
                    }
                }
            }),
            this.initialState({
                scheduledTaskId: null ,
                userId: null ,
                prompt: null
            }),
            this.after("initialize", function() {
                this.on(document, this.attr.bannerActedOnEvent, this.handleActedOn),
                this.on(document, "uiDismissMessageAction", this.handleDismiss),
                this.after("stateChanged", this.showHidePrompt),
                TD.ready ? this.setPeriodicTask() : $(document).one("TD.ready", this.setPeriodicTask.bind(this))
            }),
            this.before("teardown", function() {
                TD.controller.scheduler.removePeriodicTask(this.state.scheduledTaskId)
            }),
            this.setPeriodicTask = function() {
                var e = TD.controller.scheduler.schedulePeriodicTask(this.attr.pollingPeriod, this.getPrompts.bind(this), !0);
                this.mergeState({
                    scheduledTaskId: e
                })
            }
            ,
            this.getPrompts = function() {
                if (this.getDecider("umf_prompts")) {
                    var e = this.attr.resources.getPrompts
                      , t = this.getTwitterClient().oauth.account;
                    this.makeTwitterApiCall({
                        request: {
                            accountKey: t.getKey()
                        },
                        method: e.method,
                        resource: e.resource,
                        params: {
                            format: "home_timeline"
                        },
                        success: function(e) {
                            e.response && e.response.prompt && this.mergeState({
                                prompt: e.response.prompt,
                                userId: t.getUserID()
                            })
                        }
                        .bind(this)
                    })
                }
            }
            ,
            this.showHidePrompt = function() {
                if (this.state.prompt && this.state.prompt.prompt_id) {
                    var e = [];
                    this.state.prompt.action_text && e.push({
                        "class": "btn-positive btn-bg-white",
                        id: "yes-button",
                        action: "trigger-event",
                        label: this.state.prompt.action_text,
                        event: {
                            type: this.attr.bannerActedOnEvent,
                            data: {
                                url: this.state.prompt.action_url,
                                userId: this.state.userId,
                                promptId: this.state.prompt.prompt_id
                            }
                        }
                    }),
                    this.trigger("dataMessage", {
                        message: {
                            id: this.attr.bannerId,
                            text: this.state.prompt.header,
                            colors: {
                                foreground: "#ffffff",
                                background: "#55acee"
                            },
                            actions: e
                        }
                    }),
                    this.recordEvent(this.state.userId, this.state.prompt.prompt_id, "shown")
                } else
                    this.trigger("dataMessageRemove", {
                        id: this.attr.bannerId
                    })
            }
            ,
            this.handleActedOn = function(e, t) {
                TD.util.openURL(t.url),
                this.recordEvent(t.userId, t.promptId, "acted_on")
            }
            ,
            this.handleDismiss = function(e, t) {
                t.id === this.attr.bannerId && this.state.prompt && (this.recordEvent(this.state.userId, this.state.prompt.prompt_id, "dismissed"),
                this.mergeState({
                    prompt: null ,
                    userId: null
                }))
            }
            ,
            this.recordEvent = function(e, t, i) {
                var s = ["acted_on", "dismissed", "shown"];
                if (-1 === s.indexOf(i))
                    throw new Error("UMF action must be " + s.join(" or "));
                var n = this.attr.resources.recordEvent;
                return this.makeTwitterApiCall({
                    request: {
                        accountKey: TD.storage.Account.generateKeyFor("twitter", e)
                    },
                    method: n.method,
                    resource: n.resource,
                    params: {
                        user_id: e,
                        prompt_id: t,
                        action: i
                    }
                })
            }
        }
        var s = i(1).component
          , n = i(28)
          , r = i(44)
          , o = i(11)
          , a = i(30);
        return s(n, t, r, o, a)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = i(11)
          , n = function() {
            this.attributes({
                actions: {
                    follow: {
                        userAction: "follow",
                        errorEvent: "dataFollowActionError"
                    },
                    unfollow: {
                        userAction: "unfollow",
                        errorEvent: "dataUnfollowActionError"
                    },
                    block: {
                        userAction: "block",
                        errorEvent: "dataBlockActionError"
                    },
                    unblock: {
                        userAction: "unblock",
                        errorEvent: "dataUnblockActionError"
                    },
                    mute: {
                        userAction: "mute",
                        errorEvent: "dataMuteActionError"
                    },
                    unmute: {
                        userAction: "unmute",
                        errorEvent: "dataUnmuteActionError"
                    },
                    report: {
                        userAction: "report",
                        errorEvent: "dataReportActionError"
                    },
                    reportSpam: {
                        userAction: "reportSpam",
                        errorEvent: "dataReportSpamActionError"
                    },
                    reportCompromised: {
                        userAction: "reportCompromised",
                        errorEvent: "dataReportCompromisedActionError"
                    }
                }
            }),
            this.error = function(e, t) {
                return function(i) {
                    var s;
                    s = {
                        request: t,
                        response: i
                    },
                    this.trigger(document, e.errorEvent, s)
                }
            }
            ,
            this.success = function(e, t) {
                return function(i) {
                    this.trigger("dataFollowStateChange", {
                        action: e,
                        request: t,
                        response: i
                    })
                }
            }
            ,
            this.takeAction = function(e, t, i) {
                var s = !1
                  , n = this.success(e, i).bind(this)
                  , r = this.error(e, i).bind(this)
                  , o = e.userAction;
                try {
                    switch (o) {
                    case "block":
                        i.twitterUser.block(i.account, !1, n, r);
                        break;
                    case "unblock":
                        i.twitterUser.unblock(i.account, n, r);
                        break;
                    case "follow":
                        i.twitterUser.follow(i.account, n, r, !0);
                        break;
                    case "unfollow":
                        i.twitterUser.unfollow(i.account, n, r, s);
                        break;
                    case "mute":
                        i.twitterUser.mute(i.account).addCallbacks(n, r);
                        break;
                    case "unmute":
                        i.twitterUser.unmute(i.account).addCallbacks(n, r);
                        break;
                    case "reportSpam":
                        i.twitterUser.block(i.account, !0, n, r, s)
                    }
                } catch (a) {
                    this.error()
                }
            }
            ,
            this.bindAction = function(e) {
                return this.takeAction.bind(this, e)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiFollowAction uiFollowProtectedUserAction", this.bindAction(this.attr.actions.follow)),
                this.on(document, "uiUnfollowAction", this.bindAction(this.attr.actions.unfollow)),
                this.on(document, "uiBlockAction", this.bindAction(this.attr.actions.block)),
                this.on(document, "uiUnblockAction", this.bindAction(this.attr.actions.unblock)),
                this.on(document, "uiMuteAction", this.bindAction(this.attr.actions.mute)),
                this.on(document, "uiUnmuteAction", this.bindAction(this.attr.actions.unmute)),
                this.on(document, "uiReportSpamAction", this.bindAction(this.attr.actions.reportSpam)),
                this.on(document, "uiReportCompromisedAction", this.bindAction(this.attr.actions.reportCompromised))
            })
        }
        ;
        return t(n, s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.handleUserProfileSocialProofFactory = function(e) {
                return function(t) {
                    t.request = e,
                    this.trigger(document, "dataUserProfileSocialProof", t)
                }
            }
            ,
            this.handleErrorFactory = function(e) {
                return function() {
                    var t = {
                        request: e
                    };
                    this.trigger(document, "dataUserProfileSocialProofError", t)
                }
            }
            ,
            this.getUserProfileSocialProofData = function(e, t) {
                if (t && t.screenName) {
                    var i = this.getTwitterClient();
                    i.getFollowingFollowersOf(t.screenName, this.handleUserProfileSocialProofFactory(t).bind(this), this.handleErrorFactory(t).bind(this))
                }
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiNeedsUserProfileSocialProof", this.getUserProfileSocialProofData)
            })
        }
        var s = i(1).component
          , n = i(11);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.handleResponseFactory = function(e, t) {
                return function(i) {
                    this.trigger(document, e, {
                        request: t,
                        result: i
                    })
                }
                .bind(this)
            }
            ,
            this.doUserSearch = function(e, t) {
                var i = this.getPreferredClient("twitter")
                  , s = t.query;
                i ? i.userSearch(s, this.handleResponseFactory("dataUserSearch", t), this.handleResponseFactory("dataUserSearchError", t)) : this.handleResponseFactory("dataUserSearchError", t)()
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiNeedsUserSearch", this.doUserSearch)
            })
        }
        var s = i(1).component
          , n = i(11);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    function s() {
        this.attributes({
            pollIntervalMs: 3e5,
            refreshPauseTime: 3e5
        }),
        this.after("initialize", function() {
            this.observe(this.getTimer()).pausableBuffered(l.fromEventOnce(document, "dataDeciderUpdated").map(_.constant(!0))).flatMap(function() {
                return c.Observable.catch(l.fromDeferred(this.getVersion()), c.Observable.just(!1))
            }
            .bind(this)).filter(Boolean).map(this.processVersion).do(this.sendMetrics).filter(this.shouldRefresh, this).subscribeOnNext(this.refresh)
        }),
        this.getTimer = function() {
            return c.Observable.timer(0, this.attr.pollIntervalMs)
        }
        ,
        this.getVersion = function() {
            return TD.decider.get("version_poll") ? (TD.util.metric("version:poll"),
            TD.net.ajax.sendRequest("GET", TD.config.api_root + "/web/dist/version.json?t=" + Date.now()).addCallback(function(e) {
                return e.data
            })) : TD.core.defer.succeed(!1)
        }
        ,
        this.processVersion = function(e) {
            var t = TD.storage.store.getLastVersionRefreshTimestamp();
            return {
                isOutOfDate: a.lt(TD.version, e.version),
                forceDowngrade: a.gt(TD.version, e.version),
                forceUpgrade: a.lt(TD.version, e.minimum),
                timeSinceLastRefresh: Date.now() - t
            }
        }
        ,
        this.sendMetrics = function(e) {
            e.isOutOfDate && TD.util.metric("version:out-of-date"),
            e.forceUpgrade && TD.util.metric("version:is-below-minimum")
        }
        ,
        this.shouldRefresh = function(e) {
            var t = e.timeSinceLastRefresh < this.attr.refreshPauseTime;
            if (t)
                return !1;
            var i = e.forceDowngrade && TD.decider.get("version_poll_force_downgrade")
              , s = e.forceUpgrade && TD.decider.get("version_poll_force_upgrade");
            return i && TD.util.metric("version:force-downgrade"),
            s && TD.util.metric("version:force-upgrade"),
            i || s
        }
        ,
        this.refresh = function() {
            TD.storage.store.setLastVersionRefreshTimestamp(Date.now()),
            window.location.reload()
        }
    }
    var n = i(1).component
      , r = i(7)
      , o = i(8)
      , a = i(256)
      , c = i(21)
      , l = i(29);
    e.exports = n(r, s, o)
}
, function(e, t, i) {
    "use strict";
    function s() {
        this.after("initialize", function() {
            var e = this.observe(o.fromEventOnce(document, "TD.ready"))
              , t = this.observe(o.fromEventOnce(document, "uiMessageBannerReady"));
            e.combineLatest(t, function() {}).subscribeOnNext(this.trigger.bind(this, "uiCheckNotificationPermission")),
            this.on(document, "uiCheckNotificationPermission", this.checkPermission),
            this.on(document, "uiRequestBrowserNotificationPermission", this.requestPermission)
        }),
        this.requestPermission = function() {
            TD.controller.notifications.getPermission()
        }
        ,
        this.checkPermission = function() {
            this.needsPermission() && TD.controller.notifications.canPermissionBeRequested() ? this.showRequestMessage() : this.hideRequestMessage()
        }
        ,
        this.needsPermission = function() {
            return TD.storage.columnController.getAll().some(function(e) {
                return e.getHasNotification()
            })
        }
        ,
        this.showRequestMessage = function() {
            this.trigger(document, "dataMessage", {
                message: this.getMessageData()
            })
        }
        ,
        this.hideRequestMessage = function() {
            this.trigger(document, "dataMessageRemove", {
                id: this.getMessageData().id
            })
        }
        ,
        this.getMessageData = function() {
            return {
                id: "web-notification-permission-banner",
                text: TD.i("TweetDeck needs permission to show your desktop notifications in this browser"),
                colors: {
                    background: "#b2d5ed",
                    foreground: "#555"
                },
                actions: [{
                    "class": "btn-positive",
                    id: "yes-button",
                    action: "trigger-event",
                    label: TD.i("Let's go!"),
                    event: {
                        type: "uiRequestBrowserNotificationPermission",
                        data: {}
                    }
                }]
            }
        }
    }
    var n = i(98)
      , r = i(8)
      , o = i(29);
    e.exports = n.mixin(s, r)
}
, function(e, t, i) {
    var s;
    s = function(e) {
        return function() {
            this.maybeShortenTextLinks = function(e, t) {
                "bitly" === TD.settings.getLinkShortener() ? this.bitlyShortenTextLinks(e, t) : t(e)
            }
            ,
            this.bitlyShortenTextLinks = function(e, t) {
                var i = TD.services.bitly.shortenTextLinks(e);
                i.addCallback(t)
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(22)
          , n = i(179)
          , r = i(44);
        return function() {
            t.mixin(this, [s, n, r]),
            this.attributes({
                dataminrBaseUrl: "https://gateway.dataminr.com",
                directAuth: {
                    resource: "auth/1/get_auth_token",
                    method: "GET",
                    metricsKey: "authtoken:direct"
                },
                proxiedAuth: {
                    resource: "tweetdeck/dataminr/authtoken",
                    method: "GET",
                    metricsKey: "authtoken:proxy"
                },
                httpStatusCodes: {
                    ok: 200,
                    badRequest: 400,
                    unauthorized: 401,
                    tooManyRequests: 429,
                    internalServerError: 500
                },
                dataminrErrorCodes: {
                    invalidApiCall: 101,
                    oauthAuthenticationError: 102,
                    invalidDMToken: 103,
                    twitterAccountNotLinked: 104,
                    rateLimitExceeded: 105
                }
            }),
            this.makeDataminrRequest = function(e, t) {
                var i = this.withDataminrApiUrl(e, t);
                return this.trigger("metric", {
                    key: "dataminr:data:" + e.metricsKey
                }),
                TD.controller.stats.dataminrApiRequest(e.metricsKey),
                TD.net.ajax.sendRequest(e.method, i, {
                    Authorization: "DmAuth " + TD.settings.getDataminrAuthToken()
                }).addErrback(this.dataminrRequestError.bind(this, i, e))
            }
            ,
            this.dataminrRequestError = function(e, t, i) {
                return i.number === this.attr.httpStatusCodes.unauthorized ? this.makeDataminrRequestForAuthToken().addCallbacks(function() {
                    return TD.net.ajax.sendRequest(t.method, e, {
                        Authorization: "DmAuth " + TD.settings.getDataminrAuthToken()
                    })
                }, function() {
                    TD.settings.setDataminrAuthToken(null ),
                    $(document).trigger("dataMessage", {
                        message: this.getDataminrAccountAccessDeniedMessageData()
                    })
                }
                .bind(this)) : void 0
            }
            ,
            this.makeDataminrRequestForAuthToken = function() {
                return (TD.decider.get("dataminr_proxied_auth_flow") ? this.proxiedAuthFlow() : this.directAuthFlow()).addCallbacksWith(this, this.handleAuthSuccess, this.handleAuthError)
            }
            ,
            this.directAuthFlow = function() {
                var e = this.attr.directAuth
                  , t = this.withDataminrApiUrl(e);
                return this.trigger("metric", {
                    key: "dataminr:data:" + e.metricsKey
                }),
                TD.controller.stats.dataminrAuthRequest(),
                this.getHttpHeadersForOAuthEcho().addCallback(function(i) {
                    return TD.net.ajax.sendRequest(e.method, t, i)
                })
            }
            ,
            this.proxiedAuthFlow = function() {
                var e = this.attr.proxiedAuth;
                return this.trigger("metric", {
                    key: "dataminr:data:" + e.metricsKey
                }),
                TD.controller.stats.dataminrAuthRequest(),
                this.makeTwitterRequest(TD.storage.store.getTwitterLoginAccount().getKey(), e.resource, {
                    method: e.method
                })
            }
            ,
            this.handleAuthSuccess = function(e) {
                e.data.dmaToken && (TD.settings.setDataminrAuthToken(e.data.dmaToken),
                this.trigger("metric", {
                    key: "dataminr:auth:success"
                }))
            }
            ,
            this.handleAuthError = function(e) {
                throw this.trigger("metric", {
                    key: "dataminr:auth:error:" + e.number
                }),
                e
            }
            ,
            this.withDataminrApiUrl = function(e, t) {
                var i = [];
                i.push(e.baseUrl || this.attr.dataminrBaseUrl),
                i.push(e.resource);
                var s = i.join("/");
                return t && "GET" === e.method && (s = TD.net.util.addURLParameters(s, t)),
                s
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = {
            sharedColumn: i(850)
        };
        return function() {
            this.getValidationSchema = function(e) {
                return t[e]
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    var s = i(164)
      , n = i(451);
    s(document).ready(function() {
        TD.controller.init.preload(),
        TD.util.checkAPIRoot(),
        n.attachTo(document),
        TD.controller.init.start()
    })
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                modal: "#open-modal",
                appHeader: ".js-app-header",
                searchResults: ".js-search-form",
                message: ".js-message-banner",
                appSearchSourceId: "appSearch",
                searchPopoverSourceId: "searchPopover",
                isHiddenClass: "is-hidden",
                gridFocusId: "grid_focus",
                modalsContainerSelector: ".js-modals-container",
                columnScrollContainerSelector: ".js-app-columns-container"
            }),
            this.initSearchInPopover = function() {
                C.attachTo(".js-search-in-popover", {
                    popoverPosition: "rt",
                    closeModals: !0,
                    appSearchSourceId: this.attr.appSearchSourceId,
                    searchPopoverSourceId: this.attr.searchPopoverSourceId,
                    isHiddenClass: this.attr.isHiddenClass
                }),
                d.attachTo(".js-search-in-popover", {
                    sourceId: this.attr.searchPopoverSourceId
                }),
                _.attachTo(".js-search-in-popover"),
                S.attachTo(".js-search-in-popover")
            }
            ,
            this.attachLoggedInComponents = function() {
                U.attachTo(this.$node),
                I.attachTo(this.$node),
                f.attachTo(this.$node),
                x.attachTo(this.$node),
                T.attachTo(this.$node),
                u.attachTo(this.select("message")),
                g.attachTo(this.$node),
                R.attachTo(this.$node),
                F.attachTo(this.$node),
                h.attachTo(this.$node, {
                    focusId: this.attr.gridFocusId
                }),
                D.attachTo(this.select("columnScrollContainerSelector")),
                m.attachTo(this.$node, {
                    focusId: this.attr.gridFocusId
                }),
                p.attachTo(this.$node),
                w.attachTo("#compose-modal"),
                E.attachTo(".js-app-header"),
                k.attachTo(".js-app"),
                L.attachTo(this.$node),
                y.attachTo("#column-navigator"),
                d.attachTo(".js-search-form", {
                    sourceId: this.attr.appSearchSourceId
                }),
                this.initSearchInPopover(),
                A.attachTo(this.$node),
                l.attachTo(this.$node),
                O.attachTo(this.$node)
            }
            ,
            this.handleLoggedIn = function() {
                this.$node.find(".js-app").removeClass(this.attr.isHiddenClass),
                $("body", "html").removeClass("scroll-v"),
                this.attachLoggedInComponents()
            }
            ,
            this.attachLoggedOutComponents = function() {
                c.attachTo(this.$node),
                M.attachTo(this.attr.modalsContainerSelector),
                N.attachTo(this.$node),
                b.attachTo(".js-app-loading", {
                    teardownOn: "TD.ready"
                })
            }
            ,
            this.after("initialize", function() {
                TD.config.flight_debug && (console.info("Flight debug mode enabled."),
                a.enable(!0),
                r.mixin(n, [o.withAdvice])),
                this.attachLoggedOutComponents(),
                this.on(document, "TD.ready", this.handleLoggedIn)
            })
        }
        var s = i(1).component
          , n = i(1).registry
          , r = i(1).compose
          , o = i(1).advice
          , a = i(1).debug
          , c = i(562)
          , l = i(511)
          , u = i(516)
          , d = i(469)
          , h = i(471)
          , m = i(507)
          , p = i(508)
          , f = i(505)
          , g = i(491)
          , v = i(549)
          , T = i(519)
          , w = i(509)
          , b = i(513)
          , y = i(472)
          , D = i(475)
          , C = i(529)
          , _ = i(181)
          , S = i(530)
          , A = i(531)
          , E = i(468)
          , I = i(495)
          , k = i(479)
          , x = i(499)
          , M = i(520)
          , R = i(466)
          , F = i(474)
          , L = i(501)
          , O = i(496)
          , N = i(545)
          , U = i(504);
        return s(t, v)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.trackSelectDefaultAccount = function() {
                TD.controller.stats.defaultAccountSelected()
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiSelectDefaultAccount", this.trackSelectDefaultAccount)
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.trackClear = function() {
                TD.controller.stats.columnActionClick("clear")
            }
            ,
            this.trackMoveColumn = function(e, t) {
                TD.controller.stats.columnActionClick(t.action)
            }
            ,
            this.trackEmbedTimeline = function(e, t) {
                TD.controller.stats.columnActionClick("embed", {
                    type: t.column.getColumnType()
                })
            }
            ,
            this.trackActionFilterError = function(e, t) {
                TD.controller.stats.actionFilterError()
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiClearColumnAction", this.trackClear),
                this.on(document, "uiMoveColumnAction", this.trackMoveColumn),
                this.on(document, "uiEmbedTimelineAction", this.trackEmbedTimeline),
                this.on(document, "uiActionFilterError", this.trackActionFilterError)
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on(document, "dataTweetSent", this.handleTweetSent),
                this.on(document, "dataDmSent", this.handleDmSent),
                this.on(document, "dataScheduledTweetsSent", this.handleScheduledTweetSent),
                this.on(document, "uiRemoveInReplyTo", this.handleClearReply),
                this.on(document, "uiComposeStackReply", this.handleStackReply),
                this.on(document, "uiDockedComposeTweet", this.handleDockedTweet)
            }),
            this.handleTweetSent = function(e, t) {
                if ("message" === t.request.type)
                    return this.handleDmSent(e, t);
                var i = this.getAccountData(t.request.accountKey)
                  , s = i ? i.id : null
                  , n = Boolean(t.request.files && t.request.files.length)
                  , r = Boolean(t.request.scheduledDate)
                  , o = t.request.inline || !1;
                switch (t.request.type) {
                case "tweet":
                    TD.controller.stats.postTweet(s, n, r);
                    break;
                case "reply":
                    TD.controller.stats.postReply(s, n, r, o)
                }
            }
            ,
            this.handleDmSent = function(e, t) {
                var i = this.getAccountData(t.request.accountKey)
                  , s = i ? i.id : null
                  , n = Boolean(t.request.files && t.request.files.length)
                  , r = t.request.isReplyBar || !1
                  , o = "GROUP_DM" === t.request.messageType;
                TD.controller.stats.postMessage({
                    twitterId: s,
                    withImage: n,
                    isReplyBar: r,
                    isGroupDm: o
                })
            }
            ,
            this.handleScheduledTweetSent = function(e, t) {
                t = t || {},
                t.request = t.request || {},
                t.request.requests = t.request.requests || [],
                t.request.requests.forEach(function(t) {
                    this.handleTweetSent(e, {
                        request: t
                    })
                }
                .bind(this))
            }
            ,
            this.handleClearReply = function() {
                TD.controller.stats.composeClearReply()
            }
            ,
            this.handleStackReply = function() {
                TD.controller.stats.composeStackReply()
            }
            ,
            this.handleDockedTweet = function(e, t) {
                t.popFromInline && TD.controller.stats.composePopFromInline(),
                t.contextMenu && TD.controller.stats.composeFromContextMenu(t.contextMenu)
            }
        }
        var s = i(1).component
          , n = i(11);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on(document, "dataCustomTimelineCreateSuccess", this.handleTimelineCreated),
                this.on(document, "dataCustomTimelineUpdateSuccess", this.handleTimelineUpdated),
                this.on(document, "dataCustomTimelineDeleteSuccess", this.handleTimelineDeleted),
                this.on(document, "dataAddTweetToCustomTimelineSuccess", this.handleTweetAdded),
                this.on(document, "dataRemoveTweetFromCustomTimelineSuccess", this.handleTweetRemoved)
            }),
            this.handleTimelineCreated = function(e, t) {
                TD.controller.stats.customTimelineCreated()
            }
            ,
            this.handleTimelineUpdated = function(e, t) {
                TD.controller.stats.customTimelineUpdated()
            }
            ,
            this.handleTimelineDeleted = function(e, t) {
                TD.controller.stats.customTimelineDeleted()
            }
            ,
            this.handleTweetAdded = function(e, t) {
                TD.controller.stats.tweetAddedToCustomTimeline()
            }
            ,
            this.handleTweetRemoved = function(e, t) {
                TD.controller.stats.tweetRemovedFromCustomTimeline()
            }
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.trackOpen = function(e, t) {
                TD.controller.stats.embedTweetDialogOpen(t.tweet.id)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiShowEmbedTweet", this.trackOpen)
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.initialState({
                viaLoginForm: !1
            }),
            this.after("initialize", function() {
                this.on(document, "dataAppStart", this.start),
                this.on(document, "uiLoginFormImpression", this.loginImpression);
                var e = r.Observable.fromEvent($(document), "TD.ready")
                  , t = r.Observable.fromEvent($(document), "dataQueryParams", function(e) {
                    return e[1].params
                });
                this.readyStream = r.Observable.combineLatest([e, t], function(e, t) {
                    return t
                }).take(1).subscribeOnNext(this.complete, this)
            }),
            this.before("teardown", function() {
                this.readyStream.dispose()
            }),
            this.start = function() {
                var e = !!TD.util.getTwitterCookieUserId();
                this.trigger("metric", {
                    key: "login:start:" + (e ? "has-twitter-session" : "no-session")
                })
            }
            ,
            this.loginImpression = function() {
                this.mergeState({
                    viaLoginForm: !0
                }),
                this.trigger("metric", {
                    key: "login:login-form-impression:twitter"
                })
            }
            ,
            this.complete = function(e) {
                e.via_twitter_login && this.mergeState({
                    viaLoginForm: !0
                });
                var t = TD.storage.store.getTwitterLoginAccount()
                  , i = t.isCookieUser() ? "twitter" : "tweetdeck"
                  , s = "returning-user";
                this.state.viaLoginForm && (s = "via-login-form"),
                this.trigger("metric", {
                    key: "login:complete:" + i + ":" + s
                }),
                this.teardown()
            }
        }
        var s = i(1).component
          , n = i(28)
          , r = i(21);
        return s(n, t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.trackImpression = function(e, t) {
                TD.controller.stats.messageBannerImpression(t.id),
                this.trigger("metric", {
                    key: "message_banner:" + t.id + ":impression"
                })
            }
            ,
            this.trackDismiss = function(e, t) {
                TD.controller.stats.messageBannerDismiss(t.id),
                this.trigger("metric", {
                    key: "message_banner:" + t.id + ":dismiss"
                })
            }
            ,
            this.trackAction = function(e, t) {
                TD.controller.stats.messageBannerClick(t.messageId, t.actionId),
                this.trigger("metric", {
                    key: "message_banner:" + t.messageId + ":click:" + t.actionId
                })
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiShowMessageBanner", this.trackImpression),
                this.on(document, "uiDismissMessageAction", this.trackDismiss),
                this.on(document, "uiClickMessageButtonAction", this.trackAction)
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.after("initialize", function() {
                this.on(document, "uiShowReportTweetOptions", function(e, t) {
                    t.isMessage && TD.controller.stats.reportDM("impression")
                });
                var e = {
                    uiShowReportMessageCancel: "cancel",
                    uiShowReportMessageError: "error",
                    uiNeedsDMReport: function(e) {
                        return "report_as_" + e.reportType
                    }
                };
                _.each(e, function(e, t) {
                    this.on(document, t, function(t, i) {
                        TD.controller.stats.reportDM(_.isFunction(e) ? e(i) : e)
                    })
                }
                .bind(this))
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on(document, "uiShowReportTweetOptions", function(e, t) {
                    t.isMessage || TD.controller.stats.reportUser("impression")
                }),
                this.on(document, "uiShowReportTweetCancel", function() {
                    TD.controller.stats.reportUser("cancel")
                }),
                this.on(document, "uiReportSpamAction", function(e, t) {
                    TD.controller.stats.reportUser("report_as_spam", "spam")
                }),
                this.on(document, "uiReportCompromisedAction", function(e, t) {
                    t && t.block ? TD.controller.stats.reportUser("block", "compromised") : TD.controller.stats.reportUser("report_as_spam", "compromised")
                }),
                this.on(document, "uiReportAbusiveAction", function(e, t) {
                    TD.controller.stats.reportUserAbusive("impression"),
                    t && t.block ? TD.controller.stats.reportUser("block", "abusive") : TD.controller.stats.reportUser("report_as_spam", "abusive")
                }),
                this.on(document, "uiReportAbusiveOption", function(e, t) {
                    TD.controller.stats.reportUserAbusive("click", t.option)
                })
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on(document, "scribing", function(e, t) {
                    t && t.terms && TD.decider.get("convert_scribe_to_metrics_v2") && this.trigger("metric", {
                        key: s(t.terms)
                    })
                })
            })
        }
        function s(e) {
            return ["scribe"].concat(["page", "section", "component", "element", "action"].map(function(t) {
                return e[t] || ""
            })).join(":")
        }
        var n = i(1).component;
        return n(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.trackViews = function(e, t) {
                TD.controller.stats.viewedTweetSocialProof(t.type)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiShowSocialProof", this.trackViews)
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.trackInvocation = function() {
                TD.controller.stats.typeaheadInvoked()
            }
            ,
            this.trackSelection = function(e, t) {
                var i = t.query || t.input;
                "recent-search" === t.searchType ? TD.controller.stats.typeaheadRecentItemSelected(i, t.searchType, t.index) : TD.controller.stats.typeaheadItemSelected(i, t.searchType, t.index)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiTypeaheadDropdownInvoked", this.trackInvocation),
                this.on(document, "uiTypeaheadItemSelected", this.trackSelection)
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t(e) {
            return {
                page: "settings",
                section: "accounts",
                component: {
                    remove: "account",
                    removeCheck: "account",
                    removeCancel: "account",
                    manageContributors: "account",
                    setAccountSafeguard: "account",
                    addAccountLoginFormShowing: "add_account_login_form",
                    addAccountLoginRequest: "add_account_login_form",
                    addAccount2faTimeout: "add_account_login_form",
                    addAccount2faCancel: "add_account_login_form",
                    addAccountLoginSuccess: "add_account_login_form",
                    addAccountLoginError: "add_account_login_form",
                    addAccountLoginServerError: "add_account_login_form"
                }[e],
                element: {
                    remove: "remove",
                    removeCheck: "remove_check",
                    removeCancel: "remove_cancel",
                    add: "add_twitter_account",
                    passwordReset: "reset_password",
                    manageContributors: "show_contributor_manager",
                    setAccountSafeguard: "confirmation_step",
                    setDefault: "default",
                    addAccountLoginFormShowing: "login_form",
                    addAccountLoginRequest: "add_twitter_account",
                    addAccount2faTimeout: "two_factor",
                    addAccount2faCancel: "two_factor",
                    addAccountLoginSuccess: "login_form",
                    addAccountLoginError: "login_form",
                    addAccountLoginServerError: "login_form"
                }[e],
                action: {
                    setDefault: "select",
                    addAccountLoginFormShowing: "impression",
                    addAccountLoginRequest: "click",
                    addAccount2faTimeout: "timeout",
                    addAccount2faCancel: "cancel",
                    addAccountLoginSuccess: "success",
                    addAccountLoginError: "error",
                    addAccountLoginServerError: "error"
                }[e] || "click"
            }
        }
        function s(e) {
            return {
                uiLoginFormShowing: "addAccountLoginFormShowing",
                uiLoginRequest: "addAccountLoginRequest",
                dataLogin2FATimeout: "addAccount2faTimeout",
                uiLogin2FACancel: "addAccount2faCancel",
                dataLoginAuthSuccess: "addAccountLoginSuccess",
                dataLoginError: "addAccountLoginError",
                dataLoginServerError: "addAccountLoginServerError"
            }[e]
        }
        function n(e, t) {
            var i = parseInt(e.attr("data-max-digits"), 10) || 4
              , s = TD.util.truncateNumber(t, i);
            e.text(s),
            Math.pow(10, i) <= t && e.attr("title", TD.util.prettyNumber(t))
        }
        function r() {
            this.initialState({
                hasOpenedDefaultAccount: !1,
                userData: function() {
                    return {}
                },
                contributorManagerAccountKey: null
            }),
            this.attributes({
                accountManagerContainerSelector: ".js-account-manager-container",
                contributorManagerContainerSelector: ".js-contributor-manager-container",
                drawerContentSelector: ".drawer-content",
                contributorManagerTeardownEvent: "uiTeardownContributorManager",
                contributorManagerSelector: ".js-contributor-manager",
                contributorManagerBackSelector: ".js-contributor-manager-back",
                actionButtonSelector: ".js-account-action",
                manageTeamSelector: ".js-manage-team",
                manageTeamDisabledSelector: ".js-manage-team-disabled",
                accountRowSelector: ".js-account-settings-row",
                accountDetailSelector: ".js-account-settings-detail",
                accountSummarySelector: ".js-account-settings-summary",
                accountsContainerSelector: ".js-account-settings-accounts",
                accountsScrollContainerSelector: ".js-account-settings-scroll-container",
                accountsRemoveCheckSelector: ".js-account-remove-check",
                accountRemoveCheckClass: "account-remove-check-open",
                openAccountRowSelector: ".js-account-settings-row.is-expanded",
                accountsInvitedContainerSelector: ".js-account-invited-accounts",
                accountInvitedRowSelector: ".js-account-settings-invited-row",
                accountTweetsCountSelector: ".js-account-tweets-count",
                accountFollowingCountSelector: ".js-account-following-count",
                accountFollowersCountSelector: ".js-account-followers-count",
                profileLinkSelector: 'a[rel="user"]',
                firstExpandDelay: 0,
                shiftedColumnClass: "is-shifted-1",
                accountUserProfileUrl: ".js-account-profile-url",
                accountUserFriendUrl: ".js-account-friend-url",
                accountUserFollowerUrl: ".js-account-follower-url",
                accountSafeguardSelector: '.js-account-action[data-action="setAccountSafeguard"]',
                accountSafeguardSwitchSelector: ".js-account-safeguard-switch",
                addAccountContainerSelector: ".js-add-account",
                loginFormAttrs: {
                    authVariant: "xauth",
                    startWithFocus: !1
                },
                loginFormRenderOptions: {
                    withForgotPassword: !0,
                    loginFormButtonClasses: "btn-extra-height full-width"
                }
            }),
            this.after("initialize", function() {
                this.on(document, "dataCachedTwitterUser", this.handleCacheTwitterUser),
                this.on(document, "uiDrawerActive", this.handleActiveDrawer),
                this.on(document, "dataContributors", this.handleContributors),
                this.on(document, "dataContributorsError", this.handleContributorsError),
                this.on(document, "dataContributeeNotManaged", this.handleContributeeNotManaged),
                this.on("click", {
                    actionButtonSelector: this.handleActionButtonClick,
                    contributorManagerBackSelector: this.hideContributorManager,
                    profileLinkSelector: this.handleProfileLinkClick
                }),
                this.on("uiLoginAuthComplete", this.handleUiLoginAuthComplete),
                this.on("uiAccordionWillExpand", this.handleAccordionItemWillExpand),
                this.on("uiAccordionDidExpand", {
                    accountsContainerSelector: _.debounce(this.handleAccordionItemDidExpand)
                }),
                this.on("uiAccordionExpandAction", this.handleAccordionItemExpandAction),
                this.on(document, ["uiLoginFormShowing", "uiLoginRequest", "dataLoginTwoFactorCodeRequired", "dataLoginTwoFactorAwaitingConfirmation", "dataLogin2FATimeout", "uiLogin2FACode", "uiLogin2FACancel", "dataLoginAuthSuccess", "dataLoginError", "dataLoginServerError"].join(" "), this.observeAddAccountEvents);
                var e = T.render("settings/account_settings");
                this.$node.html(e);
                var t = this.observe(this.requestResource("accounts.state")).pluck("accounts").combineLatest(g.fromEventOnce($(document), "uiShowAccountSettings"), function(e, t) {
                    return e
                });
                t.subscribeOnNext(this.renderAccounts, this),
                t.subscribeOnNext(this.maybeCloseContributorManager, this),
                this.attr.loginFormRenderOptions.loginFormButtonContent = TD.i("Add Account"),
                this.renderAddAccount(),
                this.watchDecider("add_account_via_xauth_2", this.renderAddAccount),
                this.attachChild(f, this.attr.addAccountContainerSelector, this.attr.loginFormAttrs)
            }),
            this.renderAddAccount = function() {
                var e = T.render("settings/account_settings_add_account", this.attr.loginFormRenderOptions);
                this.select("addAccountContainerSelector").html(e)
            }
            ,
            this.observeAddAccountEvents = function(e, i) {
                this.trigger("metric", {
                    key: "account:new-account:" + e.type
                });
                var n = s(e.type);
                if (n) {
                    var r = t(n);
                    this.trigger(document, "scribeEvent", {
                        terms: r
                    })
                }
            }
            ,
            this.handleUiLoginAuthComplete = function(e, t) {
                this.renderAddAccount(),
                t && t.data && t.data.oauth_token && TD.storage.accountController.addAccountFromOAuthKeys(t.data.oauth_token, t.data.oauth_token_secret)
            }
            ,
            this.handleAccountsRendered = function(e) {
                var t = !this.state.hasOpenedDefaultAccount
                  , i = (_.head(e) || {}).accountKey
                  , s = this.select("accountsInvitedContainerSelector")
                  , n = !!s.children().length;
                this.mergeState({
                    hasOpenedDefaultAccount: !0
                }),
                t ? n ? v.makeElementVisible(this.select("drawerContentSelector"), s) : this.expandAccount(i, this.attr.firstExpandDelay) : this.expandAccount(i, 0)
            }
            ,
            this.expandAccount = function(e, t) {
                t = t || 0,
                e && setTimeout(function() {
                    this.getAccountSettingsRow(e).find(this.attr.accordionToggleSelector).click()
                }
                .bind(this), t)
            }
            ,
            this.recalculateAccordion = function() {
                this.trigger("uiAccordionUpdatePanelHeights")
            }
            ,
            this.maybeCloseContributorManager = function(e) {
                if (this.state.contributorManagerAccountKey) {
                    var t = e.filter(function(e) {
                        return e.accountKey === this.state.contributorManagerAccountKey
                    }, this)[0];
                    t && t.isAdmin !== !1 || this.hideContributorManager()
                }
            }
            ,
            this.handleCacheTwitterUser = function(e, t) {
                this.updateManagedUserCounts(t)
            }
            ,
            this.updateAccountFromUserCache = function(e) {
                var t, i = this.state.userData[e.userId];
                t = i ? TD.core.defer.succeed(i) : TD.cache.twitterUsers.getById(e.userId),
                t.addCallback(this.updateManagedUserCounts.bind(this))
            }
            ,
            this.updateManagedUserCounts = function(e) {
                var t = this.getAccountFromId(e.id);
                t && (this.state.userData[e.id] = e,
                this.updateUserCounts(e))
            }
            ,
            this.updateUserCounts = function(e) {
                var t = this.$node.find('.account-settings-row[data-user-id="' + e.id + '"]');
                t.length && (t.find(this.attr.accountUserProfileUrl).attr("href", e.profileURL),
                t.find(this.attr.accountUserFriendUrl).attr("href", e.getFriendURL()),
                t.find(this.attr.accountUserFollowerUrl).attr("href", e.getFollowerURL()),
                n(t.find(this.attr.accountTweetsCountSelector), e.statusesCount),
                n(t.find(this.attr.accountFollowingCountSelector), e.friendsCount),
                n(t.find(this.attr.accountFollowersCountSelector), e.followersCount))
            }
            ,
            this.updateAccountContributorsUi = function(e) {
                e.isAdmin && this.trigger("uiNeedsContributors", {
                    accountKey: e.accountKey
                })
            }
            ,
            this.handleContributors = function(e, t) {
                this.toggleContributorsUiForAccount(t.accountKey, !0)
            }
            ,
            this.handleContributorsError = function(e, t) {
                this.toggleContributorsUiForAccount(t.request.accountKey, !1)
            }
            ,
            this.toggleContributorsUiForAccount = function(e, t) {
                var i = this.getAccountSettingsRow(e);
                i.find(this.attr.manageTeamSelector).toggleClass("is-hidden", !t),
                i.find(this.attr.manageTeamDisabledSelector).toggleClass("is-hidden", t),
                this.recalculateAccordion()
            }
            ,
            this.handleContributeeNotManaged = function(e, t) {
                var i = TD.cache.twitterUsers.getById(t.id);
                i.addCallback(function(e) {
                    this.renderInvitedAccount(t, e),
                    this.updateUserCounts(e),
                    this.updateInvitedNotification()
                }
                .bind(this))
            }
            ,
            this.renderInvitedAccount = function(e, t) {
                var i = this.select("accountsInvitedContainerSelector");
                if (!i.find("[data-user-id=" + t.id + "]").length) {
                    var s = _.extend({}, t, {
                        accountKey: "invited:" + e.id,
                        userId: t.id,
                        isInvited: !0,
                        isAdmin: !!e.isAdmin
                    })
                      , n = $(T.render("settings/account_settings_invited_row", s));
                    i.append(n),
                    this.updateAccountFromUserCache({
                        userId: t.id
                    }),
                    this.trigger("metric", {
                        key: "contributors:ui:invite:impression"
                    })
                }
            }
            ,
            this.renderAccounts = function(e) {
                var t, i = this.select("accountRowSelector"), s = this.select("accountsContainerSelector"), n = [], r = e.map(function(e) {
                    return e.accountKey
                });
                i.each(function(e, t) {
                    var i = $(t)
                      , s = i.attr("data-account-key");
                    -1 === r.indexOf(s) && i.remove()
                }),
                e.forEach(function(e) {
                    var r = i.filter('[data-account-key="' + e.accountKey + '"]')
                      , o = r.hasClass(this.attr.accordionIsExpandedClass)
                      , a = r.hasClass(this.attr.accordionIsActiveClass)
                      , c = $.extend({}, e, {
                        getProfileURL: "#",
                        isExpanded: o,
                        isActive: a,
                        isSafeguarded: this.isAccountSafeguarded(e.accountKey),
                        withManageTeam: e.isTwoginAccount || e.isContributor,
                        notRemovable: e.isDefault || e.isTwoginAccount,
                        notRemovableMessage: e.isTwoginAccount ? TD.i("You cannot remove your login account.") : TD.i("You cannot remove your default account.")
                    })
                      , l = $(T.render("settings/account_settings_row", c));
                    if (r.length > 0) {
                        r.replaceWith(l);
                        var u = r.find(this.attr.manageTeamSelector).hasClass("is-hidden");
                        l.find(this.attr.manageTeamSelector).toggleClass("is-hidden", u),
                        l.find(this.attr.manageTeamDisabledSelector).toggleClass("is-hidden", !u)
                    } else
                        n.push(e);
                    return this.updateAccountContributorsUi(e),
                    t ? t.after(l) : s.prepend(l),
                    this.updateAccountFromUserCache(e),
                    t = l,
                    e
                }, this),
                this.handleAccountsRendered(n)
            }
            ,
            this.handleDefaultAccountSelected = function(e, t) {
                var i = $(t.el).val();
                this.trigger("uiAccountAction", {
                    action: "setDefault",
                    accountKey: i
                }),
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "settings",
                        section: "accounts",
                        element: "default",
                        action: "select"
                    }
                })
            }
            ,
            this.handleActionButtonClick = function(e, i) {
                var s = $(i.el);
                if (!i.el.disabled && !s.hasClass("is-disabled")) {
                    var n, r = s.attr("data-action"), o = s.attr("data-account-key"), a = t(r);
                    switch (r) {
                    case "setDefault":
                        this.trigger("uiAccountAction", {
                            action: r,
                            accountKey: o
                        });
                        break;
                    case "removeCheck":
                        this.toggleAccountRemoveCheck(o, !0);
                        break;
                    case "removeCancel":
                        this.toggleAccountRemoveCheck(o, !1);
                        break;
                    case "remove":
                        this.trigger("uiAccountAction", {
                            action: r,
                            accountKey: o
                        });
                        break;
                    case "add":
                        this.trigger("uiAccountAction", {
                            action: r
                        });
                        break;
                    case "manageContributors":
                        this.showContributorManager(o);
                        break;
                    case "showLists":
                        TD.ui.openColumn.showLists();
                        break;
                    case "showCustomTimelines":
                        TD.ui.openColumn.showCustomTimelines();
                        break;
                    case "setAccountSafeguard":
                        var c = !s.find(this.attr.accountSafeguardSwitchSelector).prop("checked");
                        this.toggleAccountSafeguarded(o, c),
                        this.trigger("metric", {
                            key: "account:safeguard:" + (c ? "enable" : "disable")
                        });
                        break;
                    case "inviteAccept":
                        n = this.getInvitedAccount(i.el),
                        $(document).trigger("uiContributeeInviteAccept", {
                            id: n.attr("data-user-id"),
                            isAdmin: void 0 !== n.attr("data-user-is-admin")
                        }),
                        n.remove(),
                        this.updateInvitedNotification(),
                        this.trigger("metric", {
                            key: "contributors:ui:invite:click:accept"
                        });
                        break;
                    case "inviteCancel":
                        n = this.getInvitedAccount(i.el),
                        $(document).trigger("uiRemoveContributee", {
                            accountKey: TD.storage.store.getTwitterLoginAccount().getKey(),
                            userId: n.attr("data-user-id")
                        }),
                        n.remove(),
                        this.updateInvitedNotification(),
                        this.trigger("metric", {
                            key: "contributors:ui:invite:click:reject"
                        })
                    }
                    this.trigger(document, "scribeEvent", {
                        terms: a
                    })
                }
            }
            ,
            this.getInvitedAccount = function(e) {
                var t = $(e).attr("data-account-key");
                return this.select("accountsInvitedContainerSelector").find(this.attr.accountInvitedRowSelector + '[data-account-key="' + t + '"]')
            }
            ,
            this.isAccountSafeguarded = function(e) {
                return TD.settings.getSafeguardedAccountList().some(function(t) {
                    return e === t
                })
            }
            ,
            this.toggleAccountSafeguarded = function(e, t) {
                t ? TD.settings.addSafeguardedAccount(e) : TD.settings.removeSafeguardedAccount(e),
                this.select("accountRowSelector").filter(function(t, i) {
                    return $(i).attr("data-account-key") === e
                }).find(this.attr.accountSafeguardSwitchSelector).prop("checked", t)
            }
            ,
            this.handleActiveDrawer = function(e, t) {
                t.activeDrawer || this.hideContributorManager()
            }
            ,
            this.toggleAccountRemoveCheck = function(e, t) {
                var i = this.select("accountRowSelector").filter(function(t, i) {
                    return $(i).attr("data-account-key") === e
                }).toggleClass(this.attr.accountRemoveCheckClass, t).trigger("uiAccordionUpdatePanelHeights");
                t && v.makeElementVisible(this.select("drawerContentSelector"), i.find(this.attr.accountsRemoveCheckSelector))
            }
            ,
            this.teardownContributorManagerInstances = function() {
                this.trigger(document, this.attr.contributorManagerTeardownEvent)
            }
            ,
            this.showContributorManager = function(e) {
                var t = this.select("contributorManagerSelector");
                this.teardownContributorManagerInstances(),
                this.$node.addClass(this.attr.shiftedColumnClass),
                this.mergeState({
                    contributorManagerAccountKey: e
                }),
                this.attachChild(p, t, {
                    accountKey: e,
                    teardownOn: [this.attr.contributorManagerTeardownEvent, this.childTeardownEvent].join(" ")
                })
            }
            ,
            this.hideContributorManager = function() {
                this.teardownContributorManagerInstances(),
                this.state.contributorManagerAccountKey = null ,
                this.$node.removeClass(this.attr.shiftedColumnClass),
                this.recalculateAccordion(),
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "settings",
                        section: "contributor_manager",
                        element: "back",
                        action: "click"
                    }
                })
            }
            ,
            this.handleAccordionItemWillExpand = function(e) {
                this.toggleAccountRemoveCheck(e.target.getAttribute("data-account-key"), !1)
            }
            ,
            this.handleAccordionItemDidExpand = function() {
                v.makeElementVisible(this.select("accountsScrollContainerSelector"), this.select("openAccountRowSelector"))
            }
            ,
            this.handleAccordionItemExpandAction = function(e) {
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "settings",
                        section: "accounts",
                        component: "account",
                        action: "impression"
                    }
                })
            }
            ,
            this.handleProfileLinkClick = function() {
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "settings",
                        section: "accounts",
                        component: "account",
                        element: "show_profile",
                        action: "click"
                    }
                })
            }
            ,
            this.getAccountSettingsRow = function(e) {
                return this.select("accountsContainerSelector").find(this.attr.accountRowSelector + '[data-account-key="' + e + '"]')
            }
            ,
            this.updateInvitedNotification = function() {
                this.trigger("uiInvitedContributeeAccounts", {
                    count: this.select("accountInvitedRowSelector").length
                })
            }
        }
        var o = i(1).component
          , a = i(125)
          , c = i(22)
          , l = i(20)
          , u = i(7)
          , d = i(8)
          , h = i(28)
          , m = i(30)
          , p = i(493)
          , f = i(178)
          , g = i(29)
          , v = i(126)
          , T = i(9);
        return o(u, h, d, r, c, a, l, m)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                closeEvent: "uiAccountSharedWarningClose",
                modalTitle: ".js-header-title",
                continueSelector: ".js-account-shared-continue-btn",
                abortSelector: ".js-account-shared-abort-btn"
            }),
            this.after("initialize", function() {
                var e = TD.storage.store.getTwitterLoginAccount()
                  , t = r.render("account_shared_warning", {
                    no_horiz_flow_container: !0,
                    signinAccount: e.getUsername()
                });
                this.$node.html(t),
                TD.controller.stats.sharedAccountWarning("impression"),
                this.select("modalTitle").text(TD.i("Multi-account security")),
                this.on("click", {
                    continueSelector: this.handleContinue,
                    abortSelector: this.handleAbort,
                    dismissButton: this.handleExplicitDismiss
                }),
                this.on(this.attr.closeEvent, this.teardown)
            }),
            this.handleContinue = function() {
                TD.controller.stats.sharedAccountWarning("accept"),
                this.trigger("uiAccountSharedWarningContinue"),
                this.dismiss()
            }
            ,
            this.handleAbort = function() {
                TD.controller.stats.sharedAccountWarning("cancel"),
                this.trigger("uiAccountSharedWarningAbort"),
                this.dismiss()
            }
            ,
            this.handleExplicitDismiss = function() {
                TD.controller.stats.sharedAccountWarning("dismiss"),
                this.trigger("uiAccountSharedWarningDismiss")
            }
            ,
            this.after("teardown", function() {
                this.$node.html("")
            })
        }
        var s = i(1).component
          , n = i(79)
          , r = i(9);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                isActionsMenu: !0,
                profileActionsButtonSelector: ".js-user-actions-menu",
                chirpActionsContainerSelector: ".js-tweet-actions",
                profileMenuTemplate: "menus/actions",
                chirpMenuTemplate: "menus/actions",
                dmMenuTemplate: "menus/actions_directmessage",
                menuPosition: "pos-l"
            }),
            this.after("initialize", function() {
                this.state = {},
                this.around("handleDocumentClick", this.maybeStopDocumentClick),
                this.after("renderDropdown", this.addActionsMenuClickHandler),
                this.before("teardownCurrentDropdown", this.removeActionsMenuClickHandler),
                this.before("teardownCurrentDropdown", this.removeForcedActionsMenuContainerVisibility),
                this.on("uiDetailViewClosing uiMediaGalleryClosing uiTwitterProfileClosing", this.teardownCurrentDropdown),
                this.on("click", {
                    profileActionsButtonSelector: this.handleUserButtonClick
                }),
                this.on("uiShowActionsMenu", this.handleShowActionsMenu)
            }),
            this.addActionsMenuClickHandler = function() {
                this.currentDropdown && this.on(this.currentDropdown.$el, "click", this.handleActionsMenuClick)
            }
            ,
            this.removeActionsMenuClickHandler = function() {
                this.currentDropdown && this.off(this.currentDropdown.$el, "click", this.handleActionsMenuClick)
            }
            ,
            this.removeForcedActionsMenuContainerVisibility = function() {
                this.state.$actionsMenuContainer && (this.state.$actionsMenuContainer.removeClass("is-visible"),
                this.state.$actionsMenuContainer = null )
            }
            ,
            this.maybeStopDocumentClick = function(e, t) {
                if (this.dropdownIsOpen()) {
                    var i = $(t.target).closest(this.attr.profileActionsButtonSelector);
                    0 === i.length && e(t)
                }
            }
            ,
            this.showActionsMenu = function(e, t, i) {
                var s, n, r, o, a, c = 1 === TD.storage.accountController.getAccountsForService("twitter").length, l = e.data("actions-menu-position");
                if (i ? (i.getRelatedTweet && (i = i.getRelatedTweet() || i),
                s = !c,
                n = i.getMedia().some(function(e) {
                    return e.flaggedNSFW
                }),
                r = i instanceof TD.services.TwitterConversationMessageEvent,
                o = r ? this.attr.dmMenuTemplate : this.attr.chirpMenuTemplate,
                t = i.getMainUser()) : o = this.attr.profileMenuTemplate,
                TD.decider.get("mute_native")) {
                    var u = TD.controller.clients.getClient(t.account.getKey());
                    a = !!u.mutes[t.id]
                } else
                    a = TD.controller.filterManager.hasFilterApplied("sender", t.screenName);
                this.renderDropdown(e, o, {
                    showFavorite: s,
                    isFlagged: n,
                    isMuted: a,
                    user: t,
                    chirp: i,
                    isSingleAccount: c
                }, {
                    toggle: !0,
                    position: l || this.attr.menuPosition
                }),
                this.state = {
                    user: t,
                    chirp: i,
                    $actionsMenuContainer: e.closest(this.attr.chirpActionsContainerSelector)
                },
                this.state.$actionsMenuContainer.addClass("is-visible")
            }
            ,
            this.handleShowActionsMenu = function(e, t) {
                var i = $(e.target)
                  , s = i.attr("data-parent-chirp-id");
                if (s || (s = i.attr("data-chirp-id")),
                !s)
                    return this.handleUserButtonClick(e);
                var n = i.attr("data-account-key")
                  , r = TD.controller.columnManager.findChirpByAccountKey(s, n);
                this.showActionsMenu(i, null , r)
            }
            ,
            this.handleUserButtonClick = function(e) {
                var t = $(e.target).closest(this.attr.profileActionsButtonSelector)
                  , i = t.data("user-id");
                if (i) {
                    var s = TD.cache.twitterUsers.getById(i);
                    e.stopPropagation(),
                    e.preventDefault(),
                    s.addCallback(function(e) {
                        this.showActionsMenu(t, e, null )
                    }
                    .bind(this))
                }
            }
            ,
            this.handleFlagTweetSuccess = function() {
                var e = this.state.chirp.getMedia();
                e.forEach(function(e) {
                    e.flaggedNSFW = !0
                }),
                TD.controller.progressIndicator.addMessage(TD.i("Success: Media flagged"))
            }
            ,
            this.handleFlagTweetError = function() {
                TD.controller.progressIndicator.addMessage(TD.i("Error: Failed to flag media. Please try again."))
            }
            ,
            this.handleActionsMenuClick = function(e) {
                var t = $(e.target);
                if (0 !== t.closest(this.attr.isSelectedSelector).length) {
                    var i, s = t.data("action"), n = !0, r = this.state.user, o = this.state.chirp, a = [];
                    switch (o && a.push(o.account.getKey()),
                    o ? this.trigger("metric", {
                        key: ["chirp", "ui", o.chirpType, s].join(":")
                    }) : this.trigger("metric", {
                        key: ["user", "ui", s].join(":")
                    }),
                    s) {
                    case "mention":
                        this.trigger("uiComposeTweet", {
                            text: "@" + r.screenName + " ",
                            from: a
                        });
                        break;
                    case "message":
                        this.trigger("uiComposeTweet", {
                            type: "message",
                            from: a,
                            messageRecipients: [{
                                screenName: r.screenName,
                                avatar: r.profileImageURL
                            }]
                        });
                        break;
                    case "lists":
                        new TD.components.AddToListsDialog(r);
                        break;
                    case "flag-media":
                        TD.controller.progressIndicator.addMessage(TD.i("Flagging media…")),
                        i = TD.controller.clients.getClient(o.account.getKey()),
                        i.flagTweet(o.id, this.handleFlagTweetSuccess.bind(this), this.handleFlagTweetError);
                        break;
                    case "block":
                        this.trigger("uiBlockAction", {
                            account: r.account,
                            twitterUser: r
                        });
                        break;
                    case "report-tweet":
                        this.trigger("uiShowReportTweetOptions", {
                            account: r.account,
                            tweetId: o.id,
                            twitterUser: r,
                            isMessage: o instanceof TD.services.TwitterConversationMessageEvent,
                            isMedia: o.hasMedia()
                        });
                        break;
                    case "report-spam":
                        this.trigger("uiShowReportUserOptions", {
                            account: r.account,
                            twitterUser: r
                        });
                        break;
                    case "followOrUnfollow":
                        this.trigger("uiShowFollowFromOptions", {
                            userToFollow: r
                        });
                        break;
                    case "favoriteOrUnfavorite":
                        this.trigger("uiShowFavoriteFromOptions", {
                            tweet: o
                        });
                        break;
                    case "follow":
                        r.follow(r.account, null , null , !0);
                        break;
                    case "unfollow":
                        r.unfollow(r.account, null , null , !0);
                        break;
                    case "reference-to":
                        o.referenceTo();
                        break;
                    case "message-to":
                        o.messageTo();
                        break;
                    case "email":
                        o.email();
                        break;
                    case "mute":
                        TD.decider.get("mute_native") ? r.mute(r.account) : (TD.controller.filterManager.addFilter("sender", r.screenName),
                        TD.controller.progressIndicator.addMessage(TD.i("@{{screenName}} muted", {
                            screenName: r.screenName
                        })));
                        break;
                    case "unmute":
                        TD.decider.get("mute_native") ? r.unmute(r.account) : (TD.controller.filterManager.removeFilter({
                            type: "sender",
                            text: r.screenName
                        }),
                        TD.controller.progressIndicator.addMessage(TD.i("@{{screenName}} unmuted", {
                            screenName: r.screenName
                        })));
                        break;
                    case "destroy":
                        o.destroy();
                        break;
                    case "undo-retweet":
                        $(document).trigger("uiUndoRetweet", {
                            tweetId: o.getMainTweet().id,
                            from: o.account.getKey()
                        });
                        break;
                    case "customtimelines":
                        new TD.components.AddToCustomTimelineDialog(o.getMainTweet());
                        break;
                    case "embed":
                        this.trigger("uiShowEmbedTweet", {
                            tweet: o.getMainTweet()
                        });
                        break;
                    case "translate":
                        o.translate();
                        break;
                    default:
                        n = !1
                    }
                    n && (e.preventDefault(),
                    e.stopPropagation()),
                    this.teardownCurrentDropdown()
                }
            }
        }
        var s = i(1).component
          , n = i(96);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                column: null ,
                template: "column/alerts_form",
                actionButton: "[data-action]",
                summarySelector: ".js-alerts-summary",
                summaryClass: "js-alerts-summary"
            }),
            this.after("initialize", function() {
                var e = {
                    summaryText: "",
                    iconClass: "icon-info",
                    title: TD.i("Alerts"),
                    jsClass: this.attr.summaryClass,
                    options: [{
                        action: "sound",
                        option: TD.i("Sounds"),
                        on: this.attr.column.model.getHasSound()
                    }]
                };
                return this.column = this.attr.column,
                this.column.getColumnType() === TD.util.columnUtils.columnMetaTypes.SCHEDULED ? void this.teardown() : (TD.controller.notifications.hasNotifications() && e.options.push({
                    action: "popups",
                    option: TD.i("Desktop notifications"),
                    on: this.column.model.getHasNotification()
                }),
                this.$alertsForm = $(n.render(this.attr.template, e)),
                this.$node.append(this.$alertsForm),
                this.updateSummary(),
                void this.on(this.$alertsForm, "click", {
                    actionButton: this.toggleColumnSetting
                }))
            }),
            this.updateSummary = function() {
                var e, t = this.column.model, i = t.getHasNotification() && TD.controller.notifications.hasNotifications(), s = t.getHasSound();
                e = i && s ? TD.i("sounds and desktop notifications") : i ? TD.i("desktop notifications") : s ? TD.i("sounds") : TD.i("none"),
                this.select("summarySelector").text(e)
            }
            ,
            this.toggleColumnSetting = function(e) {
                var t, i = $(e.target).closest(this.attr.actionButton), s = i.data("action"), n = this.column.model;
                switch (s) {
                case "popups":
                    t = !n.getHasNotification(),
                    n.setHasNotification(t),
                    this.trigger(document, "uiCheckNotificationPermission");
                    break;
                case "sound":
                    t = !n.getHasSound(),
                    n.setHasSound(t)
                }
                this.updateSummary()
            }
        }
        var s = i(1).component
          , n = i(9);
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                headerActionSelector: ".js-header-action",
                settingsButtonSelector: '[data-action="settings-menu"]',
                inviteCountSelector: ".js-invite-count",
                userInfoSelector: ".js-account-summary"
            }),
            this.after("initialize", function() {
                this.on("click", this.handleClick),
                this.on(document, "uiToggleNavbarWidth", this.toggleNavbarWidth),
                this.on(document, "dataSettings", this.handleDataSettings),
                this.on(document, "uiInvitedContributeeAccounts", this.handleInvitedContributeeAccounts),
                this.select("headerActionSelector").on("mouseover", this.handleListItemMouseover.bind(this)).on("mouseout", this.handleListItemMouseout.bind(this)),
                this.trigger("uiNeedsSettings"),
                this.observe(this.requestResource("accounts.state")).pluck("loginAccount").filter(_.identity).subscribeOnNext(this.renderUserInfo, this)
            }),
            this.renderUserInfo = function(e) {
                var t = this.renderTemplate("topbar/navbar_account_summary", e);
                this.select("userInfoSelector").html(t)
            }
            ,
            this.handleClick = function(e, t) {
                var i = $(e.target).closest("[data-action]")
                  , s = i.attr("data-action");
                if (i.length) {
                    switch ("url" !== s && e.preventDefault(),
                    s) {
                    case "account-settings":
                        this.trigger("uiShowAccountSettings");
                        break;
                    case "add-column":
                        TD.ui.openColumn.showOpenColumn(),
                        TD.controller.stats.navbarAddColumnClick();
                        break;
                    case "settings-menu":
                        e.stopPropagation(),
                        this.toggleSettingsDropdown(i),
                        TD.controller.stats.navbarSettingsClick();
                        break;
                    case "show-lists":
                        TD.ui.openColumn.showLists(),
                        TD.controller.stats.navbarListsClick();
                        break;
                    case "show-customtimelines":
                        TD.ui.openColumn.showCustomTimelines();
                        break;
                    case "change-sidebar-width":
                        this.toggleNavbarWidth();
                        break;
                    case "show-search":
                        this.trigger("uiShowSearchButtonClick"),
                        i.tooltip("hide");
                        break;
                    case "signOut":
                        TD.controller.init.signOut();
                        break;
                    case "globalSettings":
                        $(document).trigger("uiShowGlobalSettings");
                        break;
                    case "keyboardShortcutList":
                        $(document).trigger("uiShowKeyboardShortcutList")
                    }
                    this.destroyFlyover()
                }
            }
            ,
            this.toggleSettingsDropdown = function(e) {
                this.renderDropdown(e, "menus/topbar_menu", {
                    debug: Boolean(TD.config.debug_menu),
                    account: TD.storage.accountController.getUserIdentifier(),
                    isTwoginUser: !0
                }, {
                    position: this.attr.dropdownPositions.verticalRight,
                    toggle: !0
                })
            }
            ,
            this.toggleNavbarWidth = function() {
                var e;
                e = this.isCollapsed ? "full-size" : "condensed",
                this.trigger("uiNavbarWidthChangeAction", {
                    navbarWidth: e
                })
            }
            ,
            this.handleDataSettings = function(e, t) {
                this.isCollapsed = Boolean("condensed" === t.navbarWidth)
            }
            ,
            this.handleListItemMouseover = function(e) {
                if (this.isCollapsed && !TD.util.isTouchDevice()) {
                    var t = $(e.currentTarget);
                    this.renderFlyover(t)
                }
            }
            ,
            this.handleListItemMouseout = function(e) {
                this.destroyFlyover()
            }
            ,
            this.handleInvitedContributeeAccounts = function(e, t) {
                this.select("inviteCountSelector").text(t.count > 20 ? "20+" : t.count).toggleClass("is-visible", t.count > 0)
            }
        }
        var s = i(1).component
          , n = i(551)
          , r = i(184)
          , o = i(96)
          , a = i(7)
          , c = i(8)
          , l = i(4);
        return s(a, c, t, n, r, o, l)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                sourceId: "appSearch",
                appSearchInputSelector: ".js-app-search-input",
                searchButtonSelector: ".js-perform-search",
                clearButtonSelector: ".js-clear-search",
                KEY_CODE_MAP: {
                    13: {
                        name: "ENTER",
                        event: "uiSearchInputSubmit",
                        on: "keypress",
                        preventDefault: !0
                    },
                    27: {
                        name: "ESC",
                        event: "uiSearchInputEscaped",
                        on: "keydown"
                    },
                    9: {
                        name: "TAB",
                        event: "uiSearchInputTab",
                        on: "keydown",
                        preventDefault: !0
                    },
                    37: {
                        name: "LEFT",
                        event: "uiSearchInputLeft",
                        on: "keydown"
                    },
                    39: {
                        name: "RIGHT",
                        event: "uiSearchInputRight",
                        on: "keydown"
                    },
                    38: {
                        name: "UP",
                        event: "uiSearchInputMoveUp",
                        on: "keydown",
                        preventDefault: !0
                    },
                    40: {
                        name: "DOWN",
                        event: "uiSearchInputMoveDown",
                        on: "keydown",
                        preventDefault: !0
                    }
                }
            }),
            this.after("initialize", function() {
                n.attachTo(this.$node, {
                    source: "appSearch"
                }),
                this.$input = this.select("appSearchInputSelector"),
                this.on(this.$input, "keyup keydown keypress paste", this.modifierKeyPressed),
                this.on(this.$input, "focus", this.handleFocus),
                this.on(this.$input, "uiInputBlur", function(e) {
                    this.$input.blur()
                }),
                this.on(this.$input, "click", function(e) {
                    e.stopPropagation()
                }),
                this.on(this.select("searchButtonSelector"), "click", function(e) {
                    this.trigger(this.$input, "uiSearchInputSubmit", {
                        query: this.$input.val()
                    })
                }),
                this.on(this.select("clearButtonSelector"), "click", this.handleClearSearchAction),
                this.on("uiAppSearchSetPreventDefault", this.setPreventKeyDefault),
                this.on("uiAppSearchItemComplete", this.completeInput),
                this.on("uiAppSearchSubmit", this.handleAppSearchSubmit),
                this.on(document, "uiNewSearchQuery uiSearchInputChanged", this.handleSearchInputChanged),
                this.on("uiSearchInPopoverHidden", this.handleResetState)
            }),
            this.handleSearchInputChanged = function(e, t) {
                t.source !== this.attr.sourceId && (this.$input.val(t.query),
                this.currentQuery = t.query)
            }
            ,
            this.handleAppSearchSubmit = function(e, t) {
                this.completeInput(e, t),
                this.trigger(this.$input, "uiSearchInputSubmit", {
                    query: this.$input.val()
                })
            }
            ,
            this.around("trigger", function() {
                var e, t = [].slice.call(arguments), i = t.shift();
                "string" != typeof t[t.length - 1] && (e = t.pop()),
                void 0 === e ? e = {
                    source: this.attr.sourceId
                } : e.source = this.attr.sourceId,
                t.push(e),
                i.apply(this, t)
            }),
            this.setPreventKeyDefault = function(e, t) {
                this.attr.KEY_CODE_MAP[t.key].preventDefault = t.preventDefault
            }
            ,
            this.handleFocus = function(e) {
                _.defer(this.$input.select.bind(this.$input)),
                this.trigger(this.$input, "uiSearchInputFocus", {
                    query: this.$input.val()
                })
            }
            ,
            this.modifierKeyPressed = function(e) {
                var t = this.$input.val();
                t = "" === t.trim() ? "" : t;
                var i = this.attr.KEY_CODE_MAP[e.which || e.keyCode];
                if (i) {
                    if (e.type !== i.on)
                        return;
                    i.preventDefault && e.preventDefault(),
                    this.trigger(this.$input, i.event, {
                        query: t
                    })
                } else
                    this.setQueryAndTriggerUpdateEvent(t)
            }
            ,
            this.completeInput = function(e, t) {
                "user" === t.searchType && (t.query = "@" + t.query),
                this.trigger("uiAppSearchSetQuery", {
                    data: t.query
                }),
                this.$input.val(t.query),
                this.setQueryAndTriggerUpdateEvent(t.query),
                this.focusInput(),
                this.$input[0].selectionStart = t.query.length,
                this.$input[0].selectionEnd = t.query.length
            }
            ,
            this.setQueryAndTriggerUpdateEvent = function(e) {
                this.currentQuery && this.currentQuery === e || (this.currentQuery = e,
                this.trigger(this.$input, "uiSearchInputChanged", {
                    query: this.currentQuery
                }))
            }
            ,
            this.focusInput = function() {
                this.$input.focus()
            }
            ,
            this.handleClearSearchAction = function() {
                this.focusInput()
            }
            ,
            this.handleResetState = function() {
                this.currentQuery = null ,
                this.$input.val("")
            }
            ,
            this.before("teardown", function() {
                this.trigger("uiDestroyAsynchronousForm")
            })
        }
        var s = i(1).component
          , n = i(93);
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n, r = i(18), o = s(r);
    n = function(e) {
        "use strict";
        function t() {
            this.attributes({
                columnMessageSelector: ".js-column-message",
                columnMessageTemplate: "column/column_message",
                filterErrorTemplate: "column/column_filter_error",
                filterErrorClass: "filter-error",
                showDetailViewClass: "is-shifted-1",
                showSocialProofClass: "is-shifted-2",
                socialProofSelector: ".js-column-social-proof",
                columnStateDefault: "default",
                columnStateDetailView: "detailView",
                columnStateSocialProof: "socialProof",
                moreTweetsButtonContainerSelector: ".more-tweets-btn-container",
                moreTweetsButton: ".js-more-tweets-btn",
                moreTweetsGlow: ".js-more-tweets-glow",
                columnScrollerIsAnimatingClass: "is-column-scroller-animating",
                isNewClass: "is-new",
                chirpSelector: ".js-stream-item",
                tweetActionsSelector: ".js-tweet-actions",
                tweetActionsVisibleClass: "is-visible",
                animateInClass: "anim-rotate-in",
                animateOutClass: "anim-rotate-out",
                customTimelineDescriptionSelector: ".js-customtimeline-description",
                shareColumnSelector: ".js-share-column",
                focusId: null ,
                tweetImpressionTrackingPeriod: 250,
                scribeElementSelector: "[data-scribe-element]",
                userSelectorInputSelector: ".js-username-input",
                isOptionsOpenClass: "is-options-open",
                headerActionButtonSelector: ".js-action-header-button, .js-column-message"
            }),
            this.after("initialize", function() {
                this.attachChild(w, this.$node),
                this.applyWillAnimate(this.$node),
                this.columnKey = this.$node.data("column"),
                this.column = TD.controller.columnManager.get(this.columnKey),
                this.visibleChirpsTierTwo = {},
                this.visibleChirpsTierThree = {};
                var e, t, i, s = this.column.getCustomTimelineFeed(), n = this.column.isOwnCustomTimeline();
                n && (e = s.getMetadata(),
                t = e.id,
                i = TD.storage.Account.generateKeyFor("twitter", e.ownerId)),
                this.targetTopPosition = 0,
                this.$socialProofContainer = this.select("socialProofSelector"),
                this.$columnOptions = this.select("columnOptionsSelector"),
                this.$scrollContainer = this.select("scrollContainerSelector"),
                this.createNewHeightCache(),
                this.renderColumnMessage(),
                this.attr.tweetImpressionTrackingPeriod > 0 && (this.scribeTweetImpressions = _.throttle(this.scribeTweetImpressions.bind(this), this.attr.tweetImpressionTrackingPeriod)),
                this.setupDragDrop({
                    type: "tweet",
                    indicateDrop: !1,
                    predrag: function(e, t) {
                        $(t.el).closest(this.attr.tweetActionsSelector).addClass(this.attr.tweetActionsVisibleClass)
                    },
                    dragend: function(e, t) {
                        $(t.el).closest(this.attr.tweetActionsSelector).removeClass(this.attr.tweetActionsVisibleClass)
                    }
                }),
                this.on("click", {
                    shareColumnSelector: this.handleShareColumnButtonClick,
                    scribeElementSelector: this.handleScribeElementClick,
                    headerActionButtonSelector: _.throttle(this.handleHeaderClick.bind(this), 300)
                }),
                this.on("uiViewTimeline", this.handleViewTimeline),
                this.on("uiReferenceTimeline", this.handleReferenceTimeline),
                this.on("uiDetailViewActive", this.handleDetailViewActive),
                this.on("uiDetailViewClosed", this.handleDetailViewClosed),
                this.on("uiCloseDetailView", this.handleCloseDetailView),
                this.on("uiSocialProofForTweetClosed", this.handleSocialProofClosed),
                this.on("uiShowSocialProof", this.handleShowSocialProof),
                this.on("uiCloseSocialProof", this.handleCloseSocialProof),
                this.on(document, "uiShowDmParticipants", this.handleShowDmParticipants),
                this.on("uiDmParticipantsClosed", this.handleCloseDmParticipants),
                this.on("uiColumnOptionsShown", this.handleColumnOptionsShown),
                this.on("uiHidingColumnOptions", this.handleHidingColumnOptions),
                this.on("uiShowingColumnOptions", this.handleShowingColumnOptions),
                this.on("uiColumnOptionsHidden", this.handleColumnOptionsHidden),
                this.on("uiMarkAllMessagesRead", this.handleMarkAllRead),
                this.on("uiReadStateChange", this.handleColumnReadStatus),
                this.on(document, "uiMessageThreadRead", this.handleMessageThreadRead),
                this.on(document, "uiMessageUnreadCount", this.handleMessageCount),
                this.on("uiTransitionExpandStart", {
                    columnOptionsContainerSelector: function(e, t) {
                        this.fixColumnTop(),
                        this.moveColumnTop(t.delta)
                    }
                    .bind(this)
                }),
                this.on("uiAccordionTotalHeightChanged", {
                    columnOptionsContainerSelector: this.fixColumnTop
                }),
                this.on("uiColumnUpdateSearchFilter", this.handleUpdateSearchFilter),
                this.on("uiColumnUpdateMediaPreview", this.handleUpdateMediaPreview),
                this.on("dataColumnUpdatingFilters dataColumnUpdatingFeed", this.handleColumnUpdating),
                this.on("dataColumnFiltersUpdated dataColumnFeedUpdated", this.handleColumnUpdated),
                this.on("uiRemoveColumn", this.handleUiRemoveColumn),
                this.on("uiExitSettings", this.exitEditMode),
                this.on(document, "dataSerializedColumn", this.handleSerializedColumn),
                this.on(document, "dataSettingsValues", this.handleSettingsChange),
                this.on(document, "uiColumnUpdateMediaPreview", this.handleMediaPreviewChange),
                this.on(document, "uiFocus", function(e, t) {
                    this.hasFocus = t.id === this.attr.focusId,
                    this.hasFocus && this.scribeTweetImpressions()
                }),
                this.on(this.$scrollContainer, "scroll", this.scribeTweetImpressions),
                this.on(document, "uiColumnVisibilities", this.handleColumnVisibilities),
                this.on(document, "uiColumnChirpsChanged", function(e, t) {
                    t.id === this.columnKey && this.scribeTweetImpressions()
                }),
                this.on("uiDetailViewClosed uiTransitionExpandEnd", this.scribeTweetImpressions),
                this.on(document, TD.util.visibilityChangeEventName(), function(e) {
                    this.scribeTweetImpressions()
                }),
                this.on(window, "beforeunload", this.scribeAllChirpsHidden),
                this.setMoreTweetsDesign(),
                this.watchDecider("column_unread_bar", this.setMoreTweetsDesign),
                this.watchDecider("disable_quote_tweet_unavailable_msg", this.toggleQuotedTweetUnavailableMessage),
                n && (this.setupDragDrop({
                    type: "tweet",
                    indicateDrop: !0,
                    dragenter: this.addDropTargetClass,
                    dragleave: this.removeDropTargetClass,
                    dragend: this.removeDropTargetClass,
                    drop: function(e, t) {
                        var i = e.target.closest(".stream-item")
                          , s = i ? i.getAttribute("data-key") : null
                          , n = this.getAllCustomTimelineData();
                        this.trigger("uiAddTweetToCustomTimeline", {
                            id: n.metadata.id,
                            tweetId: $(t.el).attr("data-tweet-id"),
                            account: n.account,
                            relativeToId: s
                        })
                    }
                }),
                this.renderAddToCustomTimeline(i, t),
                this.select("columnContentSelector").addClass("with-add-by-url"),
                this.on(document, "dataAddTweetToCustomTimelineSuccess", this.refreshCustomTimelineFeed.bind(this)),
                this.on(document, "dataRemoveTweetFromCustomTimelineSuccess", this.removeChripFromCustomTimelineFeed.bind(this)),
                this.on("uiRemoveTweetFromCustomTimeline", this.rebroadcast(this.transformRemoveTweetFromCustomTimeline))),
                s && this.attachChild(r, this.select("customTimelineDescriptionSelector"), {
                    withAutoComplete: !1,
                    customTimelineId: s.getMetadata().id,
                    isOwnCustomTimeline: this.column.isOwnCustomTimeline(),
                    readOnly: this.column.temporary,
                    accountKey: s.getAccountKey(),
                    maxCharCount: 160
                })
            }),
            this.handleScribeElementClick = function(e) {
                var t = $(e.target);
                if (this.column.isDataminr() && (this.$scrollContainer.find(t).length || this.column.detailViewComponent)) {
                    var i = t.closest(this.attr.scribeElementSelector).attr("data-scribe-element")
                      , s = this.column.detailViewComponent ? "dataminr_alert_detail" : "dataminr_alert";
                    TD.controller.stats.dataminrClickImpression(s, i)
                }
            }
            ,
            this.handleHeaderClick = function(e) {
                return e.preventDefault(),
                e.stopPropagation(),
                this.handleHeaderAction($(e.target).closest("[data-action]").attr("data-action"), e)
            }
            ,
            this.handleHeaderAction = function(e, t) {
                var i = this.$node
                  , s = i.attr("data-column");
                switch (e) {
                case "options":
                    i.hasClass(this.attr.isOptionsOpenClass) ? this.exitEditMode() : this.enterEditMode();
                    break;
                case "user-filter":
                case "content-filter":
                case "action-filter":
                case "engagement-filter":
                    this.enterEditMode(e);
                    break;
                case "mark-all-read":
                    TD.controller.stats.messagesColumnHeaderClick("mark_all_read"),
                    this.trigger("uiMarkAllMessagesRead", {
                        columnKey: s
                    });
                    break;
                case "compose-dm":
                    TD.controller.stats.messagesColumnHeaderClick("compose"),
                    this.trigger("uiComposeTweet", {
                        type: "message",
                        columnKey: s
                    });
                    break;
                case "message-menu":
                    var n = $(t.target).closest("[data-action]")
                      , r = n.data("conversation-id")
                      , o = n.data("account-key");
                    i.trigger("uiShowConversationMenu", {
                        conversationId: r,
                        accountKey: o,
                        columnKey: s,
                        $targetElement: n
                    })
                }
            }
            ,
            this.setColumnState = function(e) {
                switch (this.$node.removeClass([this.attr.showDetailViewClass, this.attr.columnStateDetailViewClass, this.attr.showSocialProofClass, this.attr.columnStateSocialProofClass].join(" ")),
                e) {
                case this.attr.columnStateDetailView:
                    this.$node.addClass(this.attr.showDetailViewClass),
                    this.$node.addClass(this.attr.columnStateDetailViewClass);
                    break;
                case this.attr.columnStateSocialProof:
                    this.$node.addClass(this.attr.showSocialProofClass),
                    this.$node.addClass(this.attr.columnStateSocialProofClass),
                    this.$node.one("transitionend", function() {
                        this.select("userSelectorInputSelector").focus()
                    }
                    .bind(this))
                }
            }
            ,
            this.handleDetailViewActive = function() {
                this.setColumnState(this.attr.columnStateDetailView),
                this.scribeAllChirpsHidden(),
                this.pause()
            }
            ,
            this.handleDetailViewClosed = function() {
                this.setColumnState(this.attr.columnStateDefault),
                this.column.detailViewComponent = null ,
                this.unpause()
            }
            ,
            this.handleCloseDetailView = function() {
                this.column.detailViewComponent.destroy()
            }
            ,
            this.handleShowSocialProof = function(e, t) {
                c.attachTo(this.$socialProofContainer, {
                    type: t.type,
                    tweetSummary: t.tweetSummary
                }),
                this.setColumnState(this.attr.columnStateSocialProof)
            }
            ,
            this.handleSocialProofClosed = function() {
                this.setColumnState(this.attr.columnStateDetailView)
            }
            ,
            this.handleCloseSocialProof = function() {
                this.trigger(this.$socialProofContainer, "uiSocialProofForTweetClose")
            }
            ,
            this.handleShowDmParticipants = function(e, t) {
                t.columnKey === this.columnKey && (a.attachTo(this.$socialProofContainer, t),
                this.setColumnState(this.attr.columnStateSocialProof))
            }
            ,
            this.handleCloseDmParticipants = function(e, t) {
                this.setColumnState(this.attr.columnStateDetailView)
            }
            ,
            this.pause = function() {
                this.column.isTrackingRealtime && (this.paused = !0,
                this.column.isTrackingRealtime = !1,
                this.column.ui.pause())
            }
            ,
            this.unpause = function() {
                this.paused && 0 === this.column.getNumUnseenChirps() && (this.column.isTrackingRealtime = !0,
                this.column.ui.unpause()),
                this.paused = !1
            }
            ,
            this.handleUiRemoveColumn = function() {
                this.scribeAllChirpsHidden(),
                this.teardown()
            }
            ,
            this.handleShareColumnButtonClick = function(e, t) {
                var i = $(t.el);
                this.toggleShareMenu(e, i)
            }
            ,
            this.toggleShareMenu = function(e, t) {
                e.preventDefault(),
                e.stopPropagation();
                var i = this.attr.dropdownPositions;
                this.renderDropdown(t, "menus/column_share", {
                    isEmbeddable: this.column.isEmbeddable(),
                    isShareable: this.column.isShareable(),
                    isViewable: this.column.isViewable(),
                    isCollection: this.column.isCustomTimeline()
                }, {
                    position: [i.offsetRight, i.underLeftIcon].join(" "),
                    toggle: !0
                })
            }
            ,
            this.getCustomTimelineDataForPermalink = function() {
                var e = this.column.getCustomTimelineFeed()
                  , t = e.getMetadata()
                  , i = TD.util.deMentionify(TD.cache.names.getScreenName(t.ownerId))
                  , s = TD.cache.names.getCustomTimelineName(t.id, t.ownerId);
                if (!i)
                    throw new Error("Could not get username from name cache.");
                return {
                    username: i,
                    name: s,
                    id: t.id.replace(/[^\d]*/, "")
                }
            }
            ,
            this.getCustomTimelinePermalinkURL = function() {
                var e = this.getCustomTimelineDataForPermalink()
                  , t = y.toURLFromRaw("https://twitter.com/{{username}}/timelines/{{id}}", {
                    username: e.username,
                    id: e.id
                });
                return t
            }
            ,
            this.getCustomTimelinePermalinkURLWithDescription = function() {
                var e = this.getCustomTimelineDataForPermalink()
                  , t = y.toHtmlFromRaw("“{{name}}” - @{{username}} “https://twitter.com/{{username}}/timelines/{{id}}”", {
                    name: e.name,
                    username: e.username,
                    id: e.id
                });
                return t
            }
            ,
            this.handleViewTimeline = function() {
                var e = this.getCustomTimelinePermalinkURL();
                TD.util.openURL(e)
            }
            ,
            this.handleReferenceTimeline = function() {
                var e = this.column.getColumnType();
                "col_customtimeline" === e ? this.trigger("uiComposeTweet", {
                    appendText: this.getCustomTimelinePermalinkURLWithDescription()
                }) : this.trigger("uiNeedsSerializedColumn", {
                    columnId: this.columnKey
                })
            }
            ,
            this.handleShowingColumnOptions = function(e, t) {
                var i = this.select("columnMessageSelector");
                i.css({
                    opacity: 0
                }),
                this.transitionCollapse(i)
            }
            ,
            this.handleColumnOptionsShown = function(e, t) {
                n.attachTo(this.$columnOptions)
            }
            ,
            this.handleHidingColumnOptions = function(e) {
                this.trigger(this.$columnOptions, "uiDestroyAsynchronousForm"),
                this.renderColumnMessage()
            }
            ,
            this.handleColumnOptionsHidden = function(e, t) {
                var i = this.select("columnMessageSelector");
                i.animate({
                    opacity: 1
                }, 150, "easeInOutQuad")
            }
            ,
            this.renderColumnMessage = function() {
                var e, t = this.select("columnMessageSelector");
                this.column.hasActiveSearchFilters() ? (this.column.hasFilterError() ? (e = $(y.render(this.attr.filterErrorTemplate)),
                t.addClass(this.attr.filterErrorClass)) : (e = $(y.render(this.attr.columnMessageTemplate, {
                    action: !this.column.isSingleActionTypeColumn() && !this.column.isSearchColumn() && this.column.hasActiveActionFilters(),
                    content: this.column.hasActiveContentFilters(),
                    location: this.column.hasActiveLocationFilters() && (TD.decider.get("dev_location_filter") || TD.storage.accountController.getEmployeeState()),
                    user: this.column.hasActiveUserFilters(),
                    engagement: this.column.hasActiveEngagementFilters()
                })),
                t.removeClass(this.attr.filterErrorClass)),
                this.animateElementContentHeight(t, e)) : this.animateElementContentHeight(t, "")
            }
            ,
            this.handleSettingsChange = function(e, t) {
                (t.font_size || t.column_width) && (this.createNewHeightCache(),
                this.scribeTweetImpressions())
            }
            ,
            this.handleMediaPreviewChange = function(e, t) {
                this.createNewHeightCache(),
                this.scribeTweetImpressions()
            }
            ,
            this.createNewHeightCache = function() {
                this.chirpHeightCache = new D(200)
            }
            ,
            this.moveColumnTop = function(e, t) {
                if (0 !== e) {
                    var i = [this.select("scrollContainerSelector"), this.select("moreTweetsButtonContainerSelector")];
                    t = t || void 0 === t,
                    this.targetTopPosition += e,
                    t ? i.forEach(function(e) {
                        this.transitionTop(e, this.attr.columnScrollerIsAnimatingClass, this.targetTopPosition)
                    }, this) : $(i).css("top", this.targetTopPosition)
                }
            }
            ,
            this.getColumnTopError = function() {
                var e, t = this.select("scrollContainerSelector"), i = 0;
                return t.hasClass(this.attr.columnScrollerIsAnimatingClass) || (e = this.select("columnOptionsContainerSelector").height(),
                i = e - this.targetTopPosition),
                i
            }
            ,
            this.fixColumnTop = function() {
                this.moveColumnTop(this.getColumnTopError(), !1)
            }
            ,
            this.handleShowUserFilter = function() {
                this.trigger(this.$columnOptions, "uiShowUserFilter")
            }
            ,
            this.handleShowContentFilter = function() {
                this.trigger(this.$columnOptions, "uiShowContentFilter")
            }
            ,
            this.handleUpdateSearchFilter = function(e, t) {
                this.column.updateSearchFilter(t)
            }
            ,
            this.handleUpdateMediaPreview = function(e, t) {
                this.column.setMediaPreviewSize(t.value)
            }
            ,
            this.handleColumnUpdating = function() {
                this.trigger(this.$columnOptions, "uiWaitingForAsyncResponse")
            }
            ,
            this.handleColumnUpdated = function() {
                this.trigger(this.$columnOptions, "uiReceivedAsyncResponse")
            }
            ,
            this.handleMarkAllRead = function() {
                this.column.markAllMessagesAsRead()
            }
            ,
            this.handleSerializedColumn = function(e, t) {
                if (t.columnId === this.columnKey) {
                    var i = y.toHtmlFromRaw("Check out this TweetDeck column: “{{url}}”", {
                        name: this.column.model.getTitle(),
                        url: t.url
                    });
                    this.trigger("uiComposeTweet", {
                        appendText: i
                    })
                }
            }
            ,
            this.handleMessageCount = function(e, t) {
                if (this.columnKey === t.columnKey) {
                    var i = this.select("columnUnreadCountSelector")
                      , s = i.text() || "0"
                      , n = "0" === s && "0" !== t.count
                      , r = "0" !== s && "0" === t.count;
                    i.text(t.count),
                    n && (this.stopAnimation(i, this.attr.animateOutClass),
                    i.addClass("is-visible"),
                    this.addAnimateClass(i, this.attr.animateInClass)),
                    r && (this.stopAnimation(i, this.attr.animateInClass),
                    this.addAnimateClass(i, this.attr.animateOutClass, function() {
                        i.removeClass("is-visible")
                    }))
                }
            }
            ,
            this.handleColumnReadStatus = function(e, t) {
                this.column.isMessageColumn() || (t.columnKey = this.columnKey,
                this.$node.toggleClass(this.attr.isNewClass, !t.read))
            }
            ,
            this.handleMessageThreadRead = function(e, t) {
                this.column.isMessageColumn() && this.trigger(document, "uiMessageUnreadCount", {
                    columnKey: this.columnKey,
                    count: this.column.unreadMessageCount()
                })
            }
            ,
            this.handleColumnVisibilities = function(e, t) {
                var i = this.column.visibility
                  , s = t[this.columnKey];
                s && (this.column.visibility = s,
                i.visibleFraction !== s.visibleFraction && this.scribeTweetImpressions())
            }
            ,
            this.getChirpVerticalVisibileFraction = function(e, t) {
                if (0 >= t)
                    return 0;
                var i = Math.min(this.scrollContainerHeight, Math.max(0, e))
                  , s = Math.min(this.scrollContainerHeight, Math.max(0, e + t))
                  , n = s - i;
                return n / t
            }
            ,
            this.scribeTweetImpressions = function() {
                var e = this.column.temporary || this.column.visibility.visibleFraction > .5
                  , t = this.$node.hasClass(this.attr.columnStateDetailViewClass) || this.$node.hasClass(this.attr.columnStateSocialProofClass);
                if (TD.util.documentIsHidden() || t || !e)
                    this.setAllChirpsHidden();
                else {
                    var i = Date.now();
                    this.updateVisibleChirps(i),
                    this.updateVisibleChirpsWithEndTimes(i),
                    TD.controller.stats.tweetStreamImpression(this.column.getColumnType(), this.getChirpsToScribeTierTwo())
                }
                TD.controller.stats.tweetStreamImpression(this.column.getColumnType(), this.getChirpsToScribeTierThree(), !0),
                this.removeScribedChirpsFromVisibleChirps()
            }
            ,
            this.scribeAllChirpsHidden = function() {
                this.setAllChirpsHidden(),
                TD.controller.stats.tweetStreamImpression(this.column.getColumnType(), this.getChirpsToScribeTierThree(), !0)
            }
            ,
            this.updateVisibleChirps = function(e) {
                var t = !1;
                this.scrollContainerHeight = this.$scrollContainer.height();
                var i = null
                  , s = [];
                this.select("chirpSelector").each(function(n, r) {
                    var o = $(r)
                      , a = o.attr("data-key")
                      , c = this.chirpHeightCache.get(a);
                    if (!c) {
                        if (c = o.height(),
                        0 >= c)
                            return;
                        this.chirpHeightCache.put(a, c)
                    }
                    var l;
                    l = null === i ? o.position().top : i + 1,
                    i = l + c;
                    var u = this.getChirpVerticalVisibileFraction(l, c)
                      , d = u * (this.column.temporary ? 1 : this.column.visibility.visibleFraction);
                    if (0 >= d && t)
                        return !1;
                    if (d > 0) {
                        t = !0,
                        s.push({
                            $elem: o,
                            id: a,
                            chirp: this.column.findChirp(a)
                        });
                        var h = this.visibleChirpsTierTwo[a];
                        h || (h = {
                            scribed: !1
                        }),
                        this.visibleChirpsTierTwo[a] = h
                    }
                    if (d > .5) {
                        var m = this.visibleChirpsTierThree[a];
                        m || (m = {
                            scribed: !1,
                            visibilityStart: e
                        }),
                        m.knownVisible = !0,
                        this.visibleChirpsTierThree[a] = m
                    }
                }
                .bind(this)),
                this.trigger("uiVisibleChirps", {
                    columnKey: this.columnKey,
                    chirpsData: s
                })
            }
            ,
            this.updateVisibleChirpsWithEndTimes = function(e) {
                (0,
                o.default)(this.visibleChirpsTierThree).forEach(function(t) {
                    var i = this.visibleChirpsTierThree[t];
                    i.knownVisible || (i.visibilityEnd = e),
                    this.visibleChirpsTierThree[t] = i
                }, this)
            }
            ,
            this.getChirpsToScribeTierThree = function() {
                var e = [];
                return (0,
                o.default)(this.visibleChirpsTierThree).forEach(function(t) {
                    var i, s = this.visibleChirpsTierThree[t];
                    s.visibilityStart && s.visibilityEnd && (s.visibilityEnd - s.visibilityStart > 500 && (i = this.column.findMostInterestingChirp(t),
                    i instanceof TD.services.TwitterStatus && e.push(i.getScribeItemData(s))),
                    s.scribed = !0,
                    this.visibleChirpsTierThree[t] = s)
                }, this),
                e
            }
            ,
            this.getChirpsToScribeTierTwo = function() {
                var e = [];
                return (0,
                o.default)(this.visibleChirpsTierTwo).forEach(function(t) {
                    var i, s = this.visibleChirpsTierTwo[t];
                    this.column.scribedImpressionIDs.get(t) || (i = this.column.findMostInterestingChirp(t),
                    i instanceof TD.services.TwitterStatus && e.push(i.getScribeItemData(s)),
                    this.column.scribedImpressionIDs.put(t, !0)),
                    s.scribed = !0,
                    this.visibleChirpsTierTwo[t] = s
                }, this),
                e
            }
            ,
            this.removeScribedChirpsFromVisibleChirps = function() {
                (0,
                o.default)(this.visibleChirpsTierTwo).forEach(function(e) {
                    var t = this.visibleChirpsTierTwo[e];
                    t.scribed && delete this.visibleChirpsTierTwo[e]
                }, this),
                (0,
                o.default)(this.visibleChirpsTierThree).forEach(function(e) {
                    var t = this.visibleChirpsTierThree[e];
                    t.scribed ? delete this.visibleChirpsTierThree[e] : (t.knownVisible = !1,
                    this.visibleChirpsTierThree[e] = t)
                }, this)
            }
            ,
            this.setAllChirpsHidden = function() {
                var e = Date.now();
                (0,
                o.default)(this.visibleChirpsTierThree).forEach(function(t) {
                    this.visibleChirpsTierThree[t].visibilityEnd = e
                }, this)
            }
            ,
            this.setMoreTweetsDesign = function() {
                var e = !!this.getDecider("column_unread_bar");
                this.select("moreTweetsButton").toggleClass("is-hidden", e),
                this.select("moreTweetsGlow").toggleClass("is-hidden", !e)
            }
            ,
            this.toggleQuotedTweetUnavailableMessage = function() {
                return TD.util.columnUtils.toggleQuotedTweetUnavailable(this.select("chirpSelector"))
            }
            ,
            this.getAllCustomTimelineData = function() {
                var e = this.column.getCustomTimelineFeed()
                  , t = this.column.getCustomTimeline()
                  , i = e.getMetadata()
                  , s = t.account.getKey()
                  , n = TD.controller.feedManager.getPoller(e.getKey());
                return {
                    feed: e,
                    customTimeline: t,
                    metadata: i,
                    account: s,
                    poller: n
                }
            }
            ,
            this.customTimelineActionWasMe = function(e) {
                var t = this.column.getCustomTimelineFeed();
                if (t) {
                    var i = t.getMetadata();
                    if (i)
                        return e.action.id === i.id
                }
            }
            ,
            this.refreshCustomTimelineFeed = function(e, t) {
                if (this.customTimelineActionWasMe(t)) {
                    var i = this.getAllCustomTimelineData();
                    i.poller.refresh()
                }
            }
            ,
            this.removeChripFromCustomTimelineFeed = function(e, t) {
                if (this.customTimelineActionWasMe(t)) {
                    var i = this.getAllCustomTimelineData();
                    i.poller.removeWhere(function(e) {
                        return e.id === t.action.tweetId
                    })
                }
            }
            ,
            this.transformRemoveTweetFromCustomTimeline = function(e, t) {
                var i = this.getAllCustomTimelineData();
                return {
                    id: i.metadata.id,
                    tweetId: t.tweetId,
                    account: i.account
                }
            }
            ,
            this.isOfMetaType = function(e) {
                if (!this.column || !this.column.getColumnType)
                    return !1;
                var t = this.column.getColumnType();
                return t === TD.util.columnUtils.columnMetaTypes[e]
            }
            ,
            this.addDropTargetClass = function(e, t) {
                TD.decider.get("dev_collection_reordering") || this.$node.addClass(this.attr.dropTargetClass)
            }
            ,
            this.removeDropTargetClass = function(e, t) {
                TD.decider.get("dev_collection_reordering") || this.$node.removeClass(this.attr.dropTargetClass)
            }
            ,
            this.enterEditMode = function(e) {
                var t = TD.controller.columnManager.get(this.columnKey)
                  , i = this.$columnOptions;
                this.$node.hasClass(this.attr.isOptionsOpenClass) || (this.$node.addClass(this.attr.isOptionsOpenClass),
                b.attachTo(i, {
                    column: t,
                    expandContentFilter: "content-filter" === e,
                    expandUserFilter: "user-filter" === e,
                    expandActionFilter: "action-filter" === e,
                    expandEngagementFilter: "engagement-filter" === e,
                    columnType: t.getColumnType()
                }))
            }
            ,
            this.exitEditMode = function() {
                this.$node.hasClass(this.attr.isOptionsOpenClass) && (this.$node.removeClass(this.attr.isOptionsOpenClass),
                this.$columnOptions.trigger("uiColumnOptionsCloseAction"))
            }
        }
        var s = i(1).component
          , n = i(93)
          , r = i(494)
          , a = i(497)
          , c = i(534)
          , l = i(69)
          , u = i(38)
          , d = i(96)
          , h = i(94)
          , m = i(547)
          , p = i(552)
          , f = i(571)
          , g = i(20)
          , v = i(30)
          , T = i(559)
          , w = i(498)
          , b = i(473)
          , y = i(9)
          , D = i(92);
        return s(t, l, u, d, h, m, p, f, g, T, v)
    }
    .call(t, i, t, e),
    !(void 0 !== n && (e.exports = n))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                columnDragHandleSelector: ".js-column-drag-handle",
                hideTweetDragHandlesClass: "without-tweet-drag-handles",
                scrollDebounceTime: 200,
                focusId: null ,
                dragScrollActivationOffset: {
                    left: 500,
                    right: 800
                },
                dragScrollActivationResponseDamping: 10
            }),
            this.after("initialize", function() {
                this.$scrollContainer = this.select("appColumnsContainerSelector"),
                this.on(document, "dataColumnOrder", this.setTweetDragHandleState),
                this.on(document, "uiColumnRendered", this.handleColumnRendered),
                this.select("columnSelector").each(function(e, t) {
                    var i = $(t);
                    n.attachTo(i, {
                        focusId: this.attr.focusId
                    })
                }
                .bind(this)),
                this.setupDragScroll("appColumnsContainerSelector", {
                    deltaFn: function(e, t, i, s) {
                        if (!this.attr.dragScrollActivationOffset[t])
                            return e;
                        var n = this.attr.dragScrollActivationOffset[t] / 10
                          , r = this.attr.dragScrollActivationResponseDamping
                          , o = 1 / (1 + Math.pow(Math.E, n - s / r));
                        return parseFloat((e * o).toFixed(4))
                    }
                });
                var e = ["dataColumnOrder", "uiToggleNavBarWidth", "uiDrawerTransitionComplete"];
                this.on(document, e.join(" "), this.calculateColumnVisibilities),
                this.on(this.$scrollContainer, "scroll", _.debounce(this.calculateColumnVisibilities.bind(this), this.attr.scrollDebounceTime)),
                this.on(window, "resize", this.calculateColumnVisibilities),
                this.trigger("uiNeedsColumnOrder")
            }),
            this.handleColumnRendered = function(e, t) {
                n.attachTo(t.$column, {
                    column: t.column,
                    focusId: this.attr.focusId
                })
            }
            ,
            this.calculateColumnVisibilities = function() {
                var e = this.select("columnSelector")
                  , t = this.$scrollContainer.width()
                  , i = {};
                e.each(function(e) {
                    var s, n = $(this), r = n.position(), o = n.width();
                    r.right = r.left + o,
                    r.left = Math.max(0, r.left),
                    r.right = Math.max(0, r.right),
                    r.left = Math.min(t, r.left),
                    r.right = Math.min(t, r.right),
                    s = {
                        columnWidth: o,
                        visibleWidth: r.right - r.left,
                        visibleHeight: n.height()
                    },
                    s.visibleFraction = s.visibleWidth / s.columnWidth,
                    i[n.data("column")] = s
                }),
                this.trigger("uiColumnVisibilities", i)
            }
            ,
            this.setTweetDragHandleState = function(e, t) {
                var i = t.columnOrder.some(function(e) {
                    return TD.controller.columnManager.get(e).isOwnCustomTimeline()
                })
                  , s = !i;
                this.select("columnsContainerSelector").toggleClass(this.attr.hideTweetDragHandlesClass, s)
            }
        }
        i(311);
        var s = i(1).component
          , n = i(470)
          , r = i(69)
          , o = i(38)
          , a = i(500);
        return s(t, r, o, a)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            var e = !1
              , t = null
              , i = null
              , s = null ;
            this.attributes({
                templateName: "menus/column_nav_menu",
                contentSelector: ".js-column-nav-list",
                dragAndDropContainerSelector: ".js-int-scroller",
                addColumnButtonSelector: ".js-header-add-column",
                headerActionSelector: ".js-header-action",
                listItemSelector: ".js-column-nav-menu-item",
                dragHandleSelector: ".js-drag-handle",
                columnNavScrollerSelector: ".js-column-nav-scroller",
                animateInClass: "anim-rotate-in",
                animateOutClass: "anim-rotate-out",
                isNewClass: "is-new",
                overflowClass: "column-navigator-overflow",
                touchEvents: "touchstart touchmove touchend touchcancel",
                listOrientation: "vertical",
                initScrollbarsDelay: 300,
                showScrollbarsThrottle: 100
            }),
            this.after("initialize", function() {
                this.$columnNavScroller = $(".js-column-nav-scroller"),
                this.renderColumnNavigation(),
                this.on(document, "dataColumnsLoaded", this.handleDataColumnsLoaded),
                this.on(document, "uiMainWindowResized", this.handleUiMainWindowResized),
                $.subscribe("/storage/client/column_order_changed", this.handleColumnsChanged.bind(this)),
                $.subscribe("/storage/client/change", this.handleColumnsChanged.bind(this)),
                this.on(document, "uiReadStateChange", this.handleReadStateChange),
                this.on(document, "uiMessageUnreadCount", this.handleMessageCount),
                this.on(document, "dataSettings", this.handleDataSettings),
                this.on(document, "uiColumnTitleRefreshed", this.handleColumnTitleRefreshed),
                this.on("click", {
                    headerActionSelector: this.handleClick
                }),
                this.trigger("uiNeedsSettings"),
                TD.util.isTouchDevice() && this.on(this.$columnNavScroller, this.attr.touchEvents, this.handleTouch),
                this.throttledShowScrollbars = _.throttle(this.showScrollbars.bind(this), this.attr.showScrollbarsThrottle),
                this.debouncedInitScrollbars = _.debounce(this.initScrollbars.bind(this), this.attr.initScrollbarsDelay),
                this.debouncedInitScrollbars(),
                this.setupDragDrop({
                    type: "tweet",
                    indicateDrop: !1,
                    dragover: this.delegateDragOver,
                    drop: function(e, t) {
                        var i = $(e.target).closest(".js-droptarget", this.$node);
                        i.length && this.trigger("uiAddTweetToCustomTimeline", {
                            id: i.data("customtimeline-id"),
                            tweetId: $(t.el).attr("data-tweet-id"),
                            account: i.data("customtimeline-account")
                        })
                    }
                })
            }),
            this.delegateDragOver = function(e) {
                var t, i = $(e.target);
                if (t = i.is(".js-droptarget") ? i : i.closest(".js-droptarget", this.$node),
                t.length) {
                    if (e.preventDefault(),
                    this.$flyover) {
                        if (this.flyoverFor === t[0])
                            return;
                        this.destroyFlyover()
                    }
                    this.showFlyoverFor(t[0]),
                    this.flyoverFor = t[0]
                } else
                    this.destroyFlyover()
            }
            ,
            this.handleDataColumnsLoaded = function() {
                this.renderColumnNavigation()
            }
            ,
            this.handleColumnsChanged = function() {
                this.debouncedInitScrollbars()
            }
            ,
            this.renderColumnNavigation = function() {
                var e, t, i = TD.controller.columnManager.getAllOrdered(), s = [];
                if (this.select("listItemSelector").each(function() {
                    s.push($(this).attr("data-column"))
                }),
                e = s.length !== i.length,
                t = _.map(i, function(t, i) {
                    var n, r, o, a, c, l = t.model.getKey(), u = TD.ui.columns.getColumnElementByKey(l);
                    return s[i] !== l && (e = !0),
                    t.isOwnCustomTimeline() && (n = t.getCustomTimelineFeed(),
                    r = n && n.getMetadata(),
                    o = r && r.id,
                    a = n && n.getAccountKey()),
                    t.isMessageColumn() && (c = t.unreadMessageCount()),
                    {
                        key: l,
                        title: t.getTitleHTML(),
                        iconclass: t.getIconClass(),
                        isNew: u.hasClass(this.attr.isNewClass),
                        customTimelineId: o,
                        customTimelineAccount: a,
                        isMessageColumn: t.isMessageColumn(),
                        unreadCount: "0" === c ? null : c
                    }
                }
                .bind(this)),
                e) {
                    var n = a.render(this.attr.templateName, {
                        columns: t
                    });
                    this.$node.html(n),
                    this.$content = this.select("contentSelector"),
                    this.$addColumnButton = this.select("addColumnButtonSelector"),
                    this.select("headerActionSelector").on("mouseover", this.handleListItemMouseover.bind(this)).on("mouseout", this.handleListItemMouseout.bind(this)),
                    this.resizeColumnNavigation(),
                    this.initialiseDragDrop()
                }
                var r = $(".js-column-nav-list a").find(":hover");
                r.length || this.destroyFlyover()
            }
            ,
            this.resizeColumnNavigation = function() {
                this.setNormalNavbar();
                var e = this.$node.height();
                this.$node && e && this.$content.outerHeight() > e && this.setOverflowNavbar()
            }
            ,
            this.setNormalNavbar = function() {
                $(document).trigger("uiColumnNavSizeNormal"),
                this.$columnNavScroller.removeClass(this.attr.overflowClass),
                this.$addColumnButton.show()
            }
            ,
            this.setOverflowNavbar = function() {
                $(document).trigger("uiColumnNavSizeOverflow"),
                this.$columnNavScroller.addClass(this.attr.overflowClass),
                this.$addColumnButton.hide()
            }
            ,
            this.handleUiMainWindowResized = function() {
                this.resizeColumnNavigation(),
                this.throttledShowScrollbars()
            }
            ,
            this.handleClick = function(t) {
                if (!TD.util.isTouchDevice() || !e) {
                    var i = $(t.target).closest("a[data-action]")
                      , s = i.data("action")
                      , n = i.data("column");
                    switch (s) {
                    case "jumpto":
                        TD.controller.columnManager.showColumn(n),
                        TD.controller.stats.navbarJumpToColumn()
                    }
                    this.trigger(TD.components.BaseModal.CLOSE_EVENT)
                }
            }
            ,
            this.handleDrop = function(e) {
                var t = []
                  , i = $(e.target).attr("data-column");
                this.trigger("uiColumnMoving", {
                    columnKey: i
                }),
                this.select("listItemSelector").each(function() {
                    t.push($(this).attr("data-column"))
                }),
                TD.storage.clientController.client.setColumnOrder(t),
                TD.controller.stats.navbarReorderColumns()
            }
            ,
            this.handleDrag = function(e, t) {
                this.repositionFlyover($(e.target))
            }
            ,
            this.handleDropped = function(e, t) {
                this.repositionFlyover($(e.target))
            }
            ,
            this.initialiseDragDrop = function() {
                this.select("dragAndDropContainerSelector").dragdroplist({
                    handle: this.attr.dragHandleSelector,
                    orientation: this.attr.listOrientation,
                    selector: this.attr.listItemSelector,
                    $boundary: this.$node
                }).on("drop.dragdroplist", this.handleDrop.bind(this)).on("drag.draggable", this.handleDrag.bind(this)).on("dropped.dragdroplist", this.handleDropped.bind(this))
            }
            ,
            this.getColumnItem = function(e) {
                return this.$node.find(".js-column-nav-menu-item[data-column=" + e + "]")
            }
            ,
            this.handleReadStateChange = function(e, t) {
                var i = this.getColumnItem(t.columnKey)
                  , s = i.find(".js-unread-count");
                0 === s.length && i.toggleClass(this.attr.isNewClass, !t.read)
            }
            ,
            this.handleMessageCount = function(e, t) {
                var i = this.getColumnItem(t.columnKey)
                  , s = i.find(".js-unread-count")
                  , n = s.text() || "0"
                  , r = "0" === n && "0" !== t.count
                  , o = "0" !== n && "0" === t.count;
                s.text(t.count),
                r && (this.stopAnimation(s, this.attr.animateOutClass),
                s.addClass("is-visible"),
                this.addAnimateClass(s, this.attr.animateInClass)),
                o && (this.stopAnimation(s, this.attr.animateInClass),
                this.addAnimateClass(s, this.attr.animateOutClass, function() {
                    s.removeClass("is-visible")
                }))
            }
            ,
            this.showFlyoverFor = function(e) {
                var t = $(e);
                if (this.isNavbarCollapsed && !TD.util.isTouchDevice()) {
                    var i, s, n = t.data("column");
                    n && (i = TD.controller.columnManager.get(n),
                    s = {
                        content: i.getTitleHTML()
                    }),
                    this.isDragging() || this.renderFlyover(t, s)
                }
            }
            ,
            this.handleListItemMouseover = function(e) {
                this.showFlyoverFor(e.currentTarget)
            }
            ,
            this.handleListItemMouseout = function(e) {
                this.isDragging() || this.destroyFlyover()
            }
            ,
            this.isDragging = function() {
                return this.$node.find(".draggable-dragging").length > 0
            }
            ,
            this.handleDataSettings = function(e, t) {
                this.isNavbarCollapsed = Boolean("condensed" === t.navbarWidth),
                this.destroyFlyover()
            }
            ,
            this.handleDataColumnStateUpdated = function(e, t) {
                var i = this.$node.find(".js-column-nav-menu-item[data-column=" + t.columnKey + "]");
                t.unread ? i.addClass(this.attr.isNewClass) : i.removeClass(this.attr.isNewClass)
            }
            ,
            this.handleColumnTitleRefreshed = function(e, t) {
                var i = this.$node.find(".js-column-nav-menu-item[data-column=" + t.columnKey + "] .js-column-title")
                  , s = TD.controller.columnManager.get(t.columnKey)
                  , n = s.getTitleHTML();
                i.html(n)
            }
            ,
            this.initScrollbars = function() {
                var e = this.$columnNavScroller.data("antiscroll");
                e ? e.refresh() : this.$columnNavScroller.antiscroll({
                    showOnMouseOver: !1,
                    position: "left"
                })
            }
            ,
            this.showScrollbars = function() {
                var e = this.$columnNavScroller.data("antiscroll");
                e ? (e.refresh(),
                e.vertical && e.vertical.show()) : this.initScrollbars()
            }
            ,
            this.handleTouch = function(n) {
                var r = $(n.target);
                if (0 !== r.closest(".js-drag-handle").length) {
                    var o = null
                      , a = n.originalEvent
                      , c = a.changedTouches[0]
                      , l = {
                        x: c.pageX,
                        y: c.pageY
                    }
                      , u = (new Date).getTime();
                    switch (a.type) {
                    case "touchstart":
                        e = !1,
                        t = u,
                        i = l,
                        s = 0;
                        break;
                    case "touchmove":
                        var d = this.countDistance(l, i);
                        if (d > s && (s = d),
                        t + 300 > u)
                            break;
                        !e && 50 > s ? (e = !0,
                        o = "mousedown") : e && (o = "mousemove");
                        break;
                    case "touchend":
                        e && (o = "mouseup")
                    }
                    o && this.simulateMouseEvent(o, a)
                }
            }
            ,
            this.simulateMouseEvent = function(e, t) {
                var i = t.changedTouches[0]
                  , s = document.createEvent("MouseEvent");
                s.initMouseEvent(e, !0, !0, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, !1, !1, !1, !1, 0, null ),
                i.target.dispatchEvent(s),
                t.preventDefault()
            }
            ,
            this.countDistance = function(e, t) {
                if (!e || !t)
                    return 0;
                var i = Math.abs(e.x - t.x)
                  , s = Math.abs(e.y - t.y);
                return Math.sqrt(i * i + s * s)
            }
        }
        var s = i(1).component
          , n = i(94)
          , r = i(38)
          , o = i(184)
          , a = i(9);
        return s(t, n, r, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                actionButton: "[data-action]",
                searchInputForm: ".js-column-options-search-form",
                searchInput: ".js-search-input",
                scribeSection: "column_options",
                isAnimatingClass: "is-column-options-animating",
                accordionSelector: ".js-accordion",
                column: null ,
                columnType: null ,
                isTouchColumnOptionsClass: "is-touch-column-options",
                hideContentClass: "scroll-none",
                scribeElementSelector: "[data-scribe-element]"
            }),
            this.updateHeight = function() {
                this.$node.css("height", ""),
                this.$node.height(this.$node.height()),
                this.trigger("uiAccordionTotalHeightChanged")
            }
            ,
            this.handleChildTransitionExpandStart = function(e, t) {
                this.$node.css("height", "")
            }
            ,
            this.handleChildTransitionExpandEnd = function() {
                this.$node.height(this.$node.height())
            }
            ,
            this.handleUpdateSearchFilter = function(e, t) {
                this.updateHeight(),
                this.column.updateSearchFilter(t)
            }
            ,
            this.handleShowUserFilter = function(e) {
                e.stopPropagation(),
                this.showAccordionPanel(this.select("userFilterSelector"))
            }
            ,
            this.handleShowContentFilter = function(e) {
                e.stopPropagation(),
                this.showAccordionPanel(this.select("contentFilterSelector"))
            }
            ,
            this.hide = function() {
                this.$node.hasClass(this.attr.isAnimatingClass) || (this.trigger("uiHidingColumnOptions"),
                this.$node.addClass(this.attr.hideContentClass),
                this.transitionCollapse(this.$node, this.attr.isAnimatingClass, this.afterHideTransition.bind(this)),
                this.teardown())
            }
            ,
            this.afterHideTransition = function() {
                this.$node.css("height", ""),
                this.$node.empty(),
                this.trigger("uiColumnOptionsHidden")
            }
            ,
            this.showColumnOptions = function() {
                var e = function() {
                    this.$node.removeClass(this.attr.hideContentClass),
                    this.trigger("uiColumnOptionsShown")
                }
                .bind(this);
                this.trigger("uiShowingColumnOptions"),
                this.$node.addClass(this.attr.hideContentClass),
                this.transitionExpand(this.$node, this.attr.isAnimatingClass, e.bind(this))
            }
            ,
            this.handleClickEvents = function(e) {
                var t = $(e.target).closest(this.attr.actionButton)
                  , i = t.data("action")
                  , s = this.column.model.getKey();
                switch (i) {
                case "remove":
                    this.trigger("uiDeleteColumnAction", {
                        columnId: s
                    });
                    break;
                case "clear":
                    this.column.clear(),
                    this.trigger("uiClearColumnAction", {
                        columnId: s
                    });
                    break;
                case "left":
                case "right":
                    this.trigger("uiMoveColumnAction", {
                        columnId: s,
                        action: i
                    });
                    break;
                case "edit-list":
                    new TD.components.ListMembers(this.column.isOwnList());
                    break;
                case "delete-customtimeline":
                    var n = _.uniqueId()
                      , r = {
                        id: n,
                        title: TD.i("Delete"),
                        message: TD.i("Are you sure you want to delete this collection?"),
                        okLabel: TD.i("Delete"),
                        cancelLabel: TD.i("Cancel")
                    };
                    this.on(document, "uiConfirmationAction", function(e, t) {
                        t.id === n && (this.off(document, "uiConfirmationAction"),
                        t.result && this.column.deleteCustomTimeline())
                    }),
                    this.trigger("uiShowConfirmationDialog", r);
                    break;
                case "embed":
                    this.trigger("uiEmbedTimelineAction", {
                        column: this.column
                    });
                    break;
                case "view-on-web":
                    this.trigger("uiViewTimeline");
                    break;
                case "reference-to":
                    this.trigger("uiReferenceTimeline")
                }
            }
            ,
            this.handleScribeElementClick = function(e) {
                var t = $(e.target).closest(this.attr.scribeElementSelector).attr("data-scribe-element");
                TD.controller.stats.generic({
                    section: this.attr.scribeSection,
                    element: t,
                    action: "click"
                })
            }
            ,
            this.after("initialize", function() {
                this.column = this.attr.column;
                var e, t = this.column.getSearchFilter(), i = this.column.isSearchColumn(), s = -1 !== TD.util.columnUtils.mediaPreviewableColumnTypes.indexOf(this.column.getColumnType());
                this.on("uiShowUserFilter", this.handleShowUserFilter),
                this.on("uiShowContentFilter", this.handleShowContentFilter),
                this.on("uiColumnOptionsCloseAction", this.hide),
                this.on("uiColumnUpdateSearchFilter", this.handleUpdateSearchFilter),
                this.on("uiAccordionExpandAction", this.updateHeight),
                this.on("uiAccordionCollapseAction", this.updateHeight),
                this.on(document, "uiColumnWidthChange", this.updateHeight),
                this.on("uiTransitionExpandStart", {
                    searchFilterSelector: this.handleChildTransitionExpandStart
                }),
                this.on("uiTransitionExpandEnd", {
                    searchFilterSelector: this.handleChildTransitionExpandEnd
                }),
                this.on("click", {
                    actionButton: this.handleClickEvents,
                    scribeElementSelector: this.handleScribeElementClick
                });
                var r = Boolean(TD.util.isTouchDevice() && TD.decider.get("touchdeck_column_options_v2"));
                r ? this.$node.addClass(this.attr.isTouchColumnOptionsClass) : this.$node.removeClass(this.attr.isTouchColumnOptionsClass),
                e = {
                    searchTerm: this.column.getBaseQuery(),
                    isOwnList: Boolean(this.column.isOwnList()),
                    isOwnCustomTimeline: this.column.isOwnCustomTimeline(),
                    isShareableOrEmbeddable: this.column.isShareable() || this.column.isEmbeddable(),
                    isClearable: this.column.isClearable(),
                    isTouchColumnOptions: r,
                    isDataminr: this.column.isDataminr()
                };
                var o = l.render("column/column_options", e);
                this.$node.html(o),
                this.column.isFilterable() && this.renderSearchFilters(t, {
                    withContentType: !0,
                    withMatching: {
                        isControl: !0,
                        searchInputClassName: this.attr.matchingClass,
                        searchInputPlaceholder: TD.i("Enter words to match"),
                        searchInputTitle: "matching",
                        searchInputValue: t.content ? t.content.matching : ""
                    },
                    withExcluding: {
                        isControl: !0,
                        searchInputClassName: this.attr.excludingClass,
                        searchInputPlaceholder: TD.i("Enter words to exclude"),
                        searchInputTitle: "excluding",
                        searchInputValue: t.content ? t.content.excluding : ""
                    },
                    withLanguage: i,
                    withRetweetsToggle: !0,
                    withFromList: i,
                    withActionFilter: this.column.isActionsColumn(),
                    withEngagementFilter: i && TD.decider.get("engagement_filter"),
                    withPeriscopeFilter: i,
                    withLocationFilter: i && (TD.decider.get("dev_location_filter") || TD.storage.accountController.getEmployeeState()),
                    expandContentFilter: this.attr.expandContentFilter,
                    expandUserFilter: this.attr.expandUserFilter,
                    expandActionFilter: this.attr.expandActionFilter,
                    expandEngagementFilter: this.attr.expandEngagementFilter
                }),
                n.attachTo(this.select("accordionSelector"), {
                    column: this.column
                }),
                s && this.renderThumbSizeSelector(),
                this.showColumnOptions()
            })
        }
        var s = i(1).component
          , n = i(467)
          , r = i(125)
          , o = i(185)
          , a = i(558)
          , c = i(38)
          , l = i(9);
        return s(t, r, o, a, c)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                columnDragHandleSelector: ".js-column-drag-handle",
                appColumnsContainerSelector: ".js-app-columns-container",
                columnsContainerSelector: ".js-app-columns",
                columnSelector: ".js-column"
            }),
            this.after("initialize", function() {
                this.on("uiColumnRendered", this.handleColumnRendered),
                this.select("columnsContainerSelector").dragdroplist({
                    selector: this.attr.columnSelector,
                    contentSelector: this.attr.columnSelector,
                    handle: this.attr.columnDragHandleSelector,
                    $boundary: this.select("appColumnsContainerSelector"),
                    orientation: "horizontal",
                    tagName: "section",
                    scroll_speed: 24
                }).on("dropped.dragdroplist", function() {
                    var e = [];
                    this.select("columnSelector").each(function() {
                        e.push($(this).attr("data-column"))
                    }),
                    TD.storage.clientController.client.setColumnOrder(e)
                }
                .bind(this))
            }),
            this.handleColumnRendered = function(e, t) {
                t.$column.trigger("itemadded.dragdroplist", {
                    itemId: t.column
                })
            }
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                isMovingClass: "is-moving",
                isMovingSelector: ".is-moving"
            }),
            this.after("initialize", function() {
                this.on(document, "uiColumnMoving", this.handleMovingColumn),
                this.on(document, "dataColumnOrder", this.handleColumnOrder),
                this.$columnsContainer = this.select("columnsContainerSelector")
            }),
            this.handleMovingColumn = function(e, t) {
                this.getColumnElementByKey(t.columnKey).addClass(this.attr.isMovingClass)
            }
            ,
            this.isColumnOffScreen = function(e) {
                var t = e.position().left
                  , i = this.getOriginalWidth(e);
                return 0 > t + i || t + i > this.$node.width()
            }
            ,
            this.storeOriginalWidth = function(e) {
                var t = e.data("originalWidth");
                void 0 === t && (t = parseInt(e.css("width"), 10)),
                e.data("originalWidth", t)
            }
            ,
            this.getOriginalWidth = function(e) {
                return e.data("originalWidth") || parseInt(e.css("width"), 10)
            }
            ,
            this.moveColumnInstantly = function(e, t, i, s) {
                i.length > 0 && i.attr("data-column") !== s.newOrder[s.newIndex + 1] && (s.detached[i.attr("data-column")] = i.detach()),
                e ? t.insertAfter(e) : this.$columnsContainer.prepend(t)
            }
            ,
            this.moveColumnToNewIndex = function(e, t) {
                var i, s, n = e.newOrder[e.newIndex], r = e.detached[n] || this.getColumnElementByKey(n), o = r.index(), a = function() {
                    r.removeClass(this.attr.isMovingClass),
                    t = r,
                    delete e.detached[n]
                }
                .bind(this);
                e.newOrder.length >= e.newIndex ? (i = this.getColumnElementByKey(e.newOrder[e.newIndex + 1]),
                s = i.index()) : (i = !1,
                s = -1),
                e.newIndex < e.newOrder.length && o !== s && (r.hasClass(this.attr.isMovingClass) ? (this.storeOriginalWidth(r),
                this.moveColumnInstantly(t, r, i, e),
                this.isColumnOffScreen(r) ? (r.one("uiColumnScrolled", function() {
                    a(),
                    e.newIndex += 1,
                    this.moveColumnToNewIndex(e, t)
                }
                .bind(this)),
                r.trigger("uiColumnsScrollColumnToCenter", {
                    columnKey: r.attr("data-column")
                })) : (TD.ui.columns.focusColumn(r.attr("data-column"), TD.ui.columns.COLUMN_GLOW_DURATION),
                a(),
                e.newIndex += 1,
                this.moveColumnToNewIndex(e, t))) : (t = r,
                e.newIndex += 1,
                this.moveColumnToNewIndex(e, t)))
            }
            ,
            this.handleColumnOrder = function(e, t) {
                var i = {}
                  , s = null
                  , n = this.select("columnSelector").filter(this.attr.isMovingSelector);
                return n.length > 0 ? void this.moveColumnToNewIndex({
                    newIndex: 0,
                    newOrder: t.columnOrder,
                    detached: i
                }) : void t.columnOrder.forEach(function(e, n) {
                    var r = i[e] || this.getColumnElementByKey(e)
                      , o = this.select("columnSelector").eq(n);
                    o[0] !== r[0] && (t.columnOrder.length > n + 1 && o.length > 0 && o.attr("data-column") !== t.columnOrder[n + 1] && (i[o.attr("data-column")] = o.detach()),
                    0 === n ? r.prependTo(this.$columnsContainer) : r.insertAfter(s),
                    delete i[e]),
                    s = r
                }, this)
            }
        }
        var s = i(1).component
          , n = i(69);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                accountListSelector: ".js-account-list",
                accountItemSelector: ".js-account-item",
                isSelectedClass: "is-selected",
                selectedItemSelector: ".js-account-item.is-selected",
                singleAccountMode: !1,
                focusSelector: ".js-account-item:focus",
                gridModeClass: {
                    grid: "is-grid",
                    minigrid: "is-minigrid",
                    list: "is-list"
                },
                avatarSize: {
                    grid: "48",
                    minigrid: "32",
                    list: "32"
                },
                avatarSizeClass: {
                    grid: "size48",
                    minigrid: "size32",
                    list: "size32"
                },
                stateSource: null
            }),
            this.initialState({
                defaultAccountKey: function() {
                    return this.getDefaultAccount().accountKey
                },
                selectedAccountKeys: function() {
                    return [this.getDefaultAccount().accountKey]
                },
                singleAccountMode: function() {
                    return this.attr.singleAccountMode
                },
                gridMode: function() {
                    return TD.settings.getAccountSelectorGridMode()
                }
            }),
            this.after("initialize", function() {
                this.on("click keypress", {
                    accountItemSelector: this.handleClick
                }),
                this.around("replaceState", this.checkSingleAccountMode),
                this.observe(this.requestResource("settings.state")).pluck("account_selector_grid_mode").subscribeOnNext(this.toState("gridMode"), this),
                this.observe(this.requestResource(this.attr.stateSource)).map(r.filterKeys(["singleAccountMode", "selectedAccountKeys"])).distinctUntilChanged(o.fromJS, o.is).subscribeOnNext(this.mergeState, this),
                this.observe(this.requestResource("accounts.state")).map(r.filterKeys(["accounts"])).distinctUntilChanged(function(e) {
                    var t = e.accounts || [];
                    return o.fromJS(t.map(function(e) {
                        return e.accountKey
                    }))
                }, o.is).map(this.processAccounts, this).subscribeOnNext(this.mergeState, this);
                var e = this.observe(this.observableState).map(r.filterKeys(["accounts", "selectedAccountKeys", "gridMode"])).distinctUntilChanged(o.fromJS, o.is);
                e.subscribeOnNext(this.renderAccounts, this),
                e.map(r.filterKeys(["accounts", "selectedAccountKeys"])).subscribeOnNext(this.broadcastSelectedAccountKeys, this),
                this.initializeTooltips()
            }),
            this.checkSingleAccountMode = function(e, t) {
                t.singleAccountMode && t.selectedAccountKeys.length > 1 && (t.selectedAccountKeys = [],
                TD.controller.progressIndicator.addMessage([TD.i("Messages cannot be sent from multiple accounts."), TD.i("Please choose an account.")].join(" "))),
                e(t)
            }
            ,
            this.initializeTooltips = function() {
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_compose_v2") || this.select("accountListSelector").tooltip({
                    selector: ".js-show-tip",
                    container: "body",
                    placement: "bottom",
                    suppressFadeOut: !0
                })
            }
            ,
            this.processAccounts = function(e) {
                if (e.accounts) {
                    var t;
                    e.accounts.some(function(e) {
                        return e.isDefault ? (t = e.accountKey,
                        !0) : void 0
                    });
                    var i = this.state.selectedAccountKeys.filter(function(t) {
                        return e.accounts.some(function(e) {
                            return e.accountKey === t
                        })
                    })
                      , s = 1 === this.state.selectedAccountKeys.length && this.state.selectedAccountKeys[0] === this.state.defaultAccountKey;
                    return (0 === i.length || s) && (i = [t]),
                    {
                        defaultAccountKey: t,
                        accounts: e.accounts,
                        selectedAccountKeys: i
                    }
                }
            }
            ,
            this.broadcastSelectedAccountKeys = function(e) {
                this.trigger("uiAccountsSelected", {
                    accountKeys: e.selectedAccountKeys
                })
            }
            ,
            this.renderAccounts = function() {
                if (this.state.accounts) {
                    var e = this.select("focusSelector")
                      , t = null ;
                    e.length > 0 && (t = e.attr("data-account-key"));
                    var i = "list" === this.state.gridMode
                      , s = {
                        gridModeClass: this.attr.gridModeClass[this.state.gridMode],
                        avatarSize: this.attr.avatarSize[this.state.gridMode],
                        avatarSizeClass: this.attr.avatarSizeClass[this.state.gridMode],
                        isList: i
                    };
                    s.accounts = this.state.accounts.map(function(e) {
                        var t = this.state.selectedAccountKeys.indexOf(e.accountKey) > -1;
                        return {
                            accountKey: e.accountKey,
                            screenName: e.screenName,
                            name: e.name,
                            profileImageURL: e.profileImageURL,
                            isSelected: t
                        }
                    }, this);
                    var n = this.renderTemplate("compose/account_selector", s);
                    this.select("accountListSelector").replaceWith(n),
                    t && this.select("accountItemSelector").filter('[data-account-key="' + t + '"]').focus(),
                    this.trigger("uiAccountSelectorRendered")
                }
            }
            ,
            this.handleClick = function(e) {
                if (n.eventIsKey(e) && !n.isSpacebar(e))
                    return !1;
                var t, i = $(e.target).closest(this.attr.accountItemSelector), s = i.attr("data-account-key");
                t = e.shiftKey || this.state.singleAccountMode ? [s] : this.toggleArrayElement(this.state.selectedAccountKeys, s),
                this.mergeState({
                    selectedAccountKeys: t
                })
            }
            ,
            this.toggleArrayElement = function(e, t) {
                return -1 === e.indexOf(t) ? e.concat([t]) : e.filter(function(e) {
                    return e !== t
                })
            }
        }
        var s = i(4)
          , n = i(190)
          , r = i(29)
          , o = i(90)
          , a = i(1).component
          , c = i(22)
          , l = i(7)
          , u = i(8)
          , d = i(67);
        return a(d, u, t, s, c, l)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                gridToggleSelector: "[data-grid-mode]"
            }),
            this.initialState({
                gridMode: function() {
                    return TD.settings.getAccountSelectorGridMode()
                }
            }),
            this.after("initialize", function() {
                this.after("mergeState", this.renderToggle),
                this.on(document, "dataSettingsValues", this.handleSettingsValue),
                this.on("click", {
                    gridToggleSelector: this.handleGridToggleClick
                }),
                this.renderToggle()
            }),
            this.renderToggle = function() {
                var e = {};
                e[this.state.gridMode] = !0,
                this.state.gridMode !== this.previousGridMode && (this.render("compose/account_selector_grid_toggle", e),
                this.previousGridMode = this.state.gridMode)
            }
            ,
            this.handleSettingsValue = function(e, t) {
                t.account_selector_grid_mode && this.mergeState({
                    gridMode: t.account_selector_grid_mode
                })
            }
            ,
            this.handleGridToggleClick = function(e) {
                var t = $(e.target).closest(this.attr.gridToggleSelector).attr("data-grid-mode");
                TD.settings.setAccountSelectorGridMode(t)
            }
        }
        var s = i(1).component
          , n = i(4)
          , r = i(28);
        return s(r, t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                stateSource: null ,
                buttonLabelSelector: ".js-add-image-button-label"
            }),
            this.after("initialize", function() {
                this.$buttonLabel = this.select("buttonLabelSelector"),
                this.on(this.$node, "click", this.handleClick);
                var e = this.observe(this.requestResource(this.attr.stateSource));
                e.pluck("addImageButtonText").distinctUntilChanged().subscribeOnNext(this.renderButtonText, this),
                e.pluck("addImageButtonTooltip").distinctUntilChanged().subscribeOnNext(this.renderTooltip, this),
                e.pluck("canAddImage").distinctUntilChanged().subscribeOnNext(this.toggleEnabled, this)
            }),
            this.renderButtonText = function(e) {
                this.$buttonLabel.text(e)
            }
            ,
            this.renderTooltip = function(e) {
                var t = $("<div/>").html(e).text();
                this.$node.attr("data-original-title", t)
            }
            ,
            this.toggleEnabled = function(e) {
                this.$node.toggleClass("is-disabled", !e).attr("tabindex", e ? "" : "-1")
            }
            ,
            this.handleClick = function(e) {
                this.$node.hasClass("is-disabled") || this.trigger(this.$node, "uiComposeAddImageClick")
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8);
        return s(r, t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            var e;
            this.attributes({
                composeDrawerOpenClass: "hide-detail-view-inline",
                inlineOpenClass: ".js-inline-reply.is-inline-active"
            }),
            this.after("initialize", function() {
                this.on(document, "uiDrawerActive", this.handleDrawerActive),
                this.on(document, "uiComposeTweet", this.handleUiComposeTweet),
                this.on(document, "uiFilesAdded", this.handleFilesAdded)
            }),
            this.handleDrawerActive = function(e, t) {
                var i = "compose" === t.activeDrawer;
                this.$node.toggleClass(this.attr.composeDrawerOpenClass, i)
            }
            ,
            this.handleFilesAdded = function(e, t) {
                this.select("inlineOpenClass").length && this.trigger("uiPopInlineComposeState"),
                this.trigger("uiComposeFilesAdded", t)
            }
            ,
            this.handleUiComposeTweet = function(t, i) {
                i = i || {};
                var s = function(e) {
                    return this.select("inlineOpenClass").length && "tweet" === e.type && !e.text && !e.replyTo && !e.quotedTweet
                }
                .bind(this);
                this.$node.hasClass(this.attr.composeDrawerOpenClass) ? this.trigger("uiDockedComposeTweet", i) : "reply" === i.type && i.element && i.element.closest(".js-column").length > 0 ? (e || (n.attachTo(this.$node, {
                    tweetTextInputSelector: ".is-inline-active .js-compose-text",
                    accountListSelector: ".is-inline-active .js-account-list",
                    accountItemSelector: ".is-inline-active .js-account-item",
                    selectedItemSelector: ".is-inline-active .js-account-item.is-selected",
                    sendButtonContainerSelector: ".is-inline-active .js-send-button-container",
                    composeSuccess: ".is-inline-active .js-compose-sending-success",
                    characterCountSelector: ".is-inline-active .js-character-count",
                    accountSafeguardCheckboxSelector: ".is-inline-active .js-account-safeguard-checkbox"
                }),
                e = !0),
                this.trigger("uiInlineComposeTweet", i)) : s(i) ? this.trigger("uiPopInlineComposeState") : this.trigger("uiDockedComposeTweet", i)
            }
        }
        var s = i(1).component
          , n = i(482);
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                stayOpenInputSelector: ".js-compose-stay-open",
                tweetTextInputSelector: ".js-compose-text",
                characterCountSelector: ".js-character-count",
                accountSafeguardCheckboxSelector: ".js-account-safeguard-checkbox",
                composeScrollerSelector: ".js-compose-scroller",
                withTouchComposeClass: "is-touch-compose",
                addImageButtonSelector: ".js-add-image-button",
                sendButtonContainerSelector: ".js-send-button-container",
                scheduleButtonSelector: ".js-scheduler",
                tweetTypeButtonSelector: ".js-tweet-type-button",
                inReplyToSelector: ".js-in-reply-to",
                quoteTweetHolderSelector: ".js-quote-tweet-holder",
                tcoLinkLength: 22,
                tweetLinkLength: 23,
                panelCloseDelay: 500,
                releaseFocusDelay: 300,
                defaultTextComposeHeight: 130,
                increasedTextComposeHeight: 160,
                minimumComposeHeight: 180,
                hintOptions: {
                    selector: ".js-compose-hint",
                    animation: "anim anim-fade-in"
                },
                accountSelectorGridToggleSelector: ".js-account-selector-grid-toggle",
                maxRecipients: 20,
                maxCharCount: 140
            }),
            this.initialState({
                sendingStatus: "ready",
                tweetType: "tweet",
                tweetText: "",
                tweetTextFocused: !1,
                singleAccountMode: !1,
                messageConversation: null ,
                scheduledDate: null ,
                quotedTweet: null ,
                stayOpen: null ,
                accountSafeguardChecked: !1,
                inReplyTo: null ,
                attr: function() {
                    return this.attr
                },
                selectedAccountKeys: function() {
                    return [this.getDefaultAccount().accountKey]
                },
                messageRecipients: function() {
                    return []
                },
                files: function() {
                    return []
                },
                currentTime: function() {
                    return new Date
                },
                replies: function() {
                    return []
                },
                mentions: function() {
                    return []
                },
                selectionIndices: function() {
                    return []
                }
            }),
            this.after("initialize", function() {
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_compose_v2") && this.$node.addClass(this.attr.withTouchComposeClass);
                var e = this.observe(this.requestResource("settings.state")).map(TD.util.unpluck("settings"))
                  , t = this.observe(this.requestResource("/1.1/help/configuration.json")).map(TD.util.unpluck("configuration"))
                  , i = N.Observable.combineLatest([this.observableState, e, t], TD.util.merge).map(L).share();
                this.provideResource("dockedCompose.state", i),
                this.observe(N.Observable.fromEvent(this.$node, "uiComposeSendTweet", function(e) {
                    return e[0]
                })).do(function(e) {
                    e.stopPropagation()
                }).withLatestFrom([i], function(e, t) {
                    return t
                }).filter(TD.util.pluck("canSend")).map(this.prepareSendTweet, this).subscribeOnNext(this.sendTweet, this),
                this.observe(this.observableState).distinctUntilChanged(function(e) {
                    return e.scheduledDate instanceof Date
                }).filter(function(e) {
                    return e.files.length > 0
                }).subscribeOnNext(this.updateImageTTLs, this),
                this.observe(this.observableState).pluck("tweetTextFocused").distinctUntilChanged().filter(TD.util.equals(!1)).subscribeOnNext(this.setReleaseFocusTimer, this),
                this.attachChild(a, this.select("characterCountSelector"), {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(d, this.$node, {
                    stateSource: "dockedCompose.state",
                    maxRecipients: this.attr.maxRecipients
                }),
                this.attachChild(c, this.select("inReplyToSelector"), {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(h, this.select("tweetTextInputSelector"), {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(g, this.select("quoteTweetHolderSelector"), {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(m, this.select("sendButtonContainerSelector"), {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(l, this.select("addImageButtonSelector"), {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(u, this.select("scheduleButtonSelector"), {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(f, this.select("tweetTypeButtonSelector"), {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(p, this.$node, {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(v, this.select("stayOpenInputSelector"), {
                    settingName: "compose_stay_open"
                }),
                this.on("uiAccountsSelected", this.handleAccountsSelected),
                this.attachChild(r, this.$node, {
                    stateSource: "dockedCompose.state"
                }),
                this.attachChild(o, this.select("accountSelectorGridToggleSelector")),
                this.attachChild(n, this.select("accountSafeguardCheckboxSelector"), {
                    stateSource: "dockedCompose.state"
                }),
                this.releaseFocusTimer = null ,
                this.observe(this.requestResource("settings.state")).pluck("compose_stay_open").distinctUntilChanged().subscribeOnNext(this.toState("stayOpen"), this),
                this.on(document, "uiDrawerActive", this.handleUiDrawerActive),
                this.on(document, "uiDockedComposeTweet", this.handleUiComposeTweet),
                this.on(document, "uiComposeClose", this.handleUiComposeClose),
                this.on(document, "uiComposeFilesAdded", this.handleUiComposeFilesAdded),
                this.on(document, "uiRemoveQuotedTweet", this.handleQuotedTweetRemove),
                this.on("uiComposeTweetSending", this.enterSendingState),
                this.on("uiComposeTweetSent", this.enterSuccessState),
                this.on("uiComposeTweetError", this.enterErrorState),
                this.on("uiComposeScheduleDate", this.handleUiComposeScheduleDate),
                this.on("uiAccountSafeguardCheckboxChange", this.handleAccountSafeguardCheckboxChange),
                this.on("uiRemoveInReplyTo", this.handleRemoveInReplyTo),
                this.after("attachImagesPreview", function() {
                    this.mergeState({
                        selectionIndices: [this.state.tweetText.length, this.state.tweetText.length]
                    })
                }),
                this.after("removeFile", function() {
                    this.mergeState({
                        files: this.getFiles()
                    })
                }),
                this.onReceiveClick(function() {
                    this.hasFocus || this.focusRequest()
                }),
                this.onLoseClick(function() {
                    this.hasFocus && this.focusRelease()
                }),
                this.on("uiComposeImageAdded", this.handleComposeImageAdded),
                this.on("uiComposeImageClicked", function() {
                    this.mergeState({
                        tweetTextFocused: !0
                    })
                }),
                this.on("uiComposeTextChanged", this.handleComposeTextChanged),
                this.on("uiAddMessageRecipient", this.handleUiAddMessageRecipient),
                this.on("uiRemoveMessageRecipient", this.handleUiRemoveMessageRecipient),
                this.on("uiRemoveLastMessageRecipient", this.handleUiRemoveLastMessageRecipient),
                this.on("uiAddMessageConversation", this.handleUiAddMessageConversation),
                this.on("uiRemoveMessageConversation", this.handleUiRemoveMessageConversation),
                this.on("uiComposeTextFocus", this.handleUiComposeTextFocus),
                this.$composeScroller = this.select("composeScrollerSelector"),
                N.Observable.merge(this.observableState.map(F.filterKeys(["inReplyTo", "quotedTweet"])).distinctUntilChanged(function(e) {
                    return {
                        inReplyto: e.inReplyTo && e.inReplyTo.id,
                        quotedTweet: e.quotedTweet && e.quotedTweet.id
                    }
                }), e.pluck("account_selector_grid_mode"), N.Observable.fromEvent($(document), "uiMainWindowResized"), N.Observable.fromEvent(this.$node, "uiComposeScheduleDatePickerOpen")).debounce(50).subscribeOnNext(this.initScrollbars, this),
                this.observe(N.Observable.timer(0, 1e3)).timestamp().pluck("timestamp").map(TD.util.makeDate).subscribeOnNext(this.toState("currentTime"), this),
                this.state.stayOpen && this.trigger(document, "uiDockedComposeTweet", {
                    noAnimate: !0,
                    noFocus: !0
                })
            }),
            this.getConversation = function(e, t) {
                return t.map(this.getClientByAccountKey, this).map(function(t) {
                    return t.conversations.getConversation(e)
                }).find(function(e) {
                    return e
                }) || null
            }
            ,
            this.hydrateMessageRecipients = function(e) {
                return TD.core.defer.gatherResults(e.map(function(e) {
                    return e.screenName && e.id && e.profileImageURL ? TD.core.defer.succeed(e) : TD.cache.twitterUsers.getByScreenName(e.screenName || e)
                })).addCallbackWith(this, function(e) {
                    return _.uniq(e, function(e) {
                        return e.id
                    })
                })
            }
            ,
            this.handleUiAddMessageConversation = function(e, t) {
                O.existingConversation(this.state) || O.keyIsInSelectedAccounts(this.state, t.conversation.accountKey) && this.mergeState({
                    messageConversation: this.getConversation(t.conversation.conversationId, [t.conversation.accountKey]),
                    tweetTextFocused: !0
                })
            }
            ,
            this.handleUiAddMessageRecipient = function(e, t) {
                return this.state.messageConversation ? !1 : void (O.maxRecipientsReached(this.state) || this.hydrateMessageRecipients(this.state.messageRecipients.concat(t.recipient)).addCallbackWith(this, function(e) {
                    this.mergeState({
                        messageRecipients: e,
                        tweetTextFocused: e.length >= this.attr.maxRecipients
                    })
                }))
            }
            ,
            this.handleUiRemoveMessageConversation = function(e) {
                this.mergeState({
                    messageConversation: null
                })
            }
            ,
            this.handleUiRemoveMessageRecipient = function(e, t) {
                var i = this.state.messageRecipients.filter(function(e) {
                    return e.id !== t.id
                });
                this.hydrateMessageRecipients(i).addCallbackWith(this, this.toState("messageRecipients"))
            }
            ,
            this.handleUiRemoveLastMessageRecipient = function(e, t) {
                this.hydrateMessageRecipients(this.state.messageRecipients.slice(0, -1)).addCallbackWith(this, this.toState("messageRecipients"))
            }
            ,
            this.handleAccountsSelected = function(e, t) {
                this.mergeState({
                    selectedAccountKeys: t.accountKeys
                }),
                this.updateAccountsMediaIds(t.accountKeys)
            }
            ,
            this.handleUiDrawerActive = function(e, t) {
                null === t.activeDrawer && this.resetAfterClose()
            }
            ,
            this.handleQuotedTweetRemove = function() {
                this.mergeState({
                    quotedTweet: null
                }),
                TD.controller.stats.discardQuoteTweet()
            }
            ,
            this.hideComposePanel = function() {
                this.trigger("uiDrawerHideDrawer")
            }
            ,
            this.handleUiComposeTweet = function(e, t) {
                t = t || {},
                $(document).trigger("uiCloseModal"),
                this.trigger("uiDrawerShowDrawer", {
                    drawer: "compose",
                    withAnimation: !t.noAnimate
                }),
                this.mergeState({
                    tweetType: t.type || "tweet"
                }),
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "compose",
                        component: "docked_compose",
                        element: this.state.tweetType,
                        action: "impression"
                    }
                }),
                t.noReset !== !0 && this.resetComposePanelState(t),
                t.noFocus || this.focusRequest(),
                this.enableClickTrap();
                var i = [];
                if (t.columnKey) {
                    var s = TD.controller.columnManager.get(t.columnKey)
                      , n = s.getFeeds();
                    i = n.length > 1 ? [this.getDefaultAccount().accountKey] : [n[0].getAccountKey()],
                    this.mergeState({
                        selectedAccountKeys: i
                    })
                }
            }
            ,
            this.showScheduledHint = function() {
                this.showHint(TD.i("Your scheduled Tweet will send even if TweetDeck is not running at the time."), this.attr.hintOptions)
            }
            ,
            this.handleUiComposeClose = function(e, t) {
                t = t || {},
                t.keyboardShortcut ? this.hasFocus && (this.state.stayOpen ? this.focusRelease() : this.hideComposePanel()) : this.hideComposePanel(),
                clearTimeout(this.releaseFocusTimer),
                this.releaseFocusTimer = null
            }
            ,
            this.prepareSendTweet = function(e) {
                var t = {};
                return t.requestId = _.uniqueId("sendTweet"),
                t.text = e.rawTweetText,
                t.inReplyToStatusId = this.state.inReplyTo && this.state.inReplyTo.id,
                t.files = this.getFiles(),
                t.messageRecipientIds = e.messageRecipients.map(TD.util.pluck("id")).join(","),
                t.conversationId = e.messageConversation && e.messageConversation.conversationId,
                t.scheduledDate = e.scheduledDate,
                t.from = e.selectedAccountKeys,
                t.type = e.tweetType,
                t.metadata = e.metadata,
                t.files.length && (t.accountsMediaIds = t.from.reduce(function(e, t) {
                    return e[t] = this.getDeferredMediaIdsFor(t),
                    e
                }
                .bind(this), {})),
                t
            }
            ,
            this.enterSendingState = function(e) {
                e.stopPropagation(),
                this.mergeState({
                    sendingStatus: "sending"
                })
            }
            ,
            this.enterSuccessState = function(e) {
                e.stopPropagation(),
                this.mergeState({
                    sendingStatus: "success"
                }),
                setTimeout(this.resetAfterSend.bind(this), this.attr.panelCloseDelay)
            }
            ,
            this.enterErrorState = function(e, t) {
                e.stopPropagation();
                var i;
                t.errors && (i = t.errors.map(function(e) {
                    return e.request.accountKey
                })),
                this.mergeState({
                    sendingStatus: "ready",
                    selectedAccountKeys: i || this.state.selectedAccountKeys
                })
            }
            ,
            this.resetAfterSend = function() {
                this.mergeState({
                    tweetType: "message" === this.state.tweetType ? "message" : "tweet",
                    tweetText: "",
                    sendingStatus: "ready",
                    messageRecipients: [],
                    messageConversation: null ,
                    quotedTweet: null ,
                    files: [],
                    replies: [],
                    mentions: [],
                    scheduledDate: null
                }),
                this.state.stayOpen ? this.resetComposePanelState({
                    type: this.state.tweetType,
                    text: "",
                    from: this.state.selectedAccountKeys
                }) : this.hideComposePanel()
            }
            ,
            this.resetAfterClose = function() {
                this.mergeState({
                    tweetType: "tweet",
                    tweetText: "",
                    selectedAccountKeys: [this.getDefaultAccount().accountKey],
                    files: [],
                    sendingStatus: "ready",
                    messageRecipients: [],
                    messageConversation: null ,
                    quotedTweet: null ,
                    metadata: {},
                    replies: [],
                    mentions: [],
                    tweetTextFocused: !1,
                    scheduledDate: null
                }),
                this.removeFiles(),
                this.hideHint(this.attr.hintOptions),
                this.$node.find(":focus").blur(),
                this.focusRelease(),
                this.disableClickTrap(),
                this.resetSendTweet()
            }
            ,
            this.resetComposePanelState = function(e) {
                e = e || {},
                e.type = e.type || "tweet";
                var t = void 0 !== e.text
                  , i = {
                    tweetText: this.state.tweetText,
                    scheduledDate: this.state.scheduledDate,
                    metadata: e.metadata || {},
                    singleAccountMode: "message" === e.type,
                    selectedAccountKeys: this.state.selectedAccountKeys
                };
                switch (t && (i.scheduledDate = null ,
                this.hideHint(this.attr.hintOptions),
                this.removeFiles()),
                e.schedule && (i.scheduledDate = e.schedule.time,
                i.selectedAccountKeys = e.from),
                e.type) {
                case "tweet":
                    i.inReplyTo = null ,
                    void 0 !== e.text ? i.tweetText = e.text : this.state.messageRecipients.length > 0 && (i.tweetText = R.prependRecipients(this.state)),
                    void 0 !== e.appendText && (i.tweetText = R.appendText(e.appendText, this.state)),
                    (e.from && e.from.length > 0 || e.isEditAndRetweet || e.quotedTweet) && (i.selectedAccountKeys = e.from),
                    e.noFocus || TD.util.isiOSDevice() && TD.decider.get("touchdeck_compose_v2") || (i.tweetTextFocused = !0,
                    i.selectionIndices = i.tweetText && [i.tweetText.length, i.tweetText.length]),
                    i.messageRecipients = [],
                    i.messageConversation = null ,
                    i.quotedTweet = e.quotedTweet || null ;
                    break;
                case "reply":
                    if (O.shouldSetNewReplyTo(this.state) && (i.inReplyTo = e.inReplyTo,
                    i.selectedAccountKeys = e.from),
                    e.popFromInline)
                        i.tweetText = e.text,
                        i.selectionIndices = [e.text.length, e.text.length];
                    else {
                        if (i.replies = _.union(this.state.replies, [e.inReplyTo.user.screenName].map(M.atMentionify)),
                        i.mentions = _.union(this.state.mentions, e.mentions.map(M.atMentionify)),
                        i.mentions = R.stripRepliesFromMentions(i.mentions, i.replies),
                        O.onlyOneAccountIsSelected(i)) {
                            var s = this.getAccountData(i.selectedAccountKeys[0]).screenName;
                            i.mentions = _.without(i.mentions, M.atMentionify(s))
                        }
                        i.tweetText = R.getStackedRepliesText(this.state.tweetText, i.replies, i.mentions),
                        i.selectionIndices = R.getSelectionIndices(i.tweetText, i.replies, i.mentions),
                        i.tweetTextFocused = !0
                    }
                    i.messageRecipients = [],
                    i.messageConversation = null ;
                    break;
                case "message":
                    var n, r = [];
                    if (e.from && e.from.length > 0 && (i.selectedAccountKeys = e.from),
                    void 0 !== e.text ? i.tweetText = e.text : n = M.extractMentions(this.state.tweetText),
                    e.conversationId)
                        i.messageConversation = this.getConversation(e.conversationId, i.selectedAccountKeys);
                    else if (e.messageRecipients)
                        r = e.messageRecipients;
                    else if (e.to && e.to.screenName)
                        r = [e.to.screenName];
                    else if (this.state.messageRecipients.length > 0)
                        r = this.state.messageRecipients;
                    else if (n && n.length) {
                        r = n;
                        var o = M.removeFirstMention(this.state.tweetText);
                        i.tweetText = o
                    }
                    var a = this.hydrateMessageRecipients(r).addCallbackWith(this, this.toState("messageRecipients"));
                    r.length && a.addCallbackWith(this, function() {
                        i.tweetTextFocused = !0
                    }),
                    i.quotedTweet = e.quotedTweet || null ,
                    i.inReplyTo = null
                }
                this.mergeState(i)
            }
            ,
            this.handleUiComposeFilesAdded = function(e, t) {
                this.addFiles(_.map(t.files)),
                this.trigger("uiDockedComposeTweet", {
                    type: this.state.tweetType,
                    noReset: !0
                })
            }
            ,
            this.handleUiComposeScheduleDate = function(e, t) {
                this.mergeState({
                    scheduledDate: t.date
                }),
                t.date ? this.showScheduledHint() : this.hideHint(this.attr.hintOptions)
            }
            ,
            this.initScrollbars = function() {
                var e = this.$composeScroller.data("antiscroll");
                e ? e.refresh() : this.$composeScroller.antiscroll({
                    initialDisplay: !1
                })
            }
            ,
            this.handleComposeTextChanged = function(e, t) {
                e.stopPropagation(),
                this.mergeState({
                    tweetText: t.value
                })
            }
            ,
            this.setReleaseFocusTimer = function(e) {
                var t = 0;
                this.state.stayOpen || (t = this.attr.releaseFocusDelay),
                this.releaseFocusTimer = setTimeout(function() {
                    this.releaseFocusTimer = null ,
                    this.focusRelease()
                }
                .bind(this), t)
            }
            ,
            this.handleComposeImageAdded = function(e) {
                this.mergeState({
                    files: this.getFiles()
                })
            }
            ,
            this.handleAccountSafeguardCheckboxChange = function(e, t) {
                e.stopPropagation(),
                this.mergeState({
                    accountSafeguardChecked: t.checked
                })
            }
            ,
            this.handleRemoveInReplyTo = function(e, t) {
                e.stopPropagation(),
                this.mergeState({
                    inReplyTo: null ,
                    tweetText: R.stripNamesFromText(this.state.tweetText, this.state.mentions.concat(this.state.replies)),
                    replies: [],
                    mentions: [],
                    tweetTextFocused: !0
                })
            }
            ,
            this.handleUiComposeTextFocus = function(e, t) {
                e.stopPropagation(),
                this.mergeState({
                    tweetTextFocused: t.focused
                })
            }
        }
        var s = i(1).component
          , n = i(174)
          , r = i(476)
          , o = i(477)
          , a = i(122)
          , c = i(481)
          , l = i(478)
          , u = i(485)
          , d = i(483)
          , h = i(123)
          , m = i(175)
          , p = i(487)
          , f = i(488)
          , g = i(484)
          , v = i(486)
          , T = i(22)
          , w = i(20)
          , b = i(183)
          , y = i(11)
          , D = i(70)
          , C = i(489)
          , S = i(490)
          , A = i(176)
          , E = i(7)
          , I = i(67)
          , k = i(8)
          , x = i(30)
          , M = i(99)
          , R = i(192)
          , F = i(29)
          , L = i(187)
          , O = i(188)
          , N = i(21);
        return s(E, I, k, t, T, w, b, y, D, C, S, A, x)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                stateSource: null ,
                removeSelector: ".js-in-reply-to-remove"
            }),
            this.after("initialize", function() {
                this.on("click", {
                    removeSelector: function() {
                        this.trigger("uiRemoveInReplyTo")
                    }
                }),
                this.observe(this.requestResource(this.attr.stateSource)).pluck("inReplyTo").distinctUntilChanged(TD.util.pluck("id")).subscribeOnNext(this.render, this)
            }),
            this.render = function(e) {
                e ? (this.$node.html(o.render("compose/in_reply_to", e)),
                this.$node.removeClass("is-hidden")) : (this.$node.addClass("is-hidden"),
                this.$node.html(""))
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8)
          , o = i(9);
        return s(r, t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            var e, t, i;
            this.attributes({
                panelCloseDelay: 500,
                inlineReplySelector: ".js-inline-reply",
                closeSelector: ".js-inline-compose-close",
                popSelector: ".js-inline-compose-pop",
                characterCountSelector: ".js-character-count",
                accountSafeguardCheckboxSelector: ".js-account-safeguard-checkbox",
                addImageSelector: ".js-inline-compose-add-image",
                accountSelector: ".js-inline-reply .js-account-item",
                tweetSelector: ".js-tweet",
                tweetActionsSelector: ".js-tweet-actions",
                replyActionSelector: ".js-reply-action",
                detailViewInlineSelector: ".js-detail-view-inline",
                tweetTextInputSelector: ".js-compose-text",
                sendButtonContainerSelector: ".js-send-button-container",
                pagingEasingFunction: "easeOutQuad",
                draftCacheSize: 50,
                maxCharCount: TD.decider.get("dev_beyond_140_compose") ? 1e4 : 140
            }),
            this.initialState({
                tweetType: "reply",
                sendingStatus: "ready",
                tweetText: "",
                accountSafeguardChecked: !1,
                tweetTextFocused: !1,
                attr: function() {
                    return this.attr
                },
                messageRecipients: function() {
                    return []
                },
                files: function() {
                    return []
                },
                currentTime: function() {
                    return new Date
                },
                selectedAccountKeys: function() {
                    return []
                },
                selectionIndices: function() {
                    return []
                }
            }),
            this.after("initialize", function() {
                try {
                    this.afterInitialize.apply(this, arguments)
                } catch (e) {
                    TD.controller.stats.generic({
                        page: "compose",
                        component: "inline_compose",
                        action: "error"
                    }, {
                        custom_json_payload: {
                            stack: e.stack,
                            build: TD.buildIDShort
                        }
                    })
                }
            }),
            this.afterInitialize = function() {
                this.draftCache = new TD.cache.LRUQueue(this.attr.draftCacheSize),
                this.on(document, "uiInlineComposeTweet", this.handleUiInlineComposeTweet),
                this.on(document, "uiDockedComposeTweet", this.closeInlineCompose),
                this.on(document, "uiComposeClose", this.closeInlineComposeIfFocused),
                this.on(document, "uiPopInlineComposeState", this.handlePopClick),
                this.on("uiComposeTweetSending", this.enterSendingState),
                this.on("uiComposeTweetSent", this.enterSuccessState),
                this.on("uiComposeTweetError", this.enterErrorState),
                this.on("uiComposeTextChanged", this.handleTextChanged),
                this.on("uiAccountSafeguardCheckboxChange", this.handleAccountSafeguardCheckboxChange);
                var e = this.observe(this.requestResource("settings.state")).pluck("safeguarded_account_list").map(TD.util.unpluck("safeguarded_account_list")).map(TD.util.unpluck("settings"))
                  , t = this.observe(this.requestResource("/1.1/help/configuration.json")).map(TD.util.unpluck("configuration"))
                  , i = y.Observable.combineLatest([this.observableState, e, t], TD.util.merge).map(T).share();
                this.provideResource("inlineCompose.state", i),
                y.Observable.fromEvent(this.$node, "uiComposeSendTweet", function(e) {
                    return e[0]
                }).do(function(e) {
                    e.stopPropagation()
                }).withLatestFrom([i], function(e, t) {
                    return t
                }).filter(TD.util.pluck("canSend")).map(this.prepareSendTweet, this).subscribeOnNext(this.sendTweet, this),
                this.observe(this.requestResource("settings.state")).pluck("safeguarded_account_list").subscribeOnNext(this.setHeightOfPanel, this),
                this.on("transitionend", {
                    inlineReplySelector: this.handleAnimationEnd
                })
            }
            ,
            this.setupDOM = function() {
                i && (this.attachChild(a, this.select("tweetTextInputSelector"), {
                    stateSource: "inlineCompose.state",
                    fixedHeight: !0,
                    teardownOn: "inlineInstanceTearDown"
                }),
                this.attachChild(r, this.select("characterCountSelector"), {
                    stateSource: "inlineCompose.state",
                    teardownOn: "inlineInstanceTearDown"
                }),
                this.attachChild(o, this.select("sendButtonContainerSelector"), {
                    stateSource: "inlineCompose.state",
                    teardownOn: "inlineInstanceTearDown"
                }),
                this.attachChild(n, this.select("accountSafeguardCheckboxSelector"), {
                    stateSource: "inlineCompose.state"
                }),
                this.select("closeSelector").on("click", this.handleCloseClick.bind(this)),
                this.select("popSelector").on("click", this.handlePopClick.bind(this)),
                this.select("addImageSelector").on("click", this.handleAddImageClick.bind(this)),
                this.select("accountSelector").on("click", this.handlePopClick.bind(this)))
            }
            ,
            this.handleUiInlineComposeTweet = function(i, s) {
                return e = s || {},
                e.singleFrom = [s.from[0]],
                $(s.element).find(this.attr.inlineReplySelector).length > 0 ? void this.closeInlineCompose() : (t && this.closeInlineCompose(),
                this.focusRequest(),
                void this.setupInlineCompose(e))
            }
            ,
            this.setupInlineCompose = function(e) {
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "compose",
                        component: "inline_compose",
                        action: "impression"
                    }
                }),
                t = e.element,
                t.find(".js-tweet-actions").addClass("is-visible"),
                t.find(".js-detail-view-inline").addClass("is-hidden"),
                t.find(".js-reply-action").addClass("is-selected");
                var s = this.getAccountData(e.from);
                i = this.renderTemplate("compose/compose_inline_reply", {
                    account: s,
                    isMac: "osx" === TD.util.getOSName()
                }),
                t.find(this.attr.tweetSelector).after(i),
                this.setupDOM();
                var n = e.mentions.map(w.atMentionify)
                  , r = [e.inReplyTo.user.screenName].map(w.atMentionify);
                n = b.stripRepliesFromMentions(n, r);
                var o = this.getAccountData(e.from[0]).screenName;
                n = _.without(n, w.atMentionify(o));
                var a, c, l = b.getStackedRepliesText("", r, n), u = this.getDraftText();
                u && u !== l ? (c = u,
                a = [c.length, c.length]) : (c = l,
                a = b.getSelectionIndices(c, r, n)),
                this.mergeState({
                    selectedAccountKeys: e.from,
                    tweetText: c,
                    selectionIndices: a,
                    tweetTextFocused: !0
                }),
                _.defer(function() {
                    this.setHeightOfPanel(),
                    i.removeClass("is-inline-inactive")
                }
                .bind(this)),
                i.on("click", function(e) {
                    e.stopPropagation()
                });
                var d = i.parents(".js-column");
                d.hasClass("js-column-state-detail-view") || TD.ui.columns.lockColumnToElement(d.attr("data-column"), t)
            }
            ,
            this.closeInlineCompose = function() {
                t && (this.saveDraftText(this.state.tweetText),
                this.closeAndRemovePanels(),
                this.focusRelease(),
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "compose",
                        component: "inline_compose",
                        action: "close"
                    }
                }),
                this.trigger(i, "inlineInstanceTearDown"))
            }
            ,
            this.closeInlineComposeIfFocused = function(e, t) {
                t && t.keyboardShortcut && !this.hasFocus || this.closeInlineCompose()
            }
            ,
            this.closeAndRemovePanels = function(e) {
                i && this.select("inlineReplySelector").removeClass("is-inline-active").css({
                    overflow: "hidden"
                }).addClass("is-inline-inactive")
            }
            ,
            this.tearDownInlineCompose = function() {
                this.closeAndRemovePanels(),
                this.deleteDraftText(),
                this.focusRelease(),
                t = null ,
                this.mergeState({
                    sendingStatus: "ready",
                    tweetText: "",
                    selectedAccountKeys: []
                })
            }
            ,
            this.handleAnimationEnd = function(e) {
                var t = $(e.target);
                if (t.hasClass("is-inline-inactive")) {
                    var s = t.parents(".js-column").attr("data-column")
                      , n = t.parents(".js-stream-item-content");
                    TD.ui.columns.unlockColumnFromElement(s),
                    n.find(this.attr.tweetActionsSelector).removeClass("is-visible"),
                    n.find(this.attr.replyActionSelector).removeClass("is-selected"),
                    n.find(this.attr.detailViewInlineSelector).removeClass("is-hidden"),
                    t.remove()
                } else
                    this.scrollColumnIfRequired(),
                    i.css({
                        overflow: "visible"
                    })
            }
            ,
            this.setHeightOfPanel = function() {
                return i ? void i.toggleClass("inline-reply-with-account-safeguard", this.accountsHaveSafeguard(this.state.selectedAccountKeys)) : !1
            }
            ,
            this.scrollColumnIfRequired = function() {
                var e, t = i.parents(".js-column").attr("data-column"), s = this.getColumnScrollContainerByKey(t), n = i.offset().top + i.height() - s.height();
                if (n > 0) {
                    e = s.scrollTop();
                    var r = TD.ui.columns.calculateScrollDuration(n, 50, 750);
                    s.stop().animate({
                        scrollTop: e + n
                    }, r, this.attr.pagingEasingFunction)
                }
            }
            ,
            this.accountsHaveSafeguard = function(e) {
                return _.intersection(e, TD.settings.getSafeguardedAccountList()).length > 0
            }
            ,
            this.prepareSendTweet = function(t, i) {
                return {
                    requestId: _.uniqueId("sendTweet"),
                    text: this.state.tweetText,
                    inReplyToStatusId: e.inReplyTo.id,
                    from: this.state.selectedAccountKeys,
                    type: "reply",
                    inline: !0
                }
            }
            ,
            this.enterSendingState = function(e) {
                e.stopPropagation(),
                this.mergeState({
                    sendingStatus: "sending"
                })
            }
            ,
            this.enterSuccessState = function(e) {
                e.stopPropagation(),
                this.mergeState({
                    sendingStatus: "success"
                }),
                this.deleteDraftText(),
                setTimeout(this.tearDownInlineCompose.bind(this), this.attr.panelCloseDelay)
            }
            ,
            this.enterErrorState = function(e, t) {
                e.stopPropagation(),
                this.mergeState({
                    sendingStatus: "ready"
                })
            }
            ,
            this.getDraftText = function() {
                return t && t.length ? this.draftCache.get(t.attr("data-key")) : void 0
            }
            ,
            this.saveDraftText = function(e) {
                if (t && t.length) {
                    var i = t.attr("data-key");
                    i && this.draftCache.enqueue(i, e)
                }
            }
            ,
            this.deleteDraftText = function() {
                t && t.length && this.draftCache.dequeue(t.attr("data-key"))
            }
            ,
            this.handleTextChanged = function(e, t) {
                e.stopPropagation(),
                this.saveDraftText(t.value),
                this.mergeState({
                    tweetText: t.value
                })
            }
            ,
            this.handleCloseClick = function() {
                this.closeInlineCompose()
            }
            ,
            this.handlePopClick = function() {
                this.deleteDraftText(),
                this.trigger("uiDockedComposeTweet", {
                    type: "reply",
                    text: this.state.tweetText,
                    from: e.from,
                    mentions: e.mentions,
                    inReplyTo: e.inReplyTo,
                    popFromInline: !0
                })
            }
            ,
            this.handleAddImageClick = function() {
                this.handlePopClick(),
                this.trigger("uiComposeAddImageClick")
            }
            ,
            this.handleAccountSafeguardCheckboxChange = function(e, t) {
                this.mergeState({
                    accountSafeguardChecked: t.checked
                })
            }
        }
        var s = i(1).component
          , n = i(174)
          , r = i(122)
          , o = i(175)
          , a = i(123)
          , c = i(20)
          , l = i(11)
          , u = i(69)
          , d = i(70)
          , h = i(176)
          , m = i(67)
          , p = i(8)
          , f = i(4)
          , g = i(7)
          , v = i(30)
          , T = i(187)
          , w = i(99)
          , b = i(192)
          , y = i(21);
        return s(m, p, t, c, l, u, d, h, f, g, v)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                containerSelector: ".js-compose-message-recipient-container",
                inputSelector: ".js-compose-message-account",
                inputContainerSelector: ".js-compose-message-recipient-input-container",
                listContainerSelector: ".js-compose-message-recipient-list",
                removeRecipientSelector: ".js-remove-recipient",
                removeConversationSelector: ".js-remove-conversation",
                recipientSelector: ".js-compose-message-recipient",
                hideInputClass: "compose-message-account-hidden",
                stateSource: null ,
                maxRecipients: null ,
                dropdownSelector: ".js-typeahead-dropdown"
            }),
            this.initialState({
                selectedAccountKeys: function() {
                    return []
                }
            }),
            this.after("initialize", function() {
                this.$container = this.select("containerSelector"),
                this.$input = this.select("inputSelector"),
                this.$inputContainer = this.select("inputContainerSelector"),
                this.$list = this.select("listContainerSelector"),
                this.on(this.$input, "focus", this.handleInputFocus),
                this.on(this.$input, "blur", this.handleInputBlur),
                this.on("click", {
                    removeConversationSelector: this.handleRemoveConversationClick,
                    removeRecipientSelector: this.handleRemoveRecipientClick,
                    listContainerSelector: this.handleListContainerClick
                }),
                this.attachChild(u, this.$node, {
                    inputSelector: this.attr.inputSelector
                }),
                this.attachChild(l, this.$node, {
                    alwaysOpen: !1,
                    autoSelect: !0,
                    blockLinkActions: !0,
                    datasources: ["users", "conversations"],
                    datasourcesRecentOnly: [],
                    hideAfterSelect: !0,
                    inputSelector: this.attr.inputSelector,
                    usersTemplate: "typeahead/typeahead_users_compose",
                    withClickTrap: !0
                }),
                this.on("uiTypeaheadInputEscaped uiTypeaheadNoItemSelected", {
                    inputSelector: this.handleTypeaheadInputEscaped
                }),
                this.on("uiTypeaheadInputBackspace", this.handleTypeaheadInputBackspace),
                this.on("uiTypeaheadItemComplete uiTypeaheadItemSelected", this.handleTypeaheadItemSelected),
                this.on("uiNeedsTypeaheadSuggestions", this.extendTypeaheadRequest);
                var e = this.observe(this.requestResource(this.attr.stateSource));
                e.pluck("tweetType").map(TD.util.equals("message")).distinctUntilChanged().subscribeOnNext(this.toggleVisibility, this),
                e.map(m.filterKeys(["messageRecipients", "messageConversation"])).distinctUntilChanged(function(e) {
                    return h.fromJS({
                        messageRecipients: e.messageRecipients,
                        messageConversationId: e.messageConversation && e.messageConversation.conversationId
                    })
                }, h.is).subscribeOnNext(this.render, this),
                e.pluck("selectedAccountKeys").distinctUntilChanged().subscribeOnNext(this.toState("selectedAccountKeys"), this)
            }),
            this.extendTypeaheadRequest = function(e, t) {
                t.accountKey = (this.state.selectedAccountKeys || [])[0]
            }
            ,
            this.handleRemoveConversationClick = function() {
                this.trigger("uiRemoveMessageConversation")
            }
            ,
            this.handleRemoveRecipientClick = function(e, t) {
                this.trigger("uiRemoveMessageRecipient", {
                    id: $(t.el).attr("data-user-id")
                })
            }
            ,
            this.handleInputFocus = function() {
                this.$inputContainer.addClass("is-focused")
            }
            ,
            this.handleInputBlur = function() {
                this.$inputContainer.removeClass("is-focused")
            }
            ,
            this.handleListContainerClick = function(e, t) {
                e.target === t.el && (this.$input.focus(),
                d.makeElementVisible(this.$inputContainer, this.$input))
            }
            ,
            this.toggleVisibility = function(e) {
                this.$container.toggleClass("is-hidden", !e),
                e ? TD.util.isTouchDevice() && TD.decider.get("touchdeck_compose_v2") || this.$input.focus() : this.$input.blur()
            }
            ,
            this.render = function(e) {
                var t = this.$inputContainer.scrollTop()
                  , i = t + this.$inputContainer.height() >= this.$inputContainer.prop("scrollHeight");
                this.select("recipientSelector").remove(),
                e.messageRecipients && e.messageRecipients.length > 0 ? (this.renderRecipientList(e.messageRecipients),
                this.$inputContainer.scrollTop(t),
                i && d.makeElementVisible(this.$inputContainer, this.$input),
                this.checkMaxRecipients(e.messageRecipients)) : e.messageConversation ? (this.renderConversation(e.messageConversation),
                this.$input.addClass(this.attr.hideInputClass)) : (this.$list.addClass("is-hidden"),
                this.$input.removeClass(this.attr.hideInputClass),
                this.$input.focus(),
                this.trigger("uiMessageRecipientUnset"))
            }
            ,
            this.renderConversation = function(e) {
                var t = e.render({
                    templateName: "compose/message_conversation"
                });
                this.$list.prepend(t),
                this.$list.removeClass("is-hidden")
            }
            ,
            this.renderRecipientList = function(e) {
                var t = p.render("compose/message_recipients", {
                    users: e
                });
                this.$list.prepend(t),
                this.$list.removeClass("is-hidden")
            }
            ,
            this.checkMaxRecipients = function(e) {
                var t = e.length >= this.attr.maxRecipients;
                this.$input.toggleClass(this.attr.hideInputClass, t).trigger(t ? "blur" : "focus")
            }
            ,
            this.handleTypeaheadInputBackspace = function(e, t) {
                this.trigger("uiRemoveLastMessageRecipient")
            }
            ,
            this.handleTypeaheadItemSelected = function(e, t) {
                this.$input.val(""),
                "conversation" === t.searchType ? this.trigger("uiAddMessageConversation", {
                    conversation: t.item
                }) : "user" === t.searchType && this.trigger("uiAddMessageRecipient", {
                    recipient: t.item
                })
            }
            ,
            this.handleTypeaheadInputEscaped = function(e) {
                var t = this.select("inputSelector");
                "" === t.val().trim() ? t.blur() : t.val("")
            }
        }
        var s = i(1).component
          , n = i(8)
          , r = i(7)
          , o = i(20)
          , a = i(555)
          , c = i(28)
          , l = i(181)
          , u = i(537)
          , d = i(126)
          , h = i(90)
          , m = i(29)
          , p = i(9);
        return s(c, n, t, o, r, a)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                removeSelector: ".js-quote-tweet-remove",
                stateSource: null
            }),
            this.after("initialize", function(e) {
                this.on("click", {
                    removeSelector: function() {
                        this.trigger(document, "uiRemoveQuotedTweet")
                    }
                }),
                this.observe(this.requestResource(this.attr.stateSource)).pluck("quotedTweet").distinctUntilChanged(TD.util.pluck("id")).map(this.render, this).do(this.toggle.bind(this)).subscribeOnNext(this.$node.html, this.$node)
            }),
            this.render = function(e) {
                return e ? e.renderQuotedTweet({
                    inCompose: !0,
                    mediaPreviewSize: TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM
                }) : ""
            }
            ,
            this.toggle = function(e) {
                this.$node.toggleClass("is-hidden", !e)
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8);
        return s(r, t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                stateSource: null ,
                scheduleButtonSelector: ".js-schedule-button",
                scheduleButtonLabelSelector: ".js-schedule-button-label",
                scheduleDatePickerHolderSelector: ".js-schedule-datepicker-holder"
            }),
            this.initialState({
                datePickerOpen: !1
            }),
            this.after("initialize", function() {
                this.$scheduleButton = this.select("scheduleButtonSelector"),
                this.$scheduleButtonLabel = this.select("scheduleButtonLabelSelector"),
                this.$scheduleDatePickerHolder = this.select("scheduleDatePickerHolderSelector"),
                this.initPicker(),
                a.Observable.fromEvent(this.$scheduleButton, "click", function(e) {
                    return e[0].currentTarget
                }).filter(_.negate(TD.util.makeHasClass("is-disabled"))).map(_.negate(this.fromState("datePickerOpen")), this).subscribeOnNext(this.toState("datePickerOpen"), this);
                var e = this.observe(this.requestResource(this.attr.stateSource))
                  , t = e.pluck("scheduledDate").distinctUntilChanged();
                e.pluck("canSchedule").distinctUntilChanged().subscribeOnNext(this.toggleEnabled, this),
                e.pluck("scheduleButtonTooltip").distinctUntilChanged().subscribeOnNext(this.renderTooltip, this),
                e.pluck("scheduleButtonText").distinctUntilChanged().subscribeOnNext(this.$scheduleButtonLabel.text, this.$scheduleButtonLabel),
                t.subscribeOnNext(this.scheduleDatePicker.setDate, this.scheduleDatePicker),
                this.observableState.distinctUntilChanged().withLatestFrom(t.map(TD.util.unpluck("scheduledDate")), TD.util.merge).subscribeOnNext(this.handleStateChanged, this)
            }),
            this.after("teardown", function() {
                $.unsubscribe(this.dateChangedSubscription),
                $.unsubscribe(this.dateRemovedSubscription)
            }),
            this.handleStateChanged = function(e) {
                this.state.datePickerOpen && !e.scheduledDate && this.trigger("uiComposeScheduleDate", {
                    date: this.normaliseDate(new Date)
                }),
                this.scheduleDatePicker.$node.toggle(e.datePickerOpen),
                this.trigger("uiComposeScheduleDatePickerOpen", {
                    datePickerOpen: e.datePickerOpen
                }),
                _.defer(this.toggleClickTrap.bind(this, e.datePickerOpen))
            }
            ,
            this.renderTooltip = function(e) {
                var t = $("<div/>").html(e).text();
                this.$scheduleButton.attr("data-original-title", t)
            }
            ,
            this.toggleEnabled = function(e) {
                this.$scheduleButton.toggleClass("is-disabled", !e).attr("tabindex", e ? "" : "-1")
            }
            ,
            this.scheduleRemoved = function(e) {
                this.mergeState({
                    datePickerOpen: !1
                })
            }
            ,
            this.initPicker = function() {
                this.dateChangedSubscription = $.subscribe("/change/date", this.handlePickerDateChanged.bind(this)),
                this.dateRemovedSubscription = $.subscribe("/removed/date", this.scheduleRemoved.bind(this)),
                this.scheduleDatePicker = new TD.components.ScheduledDatePicker(this.$scheduleDatePickerHolder,{
                    hidden: !this.state.datePickerOpen
                })
            }
            ,
            this.handlePickerDateChanged = function(e) {
                this.trigger("uiComposeScheduleDate", {
                    date: this.normaliseDate(e)
                })
            }
            ,
            this.normaliseDate = function(e) {
                return e && e.setSeconds(0),
                e
            }
            ,
            this.elementIsOutsideScheduler = function(e) {
                return 0 === e.closest(this.$scheduleDatePickerHolder).length && 0 === e.closest(this.$scheduleButton).length
            }
            ,
            this.toggleClickTrap = function(e) {
                e ? $("body").on("click.scheduleclicktrap", function(e) {
                    this.elementIsOutsideScheduler($(e.target)) && this.mergeState({
                        datePickerOpen: !1
                    })
                }
                .bind(this)) : $("body").off("click.scheduleclicktrap")
            }
        }
        var s = i(1).component
          , n = i(67)
          , r = i(7)
          , o = i(8)
          , a = i(21);
        return s(o, n, t, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                settingName: null
            }),
            this.after("initialize", function() {
                this.on("change", function(e) {
                    TD.settings.set(this.attr.settingName, this.$node.prop("checked")),
                    e.preventDefault()
                }),
                this.observe(this.requestResource("settings.state")).pluck(this.attr.settingName).distinctUntilChanged().subscribeOnNext(this.render, this)
            }),
            this.render = function(e) {
                this.$node.prop("checked", e);
            }
        }
        var s = i(1).component
          , n = i(8)
          , r = i(7);
        return s(n, r, t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                stateSource: null ,
                titleSelector: ".js-compose-title",
                headerSelector: ".js-compose-header",
                messageHeaderSelector: ".js-compose-message-header"
            }),
            this.after("initialize", function() {
                this.$title = this.select("titleSelector"),
                this.$header = this.select("headerSelector"),
                this.$messageHeader = this.select("messageHeaderSelector"),
                this.observe(this.requestResource(this.attr.stateSource)).map(o.filterKeys(["tweetType", "scheduledDate", "metadata"])).distinctUntilChanged(null , o.shallowEquals()).subscribeOnNext(this.render, this)
            }),
            this.render = function(e) {
                this.$header.toggleClass("with-dm-icon", "message" === e.tweetType),
                this.$messageHeader.text("message" === e.tweetType ? TD.i("Message") : TD.i("Tweet"));
                var t = e.scheduledDate && e.metadata && e.metadata.originalUpdates;
                t ? this.$title.text(TD.i("Edit scheduled Tweet")) : this.$title.text("message" === e.tweetType ? TD.i("New message") : TD.i("New Tweet"))
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8)
          , o = i(29);
        return s(r, t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                stateSource: null ,
                messageButtonSelector: ".js-dm-button",
                tweetButtonSelector: ".js-tweet-button"
            }),
            this.after("initialize", function() {
                this.$messageButton = this.select("messageButtonSelector"),
                this.$tweetButton = this.select("tweetButtonSelector"),
                this.on(this.$messageButton, "click", function() {
                    this.$messageButton.hasClass("is-disabled") || this.trigger(document, "uiComposeTweet", {
                        type: "message"
                    })
                }),
                this.on(this.$tweetButton, "click", function() {
                    this.trigger(document, "uiComposeTweet", {
                        type: "tweet"
                    })
                });
                var e = this.observe(this.requestResource(this.attr.stateSource));
                e.pluck("tweetType").distinctUntilChanged().subscribeOnNext(this.toggleButtonType, this),
                e.pluck("tweetTypeButtonTooltip").distinctUntilChanged().subscribeOnNext(this.renderTooltip, this),
                e.pluck("canSwitchTweetType").distinctUntilChanged().subscribeOnNext(this.toggleEnabled, this)
            }),
            this.toggleButtonType = function(e) {
                var t = "message" === e;
                this.$messageButton.toggleClass("is-hidden", t),
                this.$tweetButton.toggleClass("is-hidden", !t)
            }
            ,
            this.renderTooltip = function(e) {
                var t = $("<div/>").html(e).text();
                this.$messageButton.attr("data-original-title", t)
            }
            ,
            this.toggleEnabled = function(e) {
                this.$messageButton.toggleClass("is-disabled", !e).attr("tabindex", e ? "" : "-1")
            }
        }
        var s = i(1).component
          , n = i(7)
          , r = i(8);
        return s(r, t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        return function() {
            this.showHint = function(e, t) {
                var i = t.useDangerousHTML ? "html" : "text";
                this.$node.find(t.selector)[i](e).addClass(t.animation).removeClass("is-hidden")
            }
            ,
            this.hideHint = function(e) {
                this.$node.find(e.selector).html("").removeClass(e.animation).addClass("is-hidden")
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n, r = i(18), o = s(r);
    n = function(e) {
        function t() {
            this.mediaBarData = {
                files: [],
                previews: [],
                accountsMediaIds: {}
            }
        }
        function s(e, t) {
            var i = this.withMediaUploaderUpload({
                files: [e],
                accountKey: t
            }, {
                ttl: this.state.scheduledDate ? "infinity" : "ephemeral"
            });
            return i.addErrback(function(t) {
                if (!(t instanceof TD.core.defer.CancelledError)) {
                    var i = this.mediaBarData.files.indexOf(e);
                    if (i > -1) {
                        this.mediaBarData.files.length > 1 ? (this.removeFileAtIndex(i),
                        this.attachImagesPreview()) : this.removeFiles();
                        var s = TD.i("We could not upload {{name}}, please try again.", {
                            name: e.name
                        });
                        setTimeout(TD.controller.progressIndicator.addMessage, 0, s)
                    }
                    return t
                }
            }
            .bind(this)),
            i
        }
        var n = i(1).compose
          , r = i(4)
          , a = i(173);
        return function() {
            n.mixin(this, [r, a]),
            this.attributes({
                mediaBarContainerSelector: ".js-media-added",
                mediaBarRemoveSelector: ".js-media-bar-remove",
                mediaBarThumb: ".js-media-bar-thumb",
                mediaBarSelector: ".compose-media-bar",
                maxImageHeight: 310
            }),
            this.before("initialize", t),
            this.after("initialize", function() {
                this.$mediaBarContainer = this.select("mediaBarContainerSelector"),
                this.on("click", {
                    mediaBarRemoveSelector: this.removeFile
                })
            }),
            this.addFiles = function(e) {
                if (this.$mediaBarContainer.removeClass("is-hidden"),
                TD.util.hasFeature("filereader")) {
                    var t = new TD.core.defer.DeferredList(e.map(this.loadFileData));
                    t.addCallback(function(t) {
                        t.forEach(function(t, i) {
                            if (t[0]) {
                                var s = t[1];
                                this.mediaBarData.previews.indexOf(s) < 0 && (this.mediaBarData.files.push(e[i]),
                                this.mediaBarData.previews.push(s),
                                this.state.selectedAccountKeys.forEach(function(e) {
                                    this.addMediaIdsFor(e)
                                }, this))
                            }
                        }, this),
                        this.attachImagesPreview()
                    }
                    .bind(this))
                } else
                    this.mediaBarData.files = e,
                    this.attachImageInfoBar()
            }
            ,
            this.loadFileData = function(e) {
                var t = new TD.core.defer.Deferred
                  , i = new FileReader;
                return i.onloadend = function(e) {
                    t.callback(e.target.result)
                }
                ,
                i.readAsDataURL(e),
                t
            }
            ,
            this.attachImageInfoBar = function() {
                var e = this.renderTemplate("compose/media_bar_infobar");
                this.$mediaBarContainer.html(e)
            }
            ,
            this.attachImagesPreview = function(e) {
                var t = this.mediaBarData.previews.length
                  , i = t > 1
                  , s = this.renderTemplate("compose/media_bar_image", {
                    isMediaGridContent: i,
                    mediaLength: t,
                    mediaInfo: this.mediaBarData.previews.map(function(e, t) {
                        return {
                            src: e,
                            fileIndex: t
                        }
                    })
                });
                this.$mediaBarContainer.html(s),
                this.$mediaBarContainer.on("click", function(e) {
                    var t = $(event.target);
                    (t.is("img") || t.hasClass("media-image")) && this.trigger("uiComposeImageClicked")
                }
                .bind(this)),
                i ? e !== !1 && this.trigger("uiComposeImageAdded", {
                    files: this.getFiles()
                }) : (s = this.select("mediaBarThumb"),
                s[0].complete ? this.setImageHeight(s, e) : s.load(this.setImageHeight.bind(this, s, e)))
            }
            ,
            this.setImageHeight = function(e, t) {
                var i = this.select("mediaBarSelector");
                e.height() > this.attr.maxImageHeight ? (e.height(this.attr.maxImageHeight),
                i.addClass("compose-media-compressed")) : (e.height("auto"),
                i.removeClass("compose-media-compressed")),
                t !== !1 && this.trigger("uiComposeImageAdded")
            }
            ,
            this.removeFile = function(e) {
                var t = $(e.target).closest(this.attr.mediaBarRemoveSelector)
                  , i = t.attr("data-file-index");
                return i && (this.removeFileAtIndex(parseInt(i, 10)),
                this.mediaBarData.files.length) ? this.attachImagesPreview() : void this.removeFiles()
            }
            ,
            this.removeFiles = function() {
                (0,
                o.default)(this.mediaBarData.accountsMediaIds).forEach(function(e) {
                    this.removeMediaIdsFor(e)
                }, this),
                t.call(this),
                this.$mediaBarContainer.addClass("is-hidden"),
                this.$mediaBarContainer.empty(),
                this.trigger("uiResetImageUpload")
            }
            ,
            this.removeFileAtIndex = function(e) {
                this.mediaBarData.files.splice(e, 1),
                this.mediaBarData.previews.splice(e, 1),
                (0,
                o.default)(this.mediaBarData.accountsMediaIds).forEach(function(t) {
                    this.mediaBarData.accountsMediaIds[t].splice(e, 1)[0].cancel()
                }, this)
            }
            ,
            this.removeFilesBut = function(e) {
                for (var t = this.mediaBarData.files, i = t.length; i--; )
                    t[i] !== e && this.removeFileAtIndex(i)
            }
            ,
            this.addMediaIdsFor = function(e) {
                var t = this.mediaBarData
                  , i = t.accountsMediaIds[e];
                i || (i = [],
                t.accountsMediaIds[e] = i),
                t.files.forEach(function(t, n) {
                    i[n] || (i[n] = s.call(this, t, e))
                }, this)
            }
            ,
            this.removeMediaIdsFor = function(e) {
                var t = this.mediaBarData;
                t.accountsMediaIds[e] && (t.accountsMediaIds[e].forEach(function(e) {
                    e.cancel()
                }),
                delete t.accountsMediaIds[e])
            }
            ,
            this.updateAccountsMediaIds = function(e) {
                (0,
                o.default)(this.mediaBarData.accountsMediaIds).forEach(function(t) {
                    e.indexOf(t) < 0 && this.removeMediaIdsFor(t)
                }, this),
                e.forEach(function(e) {
                    this.mediaBarData.accountsMediaIds[e] || this.addMediaIdsFor(e)
                }, this)
            }
            ,
            this.getDeferredMediaIdsFor = function(e) {
                var t = this.mediaBarData.accountsMediaIds[e];
                if (!t)
                    throw new Error("unknown list of media ids for " + e);
                return new TD.core.defer.DeferredList(t.slice(0))
            }
            ,
            this.getFiles = function() {
                return this.mediaBarData.files.concat()
            }
            ,
            this.updateImageTTLs = function() {
                (0,
                o.default)(this.mediaBarData.accountsMediaIds).forEach(function(e) {
                    this.removeMediaIdsFor(e),
                    this.addMediaIdsFor(e)
                }, this)
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== n && (e.exports = n))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = function() {
            this.showConfirmationDialog = function(e, t) {
                this.trigger(document, "uiConfirmationAction", {
                    id: t.id,
                    result: confirm(t.message) ? !0 : !1
                })
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiShowConfirmationDialog", this.showConfirmationDialog)
            })
        }
        ;
        return t(s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n, r = i(18), o = s(r);
    n = function(e) {
        "use strict";
        function t() {
            this.attributes({
                accountKey: null ,
                contributorRowSelector: ".js-contributor-row",
                contributorRowClass: "js-contributor-row",
                contributorOpenSettingsSelector: ".js-contributor-open-settings",
                contributorRemoveSelector: ".js-contributor-remove",
                contributorRoleSelector: ".js-contributor-role",
                contributorErrorMessageSelector: ".js-contributor-error-message",
                selectedContributorRoleSelector: ".js-contributor-role:checked",
                actionConfirmSelector: ".js-contributor-action-confirm",
                actionCancelSelector: ".js-contributor-action-cancel",
                genericErrorMessage: TD.i("Something went wrong. Please try again."),
                STATE_INITIAL: "initial",
                STATE_CLOSED: "closed",
                STATE_SETTINGS: "settings",
                STATE_CONFIRM_ADD: "confirmAdd",
                STATE_CONFIRM_DEADMIN: "confirmDeadmin",
                STATE_CONFIRM_REMOVE: "confirmRemove",
                STATE_REMOVING: "confirmRemove-removing",
                disallowedStateTransitions: {
                    confirmAdd: {
                        anotherContributorOpening: ["closed"]
                    }
                },
                notAnimatedStateTransitions: {
                    initial: {
                        load: ["closed"]
                    }
                },
                stateToScribeElement: {
                    settings: "settings",
                    confirmAdd: "confirm_add",
                    confirmRemove: "confirm_remove",
                    confirmDeadmin: "confirm_deadmin"
                },
                scrollWait: 300,
                contributorsPollInterval: 6e4
            }),
            this.after("initialize", function() {
                this.state = {
                    contributee: TD.storage.accountController.get(this.attr.accountKey),
                    contributorIndex: {}
                },
                this.on(document, "dataContributorsError", this.handleContributorsError),
                this.on(document, "dataContributors", this.handleContributors),
                this.on(document, "dataContributor", this.handleContributor),
                this.on(document, "dataContributorActionSuccess", this.handleContributorActionSuccess),
                this.on(document, "dataContributorActionError", this.handleContributorActionError),
                this.on("click", {
                    contributorOpenSettingsSelector: this.handleOpenSettings,
                    contributorRemoveSelector: this.handleRemoveContributorClick,
                    actionConfirmSelector: this.handleActionConfirmClick,
                    actionCancelSelector: this.handleActionCancelClick
                }),
                this.trigger("uiNeedsContributors", {
                    accountKey: this.attr.accountKey
                })
            }),
            this.sortByName = function(e, t) {
                var i = "string" == typeof e ? e.toLowerCase() : e.user.name.toLowerCase()
                  , s = "string" == typeof t ? t.toLowerCase() : t.user.name.toLowerCase();
                return s > i ? -1 : i > s ? 1 : 0
            }
            ,
            this.getElemByUserId = function(e, t) {
                return this.select(e).filter(function() {
                    return $(this).attr("data-user-id") === t
                })
            }
            ,
            this.handleContributorsError = function(e, t) {
                t.request.accountKey === this.attr.accountKey && this.render("contributors/contributor_list_error")
            }
            ,
            this.handleContributors = function(e, t) {
                if (t.accountKey === this.attr.accountKey) {
                    var i = this.state.contributorIndex;
                    this.state.contributorIndex = t.contributors.reduce(function(e, t) {
                        return e[t.user.id] = t,
                        e
                    }, {}),
                    (0,
                    o.default)(i).forEach(function(e) {
                        var t = i[e].isUnconfirmed;
                        this.state.contributorIndex[e] || (t ? this.state.contributorIndex[e] = i[e] : this.removeContributorFromList(e))
                    }
                    .bind(this)),
                    t.contributors.forEach(function(e) {
                        this.setStateOrCreateContributor(e, this.attr.STATE_CLOSED, {
                            transition: "load"
                        })
                    }
                    .bind(this)),
                    this.scheduleContributorPoll()
                }
            }
            ,
            this.handleContributor = function(e, t) {
                if (t.accountKey === this.attr.accountKey) {
                    var i, s = this.state.contributorIndex[t.contributor.user.id];
                    if (s) {
                        var n = this.getOrCreateContributorRow(s);
                        i = n.attr("data-state")
                    }
                    if (t.contributor.isUnconfirmed && this.state.contributee.getUserID() === t.contributor.user.id)
                        return void TD.controller.progressIndicator.addMessage(TD.i("You cannot add a user to their own team — they can already contribute to this account."));
                    s && t.contributor.isUnconfirmed || (s = t.contributor,
                    this.state.contributorIndex[t.contributor.user.id] = s);
                    var r = i || (s.isUnconfirmed ? this.attr.STATE_CONFIRM_ADD : this.attr.STATE_SETTINGS);
                    this.setStateOrCreateContributor(t.contributor, r, {
                        transition: "load-single"
                    }),
                    t.contributor.isUnconfirmed && this.scrollToContributor(t.contributor.user.id)
                }
            }
            ,
            this.handleOpenSettings = function(e, t) {
                e.preventDefault();
                var i = $(t.el)
                  , s = i.attr("data-user-id")
                  , n = this.state.contributorIndex[s]
                  , r = this.getOrCreateContributorRow(n)
                  , o = this.getContributorRole(n);
                r.find(this.attr.contributorRoleSelector).filter(function() {
                    return $(this).attr("data-contributor-role") === o
                }).prop("selected", !0),
                this.select("contributorRowSelector").each(function(e, t) {
                    var i = $(t).attr("data-user-id");
                    if (i !== s) {
                        var n = this.state.contributorIndex[i];
                        this.setStateOrCreateContributor(n, this.attr.STATE_CLOSED, {
                            transition: "anotherContributorOpening"
                        })
                    }
                }
                .bind(this)),
                this.setStateOrCreateContributor(n, this.attr.STATE_SETTINGS),
                this.scribeContributorAction("open_settings", "click");
                var a = this.$node.closest(".scroll-v");
                setTimeout(function() {
                    c.makeElementVisible(a, r)
                }, this.attr.scrollWait)
            }
            ,
            this.handleRemoveContributorClick = function(e, t) {
                var i = $(t.el)
                  , s = i.attr("data-user-id")
                  , n = this.state.contributorIndex[s];
                this.setStateOrCreateContributor(n, this.attr.STATE_CONFIRM_REMOVE),
                this.scribeContributorAction("remove", "click")
            }
            ,
            this.setRole = function(e, t) {
                var i = this.state.contributorIndex[t]
                  , s = this.getOrCreateContributorRow(i)
                  , n = s.find(this.attr.selectedContributorRoleSelector)
                  , r = n.attr("data-contributor-role")
                  , o = "admin" === r;
                if (o === i.isAdmin)
                    return this.setStateOrCreateContributor(i, this.attr.STATE_CLOSED);
                var a = this.getTwitterLoginAccount()
                  , c = a && a.userId === t;
                c && !o ? this.setStateOrCreateContributor(i, this.attr.STATE_CONFIRM_DEADMIN) : (this.setStateOrCreateContributor(i, this.attr.STATE_CLOSED),
                this.trigger("uiContributorAction", {
                    accountKey: this.attr.accountKey,
                    action: "update",
                    userId: t,
                    isAdmin: o
                }))
            }
            ,
            this.handleActionConfirmClick = function(e, t) {
                var i = $(t.el)
                  , s = i.attr("data-user-id")
                  , n = this.state.contributorIndex[s]
                  , r = this.getOrCreateContributorRow(n).attr("data-state")
                  , o = {
                    accountKey: this.attr.accountKey,
                    userId: s,
                    action: null
                };
                switch (r) {
                case this.attr.STATE_SETTINGS:
                    this.setRole(i, s);
                    break;
                case this.attr.STATE_CONFIRM_ADD:
                    o.action = "add",
                    this.setStateOrCreateContributor(n, this.attr.STATE_CLOSED);
                    break;
                case this.attr.STATE_CONFIRM_DEADMIN:
                    o.action = "update",
                    o.isAdmin = !1,
                    this.setStateOrCreateContributor(n, this.attr.STATE_CLOSED);
                    break;
                case this.attr.STATE_CONFIRM_REMOVE:
                    o.action = "remove",
                    this.setStateOrCreateContributor(n, this.attr.STATE_REMOVING)
                }
                o.action && this.trigger("uiContributorAction", o),
                this.scribeContributorAction(this.attr.stateToScribeElement[r], "confirm")
            }
            ,
            this.handleActionCancelClick = function(e, t) {
                var i = $(t.el).attr("data-user-id")
                  , s = this.state.contributorIndex[i]
                  , n = this.getOrCreateContributorRow(s)
                  , r = n.attr("data-state");
                switch (r) {
                case this.attr.STATE_SETTINGS:
                    this.setStateOrCreateContributor(s, this.attr.STATE_CLOSED);
                    break;
                case this.attr.STATE_CONFIRM_ADD:
                    this.removeContributorFromList(i);
                    break;
                case this.attr.STATE_CONFIRM_DEADMIN:
                    this.setStateOrCreateContributor(s, this.attr.STATE_SETTINGS);
                    break;
                case this.attr.STATE_CONFIRM_REMOVE:
                    this.setStateOrCreateContributor(s, this.attr.STATE_SETTINGS)
                }
                this.scribeContributorAction(this.attr.stateToScribeElement[r], "cancel")
            }
            ,
            this.handleContributorActionSuccess = function(e, t) {
                if (t.request.accountKey === this.attr.accountKey) {
                    var i = this.state.contributorIndex[t.request.userId];
                    switch (t.request.action) {
                    case "remove":
                        this.removeContributorFromList(t.request.userId);
                        break;
                    case "add":
                        this.setStateOrCreateContributor(i, this.attr.STATE_CLOSED);
                        break;
                    case "update":
                        this.setStateOrCreateContributor(i, this.attr.STATE_CLOSED),
                        this.scribeContributorAction("admin", t.request.isAdmin ? "on" : "off")
                    }
                }
            }
            ,
            this.handleContributorActionError = function(e, t) {
                if (t.request.accountKey === this.attr.accountKey) {
                    var i = this.state.contributorIndex[t.request.userId];
                    if (i) {
                        var s;
                        try {
                            s = t.response.req.errors[0]
                        } catch (n) {}
                        if ("add" === t.request.action && i.isUnconfirmed)
                            return this.setStateOrCreateContributor(i, this.attr.STATE_CONFIRM_ADD, {
                                error: this.makeErrorState(this.attr.STATE_CONFIRM_ADD),
                                errorData: s
                            });
                        s && TD.controller.progressIndicator.addMessage(s.message),
                        this.revertContributorState(i)
                    }
                }
            }
            ,
            this.setStateOrCreateContributor = function(e, t, i) {
                i = _.defaults(i || {}, {
                    error: "",
                    errorData: {},
                    transition: ""
                });
                var s = this.getOrCreateContributorRow(e)
                  , n = s.attr("data-state")
                  , r = s.attr("data-error")
                  , o = s.attr("data-error-code")
                  , a = "" + i.errorData.twitterErrorCode
                  , c = this.getContributorRole(e)
                  , l = s.attr("data-contributor-role");
                if (t !== n || c !== l || i.error !== r || a !== o) {
                    var u = this.stateRuleMatch(this.attr.disallowedStateTransitions, {
                        from: n,
                        transition: i.transition,
                        to: t
                    });
                    if (!u) {
                        var d = this.doStateChange(s, {
                            from: n,
                            to: t,
                            error: i.error,
                            errorData: i.errorData,
                            transition: i.transition,
                            role: this.getContributorRole(e)
                        });
                        return d.addCallbackWith(this, function() {
                            this.scrollFix(),
                            this.scribeContributorAction(this.attr.stateToScribeElement[t], "impression")
                        }),
                        d
                    }
                }
            }
            ,
            this.doStateChange = function(e, t) {
                function i() {
                    e.attr({
                        "data-previous-state": t.from,
                        "data-state": t.to,
                        "data-state-error": t.error,
                        "data-state-error-code": t.errorData.twitterErrorCode,
                        "data-contributor-role": t.role
                    }),
                    e.find(s.attr.contributorErrorMessageSelector).text(t.errorData.message || s.attr.genericErrorMessage)
                }
                t = t || {};
                var s = this
                  , n = !this.stateRuleMatch(this.attr.notAnimatedStateTransitions, t);
                return n ? this.deferredAnimateElementHeightChange(e, i) : TD.core.defer.maybeDeferred(i)
            }
            ,
            this.stateRuleMatch = function(e, t) {
                return t = t || {},
                t.transition && t.from && t.to && e[t.from] && e[t.from][t.transition] && e[t.from][t.transition].indexOf(t.to) > -1
            }
            ,
            this.revertContributorState = function(e) {
                var t = this.getOrCreateContributorRow(e).attr("data-previous-state");
                this.setStateOrCreateContributor(e, t, {
                    error: this.makeErrorState(t)
                })
            }
            ,
            this.scrollToContributor = function(e) {
                var t = this.getElemByUserId("contributorRowSelector", e)
                  , i = this.$node.closest(".scroll-v");
                setTimeout(function() {
                    c.makeElementVisible(i, t)
                }, this.attr.scrollWait)
            }
            ,
            this.scrollFix = function() {
                this.$node.closest(".scroll-v").trigger("scroll")
            }
            ,
            this.removeContributorFromList = function(e) {
                var t = this.getElemByUserId("contributorRowSelector", e);
                t.remove(),
                delete this.state.contributorIndex[e]
            }
            ,
            this.removeMessages = function() {
                this.$node.contents().filter(function(e, t) {
                    return !$(t).hasClass(this.attr.contributorRowClass)
                }
                .bind(this)).remove()
            }
            ,
            this.getOrCreateContributorRow = function(e) {
                this.removeMessages();
                var t = this.select("contributorRowSelector").filter(function() {
                    return $(this).attr("data-user-id") === e.user.id
                });
                if (t.length > 0)
                    return t;
                var i = !1;
                return t = this.renderContributorRow(e),
                e.isUnconfirmed || this.select("contributorRowSelector").each(function(s, n) {
                    var r = $(n)
                      , o = this.state.contributorIndex[r.attr("data-user-id")]
                      , a = 1 === this.sortByName(r.attr("data-name"), e)
                      , c = o.isUnconfirmed;
                    i || !a && !c || (t.insertBefore(r),
                    i = !0)
                }
                .bind(this)),
                i || this.$node.append(t),
                t
            }
            ,
            this.renderContributorRow = function(e) {
                var t = this.getTwitterLoginAccount()
                  , i = {
                    initialState: this.attr.STATE_INITIAL,
                    contributor: e,
                    contributee: this.state.contributee,
                    isSigninAccount: t && e.user.id === t.userId
                };
                return this.renderTemplate("contributors/contributor_list_row", i)
            }
            ,
            this.scribeContributorAction = function(e, t) {
                e && (this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "settings",
                        section: "contributor_manager",
                        component: "contributor",
                        element: e,
                        action: t
                    }
                }),
                this.trigger("metric", {
                    key: ["contributors:ui", e, t].join(":")
                }))
            }
            ,
            this.scheduleContributorPoll = function() {
                return this.isPolling ? void 0 : (this.isPolling = !0,
                setTimeout(this.trigger.bind(this, "uiNeedsContributors", {
                    accountKey: this.attr.accountKey
                }), this.attr.contributorsPollInterval))
            }
            ,
            this.getContributorRole = function(e) {
                return e.isAdmin ? "admin" : "contributor"
            }
            ,
            this.makeErrorState = function(e) {
                return e + "-error"
            }
        }
        var s = i(1).component
          , n = i(22)
          , r = i(4)
          , a = i(38)
          , c = i(126);
        return s(t, n, r, a)
    }
    .call(t, i, t, e),
    !(void 0 !== n && (e.exports = n))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                accountKey: null ,
                fixedPosSelector: ".js-position-sticky",
                contributorAdderSelector: ".js-contributor-adder",
                contributorListSelector: ".js-contributor-list",
                readMoreLinkSelector: ".js-read-more"
            }),
            this.after("initialize", function() {
                this.renderContributorManager(),
                this.attachChild(a, this.attr.contributorAdderSelector, {
                    placeholder: TD.i("Add team member")
                }),
                this.attachChild(c, this.attr.contributorListSelector, {
                    accountKey: this.attr.accountKey
                }),
                this.on("uiUserSelected", {
                    contributorAdderSelector: this.handleUserSelection
                }),
                this.on("click", {
                    readMoreLinkSelector: this.trackReadMoreClick
                }),
                o.makeElementSticky({
                    $target: this.select("fixedPosSelector"),
                    $container: this.$node,
                    $offsetChild: this.select("contributorListSelector")
                }),
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "settings",
                        section: "contributor_manager",
                        action: "impression"
                    }
                })
            }),
            this.renderContributorManager = function() {
                var e = this.getAccount(this.attr.accountKey);
                e.getProfileURL = "https://twitter.com/" + e.screenName,
                e.profileImageURL = e.profileImageURL;
                var t = l.render("contributors/contributor_manager", {
                    account: e,
                    withUserBio: !1,
                    withUserMenu: !1
                });
                this.$node.html(t)
            }
            ,
            this.handleUserSelection = function(e, t) {
                this.trigger("dataContributor", {
                    accountKey: this.attr.accountKey,
                    contributor: {
                        user: t.user,
                        isAdmin: !1,
                        isUnconfirmed: !0
                    }
                }),
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "settings",
                        section: "contributor_manager",
                        component: "user_search",
                        action: "select"
                    }
                })
            }
            ,
            this.trackReadMoreClick = function() {
                this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "settings",
                        section: "contributor_manager",
                        element: "read_more",
                        action: "click"
                    }
                })
            }
        }
        var s = i(1).component
          , n = i(22)
          , r = i(20)
          , o = i(564)
          , a = i(182)
          , c = i(492)
          , l = i(9);
        return s(t, n, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                accountKey: null ,
                customTimelineId: null ,
                isOwnCustomTimeline: !1,
                readOnly: !1,
                reloadPeriod: 900,
                animatingClass: "is-column-options-animating",
                maxCharCount: 160,
                characterCountSelector: ".js-character-count",
                tweetTextInputSelector: ".js-compose-text",
                inputSelector: ".js-input",
                editSelector: ".js-edit",
                saveSelector: ".js-save",
                cancelSelector: ".js-cancel",
                closeEditEvent: function() {
                    return "uiCloseCustomTimelineDescriptionEdit-" + this.attr.customTimelineId
                }
            }),
            this.initialState({
                descriptionText: "",
                selectionIndices: [],
                hideCharacterCount: !1
            }),
            this.after("initialize", function() {
                this.customTimeline = null ,
                this.newDescription = null ,
                this.$node.removeClass("is-hidden"),
                this.on(document, "dataCustomTimelineSuccess", this.handleCustomTimeline.bind(this)),
                this.on(document, "dataCustomTimelineUpdateError", this.handleUpdateError.bind(this)),
                this.on("uiComposeTextChanged", this.handleComposeTextChanged),
                this.stateSource = "customTimelineDescription[" + _.uniqueId("ctlid") + "].state";
                var e = this.observableState.map(function(e) {
                    var t = d.getRemainingCharCount(this.attr.maxCharCount, twttrTxt.getUnicodeTextLength(e.descriptionText));
                    return _.merge({}, e, {
                        tweetText: e.descriptionText,
                        displayedCharacterCount: t,
                        hasValidCharacterCount: t >= 0
                    })
                }, this);
                this.provideResource(this.stateSource, e),
                e.subscribeOnNext(this.renderButtons, this),
                this.on("click", {
                    editSelector: this.edit,
                    saveSelector: this.save,
                    cancelSelector: this.cancel
                }),
                this.on("uiInputSubmit", {
                    inputSelector: this.save
                }),
                this.on("uiInputBlur", {
                    inputSelector: this.cancel
                }),
                this.reloadTaskId = TD.controller.scheduler.schedulePeriodicTask(this.attr.reloadPeriod, this.requestData.bind(this), !0)
            }),
            this.before("teardown", function() {
                TD.controller.scheduler.removePeriodicTask(this.reloadTaskId)
            }),
            this.requestData = function() {
                this.trigger(document, "uiNeedsCustomTimeline", {
                    id: this.attr.customTimelineId,
                    account: this.attr.accountKey
                })
            }
            ,
            this.handleCustomTimeline = function(e, t) {
                var i = !0;
                t.action.id === this.attr.customTimelineId && (i = !this.customTimeline || this.customTimeline.description !== t.result.description,
                this.customTimeline = t.result,
                this.customTimeline.description === this.newDescription && (this.newDescription = null ),
                i && this.showDescription(this.customTimeline.description))
            }
            ,
            this.showDescription = function(e) {
                var t = $(u.render("column/custom_timeline_description", {
                    description: e,
                    editable: this.attr.isOwnCustomTimeline && !this.attr.readOnly
                }));
                this.animateElementContentHeight(this.$node, t, this.attr.animatingClass)
            }
            ,
            this.edit = function() {
                var e = null !== this.newDescription ? this.newDescription : this.customTimeline.description
                  , t = $(u.render("column/custom_timeline_edit_description"));
                this.animateElementContentHeight(this.$node, t, this.attr.animatingClass),
                this.setupDOM(),
                this.attachChild(n, this.select("characterCountSelector"), {
                    stateSource: this.stateSource,
                    teardownOn: this.attr.closeEditEvent
                }),
                this.attachChild(r, this.select("tweetTextInputSelector"), {
                    stateSource: this.stateSource,
                    teardownOn: this.attr.closeEditEvent,
                    fixedHeight: !0
                }),
                this.mergeState({
                    descriptionText: e,
                    selectionIndices: e ? [e.length, e.length] : [],
                    tweetTextFocused: !0,
                    sendingStatus: "ready"
                })
            }
            ,
            this.setupDOM = function() {}
            ,
            this.save = function(e, t) {
                var i = this.select("inputSelector").val()
                  , s = this.customTimeline ? this.customTimeline.description : null ;
                this.select("saveSelector").prop("disabled") || (this.showDescription(i),
                i !== s && (this.newDescription = i,
                this.trigger(document, "uiUpdateCustomTimeline", {
                    account: this.attr.accountKey,
                    id: this.attr.customTimelineId,
                    description: i
                }),
                this.trigger(this.attr.closeEditEvent)))
            }
            ,
            this.cancel = function() {
                this.showDescription(this.customTimeline.description),
                this.trigger(this.attr.closeEditEvent)
            }
            ,
            this.handleUpdateError = function(e, t) {
                t.action.id === this.attr.customTimelineId && this.newDescription && (this.edit(),
                TD.controller.progressIndicator.addMessage(TD.i("Error: unable to save description")))
            }
            ,
            this.handleComposeTextChanged = function(e, t) {
                e.stopPropagation(),
                this.mergeState({
                    descriptionText: t.value
                })
            }
            ,
            this.renderButtons = function(e) {
                this.select("saveSelector").prop("disabled", e.displayedCharacterCount <= 0)
            }
        }
        var s = i(1).component
          , n = i(122)
          , r = i(123)
          , o = i(38)
          , a = i(20)
          , c = i(7)
          , l = i(67)
          , u = i(9)
          , d = i(186);
        return s(l, t, o, a, c)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                jsAppSelector: ".js-app",
                jsAppHeaderSelector: ".js-app-header",
                jsAppHeaderInnerSelector: ".js-app-header-inner",
                jsSearchSelector: ".js-search",
                jsAppContentSelector: ".js-app-content",
                isCondensingClass: "is-condensing",
                isCondensedClass: "is-condensed",
                scrollNoneClass: "scroll-none",
                navbarWidthChangeDuration: 250,
                maxColumnsForAnimation: 5
            });
            var e, t;
            this.setTheme = function(e) {
                if (this._currentTheme = this._currentTheme || $("meta[http-equiv=Default-Style]")[0].content,
                e !== this._currentTheme) {
                    this._currentTheme = e;
                    var t = $("link");
                    _.each(t, function(t) {
                        var i = _.contains(t.getAttribute("rel"), "stylesheet")
                          , s = t.getAttribute("title");
                        i && s && (t.disabled = !0,
                        s === e && (t.disabled = !1))
                    }),
                    $("meta[http-equiv=Default-Style]")[0].content = e
                }
            }
            ,
            this.setNavbarWidth = function(i) {
                var s, n = this.select("jsAppHeaderInnerSelector"), r = this.select("jsAppHeaderSelector"), o = "condensed" === i, a = TD.storage.clientController.client.getColumnOrder().length, c = function() {
                    o && r.removeClass(this.attr.isCondensingClass),
                    e.toggleClass(this.attr.isCondensedClass, o),
                    r.toggleClass(this.attr.isCondensedClass, o)
                }
                .bind(this);
                if (!this.isNavbarWidthSet || a > this.attr.maxColumnsForAnimation)
                    c(),
                    this.isNavbarWidthSet = !0,
                    this.trigger("uiToggleNavBarWidth");
                else {
                    if (!o && !e.hasClass(this.attr.isCondensedClass) || o && e.hasClass(this.attr.isCondensedClass))
                        return;
                    o ? (s = parseInt(n.css("min-width"), 10),
                    r.addClass(this.attr.isCondensingClass)) : (r.removeClass(this.attr.isCondensedClass),
                    s = n.outerWidth()),
                    r.addClass(this.attr.scrollNoneClass),
                    r.animate({
                        width: s
                    }, {
                        duration: this.attr.navbarWidthChangeDuration,
                        complete: function() {
                            c(),
                            r.removeClass(this.attr.scrollNoneClass),
                            this.trigger("uiToggleNavBarWidth")
                        }
                        .bind(this),
                        step: function(e) {
                            t.css("left", e)
                        },
                        easing: "easeOutQuad"
                    })
                }
            }
            ,
            this.handleDataSettings = function(e, t) {
                this.setTheme(t.theme),
                this.setNavbarWidth(t.navbarWidth)
            }
            ,
            this.after("initialize", function() {
                e = this.select("jsAppSelector"),
                t = this.select("jsAppContentSelector"),
                this.isNavbarWidthSet = !1,
                this.on(document, "dataSettings", this.handleDataSettings)
            })
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t(e) {
            var t = TD.controller.clients.getClient(e.accountKey);
            return t.conversations.getConversation(e.conversationId)
        }
        function s() {
            this.after("initialize", function() {
                this.conversationData = {},
                this.accountKey = null ,
                this.columnKey = null ,
                this.on("uiShowConversationMenu", this.handleShowConversationMenu),
                this.after("renderDropdown", this.addConversationMenuClickHandler),
                this.before("teardownCurrentDropdown", this.handleRemoveConversationMenu)
            }),
            this.addConversationMenuClickHandler = function() {
                this.currentDropdown && this.on(this.currentDropdown.$el, "click", this.handleConversationMenuClick)
            }
            ,
            this.handleConversationMenuClick = function(e) {
                var i = $(e.target);
                if (0 !== i.closest(this.attr.isSelectedSelector).length) {
                    var s = i.data("action");
                    switch (s) {
                    case "rename-conversation":
                        i.closest(".js-detail-header").trigger("uiRenameConversation", this.conversationData);
                        break;
                    case "leave-conversation":
                        this.trigger("uiDeleteConversation", this.conversationData);
                        break;
                    case "notify-conversation":
                        var n = t(this.conversationData)
                          , r = n.notificationsDisabled ? "uiConversationsEnableNotifications" : "uiConversationsDisableNotifications";
                        n.notificationsDisabled = !n.notificationsDisabled,
                        this.trigger(r, this.conversationData);
                        break;
                    case "view-people":
                        this.trigger("metric", {
                            key: "dm:ui:conversation:view-participiants"
                        }),
                        this.trigger(document, "uiShowDmParticipants", this.conversationData)
                    }
                    this.teardownCurrentDropdown()
                }
            }
            ,
            this.handleShowConversationMenu = function(e, i) {
                var s = i.$targetElement.find(".js-menu-target")
                  , n = t(i)
                  , r = {
                    columnKey: i.columnKey,
                    accountKey: i.accountKey,
                    conversationId: i.conversationId,
                    notificationsDisabled: n.notificationsDisabled,
                    name: n.name,
                    showAddUser: !0,
                    group: "GROUP_DM" === n.type
                };
                this.renderDropdown(s, "menus/dm_conversations_menu", r, {
                    toggle: !0,
                    position: "pos-l conversation-menu-position"
                }),
                this.conversationData = r
            }
            ,
            this.handleRemoveConversationMenu = function(e, t) {
                this.currentDropdown && (this.conversationData = {})
            }
        }
        var n = i(1).component
          , r = i(96);
        return n(s, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                columnBackSelector: ".js-dm-participants-back",
                headerLinkClass: "js-dm-participants-back",
                conversationAdderSelector: ".js-conversation-adder",
                conversationId: null ,
                accountKey: null
            }),
            this.initialState({
                participants: null ,
                isOneToOne: !1,
                conversationId: function() {
                    return this.attr.conversationId
                },
                accountKey: function() {
                    return this.attr.accountKey
                }
            }),
            this.after("initialize", function() {
                this.after("stateChanged", this.render),
                this.on("uiCloseDmParticipants", this.close),
                this.on("click", {
                    columnBackSelector: this.close
                }),
                this.on("uiUserSelected", {
                    conversationAdderSelector: this.handleUserSelection
                }),
                this.on(document, "dataConversationParticipants", this.handleConversationParticipants),
                this.fetchData()
            }),
            this.fetchData = function() {
                var e = TD.controller.clients.getClient(this.state.accountKey)
                  , t = e.conversations.getConversation(this.state.conversationId)
                  , i = t.participants;
                this.mergeState({
                    participants: i,
                    isOneToOne: t.isOneToOne()
                })
            }
            ,
            this.handleConversationParticipants = function(e, t) {
                t.conversationId === this.state.conversationId && this.mergeState({
                    participants: t.participants
                })
            }
            ,
            this.render = function() {
                if (null !== this.state.participants) {
                    var e = {
                        columntitle: TD.i("Conversation"),
                        headerLinkClass: this.attr.headerLinkClass,
                        withUserMenu: !0,
                        users: this.state.participants,
                        showAddUser: !0
                    }
                      , t = a.render("column/column_dm_participants", e);
                    this.$node.html(t),
                    this.attachChild(o, this.attr.conversationAdderSelector, {
                        placeholder: TD.i("Add people to group"),
                        withSelectButton: !1,
                        focusOnInit: !1
                    })
                }
            }
            ,
            this.close = function() {
                this.trigger("uiDmParticipantsClosed"),
                this.teardown()
            }
            ,
            this.addParticipants = function(e) {
                var t = {
                    conversationId: this.state.conversationId,
                    participantIds: [e.user.id],
                    accountKey: this.state.accountKey
                };
                this.trigger("uiAddConversationParticipants", t)
            }
            ,
            this.createNewConversation = function(e) {
                var t = {
                    type: "message",
                    messageRecipients: this.state.participants.concat(e.user),
                    from: [this.state.accountKey],
                    text: ""
                };
                this.trigger("uiComposeTweet", t)
            }
            ,
            this.handleUserSelection = function(e, t) {
                this.state.isOneToOne ? this.createNewConversation(t) : this.addParticipants(t)
            }
        }
        var s = i(1).component
          , n = i(28)
          , r = i(20)
          , o = i(182)
          , a = i(9);
        return s(n, t, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                renameParentContainer: ".js-detail-header",
                renameHeaderText: ".js-tooltip-target",
                renameContainerSelector: ".js-edit-conversation-name",
                renameInputSelector: ".js-conversation-name",
                renameConfirmSelector: '[data-action="confirm-edit-conversation"]',
                renameCloseSelector: '[data-action="close-edit-conversation"]'
            }),
            this.after("initialize", function() {
                this.on("uiRenameConversation", this.handleRenameConversation),
                this.on("click", {
                    renameConfirmSelector: this.handleRenameConversationActions,
                    renameCloseSelector: this.handleRenameConversationActions
                }),
                this.on("uiInputEscape uiInputSubmit", {
                    renameInputSelector: this.handleRenameConversationKeypress
                })
            }),
            this.handleRenameConversation = function(e, t) {
                var i = t.name || ""
                  , s = this.select("renameContainerSelector")
                  , n = this.select("renameInputSelector").val(i).focus();
                i && (n[0].selectionStart = 0,
                n[0].selectionEnd = i.length),
                s.addClass("is-visible")
            }
            ,
            this.handleRenameConversationKeypress = function(e, t) {
                this.performRenameConversation("uiInputSubmit" === e.type ? $(t.el).val().trim() : "")
            }
            ,
            this.performRenameConversation = function(e) {
                var t = this.select("renameContainerSelector");
                if (e.length > 0) {
                    var i = t.data("conversation-id");
                    this.trigger("uiUpdateConversationName", {
                        conversationId: i,
                        name: e
                    })
                }
                t.removeClass("is-visible")
            }
            ,
            this.handleRenameConversationActions = function(e, t) {
                var i = $(t.el)
                  , s = this.select("renameInputSelector")
                  , n = i.is(this.attr.renameConfirmSelector) ? s.val().trim() : "";
                this.performRenameConversation(n),
                e.stopPropagation()
            }
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.on("dragstart", function(e) {
                    this.trigger(document, "uiDragStart", this.extractDataFromEvent(e))
                }),
                this.on("dragend", function(e) {
                    this.trigger(document, "uiDragEnd", this.extractDataFromEvent(e))
                })
            })
        }
        var s = i(1).component
          , n = i(94);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                defaultDragScrollConfig: {
                    regionSize: 20,
                    maxSpeed: 400,
                    throttlePeriod: 200,
                    horizontal: !0,
                    vertical: !1,
                    deltaFn: function(e, t, i, s) {
                        return e
                    }
                }
            }),
            this.before("initialize", function() {
                this.animateScrollLeft = this.animateScroll.bind(this, "scrollLeft"),
                this.animateScrollTop = this.animateScroll.bind(this, "scrollTop"),
                this.dragScrollId = _.uniqueId("drag-scroll")
            }),
            this.handleDrag = function(e, t, i, s) {
                if (this.justDropped)
                    return void (this.justDropped = !1);
                var n = $(s.el)
                  , r = this.mousePositionRelativeToElement(n, i.originalEvent)
                  , o = {};
                o.left = r.x / n.width() * 100,
                o.right = 100 - o.left,
                o.top = r.y / n.height() * 100,
                o.bottom = 100 - o.top;
                var a = {};
                a.left = -this.percToDelta(o.left, e),
                a.right = this.percToDelta(o.right, e),
                a.up = -this.percToDelta(o.top, e),
                a.down = this.percToDelta(o.bottom, e),
                e.horizontal !== !1 && (o.left < e.regionSize ? this.animateScrollLeft(n, "left", a.left, e, t.left) : o.right < e.regionSize && this.animateScrollLeft(n, "right", a.right, e, t.right)),
                e.vertical !== !1 && (o.top < e.regionSize ? this.animateScrollTop(n, "up", a.up, e, t.up) : o.bottom < e.regionSize && this.animateScrollTop(n, "down", a.down, e, t.down))
            }
            ,
            this.setupDragScroll = function(e, t) {
                t = _.defaults(t || {}, this.attr.defaultDragScrollConfig);
                var i = {
                    up: {},
                    down: {},
                    left: {},
                    right: {}
                }
                  , s = {};
                s[e] = _.throttle(this.handleDrag.bind(this, t, i), t.throttlePeriod),
                this.on("dragover", s),
                this.on("drop", function() {
                    this.justDropped = !0
                })
            }
            ,
            this.percToDelta = function(e, t) {
                var i = e / t.regionSize;
                return t.maxSpeed - t.maxSpeed * i
            }
            ,
            this.animateScroll = function(e, t, i, n, r, o) {
                var a = $(t);
                if (!a[e])
                    throw new Error("$elem has no method " + e);
                o.startTime || (o.startTime = Date.now()),
                clearTimeout(o.timeout),
                o.timeout = setTimeout(function() {
                    delete o.startTime
                }, 1.1 * r.throttlePeriod);
                var c = Date.now() - o.startTime
                  , l = r.deltaFn.call(this, n, i, u, c)
                  , u = a[e]();
                s.ease({
                    name: this.dragScrollId,
                    from: u,
                    delta: l,
                    time: r.throttlePeriod,
                    applicator: function(t) {
                        a[e](t)
                    }
                })
            }
            ,
            this.getMousePosition = function(e) {
                var t = 0
                  , i = 0;
                return e || (e = window.event),
                e.pageX || e.pageY ? (t = e.pageX,
                i = e.pageY) : (e.clientX || e.clientY) && (t = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
                i = e.clientY + document.body.scrollTop + document.documentElement.scrollTop),
                {
                    x: t,
                    y: i
                }
            }
            ,
            this.mousePositionRelativeToElement = function(e, t) {
                var i = $(e)
                  , s = i.offset()
                  , n = this.getMousePosition(t);
                return n.x -= s.left + parseInt(i.css("paddingLeft"), 10) + parseInt(i.css("borderLeftWidth"), 10),
                n.y -= s.top + parseInt(i.css("paddingTop"), 10) + parseInt(i.css("borderTopWidth"), 10),
                n
            }
        }
        var s = i(189);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            var e = "compose"
              , t = "accountSettings"
              , i = {};
            i[t] = "accounts",
            this.attributes({
                contentSelector: ".js-app-content",
                drawerSelector: ".js-drawer",
                closeDrawerSelector: ".js-drawer-close",
                composeSelector: ".js-drawer-compose",
                accountSettingsSelector: ".js-drawer-account-settings",
                drawerWidth: 270,
                transitionDuration: 200,
                accountSettingsExpandDelay: 200
            }),
            this.after("initialize", function() {
                this.state = {
                    activeDrawer: null
                },
                this.$content = this.select("contentSelector"),
                this.on(document, "uiDrawerHideDrawer", this.handleDrawerHide),
                this.on(document, "uiDrawerShowDrawer", this.handleDrawerShow),
                this.on(document, "uiShowAccountSettings", this.handleShowAccountSettings),
                this.on("click", {
                    closeDrawerSelector: this.handleDrawerHide
                }),
                this.attachChild(n, this.getDrawerContainer(e)),
                this.attachChild(r, this.getDrawerContainer(t), {
                    firstExpandDelay: this.attr.transitionDuration + this.attr.accountSettingsExpandDelay
                })
            }),
            this.handleDrawerShow = function(e, t) {
                this.showDrawer({
                    drawer: t.drawer,
                    withAnimation: t.withAnimation
                })
            }
            ,
            this.handleDrawerHide = function() {
                this.hideDrawer({
                    withAnimation: !0
                })
            }
            ,
            this.getDrawerContainer = function(e) {
                return this.select("drawerSelector").filter(function() {
                    return $(this).attr("data-drawer") === e
                })
            }
            ,
            this.handleShowAccountSettings = function() {
                this.showDrawer({
                    drawer: t,
                    withAnimation: !0
                })
            }
            ,
            this.applyContentTransition = function(e) {
                this.$content.one("transitionend", this.handleTransitionEnd.bind(this)),
                this.$content.css(e)
            }
            ,
            this.hideDrawer = function(e) {
                this.state.activeDrawer && (this.select("contentSelector").removeClass("is-open"),
                this.setTransitionDuration(e.withAnimation),
                this.state.activeDrawer = null ,
                this.applyContentTransition({
                    transform: "translateX(0px)",
                    "margin-right": "0"
                }),
                this.trigger("uiDrawerActive", {
                    activeDrawer: this.state.activeDrawer
                }))
            }
            ,
            this.showDrawer = function(e) {
                e.drawer !== this.state.activeDrawer && (this.select("contentSelector").addClass("is-open"),
                this.setVisibleDrawer(e.drawer),
                this.state.activeDrawer || (this.setTransitionDuration(e.withAnimation),
                this.applyContentTransition({
                    transform: "translateX(" + this.attr.drawerWidth + "px)"
                })),
                this.state.activeDrawer = e.drawer,
                this.trigger("uiDrawerActive", {
                    activeDrawer: this.state.activeDrawer
                }),
                i[e.drawer] && this.trigger(document, "scribeEvent", {
                    terms: {
                        page: "settings",
                        section: i[e.drawer],
                        action: "impression"
                    }
                }))
            }
            ,
            this.handleTransitionEnd = function() {
                this.state.activeDrawer && this.$content.css({
                    "margin-right": this.attr.drawerWidth
                }),
                this.trigger("uiDrawerTransitionComplete")
            }
            ,
            this.setVisibleDrawer = function(e) {
                this.trigger("uiCloseModal"),
                this.select("drawerSelector").addClass("is-hidden");
                var t = this.getDrawerContainer(e);
                t.removeClass("is-hidden")
            }
            ,
            this.setTransitionDuration = function(e) {
                e ? this.$content.css({
                    "transition-duration": this.attr.transitionDuration + "ms"
                }) : this.$content.css({
                    "transition-duration": "0"
                })
            }
        }
        var s = i(1).component
          , n = i(480)
          , r = i(464)
          , o = i(20);
        return s(t, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                embedDataCache: {},
                includeParentTweet: !0,
                includeMedia: !0,
                closeEvent: "uiCloseEmbedTweet",
                dataEmbeddedTweetEvent: "dataEmbeddedTweet",
                dataEmbeddedTweetErrorEvent: "dataEmbeddedTweetError",
                embedTextArea: ".js-embed-textarea",
                embedIncludeParentCheckBox: ".js-embed-include-parent",
                embedIncludeMediaCheckBox: ".js-embed-include-media",
                modalTitle: ".js-header-title",
                embedIframe: ".js-embed-iframe",
                embedIframeContainer: ".js-embed-iframe-container",
                embedModalPanel: ".js-modal-panel",
                embedModalHeader: ".js-mdl-header",
                embedModalContent: ".js-mdl-content",
                embedLoading: ".js-embed-loading-container",
                tweet: null
            }),
            this.after("initialize", function() {
                this.includeParentTweet = this.attr.includeParentTweet,
                this.includeMedia = this.attr.includeMedia;
                var e = r.render("embed_tweet", {
                    loading: !0
                });
                this.$node.html(e),
                this.trigger(document, "uiNeedsEmbeddedTweet", {
                    tweetID: this.attr.tweet.id,
                    hideThread: !this.includeParentTweet,
                    hideMedia: !this.includeMedia
                }),
                this.on(this.attr.closeEvent, this.teardown),
                this.on("change", {
                    embedIncludeParentCheckBox: this.handleEmbeddedTweetOptionsChange,
                    embedIncludeMediaCheckBox: this.handleEmbeddedTweetOptionsChange
                }),
                this.on(document, this.attr.dataEmbeddedTweetEvent, this.handleEmbeddedTweet),
                this.on(document, this.attr.dataEmbeddedTweetErrorEvent, this.handleEmbeddedTweetError)
            }),
            this.handleEmbeddedTweet = function(e, t) {
                var i, s, n, o, a, c, l, u;
                if (t && t.html && t.request && t.request.tweetID === this.attr.tweet.id && t.request.hideThread !== this.includeParentTweet && t.request.hideMedia !== this.includeMedia)
                    if (this.putEmbedDataInCache(t),
                    u = function(e) {
                        var u, d = r.render("embed_tweet", {
                            html: t.html,
                            isReply: !!e.inReplyToID,
                            includeParentTweet: this.includeParentTweet,
                            hasMedia: !!e.cards,
                            includeMedia: this.includeMedia
                        });
                        this.$node.html(d),
                        this.select("modalTitle").text(TD.i("Embed this Tweet")),
                        this.on(this.select("embedTextArea"), "focus", this.handleInputBoxFocus),
                        s = this.select("embedIframe"),
                        n = this.select("embedIframeContainer"),
                        o = this.select("embedModalPanel"),
                        a = this.select("embedModalHeader"),
                        c = this.select("embedModalContent"),
                        l = this.select("embedLoading"),
                        u = function() {
                            n.css("height", "auto"),
                            s.height(Math.max($("html", i).outerHeight(), $("body", i).outerHeight(), s.height())),
                            o.height(c.height() + a.outerHeight()),
                            $("a", i).attr("target", "_blank")
                        }
                        ,
                        s.load(function() {
                            l.addClass("is-hidden"),
                            u(),
                            this.resizeIframeIntervalId = setInterval(u, 500)
                        }
                        .bind(this)),
                        s[0] && (i = s[0].contentWindow.document,
                        i.open(),
                        i.write(["<!DOCTYPE html>", '<meta charset="utf-8">', '<base href="https://tweetdeck.twitter.com">', '<meta name="twitter:widgets:csp" content="on">', t.html].join("\n")),
                        i.close()),
                        c.removeClass("horizontal-flow-container")
                    }
                    ,
                    !this.attr.tweet.cards && this.attr.tweet.hasLink()) {
                        var d = TD.controller.clients.getClient(this.attr.tweet.account.getKey());
                        d.show(this.attr.tweet.id, u.bind(this), function() {
                            this.trigger(document, this.attr.dataEmbeddedTweetErrorEvent, t)
                        }
                        .bind(this))
                    } else
                        u.call(this, this.attr.tweet)
            }
            ,
            this.handleEmbeddedTweetError = function(e, t) {
                t && t.request && t.request.tweetID === this.attr.tweet.id && (this.teardown(e),
                TD.controller.progressIndicator.addMessage(TD.i("Sorry, couldn't retrieve embedded Tweet. Please try again later.")))
            }
            ,
            this.handleInputBoxFocus = function(e) {
                var t = this.select("embedTextArea");
                _.defer(function() {
                    t.select()
                })
            }
            ,
            this.handleEmbeddedTweetOptionsChange = function(e) {
                var t;
                this.includeParentTweet = $(this.attr.embedIncludeParentCheckBox).prop("checked"),
                this.includeMedia = $(this.attr.embedIncludeMediaCheckBox).prop("checked");
                var i = r.render("embed_tweet", {
                    loading: !0
                });
                this.$node.html(i),
                t = this.getEmbedDataFromCache(),
                t ? this.trigger(document, "dataEmbeddedTweet", t) : this.trigger(document, "uiNeedsEmbeddedTweet", {
                    tweetID: this.attr.tweet.id,
                    hideThread: !this.includeParentTweet,
                    hideMedia: !this.includeMedia
                })
            }
            ,
            this.getEmbedDataFromCache = function() {
                var e = !!this.includeParentTweet
                  , t = !!this.includeMedia
                  , i = this.attr.embedDataCache[e + ":" + t];
                return i && i.request.tweetID === this.attr.tweet.id ? i : void 0
            }
            ,
            this.putEmbedDataInCache = function(e) {
                var t = !!this.includeParentTweet
                  , i = !!this.includeMedia;
                this.attr.embedDataCache[t + ":" + i] = e
            }
            ,
            this.after("teardown", function() {
                clearInterval(this.resizeIframeIntervalId),
                this.$node.html("")
            })
        }
        var s = i(1).component
          , n = i(79)
          , r = i(9);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                tweet: null ,
                closeEvent: "uiFavoriteFromOptionsClose",
                modalTitleSelector: ".js-header-title",
                modalContentSelector: ".js-mdl-content"
            }),
            this.after("initialize", function() {
                this._renderDialog(),
                this.on(this.attr.closeEvent, this.teardown)
            }),
            this.after("teardown", function() {
                this.$node.html("")
            }),
            this._renderDialog = function() {
                var e = TD.storage.accountController.getAccountsForService("twitter")
                  , t = a.render("favorite_from_options", {
                    no_horiz_flow_container: !0,
                    accounts: e,
                    tweet: this.attr.tweet
                });
                this.$node.html(t),
                this.attachFavoriteButtons(this.select("modalContentSelector")),
                this.select("modalTitleSelector").text(this.getDecider("hearts_and_likes2") ? TD.i("Like this Tweet") : TD.i("Favorite this Tweet"))
            }
        }
        var s = i(1).component
          , n = i(79)
          , r = i(553)
          , o = i(30)
          , a = i(9);
        return s(t, n, r, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                selector: "body",
                heartsClass: "hearty",
                deciderKey: "hearts_and_likes2"
            }),
            this.after("initialize", function() {
                this.watchDecider(this.attr.deciderKey, this.setHeartiness),
                this.setHeartiness()
            }),
            this.setHeartiness = function() {
                this.select("selector").toggleClass("hearty", !!this.getDecider(this.attr.deciderKey))
            }
        }
        var s = i(1).component
          , n = i(30);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = function() {
            this.handleFocusRequest = function(e, t) {
                t && void 0 !== t.id && this.focusHistory[this.focusHistory.length - 1] !== t.id && (this.focusHistory.push(t.id),
                this.trigger("uiFocus", {
                    id: t.id
                }))
            }
            ,
            this.handleFocusRelease = function(e, t) {
                t && void 0 !== t.id && (this.focusHistory[this.focusHistory.length - 1] === t.id ? (this.focusHistory = this.focusHistory.filter(function(e) {
                    return e !== t.id
                }),
                this.focusHistory.length > 0 && _.defer(function() {
                    this.trigger("uiFocus", {
                        id: this.focusHistory[this.focusHistory.length - 1]
                    })
                }
                .bind(this))) : this.focusHistory = this.focusHistory.filter(function(e) {
                    return e !== t.id
                }))
            }
            ,
            this.after("initialize", function() {
                this.focusHistory = [],
                this.on(document, "uiFocusRequest", this.handleFocusRequest),
                this.on(document, "uiFocusRelease", this.handleFocusRelease)
            })
        }
        ;
        return t(s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                userToFollow: null ,
                closeEvent: "uiFollowFromOptionsClose",
                modalTitleSelector: ".js-header-title",
                modalContentSelector: ".js-mdl-content"
            }),
            this.after("initialize", function() {
                this._components = [],
                this._renderDialog(),
                this.on(this.attr.closeEvent, this.teardown)
            }),
            this.after("teardown", function() {
                this.$node.html(""),
                _.invoke(this._components, "destroy")
            }),
            this._renderDialog = function() {
                var e = r.render("follow_from_options", {
                    userToFollow: this.userToFollow,
                    no_horiz_flow_container: !0
                });
                this.$node.html(e),
                this.select("modalTitleSelector").html(TD.i("Your relationship with {{>text/user_link_screenname}}", this.attr.userToFollow)),
                this._components = this._components.concat(this._renderFollowFromComponents())
            }
            ,
            this._renderFollowFromComponents = function() {
                var e = TD.storage.accountController.getAccountsForService("twitter")
                  , t = document.createDocumentFragment()
                  , i = e.map(function(e) {
                    return e.getUserID() !== this.attr.userToFollow.id ? new TD.components.FollowFrom(this.attr.userToFollow,e) : void 0
                }
                .bind(this)).filter(_.identity);
                return _.pluck(i, "$node").forEach(function(e) {
                    t.appendChild(e[0])
                }),
                this.select("modalContentSelector").append(t),
                i
            }
        }
        var s = i(1).component
          , n = i(79)
          , r = i(9);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                id: "grid",
                focusId: null ,
                chirpScrollOffset: 20,
                columnScrollOffset: 20,
                isSelectedClass: "is-selected-tweet",
                chirpSelector: ".js-stream-item",
                autoFocus: !0,
                pagingEasingFunction: "easeOutQuad",
                actionsMenuButtonSelector: '[rel="actionsMenu"]'
            }),
            this.after("initialize", function() {
                this.selectedColumn = null ,
                this.$selectedChirp = $(),
                this.columnIndex = null ,
                this.chirpCenter = null ,
                this.scrollDirection = this.attr.down,
                this.chirpOffsetTop = null ,
                this.on(document, "uiKeyLeft", this.moveSelection("left")),
                this.on(document, "uiKeyUp", this.moveSelection("up")),
                this.on(document, "uiKeyRight", this.moveSelection("right")),
                this.on(document, "uiKeyDown", this.moveSelection("down")),
                this.on(document, "uiGridBack", this.handleBack),
                this.on(document, "uiGridClearSelection", this.handleClearSelection),
                this.on(document, "uiColumnFocus", this.handleColumnFocus),
                this.on(document, "uiGridPageDown", this.handlePagingFactory("down")),
                this.on(document, "uiGridPageUp", this.handlePagingFactory("up")),
                this.on(document, "uiGridHome", this.handleGridHome),
                this.on(document, "uiGridEnd", this.handleGridEnd),
                this.on(document, "uiKeyEnter", this.tweetActionFactory("viewDetails")),
                this.on(document, "uiGridReply", this.tweetActionFactory("reply")),
                this.on(document, "uiGridFavorite", this.tweetActionFactory("favorite")),
                this.on(document, "uiGridFavoriteFromAccounts", this.tweetActionFactory("favoriteFromAccounts")),
                this.on(document, "uiGridRetweet", this.tweetActionFactory("retweet")),
                this.on(document, "uiGridDirectMessage", this.tweetActionFactory("dm")),
                this.on(document, "uiGridProfile", this.tweetActionFactory("profile")),
                this.on(document, "uiGridCustomTimeline", this.tweetActionFactory("customTimeline")),
                this.on(document, "uiGridContextMenu", this.tweetActionFactory("actionsMenu")),
                this.on(document, "uiDetailViewActive", this.handleDetailViewActive),
                this.on(document, "uiShowSocialProof", this.handleDetailViewActive),
                this.on(document, "uiDetailViewClosed", this.handleDetailClosed),
                this.on(document, "uiSkipToReplies", this.handleSkipToReplies),
                this.on(document, "dataColumns", this.handleDataColumns),
                this.trigger("uiNeedsColumns")
            }),
            this.handleSkipToReplies = function(e, t) {
                var i = this.$selectedChirp.hasClass(this.attr.isSelectedClass);
                this.selectColumnByKey(t.columnKey),
                this.selectFirstChirpInSelectedColumn(),
                this.scrollDirection = "up",
                this.selectNextChirp({
                    forceScroll: !0
                }),
                i || this.$selectedChirp.removeClass(this.attr.isSelectedClass)
            }
            ,
            this.handleDataColumns = function(e, t) {
                t.columns && (this.columns = t.columns,
                this.columnIndex = this.columns.indexOf(this.selectedColumn),
                -1 === this.columnIndex && (this.selectedColumn = null ,
                this.$selectedChirp = $(),
                this.offset = null ))
            }
            ,
            this.setSelectedColumn = function(e) {
                var t = this.columns.length;
                0 > e ? e = 0 : e >= t && (e = t - 1),
                this.columns[e] !== this.selectedColumn && (clearTimeout(this.chirpCenterTimeout),
                this.chirpCenter = this.calculateChirpCenterRelativeToColumn(this.selectedColumn, this.$selectedChirp),
                this.chirpCenterTimeout = setTimeout(function() {
                    this.chirpCenter = null
                }
                .bind(this), 1e3),
                this.selectedColumn = this.columns[e],
                this.columnIndex = e,
                null === this.chirpCenter ? this.selectFirstChirpInSelectedColumn() : this.selectClosestChirpToOffsetCenter(this.selectedColumn, this.chirpCenter, !0))
            }
            ,
            this.selectClosestChirpToOffsetCenter = function(e, t, i) {
                var s = this.selectedColumn.model.getKey()
                  , n = this.getColumnScrollContainerByKey(s)
                  , r = n.innerHeight()
                  , o = n.find(this.attr.chirpSelector)
                  , a = $()
                  , c = null
                  , l = Number.MAX_VALUE;
                o.each(function() {
                    var e = $(this)
                      , i = e.position().top
                      , s = i + e.outerHeight();
                    s >= 0 && r >= i && t >= i && s >= t && (a = $().add(e))
                }),
                0 === a.length ? c = o.last() : 1 === a.length ? c = a : a.each(function(i, s) {
                    var n = this.calculateChirpCenterRelativeToColumn(e, $(s))
                      , r = Math.abs(t - n);
                    l = Math.min(r, l),
                    r === l && (c = $(s))
                }
                .bind(this)),
                this.setSelectedChirp(c, {
                    doScrollToChirp: i
                })
            }
            ,
            this.calculateChirpCenterRelativeToColumn = function(e, t) {
                if (0 === t.length || null !== this.chirpCenter)
                    return this.chirpCenter;
                var i, s, n, r = e.model.getKey(), o = this.getColumnScrollContainerByKey(r).innerHeight();
                return i = t.position().top,
                s = t.outerHeight(),
                n = i + s / 2,
                n > o ? n = o : 0 > n && (n = 0),
                n
            }
            ,
            this.selectAndScrollToFirstChirpInSelectedColumn = function() {
                this.selectFirstChirpInSelectedColumn(),
                this.scrollToChirp({
                    direction: "up"
                })
            }
            ,
            this.selectFirstChirpInSelectedColumn = function() {
                var e;
                if (this.isInDetailView())
                    this.$selectedChirp = this.selectedColumn.detailViewComponent.getMostInteresting$Chirp();
                else if (!this.isInDetailViewLevel2()) {
                    e = this.selectedColumn.model.getKey();
                    var t = this.getColumnElementByKey(e).find(this.attr.chirpSelector);
                    this.$selectedChirp.removeClass(this.attr.isSelectedClass),
                    this.$selectedChirp = $(),
                    t.each(function(e, t) {
                        var i = $(t);
                        return i.position().top + i.outerHeight() / 2 > 0 ? (this.$selectedChirp = i,
                        !1) : void 0
                    }
                    .bind(this)),
                    0 === this.$selectedChirp.length && (this.$selectedChirp = t.first())
                }
                this.$selectedChirp.addClass(this.attr.isSelectedClass)
            }
            ,
            this.setSelectedChirp = function(e, t) {
                this.$selectedChirp.length > 0 && this.$selectedChirp.removeClass(this.attr.isSelectedClass),
                this.$selectedChirp = e,
                this.$selectedChirp.addClass(this.attr.isSelectedClass),
                t.doScrollToChirp && this.$selectedChirp.length > 0 && this.scrollToChirp({
                    direction: this.scrollDirection,
                    forceScroll: t.forceScroll
                })
            }
            ,
            this.selectPrevChirp = function() {
                var e, t, i;
                this.chirpCenter = null ,
                this.isInDetailView() ? (t = this.selectedColumn.detailViewComponent.$find(this.attr.chirpSelector),
                i = t.index(this.$selectedChirp),
                e = t.eq(Math.max(0, i - 1))) : e = this.$selectedChirp.prev(this.attr.chirpSelector),
                0 === e.length ? this.selectAndScrollToFirstChirpInSelectedColumn() : this.setSelectedChirp(e, {
                    doScrollToChirp: !0
                })
            }
            ,
            this.selectNextChirp = function(e) {
                var t, i, s;
                e = e || {},
                this.chirpCenter = null ,
                this.isInDetailView() ? (i = this.selectedColumn.detailViewComponent.$find(this.attr.chirpSelector),
                s = i.index(this.$selectedChirp),
                t = i.eq(Math.min(i.length - 1, s + 1))) : t = this.$selectedChirp.next(this.attr.chirpSelector).length > 0 ? this.$selectedChirp.next(this.attr.chirpSelector) : this.$selectedChirp,
                0 === t.length ? this.selectAndScrollToFirstChirpInSelectedColumn() : this.setSelectedChirp(t, {
                    doScrollToChirp: !0,
                    forceScroll: e.forceScroll
                })
            }
            ,
            this.moveSelection = function(e) {
                var t = function() {
                    var t;
                    if (this.hasFocus)
                        if (null === this.selectedColumn)
                            this.setSelectedColumn(0);
                        else {
                            switch (this.scrollDirection = e,
                            e) {
                            case "left":
                                t = null === this.columnIndex ? 0 : this.columnIndex - 1,
                                this.setSelectedColumn(t);
                                break;
                            case "right":
                                t = null === this.columnIndex ? 0 : this.columnIndex + 1,
                                this.setSelectedColumn(t);
                                break;
                            case "up":
                                this.selectPrevChirp();
                                break;
                            case "down":
                                this.selectNextChirp()
                            }
                            this.trigger("uiColumnsScrollToColumn", {
                                columnKey: this.selectedColumn.model.getKey(),
                                source: this.attr.id,
                                offset: this.attr.columnScrollOffset,
                                direction: this.scrollDirection
                            })
                        }
                }
                  , i = _.throttle(t.bind(this), 100);
                return i
            }
            ,
            this.selectColumnByKey = function(e) {
                if (this.selectedColumn && this.selectedColumn.model.getKey() === e)
                    return !1;
                for (var t = 0; t < this.columns.length; t += 1)
                    if (this.columns[t].model.getKey() === e)
                        return this.columnIndex = t,
                        this.selectedColumn = this.columns[t],
                        !0;
                return !1
            }
            ,
            this.selectColumnByIndex = function(e) {
                return this.selectedColumn !== this.columns[e] ? (this.columnIndex = e,
                this.selectedColumn = this.columns[e],
                !0) : !1
            }
            ,
            this.selectLastColumn = function() {
                return this.selectColumnByIndex(this.columns.length - 1)
            }
            ,
            this.handleColumnFocus = function(e, t) {
                if (this.hasFocus) {
                    var i = !1;
                    this.$selectedChirp.removeClass(this.attr.isSelectedClass),
                    void 0 !== t.columnKey ? i = this.selectColumnByKey(t.columnKey) : void 0 !== t.index ? i = this.selectColumnByIndex(t.index) : t.last === !0 && (i = this.selectLastColumn()),
                    i ? (this.$selectedChirp = $(),
                    this.chirpIndex = null ,
                    this.offset = null ) : this.selectedColumn && (this.$selectedChirp.addClass(this.attr.isSelectedClass),
                    1 === this.selectedColumn.visibility.visibleFraction && this.trigger("uiGridHome"))
                }
            }
            ,
            this.clearSelection = function() {
                this.$selectedChirp.removeClass(this.attr.isSelectedClass),
                this.$selectedChirp = $(),
                this.selectedColumn = null ,
                this.chirpIndex = null ,
                this.columnIndex = null ,
                this.offset = null
            }
            ,
            this.scrollToChirp = function(e) {
                this.trigger("uiColumnsScrollToChirp", {
                    columnKey: this.selectedColumn.model.getKey(),
                    $chirp: this.$selectedChirp,
                    direction: e.direction,
                    forceScroll: e.forceScroll,
                    offset: this.attr.chirpScrollOffset
                })
            }
            ,
            this.handleBack = function(e, t) {
                var i, s, n, r;
                this.hasFocus && (r = this.getColumnElementByKey(this.selectedColumn.model.getKey()),
                this.isInDetailView() ? (i = this.selectedColumn.detailViewComponent.parentChirp,
                n = this.selectedColumn.ui.getChirpContainer(),
                s = n.find('[data-key="' + i.id + '"]'),
                r.trigger("uiCloseDetailView"),
                s.addClass(this.attr.isSelectedClass),
                this.$selectedChirp = s,
                this.scrollToChirp({
                    direction: "down"
                })) : this.isInDetailViewLevel2() && r.trigger("uiCloseSocialProof"))
            }
            ,
            this.handleClearSelection = function() {
                this.hasFocus && this.clearSelection()
            }
            ,
            this.isInDetailView = function() {
                var e = this.getColumnElementByKey(this.selectedColumn.model.getKey());
                return e.hasClass(this.attr.columnStateDetailViewClass)
            }
            ,
            this.isInDetailViewLevel2 = function() {
                var e = this.getColumnElementByKey(this.selectedColumn.model.getKey());
                return e.hasClass(this.attr.columnStateSocialProofClass)
            }
            ,
            this.tweetActionFactory = function(e) {
                return function() {
                    var t, i, s, n;
                    if (this.hasFocus && this.$selectedChirp.length > 0 && !this.isInDetailViewLevel2()) {
                        if (i = this.$selectedChirp.attr("data-key"),
                        t = this.selectedColumn.findMostInterestingChirp(i),
                        !t)
                            return;
                        switch (e) {
                        case "profile":
                            t.getMainUser ? s = t.getMainUser() : t.getRelatedUser && (s = t.getRelatedUser()),
                            s && this.trigger("uiShowProfile", {
                                id: s.screenName
                            });
                            break;
                        case "favoriteFromAccounts":
                            t instanceof TD.services.TwitterStatus && this.trigger("uiShowFavoriteFromOptions", {
                                tweet: t
                            });
                            break;
                        case "actionsMenu":
                            this.trigger(this.$selectedChirp.find(this.attr.actionsMenuButtonSelector), "uiShowActionsMenu");
                            break;
                        case "viewDetails":
                            if (t instanceof TD.services.TwitterConversationMessageEvent)
                                return;
                        default:
                            if (t instanceof TD.services.TwitterAction)
                                return;
                            var r = t instanceof TD.services.TwitterConversation || t instanceof TD.services.TwitterConversationMessageEvent;
                            n = "reply" === e && r ? "dm" : e,
                            this.parentChirp = this.selectedColumn.findChirp(i),
                            $.publish("chirp/action", [n, t, this.parentChirp, this.selectedColumn, {
                                element: this.$selectedChirp
                            }])
                        }
                    } else
                        switch (e) {
                        case "dm":
                            this.trigger("uiComposeTweet", {
                                type: "message"
                            })
                        }
                }
                .bind(this)
            }
            ,
            this.handleDetailViewActive = function(e, t) {
                var i = t.$chirp.closest(this.attr.columnSelector);
                this.selectColumnByKey(i.attr("data-column")),
                this.$selectedChirp.removeClass(this.attr.isSelectedClass),
                this.$selectedChirp = t.$chirp,
                this.parentChirp === t.parentChirp && this.$selectedChirp.addClass(this.attr.isSelectedClass)
            }
            ,
            this.handleDetailClosed = function(e, t) {
                var i;
                t && t.column && (i = t.column.model.getKey(),
                this.$selectedChirp.removeClass(this.attr.isSelectedClass),
                this.selectColumnByKey(i),
                this.$selectedChirp = $())
            }
            ,
            this.handlePagingFactory = function(e) {
                var t = function() {
                    if (this.hasFocus && this.selectedColumn) {
                        var t, i, s, n, r, o, a, c = this.selectedColumn.model.getKey(), l = this.getColumnScrollContainerByKey(c), u = l.scrollTop(), d = l.innerHeight();
                        if (0 === this.$selectedChirp.length && this.selectAndScrollToFirstChirpInSelectedColumn(),
                        null !== this.chirpOffsetTop ? t = this.chirpOffsetTop : (t = this.$selectedChirp.position().top,
                        this.targetChirpOffsetTop = null ),
                        this.chirpOffsetTop = t,
                        this.$selectedChirp.removeClass(this.attr.isSelectedClass),
                        "down" === e) {
                            this.targetChirpOffsetTop = null === this.targetChirpOffsetTop ? t + d : this.targetChirpOffsetTop + d;
                            do
                                o = this.$selectedChirp.next(this.attr.chirpSelector),
                                o.length > 0 && (this.$selectedChirp = o);
                            while (o.length > 0 && o.position().top < this.targetChirpOffsetTop);i = u + (this.$selectedChirp.position().top - t),
                            i + d + 50 > l.get(0).scrollHeight && (i += 50),
                            s = i - u
                        } else {
                            this.targetChirpOffsetTop = null === this.targetChirpOffsetTop ? t - d : this.targetChirpOffsetTop - d;
                            do
                                r = this.$selectedChirp.prev(this.attr.chirpSelector),
                                r.length > 0 && (this.$selectedChirp = r);
                            while (r.length > 0 && r.position().top > this.targetChirpOffsetTop);i = u - (t + Math.abs(this.$selectedChirp.position().top)),
                            s = u - i
                        }
                        this.$selectedChirp.addClass(this.attr.isSelectedClass),
                        a = function() {
                            this.chirpOffsetTop = null ,
                            this.targetChirpOffsetTop = null
                        }
                        .bind(this),
                        n = TD.ui.columns.calculateScrollDuration(s, 50, 750),
                        l.stop().animate({
                            scrollTop: i
                        }, n, this.attr.pagingEasingFunction, a)
                    }
                }
                ;
                return t.bind(this)
            }
            ,
            this.handleGridHome = function() {
                if (this.hasFocus && this.selectedColumn) {
                    this.chirpOffsetTop = null ,
                    this.targetChirpOffsetTop = null ;
                    var e = this.selectedColumn.model.getKey()
                      , t = this.getColumnScrollContainerByKey(e)
                      , i = t.scrollTop()
                      , s = TD.ui.columns.calculateScrollDuration(i, 20, 300);
                    this.$selectedChirp.removeClass(this.attr.isSelectedClass),
                    this.$selectedChirp = this.$selectedChirp.parent().find(".js-stream-item:first"),
                    this.$selectedChirp.addClass(this.attr.isSelectedClass),
                    t.stop().animate({
                        scrollTop: 0
                    }, s, this.attr.pagingEasingFunction)
                }
            }
            ,
            this.handleGridEnd = function() {
                if (this.hasFocus && this.selectedColumn) {
                    this.chirpOffsetTop = null ,
                    this.targetChirpOffsetTop = null ;
                    var e = this.selectedColumn.model.getKey()
                      , t = this.getColumnScrollContainerByKey(e)
                      , i = t.scrollTop()
                      , s = t.get(0).scrollHeight - t.innerHeight() + 50
                      , n = s - i
                      , r = TD.ui.columns.calculateScrollDuration(n, 20, 300);
                    this.$selectedChirp.removeClass(this.attr.isSelectedClass),
                    this.$selectedChirp = this.$selectedChirp.parent().find(".js-stream-item:last"),
                    this.$selectedChirp.addClass(this.attr.isSelectedClass),
                    t.stop().animate({
                        scrollTop: s
                    }, r, this.attr.pagingEasingFunction)
                }
            }
        }
        var s = i(1).component
          , n = i(70)
          , r = i(69);
        return s(t, n, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                columnsLeftMargin: 10,
                columnSlideMinDuration: 200,
                columnSlideMaxDuration: 500,
                columnExtraSlideTimePer100Px: 20,
                chirpSlideMinDuration: 100,
                chirpSlideMaxDuration: 500,
                chirpExtraSlideTimePer100Px: 100,
                columnGlowDuration: 500
            }),
            this.after("initialize", function() {
                this.on(document, "uiColumnFocus", this.handleColumnFocus),
                this.on(document, "uiColumnsScrollToColumn", this.handleScrollToColumn),
                this.on(document, "uiColumnsScrollColumnToCenter", this.handleScrollColumnToCenter),
                this.on(document, "uiColumnsScrollToChirp", this.handleScrollToChirp)
            }),
            this.handleColumnFocus = function(e, t) {
                var i;
                void 0 !== t.index ? i = this.getKeyForColumnAtIndex(t.index) : t.last ? i = this.getKeyForLastColumn() : t.columnKey && (i = t.columnKey),
                i && this.trigger("uiColumnsScrollColumnToCenter", {
                    columnKey: i
                })
            }
            ,
            this.handleScrollToColumn = function(e, t) {
                var i, s = this.getColumnElementByKey(t.columnKey), n = this.select("appColumnsContainerSelector"), r = this.select("columnsContainerSelector"), o = s.outerWidth(), a = r.width(), c = n.scrollLeft(), l = s.position().left, u = l + o;
                l >= 0 && a >= u || (i = "left" === t.direction ? c + l - t.offset : c + u + t.offset - a,
                this.scrollColumnToOffset(t.columnKey, i, !1))
            }
            ,
            this.handleScrollColumnToCenter = function(e, t) {
                var i, s, n, r, o, a, c = this.getColumnElementByKey(t.columnKey), l = this.select("appColumnsContainerSelector"), u = this.select("columnsContainerSelector"), d = l.innerWidth() / c.outerWidth(!0), h = l.scrollLeft(), m = !0;
                3.05 >= d ? (a = parseInt(u.css("padding-left"), 10),
                i = h + c.position().left - a) : (s = c.outerWidth(),
                n = l.get(0).scrollWidth - this.attr.columnsLeftMargin,
                r = u.width(),
                o = c.offset().left,
                i = h + o - (r - s) / 2,
                i = Math.min(i, n - r),
                i = Math.max(i, 0)),
                2 > d && (m = !1),
                this.scrollColumnToOffset(t.columnKey, i, m)
            }
            ,
            this.calculateScrollDuration = function(e) {
                var t = Math.abs(e.target - e.current)
                  , i = e.minTime + t / 100 * e.extraSlideTimePer100Px;
                return i = Math.min(i, e.maxTime)
            }
            ,
            this.scrollColumnToOffset = function(e, t, i) {
                var s, n = this.select("appColumnsContainerSelector"), r = n.scrollLeft();
                t !== r ? (n.stop(),
                s = this.calculateScrollDuration({
                    target: t,
                    current: r,
                    minTime: this.attr.columnSlideMinDuration,
                    maxTime: this.attr.columnSlideMaxDuration,
                    extraSlideTimePer100Px: this.attr.columnExtraSlideTimePer100Px
                }),
                n.animate({
                    scrollLeft: t
                }, s, "easeInOutQuad", function() {
                    i && TD.ui.columns.focusColumn(e, this.attr.columnGlowDuration),
                    this.getColumnElementByKey(e).trigger("uiColumnScrolled", {
                        columnKey: e
                    })
                }
                .bind(this))) : (i && TD.ui.columns.focusColumn(e, this.attr.columnGlowDuration),
                this.getColumnElementByKey(e).trigger("uiColumnScrolled", {
                    columnKey: e
                }))
            }
            ,
            this.handleScrollToChirp = function(e, t) {
                if (t.$chirp && t.columnKey && 0 !== t.$chirp.length) {
                    var i, s, n, r = this.getColumnScrollContainerByKey(t.columnKey), o = r.scrollTop(), a = t.$chirp.position().top + o, c = r.innerHeight(), l = !1;
                    "up" === t.direction ? (i = a - t.offset,
                    (t.forceScroll || o > i) && (l = !0)) : (s = a + t.$chirp.outerHeight() + t.offset,
                    (t.forceScroll || s > o + c) && (i = s - c,
                    l = !0)),
                    l && (n = this.calculateScrollDuration({
                        target: i,
                        current: o,
                        minTime: this.attr.chirpSlideMinDuration,
                        maxTime: this.attr.chirpSlideMaxDuration,
                        extraSlideTimePer100Px: this.attr.chirpExtraSlideTimePer100Px
                    }),
                    r.stop().animate({
                        scrollTop: i
                    }, n, "easeInOutQuad"))
                }
            }
        }
        var s = i(1).component
          , n = i(69);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            return 4
        }
        function s(e) {
            return "image/gif" === e.type
        }
        function n() {
            this.attributes({
                ALLOWED_IMAGE_TYPES: ["jpg", "jpeg", "gif", "png"],
                MAX_ALLOWED_SIZE: 3145728,
                MAX_ALLOWED_GIF_SIZE: 5242880,
                errors: {
                    TOO_MANY_FILES_ERROR: "tooManyFilesError",
                    MAX_FILES_ALREADY_ADDED_ERROR: "alreadyAddedFileError",
                    INCORRECT_FILETYPE_ERROR: "incorrectFileTypeError",
                    INVALID_FILESIZE_ERROR: "invalidFileSizeError",
                    INVALID_GIF_FILESIZE_ERROR: "invalidGifFileSizeError",
                    GIF_ERROR: "cannotUploadGIFWithOtherFiles"
                },
                states: {
                    WAITING: "waiting",
                    DRAG_OK: "drag_ok",
                    DRAG_ERROR: "drag_error",
                    GIF_ERROR: "gif_error"
                },
                uploadInputTemplate: '<input id="file-upload-input" type="file" class="cmp-file-upload" multiple />',
                uploadInputSelector: "#file-upload-input",
                disabled: !1
            }),
            this.validateFile = function(e) {
                var i = t()
                  , n = e.type.split("/")[1]
                  , r = e.size
                  , o = {
                    success: !0
                };
                return this.files.length >= i ? o.error = this.attr.errors.MAX_FILES_ALREADY_ADDED_ERROR : _.include(this.attr.ALLOWED_IMAGE_TYPES, n) ? s(e) && r > this.attr.MAX_ALLOWED_GIF_SIZE ? o.error = this.attr.errors.INVALID_GIF_FILESIZE_ERROR : !s(e) && r > this.attr.MAX_ALLOWED_SIZE && (o.error = this.attr.errors.INVALID_FILESIZE_ERROR) : o.error = this.attr.errors.INCORRECT_FILETYPE_ERROR,
                o.error && (o.success = !1),
                o
            }
            ,
            this.validateFiles = function(e) {
                var t = this.validateStandAloneGIF(e);
                if (!t.success)
                    return t;
                var i = this.validateFileCount(e.length);
                if (i.success) {
                    for (var s = 0; s < e.length; s++)
                        if (t = this.validateFile(e[s]),
                        !t.success)
                            return t;
                    return t
                }
                return i
            }
            ,
            this.validateFileCount = function(e) {
                var i = t()
                  , s = {
                    success: !0
                };
                return e > i ? s.error = this.attr.errors.TOO_MANY_FILES_ERROR : this.files.length > 0 && this.files.length + e > i && (s.error = this.attr.errors.MAX_FILES_ALREADY_ADDED_ERROR),
                s.error && (s.success = !1),
                s
            }
            ,
            this.validateStandAloneGIF = function(e) {
                var t = _.map(this.files).concat(_.map(e));
                return t.length > 1 && t.some(s) ? (this.state = this.attr.states.GIF_ERROR,
                {
                    success: !1,
                    error: this.attr.errors.GIF_ERROR
                }) : {
                    success: !0
                }
            }
            ,
            this.handleResetImageUpload = function(e) {
                this.files = []
            }
            ,
            this.addFilesToUpload = function(e) {
                var i, s = t();
                if (e) {
                    if (i = this.validateFiles(e),
                    !i.success)
                        switch (i.error) {
                        case this.attr.errors.TOO_MANY_FILES_ERROR:
                            return void TD.controller.progressIndicator.addMessage(TD.i("You cannot attach more than {{max}} images.", {
                                max: s
                            }));
                        case this.attr.errors.MAX_FILES_ALREADY_ADDED_ERROR:
                            return void TD.controller.progressIndicator.addMessage(TD.i("You cannot attach more than {{max}} images.", {
                                max: s
                            }));
                        case this.attr.errors.INCORRECT_FILETYPE_ERROR:
                            return void TD.controller.progressIndicator.addMessage(TD.i("One selected file is not an image."));
                        case this.attr.errors.INVALID_FILESIZE_ERROR:
                            return void TD.controller.progressIndicator.addMessage(TD.i("One selected file is greater than the 3MB limit."));
                        case this.attr.errors.INVALID_GIF_FILESIZE_ERROR:
                            return void TD.controller.progressIndicator.addMessage(TD.i("One selected GIF is greater than the 5MB limit."));
                        case this.attr.errors.GIF_ERROR:
                            return void TD.controller.progressIndicator.addMessage(TD.i("You cannot upload a GIF with other images."))
                        }
                    this.trigger("uiFilesAdded", {
                        files: e
                    }),
                    this.files = e
                }
            }
            ,
            this.updateFilesOncePreviewed = function(e, t) {
                t && t.files && (this.files = t.files)
            }
            ,
            this.handleDragEnterEvent = function(e) {
                if (this.currentDragElement)
                    return void (this.currentDragElement = e.target);
                if (this.currentDragElement = e.target,
                this.state = this.attr.states.DRAG_OK,
                e.originalEvent.dataTransfer.items) {
                    e.preventDefault();
                    var t, i, s = e.originalEvent.dataTransfer.items, n = this.validateFileCount(s.length);
                    if (n.success) {
                        for (var r = 0; r < s.length; r++)
                            if (t = s[r],
                            "file" === t.kind && (i = this.validateFile(t),
                            !i.success))
                                return this.state = this.attr.states.DRAG_ERROR,
                                void this.trigger("uiShowDropMessage", {
                                    errorCondition: i.error
                                });
                        this.trigger("uiShowDropMessage")
                    } else
                        this.state = this.attr.states.DRAG_ERROR,
                        this.trigger("uiShowDropMessage", {
                            errorCondition: n.error
                        })
                }
            }
            ,
            this.handleDragLeaveEvent = function(e) {
                this.currentDragElement === e.target && (this.currentDragElement = null ,
                this.state = this.attr.states.WAITING)
            }
            ,
            this.handleDropEvent = function(e) {
                if (e.preventDefault(),
                this.state === this.attr.states.DRAG_OK) {
                    var t = e.originalEvent.dataTransfer.files;
                    this.addFilesToUpload(t)
                }
                this.state = this.attr.states.WAITING,
                this.currentDragElement = null
            }
            ,
            this.cancel = function(e) {
                return e.preventDefault(),
                !1
            }
            ,
            this.handleComposeAddImageClick = function(e, t) {
                $(this.attr.uploadInputSelector).click()
            }
            ,
            this.handleFileUploadChange = function(e) {
                this.addFilesToUpload(e.target.files),
                $(this.attr.uploadInputSelector).remove(),
                $("body").append(this.attr.uploadInputTemplate)
            }
            ,
            this.whenEnabled = function(e) {
                return function() {
                    return this.attr.disabled ? void 0 : e.apply(this, [].slice.call(arguments))
                }
            }
            ,
            this.disable = function() {
                this.attr.disabled = !0
            }
            ,
            this.enable = function() {
                this.attr.disabled = !1
            }
            ,
            this.after("initialize", function() {
                this.files = [],
                $("body").append(this.attr.uploadInputTemplate),
                this.on(document, "uiResetImageUpload", this.handleResetImageUpload),
                this.on(document, "uiComposeAddImageClick", this.handleComposeAddImageClick),
                this.on(document, "dragstart", this.disable),
                this.on(document, "dragend", this.enable),
                this.on(document, "dragenter", this.whenEnabled(this.handleDragEnterEvent)),
                this.on(document, "dragleave", this.whenEnabled(this.handleDragLeaveEvent)),
                this.on(document, "drop", this.whenEnabled(this.handleDropEvent)),
                this.on(document, "dragover", this.whenEnabled(this.cancel)),
                this.on(document, "uiComposeImageAdded", this.updateFilesOncePreviewed),
                this.on(document, "change", {
                    uploadInputSelector: this.handleFileUploadChange
                })
            })
        }
        var r = i(1).component;
        return r(n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                closeEvent: "uiCloseKeyboardShortcutsList",
                modalTitle: ".js-header-title"
            }),
            this.after("initialize", function() {
                var e = r.render("keyboard_shortcut_list", {
                    isMac: "osx" === TD.util.getOSName()
                });
                this.$node.html(e),
                this.select("modalTitle").text(TD.i("Keyboard shortcuts")),
                this.on(this.attr.closeEvent, this.teardown)
            }),
            this.after("teardown", function() {
                this.$node.html("")
            })
        }
        var s = i(1).component
          , n = i(79)
          , r = i(9);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = i(556)
          , n = function() {
            this.attributes({
                shortcuts: {
                    esc: [{
                        event: "uiKeyEscape"
                    }, {
                        event: "uiInputEscape",
                        selector: ".js-escapable-input"
                    }, {
                        event: "uiInputBlur",
                        selector: "input:not(.js-non-escapable-input), 	                                    textarea:not(.js-non-escapable-input), 	                                    select:not(.js-non-escapable-input)"
                    }, {
                        event: "uiCloseModal"
                    }, {
                        event: "uiCloseDropdown"
                    }, {
                        event: "uiGridClearSelection"
                    }, {
                        event: "uiComposeClose"
                    }],
                    "CMD+ret": [{
                        event: "uiSendRetweetAction"
                    }, {
                        event: "uiComposeSendTweet",
                        selector: ".js-compose-text"
                    }],
                    "CTRL+ret": [{
                        event: "uiSendRetweetAction"
                    }, {
                        event: "uiComposeSendTweet",
                        selector: ".js-compose-text"
                    }],
                    bksp: [{
                        event: "uiGridBack"
                    }],
                    ret: [{
                        event: "uiKeyEnter"
                    }, {
                        event: "uiInputSubmit",
                        selector: ".js-submittable-input"
                    }],
                    space: [{
                        event: "uiKeySpace",
                        throttle: !0
                    }, {
                        event: "uiGridPageDown",
                        throttle: !0
                    }],
                    n: [{
                        event: "uiComposeTweet"
                    }],
                    "/": [{
                        event: "uiAppSearchFocus"
                    }],
                    s: [{
                        event: "uiAppSearchFocus"
                    }],
                    a: [{
                        event: "uiShowAddColumn"
                    }],
                    x: [{
                        event: "uiToggleNavbarWidth"
                    }],
                    "?": [{
                        event: "uiShowKeyboardShortcutList"
                    }],
                    left: [{
                        event: "uiKeyLeft",
                        throttle: !0
                    }],
                    h: [{
                        event: "uiKeyLeft",
                        throttle: !0
                    }],
                    right: [{
                        event: "uiKeyRight",
                        throttle: !0
                    }],
                    l: [{
                        event: "uiKeyRight",
                        throttle: !0
                    }],
                    up: [{
                        event: "uiKeyUp",
                        throttle: !0
                    }],
                    k: [{
                        event: "uiKeyUp",
                        throttle: !0
                    }],
                    down: [{
                        event: "uiKeyDown",
                        throttle: !0
                    }],
                    j: [{
                        event: "uiKeyDown",
                        throttle: !0
                    }],
                    r: [{
                        event: "uiGridReply"
                    }],
                    f: [{
                        event: "uiGridFavorite"
                    }],
                    "SHIFT+f": [{
                        event: "uiGridFavoriteFromAccounts"
                    }],
                    t: [{
                        event: "uiGridRetweet"
                    }],
                    d: [{
                        event: "uiGridDirectMessage"
                    }],
                    m: [{
                        event: "uiGridDirectMessage"
                    }],
                    p: [{
                        event: "uiGridProfile"
                    }],
                    c: [{
                        event: "uiGridCustomTimeline"
                    }],
                    "SHIFT+ ": [{
                        event: "uiGridPageUp",
                        throttle: !0
                    }],
                    pageup: [{
                        event: "uiGridPageUp",
                        throttle: !0
                    }],
                    pagedown: [{
                        event: "uiGridPageDown",
                        throttle: !0
                    }],
                    home: [{
                        event: "uiGridHome",
                        throttle: !0
                    }],
                    end: [{
                        event: "uiGridEnd",
                        throttle: !0
                    }],
                    ",": [{
                        event: "uiShowGlobalSettings"
                    }],
                    ".": [{
                        event: "uiGridContextMenu"
                    }]
                }
            }),
            this.blurInput = function(e, t) {
                $(e.target).blur()
            }
            ,
            this.shortcutEventHandlerFactory = function(e) {
                var t, i, s = function(t) {
                    t.preventDefault(),
                    t.stopPropagation(),
                    this.trigger(t.target, e.event, {
                        keyboardShortcut: !0
                    })
                }
                .bind(this);
                return e.throttle ? t = _.throttle(s, 100) : i = _.debounce(s, 200, !0)
            }
            ,
            this.columnFocusFactory = function(e) {
                return function(t) {
                    t.preventDefault(),
                    t.stopPropagation(),
                    0 === e ? this.trigger("uiColumnFocus", {
                        last: !0
                    }) : this.trigger("uiColumnFocus", {
                        index: e - 1
                    })
                }
                .bind(this)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiInputBlur", this.blurInput);
                for (var e = 0; 10 > e; e++)
                    this.addShortcut(e + "", this.columnFocusFactory(e));
                _.each(this.attr.shortcuts, function(e, t) {
                    e.forEach(function(e) {
                        var i = this.shortcutEventHandlerFactory(e);
                        this.addShortcut(t, i, e.selector)
                    }, this)
                }, this)
            })
        }
        ;
        return t(n, s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                formIsRendered: !1,
                errorMsg: "",
                withForgotPassword: !0,
                headerSelector: ".js-header-container",
                layoutTemplate: "login/login_form",
                loginContainerSelector: ".js-signin-ui",
                loginFormSelector: "form[data-auth-type]",
                signUpLinkSelector: ".js-twitter-signup",
                teardownEvent: "uiGeneralLoginTeardown"
            }),
            this.after("initialize", function() {
                this.renderLayout(),
                this.initialRender()
            }),
            this.initialRender = function() {
                this.attr.formIsRendered || (this.attr.formIsRendered = !0,
                this.displayLoginForm())
            }
            ,
            this.renderLayout = function() {
                this.render(this.attr.layoutTemplate, {
                    screenshot: TD.assets.get("td_screenshot", {
                        resolution: TD.util.isRetina() ? "2x" : "1x"
                    })
                })
            }
            ,
            this.displayLoginForm = function() {
                this.attr.formIsRendered = !0,
                this.trigger(this.attr.teardownEvent);
                var e = this.select("loginContainerSelector").empty();
                this.select("headerSelector").empty().addClass("is-hidden"),
                e.html(this.toHtml("login/twitter_account_login_form", {
                    withForgotPassword: this.attr.withForgotPassword,
                    twitterLoginUrl: a.getLoginUrl()
                })),
                this.attachChild(c, e, {
                    authType: "twitter",
                    errorMsg: this.attr.errorMsg,
                    teardownOn: this.attr.teardownEvent
                }),
                this.trigger("uiLoginFormImpression")
            }
            ,
            this.after("teardown", function() {
                this.trigger(this.attr.teardownEvent)
            })
        }
        var s = i(1).component
          , n = i(20)
          , r = i(4)
          , o = i(30)
          , a = i(191)
          , c = i(178);
        return s(t, n, r, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                chromeTemplate: "startflow_wrapper",
                startflowContentSelector: ".js-startflow-content",
                startflowChromeSelector: ".js-startflow-chrome",
                externalLinkSelector: 'a[target="_blank"]'
            }),
            this.after("initialize", function() {
                this.on(document, "uiLoginShowLoginForm", this.handleStartflow),
                this.on("click", {
                    externalLinkSelector: this.openExternalLink
                })
            }),
            this.before("teardown", function() {
                this.$node.empty().hide()
            }),
            this.handleStartflow = function(e, t) {
                this.prepareStartflowUi(),
                this.resetStartflowUi(),
                this.attachChild(o, this.attr.startflowContentSelector, {
                    errorMsg: t.errorMsg
                })
            }
            ,
            this.prepareStartflowUi = _.once(function() {
                this.render(this.attr.chromeTemplate, {
                    version: TD.util.getFullVersionString(),
                    withLoading: !0
                })
            }),
            this.resetStartflowUi = function() {
                this.select("startflowChromeSelector").removeClass("is-hidden"),
                this.trigger(this.childTeardownEvent),
                this.select("startflowContentSelector").empty()
            }
            ,
            this.openExternalLink = function(e, t) {
                e.preventDefault(),
                TD.util.openURL(t.el.href)
            }
        }
        var s = i(1).component
          , n = i(20)
          , r = i(4)
          , o = i(512);
        return s(t, n, n.withBoundLifecycle, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.initialState({
                complete: !1
            }),
            this.attributes({
                withCode: !1,
                templateWithCode: "login/2fa_verification_code",
                template: "login/2fa_verification",
                codeFormSelector: ".js-twogin-2fa-code-form",
                codeSelector: ".js-twogin-2fa-code",
                errorSelector: ".js-login-error",
                errorMessageSelector: ".js-login-error-message",
                dismissSelector: ".js-dismiss"
            }),
            this.after("initialize", function() {
                this.on(document, "dataLoginError dataLoginAuthSuccess", this.handleComplete),
                this.on(document, "dataLogin2FAError", this.handle2FAError),
                this.on("click", {
                    dismissSelector: this.teardown
                }),
                this.trigger("uiTwoFactorShowing", {
                    withCode: this.attr.withCode
                }),
                this.on("submit", {
                    codeFormSelector: this.handle2FACodeForm
                });
                var e = this.attr.withCode ? "templateWithCode" : "template";
                this.render(this.attr[e])
            }),
            this.before("teardown", function() {
                this.state.complete || this.trigger(document, "uiLogin2FACancel")
            }),
            this.handleComplete = function() {
                this.mergeState({
                    complete: !0
                }),
                this.teardown()
            }
            ,
            this.handle2FACodeForm = function(e) {
                e.preventDefault();
                var t = this.select("codeSelector").val();
                t ? (this.spinnerButtonToggle(!0),
                this.trigger("uiLogin2FACode", {
                    code: t
                })) : this.showErrorMessage(TD.i("Fill the code in"))
            }
            ,
            this.handle2FAError = function(e, t) {
                this.spinnerButtonToggle(!1),
                this.showErrorMessage(this.getXAuthErrorMessage(t))
            }
            ,
            this.showErrorMessage = function(e) {
                this.select("errorMessageSelector").text(e),
                this.select("errorSelector").removeClass("is-hidden")
            }
        }
        var s = i(1).component
          , n = i(4)
          , r = i(95)
          , o = i(97)
          , a = i(28);
        return s(a, t, n, r, o)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        var t = i(1).compose
          , s = i(97)
          , n = i(95)
          , r = i(124)
          , o = i(514);
        return function() {
            t.mixin(this, [s, n, r]),
            this.attributes({
                authVariant: "login",
                errorMsg: "",
                startWithFocus: !0,
                userFormSelector: ".js-login-form",
                successSelector: ".js-login-success",
                successMessageSelector: ".js-login-success-message",
                errorSelector: ".js-login-error",
                errorMessageSelector: ".js-login-error-message",
                usernameSelector: ".js-login-username",
                passwordSelector: ".js-login-password",
                toggleLoginTypeSelector: ".js-toggle-login-type",
                externalLinkSelector: 'a[target="_blank"]',
                forgotPasswordSelector: ".js-login-forgot-password",
                withForgotPassword: !0,
                twoFactorModalConfig: {
                    withDismissButton: !1,
                    withDraggable: !1,
                    withDragHandle: !1,
                    withClickTrap: !1,
                    withHeader: !1,
                    withFooter: !1,
                    withChrome: !1,
                    withBorder: !1
                }
            }),
            this.after("initialize", function() {
                this.trigger("uiLoginFormShowing"),
                this.username = null ,
                this.password = null ,
                this.verificationRequestId = null ,
                this.verificationUserId = null ,
                this.on(document, "uiLoginFormShowing", this.teardown),
                this.on(document, "dataLoginAuthSuccess", this.handleLoginAuthSuccess),
                this.on(document, "dataLoginError", this.loginFormHandleLoginError),
                this.on(document, "dataLoginServerError", this.loginFormHandleLoginServerError),
                this.on(document, "dataLoginTwoFactorCodeRequired", this.handleLoginTwoFactorCode),
                this.on(document, "dataLoginTwoFactorAwaitingConfirmation", this.handleLoginTwoFactorAwaiting),
                this.on(document, "dataLogin2FATimeout", this.handleLogin2FATimeout),
                this.on(document, "uiLogin2FACode", this.handleLogin2FACode),
                this.on(document, "uiLogin2FACancel", this.handleLogin2FACancel),
                this.on(document, "uiLoginRequest", this.loginFormToggleFormDisabled.bind(this, !0)),
                this.on(document, "dataLoginError dataLoginServerError", this.loginFormToggleFormDisabled.bind(this, !1)),
                this.on(document, "dataForgotPasswordSuccess", this.handleForgotPasswordSuccess),
                this.on(document, "dataForgotPasswordError", this.handleForgotPasswordError),
                this.on("click", {
                    externalLinkSelector: this.openExternalLink,
                    forgotPasswordSelector: function() {
                        this.trigger("uiForgotPassword")
                    }
                    .bind(this)
                }),
                this.on("submit", {
                    userFormSelector: this.loginFormHandleFormSubmit
                }),
                this.setupLoginForm()
            }),
            this.before("teardown", function() {
                this.loginFormToggleFormDisabled(!0, {
                    disableSpinner: !0
                })
            }),
            this.handleLoginAuthSuccess = function(e, t) {
                this.trigger("uiLoginAuthComplete", t)
            }
            ,
            this.setupLoginForm = function() {
                this.attr.startWithFocus && setTimeout(function() {
                    this.select("usernameSelector").focus()
                }
                .bind(this), 0);
                var e = !1;
                this.attr.loginFormDisabled && (e = !0),
                this.loginFormToggleFormDisabled(e),
                this.attr.errorMsg && this.loginFormShowErrorMessage(this.attr.errorMsg)
            }
            ,
            this.loginFormToggleFormDisabled = function(e, t) {
                t = t || {},
                this.select("userFormSelector").find("fieldset, button").prop("disabled", e),
                this.spinnerButtonToggle(e && !t.disableSpinner)
            }
            ,
            this.loginFormShowErrorMessage = function(e) {
                this.loginFormToggleFormDisabled(!1),
                this.select("successSelector").addClass("is-hidden"),
                this.select("errorMessageSelector").text(e),
                this.select("errorSelector").removeClass("is-hidden"),
                this.select("passwordSelector").select()
            }
            ,
            this.loginFormShowSuccessMessage = function(e) {
                this.select("errorSelector").addClass("is-hidden"),
                this.select("successMessageSelector").text(e),
                this.select("successSelector").removeClass("is-hidden")
            }
            ,
            this.loginFormHideMessages = function() {
                this.select("errorSelector").addClass("is-hidden"),
                this.select("successSelector").addClass("is-hidden")
            }
            ,
            this.loginFormHandleLoginError = function(e, t) {
                var i;
                i = t && t.isXAuth ? this.getXAuthErrorMessage(t) : this.getApiErrorMessage({
                    code: 32
                }),
                this.loginFormShowErrorMessage(i)
            }
            ,
            this.loginFormHandleLoginServerError = function() {
                this.loginFormShowErrorMessage(this.getXAuthErrorMessage({
                    code: 131
                }))
            }
            ,
            this.handleLogin2FATimeout = function() {
                this.loginFormShowErrorMessage(TD.i("The login verification request sent to your phone went unanswered."))
            }
            ,
            this.handleLoginTwoFactorCode = function(e, t) {
                this.verificationRequestId = t.xAuth.login_verification_request_id,
                this.verificationUserId = t.xAuth.login_verification_user_id,
                this.username = t.username,
                this.password = t.password,
                this.request2FA({
                    withCode: !0
                })
            }
            ,
            this.handleLoginTwoFactorAwaiting = function(e) {
                this.request2FA()
            }
            ,
            this.handleLogin2FACode = function(e, t) {
                this.trigger("uiLogin2FARequest", {
                    username: this.username,
                    password: this.password,
                    code: t.code,
                    requestId: this.verificationRequestId,
                    userId: this.verificationUserId,
                    doXAuth: "xauth" === this.attr.authVariant
                })
            }
            ,
            this.handleLogin2FACancel = function() {
                this.loginFormShowErrorMessage(TD.i("You have cancelled login verification."))
            }
            ,
            this.request2FA = function(e) {
                this.showModal(o, e || {}, this.attr.twoFactorModalConfig)
            }
            ,
            this.handleForgotPasswordSuccess = function(e, t) {
                this.loginFormShowSuccessMessage(TD.i("We have sent an email to {{email}} with instructions to reset your password.", t))
            }
            ,
            this.handleForgotPasswordError = function(e, t) {
                this.loginFormShowErrorMessage(TD.i("We could not find a TweetDeck account associated with {{email}}.", t))
            }
            ,
            this.loginFormHandleFormSubmit = function(e) {
                e.preventDefault();
                var t = this.getLoginFormData();
                t.username && t.password ? (this.loginFormHideMessages(),
                this.trigger("uiLoginRequest", t)) : this.loginFormShowErrorMessage(TD.i("Username and password must be filled in."))
            }
            ,
            this.getLoginFormData = function() {
                return {
                    authType: this.select("userFormSelector").attr("data-auth-type"),
                    username: this.select("usernameSelector").val(),
                    password: this.select("passwordSelector").val(),
                    doXAuth: "xauth" === this.attr.authVariant
                }
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                dismissButton: ".js-dismiss",
                actions: {
                    triggerEvent: "trigger-event",
                    dismiss: "dismiss",
                    openUrl: "url-ext"
                },
                buttonClasses: {
                    "trigger-event": "btn-positive",
                    "url-ext": "btn-positive",
                    dismiss: "btn-alt"
                }
            }),
            this.eventHandlerFactory = function(e) {
                return function() {
                    switch (e.action) {
                    case "trigger-event":
                        this.trigger(e.event.type, e.event.data);
                        break;
                    case "url-ext":
                    case "dismiss":
                    }
                    this.trigger("uiClickMessageButtonAction", {
                        messageId: this.message.id,
                        actionId: e.id
                    }),
                    this.message.isUndismissable || this.hide()
                }
                .bind(this)
            }
            ,
            this.dismiss = function() {
                this.message && (this.trigger("uiDismissMessageAction", this.message),
                this.hide())
            }
            ,
            this.revokeMessage = function(e, t) {
                this.message && this.message.id === t.id && this.hide()
            }
            ,
            this.hide = function() {
                window.clearInterval(this.resizeBannerCheckInterval),
                this.trigger("uiHidingMessageBanner", this.message),
                this.message = null
            }
            ,
            this.handleMessageData = function(e, t) {
                this.message && this.message.id === t.message.id || (this.message = t.message,
                this.showMessage())
            }
            ,
            this.handleMessageContainerHidden = function() {
                this.$node.addClass("is-hidden")
            }
            ,
            this.showMessage = function() {
                this.trigger("uiShowMessageBanner", this.message);
                var e, t, i, s = {
                    text: this.message.text,
                    actions: [],
                    isUndismissable: this.message.isUndismissable
                };
                for (t = 0; this.message.actions && t < this.message.actions.length; t++)
                    switch (e = this.message.actions[t],
                    i = e.class,
                    e.action) {
                    case this.attr.actions.openUrl:
                        s.actions.push({
                            label: e.label,
                            action: e.action,
                            actionId: e.id,
                            url: e.url,
                            isExternalUrl: !0,
                            boundEventHandler: this.eventHandlerFactory(e),
                            buttonClass: i || this.attr.buttonClasses[e.action]
                        });
                        break;
                    case this.attr.actions.triggerEvent:
                        s.actions.push({
                            label: e.label,
                            action: e.action,
                            actionId: e.id,
                            boundEventHandler: this.eventHandlerFactory(e),
                            buttonClass: i || this.attr.buttonClasses[e.action]
                        });
                        break;
                    case this.attr.actions.dismiss:
                        s.actions.push({
                            label: e.label,
                            action: e.action,
                            actionId: e.id,
                            boundEventHandler: this.eventHandlerFactory(e),
                            buttonClass: i || this.attr.buttonClasses[e.action]
                        })
                    }
                this.render("topbar/message_banner", s),
                this.message.colors && this.$node.css({
                    "background-color": this.message.colors.background,
                    color: this.message.colors.foreground
                }),
                this.on(this.select("dismissButton"), "click", this.dismiss),
                s.actions.forEach(function(e) {
                    this.on('[data-action-id="' + e.actionId + '"]', "click", e.boundEventHandler)
                }
                .bind(this)),
                this.resizeBannerCheckInterval = window.setInterval(function() {
                    this.currentBannerHeight && this.currentBannerHeight !== this.$node.outerHeight() && this.trigger("uiMessageBannerResized"),
                    this.currentBannerHeight = this.$node.outerHeight()
                }
                .bind(this), 200),
                this.$node.removeClass("is-hidden"),
                this.trigger("uiMessageBannerShown", this.message)
            }
            ,
            this.after("initialize", function() {
                this.on(document, "dataMessage", this.handleMessageData),
                this.on(document, "uiMessageBannerContainerHidden", this.handleMessageContainerHidden),
                this.on(document, "dataMessageRemove", this.revokeMessage),
                this.trigger("uiMessageBannerReady")
            })
        }
        var s = i(1).component
          , n = i(4);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = function() {
            function e(e) {
                return TD.decider.get("add_account_via_xauth_2") ? {
                    type: "uiShowAccountSettings"
                } : {
                    type: "uiAccountAction",
                    data: {
                        action: "reauthorize",
                        accountKey: e.getKey()
                    }
                }
            }
            this.getReauthorizeAccountMessageData = function(t) {
                return {
                    id: "expired-token-error",
                    text: TD.i("You can no longer access the @{{1}} account.", {
                        1: t.account.getUsername()
                    }),
                    colors: {
                        background: "#ea596e",
                        foreground: "white"
                    },
                    actions: [{
                        id: "no-button",
                        action: "trigger-event",
                        label: TD.i("Remove columns"),
                        "class": "btn-negative",
                        event: {
                            type: "uiAccountAction",
                            data: {
                                action: "remove",
                                accountKey: t.account.getKey()
                            }
                        }
                    }, {
                        id: "keep-columns",
                        action: "trigger-event",
                        label: TD.i("Keep columns"),
                        "class": "btn-alt" + (TD.decider.get("enable_rewrite_columns") ? "" : " is-hidden"),
                        event: {
                            type: "uiAccountAction",
                            data: {
                                action: "rewriteColumns",
                                accountKey: t.account.getKey()
                            }
                        }
                    }, {
                        id: "yes-button",
                        action: "trigger-event",
                        label: TD.i("Enter account password"),
                        "class": "btn-alt",
                        event: e(t.account)
                    }]
                }
            }
        }
        ;
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = function() {
            this.getAccountSuspendedMessageId = function() {
                return "expired-token-error"
            }
            ,
            this.getAccountSuspendedMessageData = function(e) {
                return {
                    id: this.getAccountSuspendedMessageId(),
                    text: TD.i("Your account @{{1}} is currently suspended.", {
                        1: e.account.getUsername()
                    }),
                    colors: {
                        background: "#b2d5ed",
                        foreground: "#555"
                    },
                    actions: [{
                        id: "yes-button",
                        action: "url-ext",
                        label: TD.i("Visit Suspended Accounts Help page"),
                        url: "https://twitter.com/account/suspended_help"
                    }]
                }
            }
        }
        ;
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                messageSelector: ".js-message-banner",
                applicationSelector: ".js-app",
                isAnimatingClass: "is-application-animating"
            }),
            this._onHidden = function() {
                this.trigger("uiMessageBannerContainerHidden")
            }
            ,
            this.showAccessDeniedMessage = function(e, t) {
                var i;
                i = t.isLoginAccount ? this.getLoginAccountAccessDeniedMessageData(t) : this.getReauthorizeAccountMessageData(t),
                $(document).trigger("dataMessage", {
                    message: i
                })
            }
            ,
            this.removeAccessDeniedMessage = function() {
                $(document).trigger("dataMessageRemove", {
                    id: this.getAccountSuspendedMessageId()
                }),
                $(document).trigger("dataMessageRemove", {
                    id: this.getLoginAccountAccessDeniedMessageId()
                })
            }
            ,
            this.showAccountSuspendedMessage = function(e, t) {
                var i = this.getAccountSuspendedMessageData(t);
                $(document).trigger("dataMessage", {
                    message: i
                })
            }
            ,
            this.handleMessageBannerResize = function() {
                this.transitionTop(this.$application, this.attr.isAnimatingClass, this.$message.outerHeight())
            }
            ,
            this.handleHideMessageBannerContainer = function() {
                this.transitionTop(this.$application, this.attr.isAnimatingClass, 0, this._boundOnHiddenFn)
            }
            ,
            this.after("initialize", function() {
                this.$application = this.select("applicationSelector"),
                this.$message = this.select("messageSelector"),
                this._boundOnHiddenFn = this._onHidden.bind(this),
                this.on(document, "uiHidingMessageBanner", this.handleHideMessageBannerContainer),
                this.on(document, "uiMessageBannerShown", this.handleMessageBannerResize),
                this.on(document, "uiMessageBannerResized", this.handleMessageBannerResize),
                this.on(document, "uiShowAccountAccessDeniedBanner", this.showAccessDeniedMessage),
                this.on(document, "uiHideAccountAccessDeniedBanner", this.removeAccessDeniedMessage),
                this.on(document, "dataTwitterAccountSuspended", this.showAccountSuspendedMessage)
            })
        }
        var s = i(1).component
          , n = i(38)
          , r = i(517)
          , o = i(179)
          , a = i(518);
        return s(t, n, r, o, a)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                modalContextTemplate: "modal/modal_context",
                modalContextSelector: ".js-modal-context",
                modalInnerSelector: ".js-modal-inner",
                modalContentSelector: ".js-modal-content",
                modalClickTrapSelector: ".js-click-trap",
                modalDismissSelector: ".js-dismiss",
                modalDragHandleSelector: ".js-drag-handle",
                modalNonDismissibleSelector: ".js-non-dismissible",
                modalOptions: {
                    title: "",
                    withNonDismissible: !1,
                    withCenteredFooter: !1,
                    withChrome: !0,
                    withClickTrap: !0,
                    withDismissButton: !0,
                    withDoneButton: !1,
                    withDraggable: !0,
                    withDragHandle: !0,
                    withFooter: !0,
                    withHeader: !0,
                    withBorder: !0,
                    withClasses: [],
                    withContentClasses: [],
                    withOverlayClasses: []
                }
            }),
            this.after("initialize", function() {
                this.on(document, "uiNeedsModalContext", this.handleCreateModalContext),
                this.on("uiModalShowing", {
                    modalContextSelector: this.handleModalShowing
                }),
                this.on("uiModalHiding", {
                    modalContextSelector: this.handleModalHiding
                }),
                this.on("click", {
                    modalDismissSelector: this.handleModalDismiss,
                    modalClickTrapSelector: this.handleModalContextClick
                })
            }),
            this.handleCreateModalContext = function(e, t) {
                var i = _.defaults(t || {}, this.attr.modalOptions);
                if (!i.withNonDismissible && this.select("modalNonDismissibleSelector").length > 0)
                    return void this.trigger("uiModalContext", {
                        id: i.id,
                        $node: null
                    });
                if (i.withNonDismissible && i.withDismissButton)
                    throw new Error("non-dismissible modals may not have dismiss button");
                if (i.withNonDismissible && i.withClickTrap)
                    throw new Error("non-dismissible modals may not have click trap");
                var s = this.createModalContext(i)
                  , n = s.find(this.attr.modalInnerSelector)
                  , r = n.find(this.attr.modalContentSelector);
                s.addClass("is-hidden").addClass(i.withOverlayClasses.join(" ")),
                n.addClass(i.withClasses.join(" ")),
                r.addClass(i.withContentClasses.join(" ")),
                this.$node.append(s),
                this.trigger("uiModalContext", {
                    id: i.id,
                    $node: s.find(this.attr.modalContentSelector)
                }),
                i.withDraggable && this.setupDragHandle({
                    draggable: n,
                    handle: n.find(this.attr.modalDragHandleSelector),
                    boundary: s
                })
            }
            ,
            this.createModalContext = function(e) {
                return this.renderTemplate(this.attr.modalContextTemplate, e)
            }
            ,
            this.handleModalShowing = function(e, t) {
                this.select("modalContextSelector").addClass("is-hidden"),
                $(t.el).removeClass("is-hidden")
            }
            ,
            this.handleModalHiding = function(e, t) {
                $(t.el).remove()
            }
            ,
            this.handleModalDismiss = function(e, t) {
                this.closeModals()
            }
            ,
            this.closeModals = function() {
                this.trigger("uiCloseModal")
            }
            ,
            this.handleModalContextClick = function(e, t) {
                var i = $(t.el)
                  , s = $(e.target);
                s.closest(this.attr.modalInnerSelector, i).length || this.closeModals()
            }
        }
        var s = i(1).component
          , n = i(4)
          , r = i(550);
        return s(t, n, r)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                isNonDismissible: !1
            }),
            this.after("initialize", function() {
                this.trigger("uiModalShowing"),
                this.trigger("uiCloseModal"),
                this.on(document, "uiModalShowing", this.teardown),
                this.attr.isNonDismissible || this.on(document, "uiCloseModal", this.teardown)
            }),
            this.before("teardown", function() {
                this.trigger("uiModalHiding")
            })
        }
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    function s() {
        this.attributes({
            account: null ,
            twitterUser: null ,
            tweetId: "",
            isMedia: !1
        }),
        this.after("initialize", function() {
            var e = r.render("report_flow", {
                url: o.getReportUrl({
                    reportedUserId: this.attr.twitterUser.id,
                    reportedTweetId: this.attr.tweetId,
                    isMedia: this.attr.isMedia
                })
            });
            this.$node.html(e),
            this.on(window, "message", this.handlePostMessage)
        }),
        this.handlePostMessage = function(e) {
            var t = a.getIn(e, ["originalEvent", "data", "type"])
              , i = a.getIn(e, ["originalEvent", "data", "action"]);
            "ReportAction" === t && this.triggerAction(i)
        }
        ,
        this.triggerAction = function(e) {
            var t = {
                account: this.attr.account,
                twitterUser: this.attr.twitterUser
            };
            switch (e) {
            case "mute":
                return this.trigger(document, "uiMuteAction", t);
            case "block":
                return this.trigger(document, "uiBlockAction", t);
            case "unfollow":
                return this.trigger(document, "uiUnfollowAction", t)
            }
        }
    }
    var n = i(98)
      , r = i(9)
      , o = i(565)
      , a = i(89);
    e.exports = n.mixin(s)
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t(e, t) {
            var i = e.attr.twitterUser || {}
              , s = r.render("report_message_options", {
                screenName: i.screenName,
                no_horiz_flow_container: !0,
                showResult: t
            });
            e.$node.html(s)
        }
        function s() {
            this.attributes({
                twitterUser: null ,
                account: null ,
                tweetId: null ,
                closeEvent: "uiReportMessageActionClose",
                modalTitle: ".js-header-title",
                spamButtonSelector: ".js-report-spam",
                abuseButtonSelector: ".js-mark-abusive"
            }),
            this.after("initialize", function() {
                t(this),
                this.on("click", {
                    spamButtonSelector: this.handleActionFactory("spam"),
                    abuseButtonSelector: this.handleActionFactory("abuse")
                }),
                this.on(document, "dataDMReport", this.handleReportData)
            }),
            this.handleManualDismiss = function() {
                this.trigger("uiShowReportMessageCancel")
            }
            ,
            this.handleActionFactory = function(e) {
                return function(i) {
                    i.preventDefault(),
                    this.trigger("uiNeedsDMReport", {
                        account: this.attr.account,
                        dmId: this.attr.tweetId,
                        reportType: e,
                        blockUser: !1
                    }),
                    t(this, !0)
                }
                .bind(this)
            }
            ,
            this.handleReportData = function(e, t) {
                t.error ? (this.trigger("uiShowReportMessageError"),
                TD.controller.progressIndicator.addMessage(TD.i("Error: unable report direct message"))) : TD.controller.feedManager.deleteChirp(t.tweetId)
            }
        }
        var n = i(1).component
          , r = i(9);
        return n(s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                twitterUser: null ,
                account: null ,
                tweetId: null ,
                closeEvent: "uiReportTweetActionClose",
                modalTitle: ".js-header-title",
                blockCheckbox: ".js-report-block",
                optionRadios: ".js-report-option",
                submitButton: ".js-report-submit",
                inputs: ".js-report-block, .js-report-option",
                abuseLinks: ".abuse-link"
            }),
            this.after("initialize", function() {
                s = null ;
                var e = r.render("report_tweet_options", {
                    screenName: this.attr.twitterUser.screenName,
                    no_horiz_flow_container: !0
                });
                this.$node.html(e),
                this.on("change", {
                    inputs: this.handleInputClick
                }),
                this.on("click", {
                    submitButton: this.handleSubmitclick,
                    abuseLinks: this.handleAbuseLinkClick
                }),
                this.select("inputs").filter(":checked").trigger("change")
            }),
            this.handleInputClick = function(e) {
                var t = $(e.target).val();
                "block" === t ? s = $(e.target).prop("checked") : this.setBlockCheckbox(t),
                "abusive" === t ? this.select("submitButton").text(TD.i("Next")) : this.select("submitButton").text(TD.i("Submit")),
                this.select("submitButton").prop("disabled", !Boolean(this.select("inputs").filter(":checked").length))
            }
            ,
            this.handleSubmitclick = function() {
                var e = this.select("optionRadios").filter(":checked").val()
                  , t = $("input[name=report-block]").is(":checked");
                "spam" === e ? this.trigger("uiReportSpamAction", {
                    account: this.attr.account,
                    twitterUser: this.attr.twitterUser,
                    block: t
                }) : "compromised" === e ? this.trigger("uiReportCompromisedAction", {
                    account: this.attr.account,
                    twitterUser: this.attr.twitterUser,
                    block: t
                }) : "abusive" === e && (this.renderAbusiveModal(),
                this.trigger("uiReportAbusiveAction", {
                    block: t
                })),
                "spam" !== e && t && this.trigger("uiBlockAction", {
                    account: this.attr.account,
                    twitterUser: this.attr.twitterUser
                }),
                "abusive" !== e && this.teardown()
            }
            ,
            this.setBlockCheckbox = function(e) {
                "spam" === e ? this.select("blockCheckbox").prop({
                    checked: !0,
                    disabled: !0
                }) : this.select("blockCheckbox").prop({
                    disabled: !1,
                    checked: null !== s ? s : !1
                })
            }
            ,
            this.renderAbusiveModal = function() {
                var e = r.render("report_tweet_options_abusive", {
                    screenName: this.attr.twitterUser.screenName,
                    tweetId: this.attr.tweetId,
                    no_horiz_flow_container: !0
                });
                this.$node.html(e)
            }
            ,
            this.handleAbuseLinkClick = function(e) {
                this.trigger("uiReportAbusiveOption", {
                    option: $(e.target).attr("data-scribe")
                }),
                this.teardown()
            }
        }
        var s, n = i(1).component, r = i(9);
        return n(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                filterType: "action",
                columnType: null ,
                template: "menus/search_action_form",
                searchFilter: null ,
                showFavoritesSelector: ".js-show-favorites",
                showRetweetsSelector: ".js-show-retweets",
                showListsSelector: ".js-show-lists",
                showFollowersSelector: ".js-show-followers",
                showMentionsSelector: ".js-show-mentions",
                showActionsOnRetweetsSelector: ".js-show-actions-on-retweets",
                showQuotedSelector: ".js-show-quoted",
                errorMessageSelector: ".js-action-filter-error",
                isHiddenClass: "is-hidden"
            }),
            this.after("initialize", function() {
                var e = TD.decider.get("action_retweeted_retweet")
                  , t = TD.decider.get("action_favorited_retweet")
                  , i = e || t
                  , s = $.extend({}, this.attr.searchFilter.action.toJSONObject(), {
                    showError: this.attr.searchFilter.action.hasFilterError(this.attr.columnType),
                    isInActivityColumn: this.isInActivityColumn(),
                    withQuotedTweets: TD.decider.get("action_quoted_tweet"),
                    withActionsOnRetweets: i
                })
                  , r = n.render(this.attr.template, s);
                this.$node.html(r),
                this.$showRetweets = this.select("showRetweetsSelector"),
                this.$showFavorites = this.select("showFavoritesSelector"),
                this.$showFollowers = this.select("showFollowersSelector"),
                this.$showLists = this.select("showListsSelector"),
                this.$showMentions = this.select("showMentionsSelector"),
                this.$showActionsOnRetweets = this.select("showActionsOnRetweetsSelector"),
                this.$showQuoted = this.select("showQuotedSelector"),
                this.on("change", this.handleChange)
            }),
            this.isInActivityColumn = function() {
                return this.attr.columnType === TD.util.columnUtils.columnMetaTypes.ACTIVITY
            }
            ,
            this.handleChange = function(e) {
                var t, i = {
                    showFollowers: this.$showFollowers.prop("checked"),
                    showLists: this.$showLists.prop("checked"),
                    showMentions: this.$showMentions.prop("checked"),
                    showRetweets: this.$showRetweets.prop("checked"),
                    showFavorites: this.$showFavorites.prop("checked"),
                    showActionsOnRetweets: this.$showActionsOnRetweets.prop("checked"),
                    showQuoted: this.$showQuoted.prop("checked")
                };
                0 === this.$showRetweets.length && (i.showRetweets = !0),
                0 === this.$showMentions.length && (i.showMentions = !0),
                0 === this.$showQuoted.length && (i.showQuoted = !0),
                0 === this.$showActionsOnRetweets.length && (i.showActionsOnRetweets = !0),
                t = new TD.vo.ActionFilter(i),
                this.select("errorMessageSelector").toggleClass(this.attr.isHiddenClass, !t.hasFilterError(this.attr.columnType)),
                this.trigger("uiAccordionUpdatePanelHeights"),
                this.trigger("uiSearchFilterUpdateAction", {
                    type: this.attr.filterType,
                    filter: t,
                    filterName: $(e.target).data("title"),
                    value: [e.target.value, e.target.checked ? "show" : "hide"].join(":")
                }),
                t.hasFilterError(this.attr.columnType) && this.trigger("uiActionFilterError")
            }
        }
        var s = i(1).component
          , n = i(9);
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = i(4)
          , n = i(172)
          , r = function() {
            this.attributes({
                filterType: "content",
                template: "menus/search_content_form",
                matchingSelector: ".js-matching",
                excludingSelector: ".js-excluding",
                containingSelector: ".js-containing",
                writtenInSelector: ".js-written-in",
                retweetsSelector: ".js-retweets",
                searchFilter: null ,
                renderOptions: {
                    withContentType: !0,
                    withPeriscopeFilter: !0,
                    withMatching: !0,
                    withExcluding: !0,
                    withLanguage: !0,
                    withRetweetsToggle: !0
                }
            }),
            this.getContainingOptions = function() {
                return [{
                    value: TD.vo.ContentFilter.TYPE_ANYTHING,
                    title: TD.i("all Tweets")
                }, {
                    value: TD.vo.ContentFilter.TYPE_IMG,
                    title: TD.i("Tweets with images")
                }, {
                    value: TD.vo.ContentFilter.TYPE_VID,
                    title: TD.i("Tweets with videos")
                }, {
                    value: TD.vo.ContentFilter.TYPE_GIF,
                    title: TD.i("Tweets with GIFs")
                }, {
                    value: TD.vo.ContentFilter.TYPE_VINE,
                    title: TD.i("Tweets with Vines")
                }, {
                    value: TD.vo.ContentFilter.TYPE_PERISCOPE,
                    title: TD.i("Tweets with Periscopes"),
                    hidden: !this.attr.renderOptions.withPeriscopeFilter
                }, {
                    value: TD.vo.ContentFilter.TYPE_IMG_AND_VID,
                    title: TD.i("Tweets with any media")
                }, {
                    value: TD.vo.ContentFilter.TYPE_LINKS,
                    title: TD.i("Tweets with links")
                }]
            }
            ,
            this.getRetweetOptions = function() {
                return [{
                    value: "included",
                    title: TD.i("included"),
                    isIncluded: !0
                }, {
                    value: "excluded",
                    title: TD.i("excluded"),
                    isIncluded: !1
                }]
            }
            ,
            this.handleChange = function(e) {
                var t = this.$containing.val()
                  , i = this.$matching.val()
                  , s = this.$excluding.val()
                  , n = this.$writtenIn.val()
                  , r = this.$retweets.val()
                  , o = this.retweetOptions.filter(function(e) {
                    return e.value === r
                })[0]
                  , a = new TD.vo.ContentFilter({
                    type: t,
                    matching: i,
                    excluding: s,
                    lang: n,
                    includeRTs: o.isIncluded
                });
                this.trigger("uiSearchFilterUpdateAction", {
                    type: "content",
                    filter: a,
                    filterName: $(e.target).data("title"),
                    value: e.target.value
                })
            }
            ,
            this.after("initialize", function() {
                this.containingOptions = this.getContainingOptions(),
                this.retweetOptions = this.getRetweetOptions();
                var e = {
                    containingOptions: this.containingOptions,
                    retweetOptions: this.retweetOptions
                }
                  , t = TD.languages.getSystemLanguageCode(!0)
                  , i = TD.languages.getLanguageFromISOCode(t);
                e.userLanguage = i,
                e.allLanguages = _.sortBy(this.languages, function(e) {
                    return e.localized_name
                }),
                $.extend(e, this.attr.renderOptions),
                this.render(this.attr.template, e),
                this.$matching = this.select("matchingSelector"),
                this.$excluding = this.select("excludingSelector"),
                this.$containing = this.select("containingSelector"),
                this.$writtenIn = this.select("writtenInSelector"),
                this.$retweets = this.select("retweetsSelector"),
                this.attr.searchFilter && this.attr.searchFilter.content && (this.$containing.val(this.attr.searchFilter.content.type),
                this.attr.searchFilter.content.includeRTs ? this.$retweets.val("included") : this.$retweets.val("excluded"),
                this.$writtenIn.val(this.attr.searchFilter.content.lang)),
                this.on("change", this.handleChange),
                this.on("uiDestroyContentFilterForm", this.teardown)
            })
        }
        ;
        return t(r, s, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                filterType: "engagement",
                template: "menus/search_engagement_form",
                searchFilter: null ,
                minRetweetsSelector: ".js-min-retweets",
                minRepliesSelector: ".js-min-replies",
                minFavoritesSelector: ".js-min-favorites",
                zeroClass: "txt-mute"
            }),
            this.after("initialize", function() {
                var e = this.attr.searchFilter.engagement;
                this.render(this.attr.template, e),
                this.$minFavorites = this.select("minFavoritesSelector"),
                this.$minRetweets = this.select("minRetweetsSelector"),
                this.$minReplies = this.select("minRepliesSelector"),
                this.on("change blur", this.handleChange),
                this.validateInput(this.attr.searchFilter.engagement)
            }),
            this.validateInput = function() {
                var e = parseInt(this.$minFavorites.val(), 10)
                  , t = parseInt(this.$minRetweets.val(), 10)
                  , i = parseInt(this.$minReplies.val(), 10);
                e = isNaN(e) ? 0 : e,
                t = isNaN(t) ? 0 : t,
                i = isNaN(i) ? 0 : i,
                this.$minFavorites.val(e).toggleClass(this.attr.zeroClass, 0 === e),
                this.$minRetweets.val(t).toggleClass(this.attr.zeroClass, 0 === t),
                this.$minReplies.val(i).toggleClass(this.attr.zeroClass, 0 === i)
            }
            ,
            this.handleChange = function(e) {
                var t, i = $(e.target).data("title"), s = $(e.target).val();
                this.validateInput(),
                t = new TD.vo.EngagementFilter({
                    minFavorites: this.$minFavorites.val(),
                    minRetweets: this.$minRetweets.val(),
                    minReplies: this.$minReplies.val()
                }),
                this.trigger("uiSearchFilterUpdateAction", {
                    type: this.attr.filterType,
                    filter: t,
                    filterName: i,
                    value: s
                })
            }
        }
        var s = i(1).component
          , n = i(4);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    function s() {
        this.attributes({
            radiusSelector: ".js-radius",
            filterType: "location",
            template: "menus/search_location_form",
            isHiddenClass: "is-hidden",
            searchFilter: null ,
            metersInKm: 1e3,
            identity: function() {
                return a.uniqueId("mapbox")
            },
            defaultCoordinates: {
                lat: 51.514451,
                lng: -.1223
            }
        }),
        this.initialState({
            isCircleMoving: function() {
                var e = this.attr.searchFilter.location.lat
                  , t = this.attr.searchFilter.location.lng
                  , i = this.attr.searchFilter.location.radius;
                return !(e && t && i)
            },
            lat: function e() {
                var e = this.attr.searchFilter.location.lat;
                return a.isNumber(e) ? e : this.attr.defaultCoordinates.lat
            },
            lng: function t() {
                var t = this.attr.searchFilter.location.lng;
                return a.isNumber(t) ? t : this.attr.defaultCoordinates.lng
            },
            radius: function() {
                return this.attr.searchFilter.location.radius
            },
            zoom: function() {
                return this.attr.searchFilter.location.zoom || 10
            },
            radiusInMeters: function() {
                var e = this.attr.searchFilter.location.radius;
                return e ? parseInt(e, 10) * this.attr.metersInKm : this.attr.metersInKm
            }
        }),
        this.after("initialize", function() {
            var e = a.debounce(this.onMapMouseMove.bind(this), 10);
            this.initialRender(),
            this.setUpMapbox(),
            this.$radius = this.select("radiusSelector"),
            this.mapBoxMap.on("mousemove", e),
            this.mapBoxMap.on("click", this.onMapMouseClick.bind(this)),
            this.on("change", this.handleFormChange.bind(this)),
            this.on("uiDestroyLocationFilterForm", this.teardown),
            this.after("stateChanged", this.onStateChanged.bind(this)),
            this.on(document, "uiAccordionDidExpand", a.once(this.invalidateMapSize))
        }),
        this.onStateChanged = function() {
            this.filterCircle.setRadius(this.state.radiusInMeters),
            this.filterCircle.setStyle({
                fillOpacity: this.getFillOpacity()
            }),
            this.state.isCircleMoving ? this.locationFilter = new TD.vo.LocationFilter({}) : this.state.zoom && this.state.radius && a.isNumber(this.state.lat) && a.isNumber(this.state.lng) ? (this.locationFilter = new TD.vo.LocationFilter({
                radius: this.state.radius,
                lat: this.state.lat,
                lng: this.state.lng,
                zoom: this.state.zoom
            }),
            this.filterCircle.setLatLng(o.latLng(this.state.lat, this.state.lng))) : this.locationFilter = new TD.vo.LocationFilter({
                radius: this.state.radius
            }),
            this.trigger("uiSearchFilterUpdateAction", {
                type: this.attr.filterType,
                filter: this.locationFilter,
                filterName: $(this.state.target).attr("data-title"),
                value: this.state.target.value
            })
        }
        ,
        this.handleFormChange = function(e) {
            var t = this.$radius.val();
            this.mergeState({
                radius: parseInt(t, 10) / this.attr.metersInKm + "km",
                radiusInMeters: parseInt(t, 10),
                target: e.target
            })
        }
        ,
        this.invalidateMapSize = function() {
            this.mapBoxMap.invalidateSize()
        }
        ,
        this.onMapMouseMove = function(e) {
            this.state.isCircleMoving && this.filterCircle.setLatLng(e.latlng)
        }
        ,
        this.onMapMouseClick = function(e) {
            var t = e.latlng
              , i = this.state.radiusInMeters / this.attr.metersInKm
              , s = this.mapBoxMap.getZoom()
              , n = !this.state.isCircleMoving;
            this.mergeState({
                isCircleMoving: n,
                lat: n ? "" : t.lat,
                lng: n ? "" : t.lng,
                radius: n ? "" : i + "km",
                zoom: n ? "" : s,
                target: e.target
            })
        }
        ,
        this.getFillOpacity = function() {
            return this.state.isCircleMoving ? .2 : .6
        }
        ,
        this.getRadiusOptions = function() {
            return [1, 3, 5, 10, 20, 50, 100].map(function(e) {
                var t = e * this.attr.metersInKm;
                return {
                    value: t,
                    title: e + "km",
                    selected: this.state.radiusInMeters === t
                }
            }, this)
        }
        ,
        this.initialRender = function() {
            var e = {
                radiusOptions: this.getRadiusOptions(),
                identity: this.attr.identity
            }
              , t = r.render(this.attr.template, e);
            this.$node.html(t)
        }
        ,
        this.setUpMapbox = function() {
            var e = [this.state.lat, this.state.lng];
            this.mapBoxMap = o.mapbox.map("mapbox-map-" + this.attr.identity, "mapbox.streets"),
            this.mapBoxMap.setView(e, this.state.zoom),
            this.filterCircle = o.circle(e, this.state.radiusInMeters, {
                opacity: 1,
                weight: 1,
                fillOpacity: this.getFillOpacity()
            }).addTo(this.mapBoxMap)
        }
    }
    var n = i(98)
      , r = i(9)
      , o = i(606)
      , a = i(118);
    e.exports = n.mixin(s)
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                searchInputSelector: ".js-app-search-input",
                searchInputClassName: "js-app-search-input",
                searchInPopoverTemplate: "search/search_in_popover",
                isHiddenClass: null ,
                appSearchSourceId: null ,
                searchPopoverSourceId: null ,
                typeaheadContainer: ".js-typeahead-dropdown",
                searchResultsContainer: ".js-search-results-container",
                searchFormContainer: ".js-search-form"
            }),
            this.after("initialize", function() {
                this.renderInPopover(this.attr.searchInPopoverTemplate, {
                    searchInputClassName: this.attr.searchInputClassName,
                    searchInputTitle: TD.i("Search"),
                    searchInputPlaceholder: TD.i("Search"),
                    isTouchColumnOptions: Boolean(TD.util.isTouchDevice() && TD.decider.get("touchdeck_column_options_v2"))
                }, {
                    defaultHeight: "auto"
                }),
                this.$searchResultsContainer = this.select("searchResultsContainer"),
                this.$typeaheadContainer = this.select("typeaheadContainer"),
                this.searchData = null ,
                this.on("uiTypeaheadItemSelected", this.handleTypeaheadItemSelect),
                this.on("uiTypeaheadNoItemSelected", this.handleTypeaheadNoItemSelected),
                this.on("uiTypeaheadSubmitQuery", this.handleTypeaheadSubmitQuery),
                this.on("uiTypeaheadItemComplete", this.handleTypeaheadItemComplete),
                this.on("uiTypeaheadSuggestions", this.handleTypeaheadSuggestions),
                this.on("uiTypeaheadNoSuggestions", this.handleTypeaheadNoSuggestions),
                this.on("uiTypeaheadRenderResults", this.handleTypeaheadRenderResults),
                this.on("uiSearchResultsColumnAdded", this.handleSearchResultsColumnAdded);
                var e = this.searchInputHandlerFactory.bind(this);
                this.on(document, "uiSearchInputSubmit", this.handleSearchInputSubmit),
                this.on(document, "uiSearchInputEscaped", this.handleSearchInputEscaped),
                this.on(document, "uiSearchInputFocus", this.handleSearchInputFocus),
                this.on(document, "uiSearchInputChanged", this.handleSearchInputChanged),
                this.on(document, "uiSearchInputTab", e("uiTypeaheadInputTab")),
                this.on(document, "uiSearchInputLeft", e("uiTypeaheadInputLeft")),
                this.on(document, "uiSearchInputRight", e("uiTypeaheadInputRight")),
                this.on(document, "uiSearchInputMoveUp", e("uiTypeaheadInputMoveUp")),
                this.on(document, "uiSearchInputMoveDown", e("uiTypeaheadInputMoveDown")),
                this.on("uiPopoverShown", this.handlePopoverShown),
                this.on("uiPopoverHiding", this.handlePopoverHiding),
                this.on("uiPopoverHidden", this.handlePopoverHidden),
                this.hasTypeaheadResults = !0,
                this.around("hidePopover", function(e, t) {
                    t !== !1 && this.$input && this.$input.blur(),
                    this.trigger("uiSearchResultsHidden"),
                    e.apply(this)
                })
            }),
            this.handlePopoverShown = function(e, t) {
                this.$input.addClass("is-focused")
            }
            ,
            this.handlePopoverHiding = function(e, t) {
                this.defaultHeight = "auto",
                this.$searchResultsContainer.addClass("is-hidden"),
                this.$typeaheadContainer.removeClass("is-hidden")
            }
            ,
            this.handlePopoverHidden = function(e, t) {
                this.$input.removeClass("is-focused"),
                this.trigger("uiSearchInPopoverHidden")
            }
            ,
            this.handleSearchResultsColumnAdded = function() {
                this.hidePopover()
            }
            ,
            this.handleSearchInputFocus = function(e, t) {
                this.isCorrectSource(t.source) && (this.$input = $(e.target),
                this.isPopoverVisible() || TD.controller.stats.searchboxFocus(),
                this.isPopoverEmpty() || this.showPopover(),
                this.trigger("uiFixedHeaderChangedPosition"),
                this.$typeaheadContainer.hasClass(this.attr.isHiddenClass) ? this.showPopoverOverlay() : (this.trigger("uiTypeaheadInputFocus", t),
                this.hidePopoverOverlay(),
                this.defaultHeight = "auto"))
            }
            ,
            this.searchInputHandlerFactory = function(e) {
                return function(t, i) {
                    this.isCorrectSource(i.source) && !this.$typeaheadContainer.hasClass(this.attr.isHiddenClass) && this.trigger(e, i)
                }
                .bind(this)
            }
            ,
            this.handleSearchInputChanged = function(e, t) {
                this.isCorrectSource(t.source) && (this.$input = $(e.target),
                this.isPopoverVisible() || this.showPopover(),
                this.hidePopoverOverlay(),
                this.defaultHeight = "auto",
                this.$searchResultsContainer.addClass("is-hidden"),
                this.$typeaheadContainer.removeClass("is-hidden"),
                this.trigger("uiTypeaheadInputChanged", t))
            }
            ,
            this.isCorrectSource = function(e) {
                return e === this.attr.appSearchSourceId || e === this.attr.searchPopoverSourceId
            }
            ,
            this.handleSearchInputEscaped = function(e, t) {
                this.isCorrectSource(t.source) && (this.trigger("uiTypeaheadInputBlur"),
                this.hidePopover())
            }
            ,
            this.handleSearchInputSubmit = function(e, t) {
                var i;
                this.isCorrectSource(t.source) && (this.searchData = t,
                twttrTxt.isValidList(t.query) ? (i = t.query.split("/"),
                TD.ui.openColumn.showList(i[0].substr(1), i[1]),
                this.hidePopover()) : (this.trigger("uiTypeaheadInputSubmit", t),
                TD.controller.stats.searchboxPerformSearch(t.query)))
            }
            ,
            this.handleTypeaheadNoItemSelected = function() {
                this.searchData && this.performSearch(this.searchData)
            }
            ,
            this.handleTypeaheadSubmitQuery = function(e, t) {
                var i;
                return twttrTxt.isValidList(t.query) ? (i = t.query.split("/"),
                TD.ui.openColumn.showList(i[0].substr(1), i[1]),
                void this.hidePopover()) : void 0
            }
            ,
            this.performSearch = function(e) {
                e.query && (this.trigger("uiNewSearchQuery", {
                    query: e.query
                }),
                this.defaultHeight = "max",
                this.$typeaheadContainer.addClass("is-hidden"),
                this.$searchResultsContainer.removeClass("is-hidden"),
                this.trigger("uiSearch", e),
                this.showPopover(),
                this.showPopoverOverlay(),
                this.searchData = null )
            }
            ,
            this.handleTypeaheadItemSelect = function(e, t) {
                var i;
                switch (t.searchType) {
                case "user":
                    this.hidePopover(),
                    this.trigger("uiShowProfile", {
                        id: t.query
                    });
                    break;
                case "topic":
                case "saved-search":
                case "recent-search":
                    this.performSearch(t);
                    break;
                case "recent-search-clear":
                    this.trigger("uiRecentSearchClearAction");
                    break;
                case "list":
                    i = t.query.split("/"),
                    TD.ui.openColumn.showList(i[0], i[1])
                }
                this.searchData = null
            }
            ,
            this.handleTypeaheadItemComplete = function(e, t) {
                this.$input.trigger("uiAppSearchItemComplete", t)
            }
            ,
            this.handleTypeaheadNoSuggestions = function(e, t) {
                this.hasTypeaheadResults = !1,
                this.isPopoverEmpty() && this.hidePopover(!1),
                this.trigger("uiAppSearchSetPreventDefault", {
                    preventDefault: !1,
                    key: 9
                })
            }
            ,
            this.handleTypeaheadSuggestions = function(e, t) {
                this.trigger("uiAppSearchSetPreventDefault", {
                    preventDefault: !0,
                    key: 9
                })
            }
            ,
            this.handleTypeaheadRenderResults = function() {
                this.hasTypeaheadResults = !0,
                this.showPopover()
            }
            ,
            this.isPopoverEmpty = function() {
                return !this.hasTypeaheadResults && !$.contains(this.$popover[0], this.$input[0])
            }
        }
        var s = i(1).component
          , n = i(557);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                scribeSection: "search_results",
                accordionSelector: ".js-accordion",
                columnScrollerIsAnimatingClass: "is-column-scroller-animating",
                tweetResultsSelector: ".js-tweet-results",
                userResultsSelector: ".js-user-results",
                searchResultsHeaderSelector: ".js-search-results-header",
                searchResultsFooterSelector: ".js-search-results-footer",
                toggleSelector: ".js-toggle",
                toggleTweetsClass: "js-toggle-tweets",
                columnType: "search",
                isTouchColumnOptionsClass: "is-touch-column-options"
            }),
            this.after("initialize", function() {
                this.on(document, "uiSearch", this.handleSearch),
                this.on("uiColumnUpdateSearchFilter", this.handleUpdateSearchFilter),
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_column_options_v2") ? this.select("searchResultsHeaderSelector").addClass(this.attr.isTouchColumnOptionsClass) : this.select("searchResultsHeaderSelector").removeClass(this.attr.isTouchColumnOptionsClass),
                this.$tweetResults = this.select("tweetResultsSelector"),
                this.$userResults = this.select("userResultsSelector"),
                this.$header = this.select("searchResultsHeaderSelector"),
                this.$footer = this.select("searchResultsFooterSelector"),
                this.$accordion = this.select("accordionSelector"),
                r.attachTo(this.$userResults),
                this.$toggle = this.select("toggleSelector"),
                n.attachTo(this.$toggle, {
                    buttons: {
                        left: {
                            label: TD.i("Tweets"),
                            "class": "js-toggle-tweets",
                            clickEvent: "uiToggleTweetsClick",
                            selected: !0
                        },
                        right: {
                            label: TD.i("Users"),
                            "class": "js-toggle-users",
                            clickEvent: "uiToggleUsersClick"
                        }
                    }
                }),
                this.on(this.$header, "uiToggleTweetsClick", this.showTweets),
                this.on(this.$header, "uiToggleUsersClick", this.showUsers),
                this.on(this.$footer.find(".js-add-column"), "click", this.handleAddColumnClick),
                TD.util.isTouchDevice() && window.navigator.standalone && this.on(this.$userResults, "touchmove", function(e) {
                    e.stopPropagation()
                }),
                this.on("uiTransitionExpandStart", this.handleColumnOptionsTransitionStart),
                this.on("uiAccordionTotalHeightChanged", this.resizeBody),
                this.on("uiSearchResultsHidden", this.handleSearchResultsHidden)
            }),
            this.handleUpdateSearchFilter = function(e, t) {
                this.temporaryColumn && (this.temporaryColumn.column.updateSearchFilter(t),
                this.temporaryColumn.populate())
            }
            ,
            this.handleSearchResultsHidden = function() {
                this.focusRelease(),
                this.temporaryColumn && (this.temporaryColumn.destroy(),
                this.temporaryColumn = null )
            }
            ,
            this.handleSearch = function(e, t) {
                var i = TD.storage.accountController.getPreferredAccount("twitter")
                  , s = new TD.vo.SearchFilter;
                this.query = t.query,
                this.temporaryColumn && (this.temporaryColumn.destroy(),
                this.temporaryColumn = null ),
                this.temporaryColumn = new TD.components.TemporaryColumn,
                this.temporaryColumn.search(this.query, i.getKey()),
                this.$tweetResults.empty(),
                this.$tweetResults.append(this.temporaryColumn.$node),
                this.trigger(this.$toggle, "uiToggleSelectItem", {
                    "class": this.attr.toggleTweetsClass
                }),
                this.trigger(this.$header, "uiDestroyAsynchronousForm"),
                this.select("accordionSelector").html(""),
                this.renderSearchFilters(s, {
                    withContentType: !0,
                    withMatching: !1,
                    withExcluding: {
                        isControl: !0,
                        searchInputClassName: this.attr.excludingClass,
                        searchInputPlaceholder: TD.i("Enter words to exclude"),
                        searchInputTitle: "excluding"
                    },
                    withLanguage: !0,
                    withRetweetsToggle: !0,
                    withFromList: !0,
                    withActionFilter: !1,
                    withEngagementFilter: TD.decider.get("engagement_filter")
                }),
                u.attachTo(this.$header),
                this.resizeBody(),
                this.temporaryColumn.populate(),
                this.showTweets()
            }
            ,
            this.handleAddColumnClick = function() {
                this.temporaryColumn.makePermanent(),
                this.trigger("uiSearchResultsColumnAdded")
            }
            ,
            this.showTweets = function() {
                this.focusRequest(),
                this.$accordion.removeClass("is-hidden"),
                this.$tweetResults.removeClass("is-hidden"),
                this.$userResults.addClass("is-hidden"),
                this.showHeader(),
                this.showFooter(),
                this.resizeBody(),
                this.trigger("uiSearchResultsFocus")
            }
            ,
            this.showUsers = function() {
                this.focusRequest(),
                this.showHeader(),
                this.$accordion.addClass("is-hidden"),
                this.$tweetResults.addClass("is-hidden"),
                this.$userResults.removeClass("is-hidden"),
                this.hideFooter(),
                this.resizeBody()
            }
            ,
            this.handleUpdatingColumn = function() {
                this.trigger(this.$header, "uiWaitingForAsyncResponse")
            }
            ,
            this.handleColumnUpdated = function() {
                this.trigger(this.$header, "uiReceivedAsyncResponse")
            }
            ,
            this.handleColumnOptionsTransitionStart = function(e, t) {
                var i = this.$bodyContainer
                  , s = parseInt(i.css("top"), 10)
                  , n = function() {
                    i.data("isAnimating", !1)
                }
                ;
                i.data("isAnimating") === !0 ? this.columnScrollerTargetTop = this.columnScrollerTargetTop + t.delta : (i.data("isAnimating", !0),
                this.columnScrollerTargetTop = s + t.delta),
                this.transitionTop(i, this.attr.columnScrollerIsAnimatingClass, this.columnScrollerTargetTop, n)
            }
            ,
            this.before("teardown", function() {
                this.trigger(this.$searchFilter, "uiDestroyAsynchronousForm"),
                this.trigger(this.$userResults, "uiUserResultsDestroy"),
                this.trigger(this.$header, "uiToggleButtonDestroy")
            })
        }
        var s = i(1).component
          , n = i(535)
          , r = i(544)
          , o = i(125)
          , a = i(4)
          , c = i(185)
          , l = i(70)
          , u = i(93)
          , d = i(554)
          , h = i(38);
        return s(t, o, a, l, c, d, h)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                appSearchSelector: ".js-search",
                appSearchInputSelector: ".js-search-form .js-app-search-input",
                isTouchSearchClass: "is-touch-search",
                searchPopoverInputSelector: ".js-search-in-popover .js-app-search-input"
            }),
            this.after("initialize", function() {
                TD.util.isTouchDevice() && TD.decider.get("touchdeck_search_v2") ? this.select("appSearchSelector").addClass(this.attr.isTouchSearchClass) : this.select("appSearchSelector").removeClass(this.attr.isTouchSearchClass),
                this.on(document, "uiPerformSearch", this.handlePerformSearch),
                this.on(document, "uiAppSearchFocus uiShowSearchButtonClick", this.focusSearchInput),
                this.on(document, "dataSettings", this.handleDataSettings),
                this.trigger("uiNeedsSettings")
            }),
            this.handleDataSettings = function(e, t) {
                "condensed" === t.navbarWidth ? this.$input = this.select("searchPopoverInputSelector") : this.$input = this.select("appSearchInputSelector")
            }
            ,
            this.focusSearchInput = function() {
                this.$input.triggerHandler("focus"),
                this.$input.is(":focus") || this.$input.focus()
            }
            ,
            this.handlePerformSearch = function(e, t) {
                e.target === document && _.defer(function() {
                    this.trigger(this.$input, "uiAppSearchSubmit", t)
                }
                .bind(this))
            }
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = i(4)
          , n = i(172)
          , r = function() {
            this.attributes({
                FROM_ME: "from_me",
                MENTIONING_USER: "mentioning_user",
                MENTIONING_ME: "mentioning_me",
                filterType: "user",
                template: "menus/search_user_form",
                tweetsFromSelector: ".js-tweets-from",
                tweetsFromUserSelector: ".js-tweets-from-user",
                tweetsFromUserClass: "js-tweets-from-user",
                tweetsFromUserInputSelector: '.js-tweets-from-user input[type="text"]',
                tweetsFromListSelector: ".js-tweets-from-list",
                tweetsFromListClass: "js-tweets-from-list",
                tweetsFromListInputSelector: '.js-tweets-from-list input[type="text"]',
                tweetsFromMeSelector: ".js-tweets-from-me",
                mentioningSelector: ".js-mentioning",
                mentioningUserSelector: ".js-mentioning-user",
                mentioningUserInputSelector: '.js-mentioning-user input[type="text"]',
                mentioningUserClass: "js-mentioning-user",
                mentioningMeSelector: ".js-mentioning-me",
                isHiddenClass: "is-hidden",
                renderOptions: {
                    withFromList: !1
                },
                searchFilter: null
            }),
            this.getTweetsFromOptions = function(e) {
                var t = [{
                    value: TD.vo.UserFilter.FROM_ALL,
                    title: TD.i("all users")
                }, {
                    value: TD.vo.UserFilter.FROM_USER,
                    title: TD.i("specific user…")
                }, {
                    value: this.attr.FROM_ME,
                    title: TD.i("me…")
                }, {
                    value: TD.vo.UserFilter.FROM_VERIFIED,
                    title: TD.i("verified users")
                }];
                return e && t.push({
                    value: TD.vo.UserFilter.FROM_LIST,
                    title: TD.i("members of list…")
                }),
                t
            }
            ,
            this.getMentioningOptions = function() {
                return [{
                    value: "",
                    title: TD.i("-")
                }, {
                    value: this.attr.MENTIONING_USER,
                    title: TD.i("specific user…")
                }, {
                    value: this.attr.MENTIONING_ME,
                    title: TD.i("me…")
                }]
            }
            ,
            this.getMyAccounts = function() {
                var e = TD.storage.accountController.getPreferredAccount("twitter")
                  , t = TD.storage.accountController.getAccountsForService("twitter");
                return t = t.map(function(t) {
                    return {
                        value: t.getUsername().toLowerCase(),
                        title: "@" + t.getUsername(),
                        isDefault: t === e
                    }
                }),
                t = t.sort(function(e, t) {
                    return e.value.toLowerCase().localeCompare(t.value.toLowerCase())
                })
            }
            ,
            this.updateFormState = function(e, t) {
                switch (e) {
                case TD.vo.UserFilter.FROM_USER:
                    this.$tweetsFromUser.removeClass(this.attr.isHiddenClass),
                    this.$tweetsFromList.addClass(this.attr.isHiddenClass),
                    this.$tweetsFromMe.addClass(this.attr.isHiddenClass);
                    break;
                case TD.vo.UserFilter.FROM_LIST:
                    this.$tweetsFromList.removeClass(this.attr.isHiddenClass),
                    this.$tweetsFromUser.addClass(this.attr.isHiddenClass),
                    this.$tweetsFromMe.addClass(this.attr.isHiddenClass);
                    break;
                case this.attr.FROM_ME:
                    this.$tweetsFromMe.removeClass(this.attr.isHiddenClass),
                    this.$tweetsFromUser.addClass(this.attr.isHiddenClass),
                    this.$tweetsFromList.addClass(this.attr.isHiddenClass),
                    this.$tweetsFromUserInput.val("");
                    break;
                default:
                    this.$tweetsFromMe.addClass(this.attr.isHiddenClass),
                    this.$tweetsFromUser.addClass(this.attr.isHiddenClass),
                    this.$tweetsFromList.addClass(this.attr.isHiddenClass),
                    this.$tweetsFromUserInput.val("")
                }
                switch (t) {
                case this.attr.MENTIONING_USER:
                    this.$mentioningUser.removeClass(this.attr.isHiddenClass),
                    this.$mentioningMe.addClass(this.attr.isHiddenClass);
                    break;
                case this.attr.MENTIONING_ME:
                    this.$mentioningMe.removeClass(this.attr.isHiddenClass),
                    this.$mentioningUser.addClass(this.attr.isHiddenClass),
                    this.$mentioningUserInput.val("");
                    break;
                default:
                    this.$mentioningMe.addClass(this.attr.isHiddenClass),
                    this.$mentioningUser.addClass(this.attr.isHiddenClass),
                    this.$mentioningUserInput.val("")
                }
            }
            ,
            this.handleChange = function(e) {
                var t = ""
                  , i = ""
                  , s = this.$tweetsFrom.val()
                  , n = this.$mentioning.val()
                  , r = $(e.target).data("title");
                switch (this.updateFormState(s, n),
                s) {
                case this.attr.FROM_ME:
                    t = this.$tweetsFromMe.val(),
                    s = TD.vo.UserFilter.FROM_USER;
                    break;
                case TD.vo.UserFilter.FROM_USER:
                    t = this.$tweetsFromUserInput.val();
                    break;
                case TD.vo.UserFilter.FROM_LIST:
                    t = this.$tweetsFromListInput.val()
                }
                i = n === this.attr.MENTIONING_ME ? this.$mentioningMe.val() : this.$mentioningUserInput.val(),
                t || s !== TD.vo.UserFilter.FROM_USER && s !== TD.vo.UserFilter.FROM_LIST || (s = TD.vo.UserFilter.FROM_ALL);
                var o = new TD.vo.UserFilter({
                    from_type: s,
                    from_name: t,
                    mention_name: i
                });
                this.trigger("uiSearchFilterUpdateAction", {
                    type: "user",
                    filter: o,
                    filterName: r,
                    value: e.target.value
                })
            }
            ,
            this.after("initialize", function() {
                var e, t, i;
                this.tweetsFromOptions = this.getTweetsFromOptions(this.attr.renderOptions.withFromList),
                this.mentioningOptions = this.getMentioningOptions(),
                this.myAccounts = this.getMyAccounts();
                var s = this.attr.searchFilter
                  , n = s.user && null !== s.user.from_type ? s.user.from_name : ""
                  , r = s.user ? s.user.mention_name : "";
                if (e = {
                    tweetsFromOptions: this.tweetsFromOptions,
                    tweetsFromUser: {
                        searchInputControlClass: this.attr.tweetsFromUserClass + " margin-txs",
                        searchInputPlaceholder: TD.i("user name"),
                        searchInputTitle: "from_user_or_list",
                        searchInputValue: n
                    },
                    tweetsFromList: {
                        searchInputControlClass: this.attr.tweetsFromListClass + " margin-txs",
                        searchInputPlaceholder: TD.i("@username/list-name"),
                        searchInputTitle: "from_user_or_list",
                        searchInputValue: n
                    },
                    mentioningUser: {
                        searchInputControlClass: this.attr.mentioningUserClass + " margin-txs",
                        searchInputPlaceholder: TD.i("user name"),
                        searchInputTitle: "mentioning_user",
                        searchInputValue: r
                    },
                    mentioningOptions: this.mentioningOptions,
                    myAccounts: this.myAccounts
                },
                this.render(this.attr.template, e),
                this.$tweetsFrom = this.select("tweetsFromSelector"),
                this.$tweetsFromUser = this.select("tweetsFromUserSelector"),
                this.$tweetsFromUserInput = this.select("tweetsFromUserInputSelector"),
                this.$tweetsFromList = this.select("tweetsFromListSelector"),
                this.$tweetsFromListInput = this.select("tweetsFromListInputSelector"),
                this.$tweetsFromMe = this.select("tweetsFromMeSelector"),
                this.$mentioning = this.select("mentioningSelector"),
                this.$mentioningUser = this.select("mentioningUserSelector"),
                this.$mentioningUserInput = this.select("mentioningUserInputSelector"),
                this.$mentioningMe = this.select("mentioningMeSelector"),
                this.attr.searchFilter && this.attr.searchFilter.user) {
                    if (t = this.attr.searchFilter.user.from_name && TD.storage.accountController.getAccountFromUsername(this.attr.searchFilter.user.from_name).length > 0,
                    i = this.attr.searchFilter.user.mention_name && TD.storage.accountController.getAccountFromUsername(this.attr.searchFilter.user.mention_name).length > 0,
                    t)
                        this.$tweetsFrom.val(this.attr.FROM_ME),
                        this.$tweetsFromMe.val(this.attr.searchFilter.user.from_name);
                    else
                        switch (this.$tweetsFrom.val(this.attr.searchFilter.user.from_type),
                        this.attr.searchFilter.user.from_type) {
                        case TD.vo.UserFilter.FROM_USER:
                            this.$tweetsFromUserInput.val(this.attr.searchFilter.user.from_name);
                            break;
                        case TD.vo.UserFilter.FROM_LIST:
                            this.$tweetsFromListInput.val(this.attr.searchFilter.user.from_name)
                        }
                    i ? (this.$mentioning.val(this.attr.MENTIONING_ME),
                    this.$mentioningMe.val(this.attr.searchFilter.user.mention_name)) : this.attr.searchFilter.user.mention_name && (this.$mentioning.val(this.attr.MENTIONING_USER),
                    this.$mentioningUserInput.val(this.attr.searchFilter.user.mention_name))
                }
                this.updateFormState(this.$tweetsFrom.val(), this.$mentioning.val()),
                this.on("change", this.handleChange),
                this.on("uiDestroyUserFilterForm", this.teardown)
            })
        }
        ;
        return t(r, s, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).component
          , s = function() {
            this.attributes({
                clearButtonSelector: ".js-clear-search",
                textInputSelector: 'input[type="text"]',
                hasValueClass: "has-value",
                isWaitingForResponseClass: "is-waiting-for-response"
            }),
            this.handleClearAction = function() {
                this.$textInput.val(""),
                this.$node.removeClass(this.attr.hasValueClass),
                this.$textInput.trigger("change")
            }
            ,
            this.handleAsyncFormReceivedResponse = function() {
                var e = this.$textInput.val();
                this.$node.removeClass(this.attr.isWaitingForResponseClass),
                "" !== e ? this.$node.addClass(this.attr.hasValueClass) : this.$node.removeClass(this.attr.hasValueClass),
                this.value = e
            }
            ,
            this.handleAsyncFormWaitingForResponse = function() {
                var e = this.$textInput.val();
                void 0 !== this.value && this.value !== e && this.$node.addClass(this.attr.isWaitingForResponseClass),
                this.value = e
            }
            ,
            this.after("initialize", function() {
                this.$textInput = this.select("textInputSelector"),
                this.value = this.$textInput.val().trim(),
                "" !== this.value && this.$node.addClass(this.attr.hasValueClass),
                this.on("click", {
                    clearButtonSelector: this.handleClearAction
                }),
                this.on("uiAsyncFormWaitingForResponse", this.handleAsyncFormWaitingForResponse),
                this.on("uiAsyncFormReceivedResponse", this.handleAsyncFormReceivedResponse),
                this.on("uiSearchInputDestroy", this.teardown)
            })
        }
        ;
        return t(s)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                columnBackSelector: ".js-tweet-social-proof-back",
                headerLinkClass: "js-tweet-social-proof-back",
                templateName: "status/social_proof_for_tweet",
                tweetSummary: null ,
                type: null
            }),
            this.after("initialize", function() {
                var e, t, i;
                this.on("uiSocialProofForTweetClose", this.close),
                this.on("click", {
                    columnBackSelector: this.close
                }),
                this.on(document, "dataTwitterUsers", this.handleTwitterUsers),
                this.userIds = this.attr.tweetSummary[this.attr.type],
                "retweeters" === this.attr.type ? (t = "Retweeted",
                i = this.attr.tweetSummary.retweeters_count) : (t = TD.decider.get("hearts_and_likes2") ? "Liked" : "Favorited",
                i = this.attr.tweetSummary.favoriters_count),
                e = parseInt(i, 10) > 1 ? TD.i("{{action}} {{n}} times", {
                    n: this.prettyNumber(i),
                    action: t
                }) : TD.i("{{action}} once", {
                    action: t
                }),
                this.renderParams = {
                    title: e,
                    columntitle: TD.i("Tweet"),
                    headerLinkClass: this.attr.headerLinkClass,
                    withUserMenu: !0
                };
                var s = r.render(this.attr.templateName, this.renderParams);
                this.$node.html(s),
                this.requestId = _.uniqueId("twitterUsers"),
                this.trigger("uiNeedsTwitterUsers", {
                    requestId: this.requestId,
                    userIds: this.userIds
                })
            }),
            this.handleTwitterUsers = function(e, t) {
                if (t.requestId === this.requestId) {
                    this.renderParams.users = t.users;
                    var i = r.render(this.attr.templateName, this.renderParams);
                    this.$node.html(i)
                }
            }
            ,
            this.close = function() {
                this.trigger("uiSocialProofForTweetClosed"),
                this.teardown()
            }
        }
        var s = i(1).component
          , n = i(80)
          , r = i(9);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.attributes({
                template: "menus/toggle_button",
                buttonSelector: ".js-toggle-button",
                buttons: null
            }),
            this.after("initialize", function() {
                this.buttons = this.attr.buttons;
                var e = {
                    buttons: [this.buttons.left, this.buttons.right]
                }
                  , t = n.render(this.attr.template, e);
                this.$node.html(t),
                this.$buttons = this.select("buttonSelector"),
                this.on(this.$buttons, "click", this.handleButtonClick),
                this.on("uiToggleSelectItem", this.handleSelectItem),
                this.on("uiToggleButtonDestroy", this.teardown)
            }),
            this.handleButtonClick = function(e) {
                var t = $(e.currentTarget)
                  , i = t.data("clickevent");
                i && (this.trigger(i),
                this.$buttons.removeClass("is-selected"),
                t.addClass("is-selected"))
            }
            ,
            this.handleSelectItem = function(e, t) {
                this.$node.find("." + t.class).click()
            }
        }
        var s = i(1).component
          , n = i(9);
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                screenName: null ,
                dataAction: "[data-action]",
                socialProofSelector: ".js-social-proof",
                followFromSelector: ".js-action-follow",
                followStateSelector: ".prf-follow-status",
                closeEvent: "uiTwitterProfileClosing",
                numUsersInSocialProof: 3,
                isSocialProofAnimatingClass: "social-proof-animating"
            }),
            this.handleTwitterAccount = function(e, t) {
                if (t && t.account && t.screenName && t.screenName.toLowerCase() === this.screenName.toLowerCase()) {
                    this.twitterUser = t,
                    this.render("twitter_profile", {
                        twitterProfile: {
                            preferredAccount: this.account.getUsername(),
                            profile: this.twitterUser,
                            displayOrderProfile: this.columnConfig.DISPLAY_ORDER_PROFILE,
                            account: this.account,
                            showAccountMenu: !0,
                            hideFromAccountName: !0,
                            isSingleAccount: this.isSingleAccount
                        }
                    }),
                    this.on(this.attr.dataAction, "click", this.handleActionClick),
                    this.twitterUser.isMe() || this.trigger(document, "uiNeedsUserProfileSocialProof", {
                        screenName: this.screenName
                    });
                    var i = {
                        account: this.account,
                        twitterUser: this.twitterUser,
                        closeEvent: this.attr.closeEvent
                    };
                    r.attachTo(this.select("followFromSelector"), i),
                    n.attachTo(this.select("followStateSelector"), i)
                }
            }
            ,
            this.handleTwitterUserError = function(e, t) {
                t.screenName.toLowerCase() === this.screenName.toLowerCase() && this.teardown()
            }
            ,
            this.handleSocialProofData = function(e, t) {
                var i, s, n, r = this.select("socialProofSelector"), o = [], a = 0, c = [];
                if (t.users && t.users.length) {
                    if (t.users.length > this.attr.numUsersInSocialProof)
                        for (a = t.users.length - this.attr.numUsersInSocialProof; o.length < this.attr.numUsersInSocialProof; )
                            n = Math.floor(Math.random() * t.users.length),
                            o.push(t.users.splice(n, 1)[0]);
                    else
                        o = t.users;
                    o.forEach(function(e) {
                        c.push(TD.ui.template.render("text/social_proof_link", e))
                    }),
                    a > 0 && c.push(TD.ui.template.render("text/followers_you_follow_link", {
                        screenName: this.screenName
                    })),
                    c.length > 1 && (s = c.splice(c.length - 1, 1)),
                    i = c.join(", "),
                    r.removeClass("is-hidden"),
                    r.html(TD.ui.template.render("twitter_profile_social_proof", {
                        followedByString: i,
                        others: s
                    })),
                    this.transitionExpand(r, this.attr.isSocialProofAnimatingClass)
                }
            }
            ,
            this.handleActionClick = function(e) {
                var t = $(e.currentTarget)
                  , i = t.data("type")
                  , s = this.columnConfig.OPEN_COLUMN_URL_BASE + "/" + i
                  , n = TD.util.maybeOpenClickExternally(e);
                n || (this.screenName && (s += "?screenName=" + this.screenName),
                o.publishToQueue(this.columnConfig.GO_EVENT, {
                    data: s,
                    history: {
                        type: "uiShowProfile",
                        target: document,
                        data: {
                            id: this.screenName
                        }
                    }
                }),
                e.preventDefault(),
                e.stopPropagation())
            }
            ,
            this.destroy = function(e) {
                e.stopPropagation(),
                this.teardown()
            }
            ,
            this.before("teardown", function() {
                this.trigger(this.select("followStateSelector"), this.attr.closeEvent),
                this.trigger(this.select("followFromSelector"), this.attr.closeEvent)
            }),
            this.after("teardown", function() {
                this.$node.html("")
            }),
            this.handleSingleAccountStatus = function(e, t) {
                this.isSingleAccount = t.isSingleAccount
            }
            ,
            this.handlePreferredAccount = function(e, t) {
                this.account = t.account
            }
            ,
            this.after("initialize", function() {
                this.screenName = "" + this.attr.screenName,
                0 === this.screenName.indexOf("@") && (this.screenName = this.screenName.substring(1)),
                this.on(document, "dataSingleAccountStatus", this.handleSingleAccountStatus),
                this.on(document, "dataPreferredAccount", this.handlePreferredAccount),
                this.trigger(document, "uiNeedsSingleAccountStatus"),
                this.on(document, "dataTwitterUser", this.handleTwitterAccount),
                this.on(document, "dataTwitterUserError", this.handleTwitterUserError),
                this.on(document, "dataUserProfileSocialProof", this.handleSocialProofData),
                this.render("twitter_profile", {
                    loading: !0
                }),
                this.trigger(document, "uiNeedsPreferredAccount"),
                this.trigger(document, "uiNeedsTwitterUser", {
                    screenName: this.screenName
                })
            })
        }
        var s = i(1).component
          , n = i(177)
          , r = i(180)
          , o = i(563)
          , a = i(548)
          , c = i(4)
          , l = i(38);
        return s(t, c, a, l)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.attributes({
                inputSelector: ".js-typeahead-input",
                KEY_CODE_MAP: {
                    8: {
                        name: "BACKSPACE",
                        event: "uiTypeaheadInputBackspace",
                        on: "keydown",
                        preventDefault: !1
                    },
                    13: {
                        name: "ENTER",
                        event: "uiTypeaheadInputSubmit",
                        on: "keypress",
                        preventDefault: !0
                    },
                    27: {
                        name: "ESC",
                        event: "uiTypeaheadInputEscaped",
                        on: "keydown"
                    },
                    9: {
                        name: "TAB",
                        event: "uiTypeaheadInputTab",
                        on: "keydown",
                        preventDefault: !0
                    },
                    37: {
                        name: "LEFT",
                        event: "uiTypeaheadInputLeft",
                        on: "keydown"
                    },
                    39: {
                        name: "RIGHT",
                        event: "uiTypeaheadInputRight",
                        on: "keydown"
                    },
                    38: {
                        name: "UP",
                        event: "uiTypeaheadInputMoveUp",
                        on: "keydown",
                        preventDefault: !0
                    },
                    40: {
                        name: "DOWN",
                        event: "uiTypeaheadInputMoveDown",
                        on: "keydown",
                        preventDefault: !0
                    }
                }
            }),
            this.after("initialize", function() {
                this.$input = this.select("inputSelector");
                var e = this.domEventToComponentEventFactory.bind(this);
                this.on(this.$input, "input", e("uiTypeaheadInputChanged")),
                this.on(this.$input, "focus", e("uiTypeaheadInputFocus")),
                this.on(this.$input, "blur", e("uiTypeaheadInputBlur")),
                this.on(this.$input, "keydown keypress", this.maybeTriggerModifierEvent)
            }),
            this.domEventToComponentEventFactory = function(e) {
                return function(t, i) {
                    this.trigger(this.$input, e, {
                        query: this.$input.val()
                    })
                }
                .bind(this)
            }
            ,
            this.maybeTriggerModifierEvent = function(e) {
                var t = this.attr.KEY_CODE_MAP[e.which || e.keyCode];
                if (t) {
                    if (e.type !== t.on)
                        return;
                    var i = $(e.currentTarget)
                      , s = i.val();
                    if ("BACKSPACE" === t.name && "" !== s)
                        return;
                    if ("TAB" === t.name && "" === s)
                        return;
                    t.preventDefault && e.preventDefault(),
                    s = "" === s.trim() ? "" : s,
                    this.trigger(i, t.event, {
                        query: s
                    })
                }
            }
        }
        var s = i(1).component;
        return s(t)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        "use strict";
        return function() {
            this.attributes({
                conversationListSelector: ".js-typeahead-conversation-list",
                conversationItemSelector: ".js-typeahead-conversation-item",
                conversationTemplate: "typeahead/typeahead_conversations"
            }),
            this.after("initialize", function() {
                this.$conversationList = this.select("conversationListSelector"),
                this.on("uiTypeaheadRenderResults", this.renderConversations)
            }),
            this.renderConversations = function(e, t) {
                this.$conversationList.find(this.attr.conversationItemSelector).remove();
                var i = t.suggestions.conversations || [];
                if (!i.length)
                    return void this.clearConversations();
                var s = i.map(function(e) {
                    return e.render({
                        templateName: this.attr.conversationTemplate
                    })
                }, this).join("");
                this.$conversationList.toggleClass("has-results", i.length > 0).toggleClass("is-hidden", 0 === i.length).html(s)
            }
            ,
            this.clearConversations = function() {
                this.$conversationList.removeClass("has-results"),
                this.$conversationList.addClass("is-hidden")
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(80)
          , n = function() {
            t.mixin(this, [s]),
            this.attributes({
                listsListSelector: ".js-typeahead-lists-list",
                listItemSelector: ".js-typeahead-list-item",
                listTemplate: "typeahead/typeahead_lists"
            }),
            this.renderLists = function(e, t) {
                this.currentData = t;
                var i = t.datasources && t.datasources.some(function(e) {
                    return "lists" === e
                });
                if (!i)
                    return void this.$listsList.removeClass("has-results").addClass("is-hidden").empty();
                var s, n = t.suggestions && t.suggestions.lists && t.suggestions.lists.length;
                if (n) {
                    var r = [];
                    t.suggestions.lists.forEach(function(e) {
                        r.push({
                            query: e.fullName,
                            fullName: this.highlightSubstring(e.fullName, t.query),
                            name: e.name,
                            screenName: e.user.screenName
                        })
                    }, this),
                    s = this.toHtml(this.attr.listTemplate, {
                        lists: r
                    })
                } else
                    s = "";
                this.$listsList.toggleClass("has-results", n).toggleClass("is-hidden", !n).html(s)
            }
            ,
            this.after("initialize", function() {
                this.$listsList = this.select("listsListSelector"),
                this.on("uiTypeaheadRenderResults", this.renderLists)
            })
        }
        ;
        return n
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(80)
          , n = function() {
            t.mixin(this, [s]),
            this.attributes({
                recentSearchesListSelector: ".js-typeahead-recent-search-list",
                recentSearchesItemSelector: ".js-typeahead-recent-search-item",
                recentSearchesClearSelector: ".js-typeahead-recent-search-clear",
                recentSearchesTemplate: "typeahead/typeahead_recent_searches",
                recentSearchesPlaceholderTemplate: "typeahead/recent_searches_placeholder",
                recentSearchesFixedClass: "recent-searches-fixed-list"
            }),
            this.renderRecentSearches = function(e, t) {
                this.currentData = t;
                var i = t.datasources && t.datasources.some(function(e) {
                    return "recentSearches" === e
                });
                if (!i)
                    return this.$recentSearchesList.removeClass("has-results").addClass("is-hidden").empty(),
                    void this.$clearRecentSearches.addClass("is-hidden").removeClass("is-invisible");
                var s, n = i && 1 === t.datasources.length, r = t.suggestions && t.suggestions.recentSearches && t.suggestions.recentSearches.length, o = r || n, a = n && !r;
                if (r) {
                    var c = [];
                    t.suggestions.recentSearches.forEach(function(e) {
                        c.push({
                            query: e,
                            name: this.highlightSubstring(e, t.query)
                        })
                    }, this),
                    s = this.toHtml(this.attr.recentSearchesTemplate, {
                        recentSearches: c
                    })
                } else
                    s = n ? this.toHtml(this.attr.recentSearchesPlaceholderTemplate) : "";
                this.$recentSearchesList.toggleClass(this.attr.recentSearchesFixedClass, n),
                this.$recentSearchesList.toggleClass("has-results", r).toggleClass("is-hidden", !o).html(s),
                this.$clearRecentSearches.toggleClass("is-hidden", !n).toggleClass("is-invisible", a)
            }
            ,
            this.clearRecentSearches = function(e) {
                delete this.currentData.suggestions.recentSearches,
                this.renderRecentSearches(null , this.currentData)
            }
            ,
            this.after("initialize", function() {
                this.$recentSearchesList = this.select("recentSearchesListSelector"),
                this.$clearRecentSearches = this.select("recentSearchesClearSelector"),
                this.on("uiRecentSearchClearAction", this.clearRecentSearches),
                this.on("uiTypeaheadRenderResults", this.renderRecentSearches)
            })
        }
        ;
        return n
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(80);
        return function() {
            t.mixin(this, [s]),
            this.attributes({
                savedSearchesListSelector: ".js-typeahead-saved-search-list",
                savedSearchesItemSelector: ".js-typeahead-saved-search-item",
                savedSearchesTemplate: "typeahead/typeahead_saved_searches"
            }),
            this.renderSavedSearches = function(e, t) {
                var i, s = [];
                this.$savedSearchesList.empty(),
                t.suggestions && t.suggestions.savedSearches && (t.suggestions.savedSearches.forEach(function(e) {
                    s.push({
                        query: e.query,
                        name: this.highlightSubstring(e.name, t.query)
                    })
                }, this),
                i = this.toHtml(this.attr.savedSearchesTemplate, {
                    savedSearches: s
                }),
                this.$savedSearchesList.toggleClass("has-results", s.length > 0).toggleClass("is-hidden", 0 === s.length).html(i))
            }
            ,
            this.after("initialize", function() {
                this.$savedSearchesList = this.select("savedSearchesListSelector"),
                this.on("uiTypeaheadRenderResults", this.renderSavedSearches)
            })
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(80);
        return function() {
            t.mixin(this, [s]),
            this.attributes({
                topicsListSelector: ".js-typeahead-topic-list",
                topicsItemSelector: ".js-typeahead-topic-item",
                topicsTemplate: "typeahead/typeahead_topics"
            }),
            this.renderTopics = function(e, t) {
                this.$topicsList.empty();
                var i = t.suggestions.topics || [];
                if (!i.length)
                    return void this.clearTopics();
                var s = i.map(function(e) {
                    return {
                        topic: e.topic,
                        name: this.highlightSubstring(e.topic, t.query)
                    }
                }, this)
                  , n = this.toHtml(this.attr.topicsTemplate, {
                    topics: s
                });
                this.$topicsList.toggleClass("has-results", i.length > 0).toggleClass("is-hidden", 0 === i.length).html(n)
            }
            ,
            this.clearTopics = function(e) {
                this.$topicsList.removeClass("has-results"),
                this.$topicsList.addClass("is-hidden")
            }
            ,
            this.resetTopics = function() {
                this.clearTopics(),
                this.$topicsList.find(this.attr.topicsItemSelector).remove()
            }
            ,
            this.after("initialize", function() {
                this.$topicsList = this.select("topicsListSelector"),
                this.on("uiTypeaheadRenderResults", this.renderTopics)
            })
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(4);
        return function() {
            t.mixin(this, [s]),
            this.attributes({
                usersListSelector: ".js-typeahead-user-list",
                usersItemSelector: ".js-typeahead-user-item",
                usersTemplate: "typeahead/typeahead_users"
            }),
            this.renderUsers = function(e, t) {
                this.$usersList.find(this.attr.usersItemSelector).remove();
                var i = t.suggestions.users || [];
                if (!i.length)
                    return void this.clearUsers();
                var s = this.toHtml(this.attr.usersTemplate, {
                    users: i
                });
                this.$usersList.toggleClass("has-results", i.length > 0).toggleClass("is-hidden", 0 === i.length).html(s)
            }
            ,
            this.getAvatar = function(e) {
                return e.profile_image_url_https.replace(/_normal(\..*)?$/i, "_mini$1")
            }
            ,
            this.clearUsers = function() {
                this.$usersList.removeClass("has-results"),
                this.$usersList.addClass("is-hidden")
            }
            ,
            this.after("initialize", function() {
                this.$usersList = this.select("usersListSelector"),
                this.on("uiTypeaheadRenderResults", this.renderUsers)
            })
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.after("initialize", function() {
                this.query = null ,
                this.on(document, "uiSearch", this.handleSearch),
                this.on(document, "dataUserSearch", this.handleResults),
                this.on("uiUserResultsDestroy", this.teardown)
            }),
            this.handleSearch = function(e, t) {
                this.query = t.query,
                this.$node.empty(),
                this.trigger(document, "uiNeedsUserSearch", {
                    query: this.query
                })
            }
            ,
            this.handleResults = function(e, t) {
                if (t.request.query === this.query) {
                    var i = t.result;
                    0 === i.length ? this.render("search_no_users_placeholder") : this.render("menus/user_results", {
                        users: i,
                        withUserMenu: !0,
                        userMenuPositon: "pos-r"
                    })
                }
            }
        }
        var s = i(1).component
          , n = i(4);
        return s(t, n)
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    function s() {
        this.after("initialize", function() {
            var e = this.handleMigration.bind(this)
              , t = _.debounce(e, 100);
            this.watchDecider(["windows_migration_logged_in_2", "windows_migration_logged_out_2", "windows_migration_warning_2"].join(" "), t),
            this.on(document, "TD.ready", e),
            this.on(document, "uiLoginFormImpression", e)
        }),
        this.handleMigration = function() {
            if ("win" === TD.util.getAppEnv()) {
                var e = this.isLoggedIn()
                  , t = e && TD.decider.get("windows_migration_logged_in_2") || !e && TD.decider.get("windows_migration_logged_out_2")
                  , i = !t && TD.decider.get("windows_migration_warning_2");
                (t || i) && this.getTweetdeckURL(e).addCallbackWith(this, function(e) {
                    t ? this.showModal(r, {
                        tweetdeckURL: e
                    }, {
                        withNonDismissible: !0,
                        withDismissButton: !1,
                        withClickTrap: !1,
                        withDraggable: !1,
                        withDragHandle: !1,
                        withHeader: !1,
                        withFooter: !1,
                        withChrome: !1,
                        withClasses: ["windows-migration"],
                        withContentClasses: ["txt-on-r-white", "bg-r-white"],
                        withOverlayClasses: ["overlay-opaque"]
                    }) : this.showWarningBanner(e)
                })
            }
        }
        ,
        this.isLoggedIn = function() {
            return !!TD.storage.store.getTwitterLoginAccount()
        }
        ,
        this.getTweetdeckURL = function(e) {
            return e ? this.getSignedAuthenticationURL() : TD.core.defer.succeed(TD.config.web_root)
        }
        ,
        this.getSignedAuthenticationURL = function() {
            return TD.util.getSignedAuthticationURL()
        }
        ,
        this.showWarningBanner = function(e) {
            this.trigger("dataMessage", {
                message: {
                    id: "migrate-windows-warning",
                    text: TD.i("From April 15, you'll need to access TweetDeck on the web. Still the same TweetDeck you know and love, at tweetdeck.twitter.com."),
                    isUndismissable: !0,
                    colors: {
                        background: "#66757f",
                        foreground: "white"
                    },
                    actions: [{
                        id: "migrate-windows-warning-read-more",
                        action: "url-ext",
                        label: TD.i("Read more"),
                        "class": "btn-alt",
                        url: "https://blog.twitter.com/2016/a-more-seamless-log-in-experience"
                    }, {
                        id: "migrate-windows-warning-go-to-web",
                        action: "url-ext",
                        label: TD.i("Log in on the web"),
                        url: e
                    }]
                }
            })
        }
    }
    var n = i(1).component
      , r = i(546)
      , o = i(124)
      , a = i(30);
    e.exports = n(s, o, a)
}
, function(e, t, i) {
    "use strict";
    function s() {
        this.attributes({
            tweetdeckURL: null
        }),
        this.after("initialize", function() {
            var e = n.render("windows_migration_messaging", this.attr);
            this.$node.html(e)
        })
    }
    var n = i(9)
      , r = i(1).component;
    e.exports = r(s)
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            s.mixin(this, [n, r]),
            this.eventIsForCustomTimeline = function(e, t) {
                var i = this.select("addToCustomTimelineInputSelector")
                  , s = TD.util.extractTweetIdFromPermalink(i.val());
                return t.action.tweetId === s && t.action.id === i.data(this.attr.customTimelineIdDataAttr)
            }
            ,
            this.attributes({
                addToCustomTimelineSelector: ".js-add-to-customtimeline",
                addToCustomTimelineTemplate: "column/add_to_customtimeline",
                addToCustomTimelineInputSelector: ".js-add-to-customtimeline-input",
                addToCustomTimelineButtonSelector: ".js-add-to-customtimeline-button",
                customTimelineIdDataAttr: "customtimeline-id"
            }),
            this.renderAddToCustomTimeline = function(e, t) {
                var i = this.toHtml(this.attr.addToCustomTimelineTemplate, {
                    accountKey: e,
                    customTimelineId: t
                });
                this.select("addToCustomTimelineSelector").html(i).removeClass("is-hidden"),
                this.on("uiInputSubmit", {
                    addToCustomTimelineInputSelector: this.addTweetToCustomTimeline
                }),
                this.on("click", {
                    addToCustomTimelineButtonSelector: this.addTweetToCustomTimeline
                }),
                this.on(document, "dataAddTweetToCustomTimelineSuccess", function(e, t) {
                    this.eventIsForCustomTimeline(e, t) && (this.spinnerButtonToggle(!1),
                    t.result.response.errors && t.result.response.errors.length ? TD.controller.progressIndicator.addMessage(TD.i("Unable to add that Tweet")) : this.select("addToCustomTimelineInputSelector").val(""))
                }),
                this.on("dataAddTweetToCustomTimelineError", function(e, t) {
                    this.eventIsForCustomTimeline(e, t) && (this.spinnerButtonToggle(!1),
                    TD.controller.progressIndicator.addMessage(TD.i("Unable to add that Tweet")))
                })
            }
            ,
            this.addTweetToCustomTimeline = function() {
                var e = this.select("addToCustomTimelineInputSelector")
                  , t = e.data("account-key")
                  , i = e.data("customtimeline-id")
                  , s = e.val()
                  , n = TD.util.extractTweetIdFromPermalink(s);
                n ? (this.trigger(document, "uiAddTweetToCustomTimeline", {
                    account: t,
                    id: i,
                    tweetId: n
                }),
                this.spinnerButtonToggle(!0)) : (TD.controller.progressIndicator.addMessage(TD.i("Can't recognize Tweet URL")),
                this.spinnerButtonToggle(!1))
            }
        }
        var s = i(1).compose
          , n = i(97)
          , r = i(4);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = function() {
            this.before("initialize", function() {
                this.columnConfig = {
                    DISPLAY_ORDER_PROFILE: TD.controller.columnManager.DISPLAY_ORDER_PROFILE,
                    OPEN_COLUMN_URL_BASE: TD.components.OpenColumnHome.URL_BASE,
                    GO_EVENT: TD.components.OpenColumn.GO_EVENT
                }
            })
        }
        ;
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(502)
          , n = i(510)
          , r = i(536)
          , o = i(523)
          , a = i(524)
          , c = i(522)
          , l = i(465)
          , u = i(506)
          , d = i(503)
          , h = i(124);
        return function() {
            t.mixin(this, [h]),
            this.showDialogDecorator = function(e) {
                return function(t, i) {
                    var s = this.select("modal");
                    e.call(this, s, i),
                    s.show()
                }
                .bind(this)
            }
            ,
            this.showAddColumn = function() {
                TD.ui.openColumn.showOpenColumn()
            }
            ,
            this.showProfile = function(e, t) {
                this.showModal(r, {
                    screenName: t.id
                }, {
                    withHeader: !1,
                    withFooter: !1,
                    withChrome: !1,
                    withDismissButton: !1,
                    withClasses: ["prf", "s-tall-fixed", "s-profile", "is-inverted-dark"],
                    withBorder: !1
                })
            }
            ,
            this.showEmbedTweet = function(e, t) {
                s.attachTo(e, {
                    tweet: t.tweet
                })
            }
            ,
            this.showKeyboardShortcutList = function(e) {
                n.attachTo(e)
            }
            ,
            this.showReportTweetOptions = function(e, t) {
                if (!t.isMessage && TD.decider.get("report_flow_iframe") && TD.storage.accountController.getCookieAccount())
                    return this.showReportFlow(t);
                var i = {
                    account: t.account,
                    twitterUser: t.twitterUser,
                    tweetId: t.tweetId
                }
                  , s = {
                    withFooter: !1,
                    withContentClasses: ["mdl-report-spam-options", "padding-vxl", "txt-seamful-black"]
                };
                t.isMessage ? this.showModal(o, i, _.extend(s, {
                    title: TD.i("Mark + delete message")
                })) : this.showModal(a, i, _.extend(s, {
                    title: TD.i("Report Tweet")
                }))
            }
            ,
            this.showReportUserOptions = function(e, t) {
                return TD.decider.get("report_flow_iframe") && TD.storage.accountController.getCookieAccount() || this.trigger("uiReportSpamAction", {
                    account: t.account,
                    twitterUser: t.twitterUser,
                    block: !0
                }),
                this.showReportFlow(t)
            }
            ,
            this.showReportFlow = function(e) {
                var t = {
                    account: e.account,
                    twitterUser: e.twitterUser,
                    tweetId: e.tweetId,
                    isMedia: e.isMedia
                }
                  , i = {
                    title: TD.i("Report an issue"),
                    withFooter: !0,
                    withDoneButton: !0,
                    withCenteredFooter: !0,
                    withChrome: !1
                };
                this.showModal(c, t, i)
            }
            ,
            this.showFollowFromOptions = function(e, t) {
                u.attachTo(e, {
                    userToFollow: t.userToFollow
                })
            }
            ,
            this.showFavoriteFromOptions = function(e, t) {
                d.attachTo(e, {
                    tweet: t.tweet
                })
            }
            ,
            this.showAccountSharedWarning = function(e) {
                l.attachTo(e)
            }
            ,
            this.showImportColumn = function(e, t) {
                var i;
                try {
                    i = TD.core.base64.decode(t.columnState)
                } catch (s) {
                    console.warn("Column state deserialization failed:", s)
                }
                i && TD.ui.openColumn.showImportSharedColumn(i)
            }
            ,
            this.showGlobalSettings = function() {
                new TD.components.GlobalSettings
            }
            ,
            this.after("initialize", function() {
                this.on(document, "uiShowProfile", this.showProfile),
                this.on(document, "uiShowImportColumnDialog", this.showImportColumn),
                this.on(document, "uiShowReportTweetOptions", this.showReportTweetOptions),
                this.on(document, "uiShowReportUserOptions", this.showReportUserOptions),
                this.on(document, "uiShowAddColumn", this.showAddColumn),
                this.on(document, "uiShowGlobalSettings", this.showGlobalSettings),
                this.on(document, "uiShowEmbedTweet", this.showDialogDecorator(this.showEmbedTweet)),
                this.on(document, "uiShowKeyboardShortcutList", this.showDialogDecorator(this.showKeyboardShortcutList)),
                this.on(document, "uiShowAccountSharedWarning", this.showDialogDecorator(this.showAccountSharedWarning)),
                this.on(document, "uiShowFollowFromOptions", this.showDialogDecorator(this.showFollowFromOptions)),
                this.on(document, "uiShowFavoriteFromOptions", this.showDialogDecorator(this.showFavoriteFromOptions))
            })
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        function t() {
            this.setupDragHandle = function(e) {
                ["boundary", "draggable", "handle"].forEach(function(t) {
                    s.assert(e[t], "Required parameter " + t + " omitted")
                }),
                e.draggable.draggable({
                    boundary: e.boundary,
                    handle: e.handle
                }).on("start.draggable", function() {
                    e.draggable.css({
                        position: "absolute",
                        top: e.draggable.offset().top,
                        left: e.draggable.offset().left
                    }),
                    e.boundary.addClass("is-dragging")
                }).on("drop.draggable", function() {
                    e.boundary.removeClass("is-dragging")
                })
            }
        }
        var s = i(127);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        return function() {
            this.attributes({
                showDrawerButtonSelector: ".js-show-drawer",
                hideDrawerButtonSelector: ".js-hide-drawer"
            }),
            this.after("initialize", function() {
                this.on("click", {
                    showDrawerButtonSelector: this.handleShowDrawerClick,
                    hideDrawerButtonSelector: this.handleHideDrawerClick
                }),
                this.on(document, "uiDockedComposeTweet", this.handleDockedComposeTweet),
                this.on(document, "uiDrawerActive", this.handleDrawerActive)
            }),
            this.handleDockedComposeTweet = function(e, t) {
                var i = t.type || "tweet";
                this.select("hideDrawerButtonSelector").filter(".tweet-button").find("i").addClass("is-hidden").filter('[data-tweet-type~="' + i + '"]').removeClass("is-hidden")
            }
            ,
            this.handleShowDrawerClick = function(e, t) {
                var i = $(t.el).attr("data-drawer");
                switch (i) {
                case "compose":
                    this.trigger("uiComposeTweet"),
                    TD.controller.stats.navbarComposeClick();
                    break;
                case "accountSettings":
                    this.trigger("uiShowAccountSettings")
                }
            }
            ,
            this.handleHideDrawerClick = function(e, t) {
                var i = $(t.el).attr("data-drawer");
                this.trigger("uiDrawerHideDrawer"),
                "compose" === i && TD.controller.stats.navbarComposeClick()
            }
            ,
            this.handleDrawerActive = function(e, t) {
                if (this.select("hideDrawerButtonSelector").addClass("is-hidden"),
                this.select("showDrawerButtonSelector").removeClass("is-hidden"),
                t.activeDrawer) {
                    var i = function() {
                        return $(this).attr("data-drawer") === t.activeDrawer
                    }
                    ;
                    this.select("showDrawerButtonSelector").filter(i).addClass("is-hidden"),
                    this.select("hideDrawerButtonSelector").filter(i).removeClass("is-hidden")
                }
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            s.mixin(this, [n]),
            this.attributes({
                editCustomTimelineSelector: ".js-edit-customtimeline",
                editCustomTimelineTemplate: "column/edit_customtimeline",
                customTimelineTitleSelector: ".js-customtimeline-title",
                customTimelineDescSelector: ".js-customtimeline-desc"
            }),
            this.after("initialize", function() {
                this.on(this.$node, "change uiInputSubmit", {
                    customTimelineTitleSelector: this.saveCustomTimelineState,
                    customTimelineDescSelector: this.saveCustomTimelineState
                })
            }),
            this.renderEditCustomTimeline = function(e, t) {
                var i = this.column.getCustomTimeline();
                if (i) {
                    var s = this.toHtml(this.attr.editCustomTimelineTemplate, {
                        customTimelineName: i.name,
                        customTimelineDescription: i.description,
                        withTitle: e,
                        withDescription: t
                    });
                    this.$editCustomTimeline = this.select("editCustomTimelineSelector"),
                    this.$editCustomTimeline.html(s)
                }
            }
            ,
            this.saveCustomTimelineState = function() {
                var e = this.column.getCustomTimeline()
                  , t = this.select("customTimelineTitleSelector").val()
                  , i = this.select("customTimelineDescSelector").val()
                  , s = void 0 !== t && t !== e.name
                  , n = void 0 !== i && i !== e.description;
                (s || n) && (this.trigger(document, "uiUpdateCustomTimeline", {
                    account: e.account.getKey(),
                    id: e.id,
                    name: t,
                    description: i
                }),
                this.on(document, "dataCustomTimelineSuccess", function() {
                    var e;
                    this.off(document, "dataCustomTimelineSuccess"),
                    s && n ? e = TD.i("Collection updated") : s ? e = TD.i("Title updated") : n && (e = TD.i("Description updated")),
                    e && TD.controller.progressIndicator.addMessage(e)
                }))
            }
        }
        var s = i(1).compose
          , n = i(4);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        "use strict";
        var t = i(1).compose
          , s = i(4)
          , n = {
            favorited: "s-favorited",
            unfavorited: "s-not-favorited",
            "protected": "s-protected"
        };
        return function() {
            function e(e, t, i) {
                i = i || {},
                _.each(n, e.removeClass.bind(e)),
                e.addClass(n[t]),
                e.removeAttr("title"),
                e.removeAttr("data-orig-title"),
                e.toggleClass("is-disabled", i.disabled || !1),
                i.tooltip && (e.attr("title", i.tooltip),
                e.attr("data-orig-title", i.tooltip))
            }
            function i(t, i, s) {
                function n(n, r) {
                    r.tweetId === i && r.accountKey === s && e(t, r.isFavorite ? "favorited" : "unfavorited")
                }
                function r(n, r) {
                    if (r.request.tweetId === i && r.request.accountKey === s) {
                        var o = r.error.responseJSON;
                        return o && 179 === o.errors[0].code ? void e(t, "protected", {
                            tooltip: TD.i("You cannot favorite this protected Tweet"),
                            disabled: !0
                        }) : void TD.controller.progressIndicator.addMessage(TD.i("Cannot retrieve favorite status"))
                    }
                }
                function o(e, t) {
                    t.tweetId === i && t.accountKey === s && TD.controller.progressIndicator.addMessage(TD.i("Failed changing favorite status"))
                }
                this.on(document, "dataFavoriteState", n),
                this.before("teardown", this.off.bind(this, document, "dataFavoriteState", n)),
                this.on(document, "dataFavoriteStateError", r),
                this.before("teardown", this.off.bind(this, document, "dataFavoriteStateError", r)),
                this.on(document, "dataFavoriteError", o),
                this.before("teardown", this.off.bind(this, document, "dataFavoriteError", o)),
                this.trigger("uiNeedsFavoriteState", {
                    tweetId: i,
                    accountKey: s
                })
            }
            t.mixin(this, [s]),
            this.attachFavoriteButtons = function(e) {
                e = e || this.$node,
                e.find('[rel="favorite-button"]').each(function(e, t) {
                    var i = t.dataset;
                    this.renderFavoriteButton(t, i.tweetId, i.accountKey)
                }
                .bind(this))
            }
            ,
            this.renderFavoriteButton = function(e, t, s) {
                var n = this.renderTemplate("buttons/favorite");
                return $(e).html(n),
                i.call(this, n, t, s),
                n.click(this.handleFavoriteButtonClick.bind(this, t, s)),
                n
            }
            ,
            this.handleFavoriteButtonClick = function(e, t, i) {
                i.preventDefault();
                var s, r = i.currentTarget;
                r.classList.contains("is-disabled") || (r.classList.contains(n.favorited) ? s = "uiUnfavoriteTweet" : r.classList.contains(n.unfavorited) && (s = "uiFavoriteTweet"),
                s && this.trigger(s, {
                    tweetId: e,
                    accountKey: t
                }))
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = i(1).compose
          , s = i(4)
          , n = function() {
            t.mixin(this, [s]),
            this.attributes({
                headerSelector: ".js-fhf-header",
                bodySelector: ".js-fhf-body",
                footerSelector: ".js-fhf-footer"
            }),
            this.after("initialize", function() {
                this.$headerContainer = this.select("headerSelector"),
                this.$bodyContainer = this.select("bodySelector"),
                this.$footerContainer = this.select("footerSelector"),
                this.on("uiFixedHeaderChangedPosition", this.resizeBody)
            }),
            this.resizeBody = function() {
                var e = 0
                  , t = 0
                  , i = 0;
                this.$headerContainer.hasClass("is-hidden") ? (this.$headerContainer.removeClass("is-hidden"),
                i = this.$headerContainer.position().top,
                this.$headerContainer.addClass("is-hidden")) : (e = this.$headerContainer.outerHeight(),
                i = this.$headerContainer.position().top),
                this.$footerContainer.hasClass("is-hidden") || (t = this.$footerContainer.outerHeight()),
                this.$bodyContainer.css({
                    top: e + i,
                    bottom: t
                })
            }
            ,
            this.hideHeader = function() {
                this.$headerContainer.addClass("is-hidden")
            }
            ,
            this.showHeader = function() {
                this.$headerContainer.removeClass("is-hidden")
            }
            ,
            this.hideFooter = function() {
                this.$footerContainer.addClass("is-hidden")
            }
            ,
            this.showFooter = function() {
                this.$footerContainer.removeClass("is-hidden")
            }
        }
        ;
        return n
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        var t = function() {
            this.attributes({
                focusableSelector: "textarea, input"
            }),
            this.after("initialize", function() {
                var e = this.select("focusableSelector");
                this.on(e, "focus", function() {
                    TD.decider.get("touchdeck_compose_v2") && (window.scrollTo(0, 0),
                    document.body.scrollTop = 0)
                })
            })
        }
        ;
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            this.activeSequences = {},
            this.sequenceStarters = {},
            this.singleKeys = {},
            this.combos = {},
            this.attributes({
                charCodes: {
                    bksp: 8,
                    ret: 13,
                    esc: 27,
                    space: 32,
                    pageup: 33,
                    pagedown: 34,
                    end: 35,
                    home: 36,
                    left: 37,
                    up: 38,
                    right: 39,
                    down: 40
                },
                defaultKeyEvent: "keypress",
                keySequenceTimeoutDelay: 1e3,
                modifiers: {
                    ctrl: "ctrlKey",
                    alt: "altKey",
                    cmd: "metaKey",
                    shift: "shiftKey"
                }
            }),
            this.getShortcutForEvent = function(e) {
                var t, i = e.which;
                return this.eventHasModifier(e) && (t = this.combos[i]),
                t || this.eventHasFunctionModifier(e) || (t = this.activeSequences[i] || this.singleKeys[i] || this.sequenceStarters[i]),
                t
            }
            ,
            this.clearActiveSequences = function() {
                this.activeSequences = {}
            }
            ,
            this.eventHasModifier = function(e) {
                return e.ctrlKey || e.altKey || e.metaKey || e.shiftKey
            }
            ,
            this.eventHasFunctionModifier = function(e) {
                return e.ctrlKey || e.metaKey
            }
            ,
            this.eventHasTextModifier = function(e) {
                return e.altKey || e.shiftKey
            }
            ,
            this.getModifiedKeyEvent = function(e, t) {
                var i;
                return this.eventHasModifier(e) && t.modifiers && _.each(t.modifiers, function(t, s) {
                    e[s] && (i = t)
                }, this),
                i
            }
            ,
            this.handleKeyPress = function(e) {
                var t, i = [], s = ":not(input):not(textarea):not(select)", n = ":radio,:checkbox";
                e.which >= 65 && e.which <= 90 && (e.which += 32),
                t = this.getShortcutForEvent(e),
                t ? t.sequences ? (_.each(t.sequences, function(e, t) {
                    this.addSequenceEnd(t, e)
                }, this),
                setTimeout(function() {
                    this.clearActiveSequences()
                }
                .bind(this), this.attr.keySequenceTimeoutDelay)) : (i = t.shortcuts || [t],
                i = i.map(function(t) {
                    return t.modifiers && (t = this.getModifiedKeyEvent(e, t)),
                    t
                }, this),
                i = i.filter(function(e) {
                    return void 0 !== e
                }),
                i.forEach(function(t) {
                    var i = t.selector || s
                      , r = $(e.target);
                    (r.is(i) || r.is(n)) && t.callback(e, t.data)
                }),
                this.clearActiveSequences()) : this.clearActiveSequences()
            }
            ,
            this.getCharCodeForKey = function(e) {
                var t, i = !1, s = [[32, 64], [91, 126]];
                if ("string" != typeof e)
                    throw new Error("Key must be a string");
                return e = e.toLowerCase(),
                1 === e.length ? (t = e.charCodeAt(0),
                s.forEach(function(e) {
                    return t >= e[0] && t <= e[1] ? (i = !0,
                    !1) : void 0
                }),
                i || (t = void 0)) : t = this.attr.charCodes[e],
                t
            }
            ,
            this.addSingleKey = function(e, t, i, s) {
                var n;
                if ("function" != typeof t)
                    throw new Error("addSingleKey: no callback");
                if (n = this.getCharCodeForKey(e),
                void 0 === n)
                    throw new Error("addSingleKey: invalid key string");
                if (this.singleKeys[n]) {
                    var r = this.singleKeys[n].shortcuts.every(function(e) {
                        return t !== e.callback || i !== e.selector
                    }, this);
                    if (!r)
                        throw new Error("addSingleKey: attempted to add identical shortcut")
                } else
                    this.singleKeys[n] = {
                        shortcuts: []
                    };
                this.singleKeys[n].shortcuts.push({
                    shortcut: e,
                    callback: t,
                    selector: i,
                    data: s
                })
            }
            ,
            this.addSequence = function(e, t, i, s) {
                var n, r, o;
                if ("function" != typeof t)
                    throw new Error("addSequence: no callback");
                if ("string" != typeof e)
                    throw new Error("addSequence: sequence must be a string");
                if (n = e.split(" "),
                2 !== n.length)
                    throw new Error('addSequence: sequence should be in format "g a"');
                if (r = this.getCharCodeForKey(n[0]),
                void 0 === r)
                    throw new Error('addSequence: sequence should be in format "g a"');
                if (o = this.getCharCodeForKey(n[1]),
                void 0 === o)
                    throw new Error('addSequence: sequence should be in format "g a"');
                this.sequenceStarters[r] || (this.sequenceStarters[r] = {
                    sequences: {}
                }),
                this.sequenceStarters[r].sequences[n[1]] = {
                    shortcut: e,
                    callback: t,
                    selector: i,
                    data: s
                }
            }
            ,
            this.addSequenceEnd = function(e, t) {
                var i;
                if ("function" != typeof t.callback)
                    throw new Error("addSequenceEnd: no callback");
                if ("string" != typeof e)
                    throw new Error("addSequenceEnd: invalid shortcut key");
                if (i = this.getCharCodeForKey(e),
                void 0 === i)
                    throw new Error("addSequenceEnd: invalid shortcut key");
                this.activeSequences[i] = {
                    shortcut: t.shortcut,
                    callback: t.callback,
                    selector: t.selector,
                    data: t.data
                }
            }
            ,
            this.addCombo = function(e, t, i, s) {
                var n, r, o;
                if ("function" != typeof t)
                    throw new Error("addCombo: no callback");
                if ("string" != typeof e)
                    throw new Error("addCombo: invalid combo string");
                if (n = e.split("+"),
                2 !== n.length)
                    throw new Error('addCombo: invalid combo "' + e + '"');
                if (r = this.attr.modifiers[n[0].toLowerCase()],
                void 0 === r)
                    throw new Error("addCombo: invalid modifier");
                if (o = this.getCharCodeForKey(n[1]),
                void 0 === o)
                    throw new Error("addCombo: invalid shortcut key");
                var a = {
                    modifiers: {}
                };
                a.modifiers[r] = {
                    shortcut: e,
                    callback: t,
                    selector: i,
                    data: s
                },
                this.combos[o] || (this.combos[o] = {
                    shortcuts: []
                }),
                this.combos[o].shortcuts.push(a)
            }
            ,
            this.isSequence = function(e) {
                return "string" == typeof e && e.indexOf(" ") > 0
            }
            ,
            this.isCombo = function(e) {
                return "string" == typeof e && e.indexOf("+") > 0
            }
            ,
            this.addShortcut = function(e, t, i, s) {
                3 === arguments.length && "string" != typeof i && (s = i,
                i = void 0),
                this.isCombo(e) ? this.addCombo(e, t, i, s) : this.isSequence(e) ? this.addSequence(e, t, i, s) : this.addSingleKey(e, t, i, s)
            }
            ,
            this.removeSingleKey = function(e) {
                var t = this.getCharCodeForKey(e);
                this.singleKeys[t] && delete this.singleKeys[t]
            }
            ,
            this.removeCombo = function(e) {
                var t = this.getCharCodeForKey(e.split("+")[1]);
                this.combos[t] && delete this.combos[t]
            }
            ,
            this.removeSequence = function(e) {
                var t = this.getCharCodeForKey(e.split(" ")[0]);
                this.sequenceStarters[t] && delete this.sequenceStarters[t]
            }
            ,
            this.removeShortcut = function(e) {
                this.isCombo(e) ? this.removeCombo(e) : this.isSequence(e) ? this.removeSequence(e) : this.removeSingleKey(e)
            }
            ,
            this.handleKeyDown = function(e) {
                var t = [this.attr.charCodes.bksp, this.attr.charCodes.esc, this.attr.charCodes.ret, this.attr.charCodes.left, this.attr.charCodes.right, this.attr.charCodes.up, this.attr.charCodes.down, this.attr.charCodes.pagedown, this.attr.charCodes.pageup, this.attr.charCodes.home, this.attr.charCodes.end]
                  , i = t.some(function(t) {
                    return t === e.which
                });
                i && this.handleKeyPress(e)
            }
            ,
            this.after("initialize", function() {
                this.on(window, "keypress", this.handleKeyPress),
                this.on(window, "keydown", this.handleKeyDown)
            })
        }
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            s.mixin(this, [n]),
            this.attributes({
                popoverSelector: ".js-popover",
                popoverContentSelector: ".js-popover-content",
                isHiddenClass: "is-hidden",
                hasOverlayClass: "has-overlay",
                defaultHeight: 2e3,
                defaultWidth: 310,
                bottomPadding: 30,
                withClickTrap: !0,
                withOverlay: !1,
                repositionPeriod: 100,
                closeModals: !1,
                positionalClasses: {
                    rt: "popover-position-rt"
                },
                popoverPosition: "rt"
            }),
            this.after("initialize", function() {
                this.trigger("uiPopoverCreated", {
                    id: this.attr.id
                }),
                this.on(document, "uiCloseModal", this.handleCloseModal),
                this.boundClickTrap = this.popoverClickTrap.bind(this)
            }),
            this.handleCloseModal = function(e) {
                e.target !== this.node && this.hidePopover()
            }
            ,
            this.popoverClickTrap = function(e) {
                e !== this.lastSeenEvent && (this.lastSeenEvent = e,
                this.$node && 0 === this.$node.find(e.currentTarget).length && this.hidePopover())
            }
            ,
            this.isPopoverVisible = function() {
                return !this.$popover.hasClass(this.attr.isHiddenClass)
            }
            ,
            this.showPopover = function(e) {
                this.$popover.hasClass(this.attr.isHiddenClass) && (this.$popover.removeClass(this.attr.isHiddenClass),
                this.withOverlay && (this.$overlay.removeClass(this.attr.isHiddenClass),
                this.$overlayControlNode.addClass(this.attr.hasOverlayClass)),
                this.attr.closeModals && this.trigger("uiCloseModal"),
                this.repositionPopover(),
                this.repositionInterval = this.repositionInterval || setInterval(this.repositionPopover.bind(this), this.attr.repositionPeriod),
                this.withClickTrap && _.defer(function() {
                    $("body").on("click", "*", this.boundClickTrap)
                }
                .bind(this)),
                this.trigger("uiPopoverShown", {
                    id: this.attr.id
                }))
            }
            ,
            this.hidePopover = function(e) {
                this.$popover.hasClass(this.attr.isHiddenClass) || ($("body").off("click", "*", this.boundClickTrap),
                this.trigger("uiPopoverHiding", {
                    id: this.attr.id
                }),
                this.$popover.addClass(this.attr.isHiddenClass),
                this.$overlay.addClass(this.attr.isHiddenClass),
                this.$overlayControlNode.removeClass(this.attr.hasOverlayClass),
                clearInterval(this.repositionInterval),
                this.repositionInterval = null ,
                this.trigger("uiPopoverHidden", {
                    id: this.attr.id
                }))
            }
            ,
            this.showPopoverOverlay = function() {
                this.withOverlay = !0,
                this.$overlay.removeClass("is-hidden"),
                this.$overlayControlNode.addClass(this.attr.hasOverlayClass)
            }
            ,
            this.hidePopoverOverlay = function() {
                this.withOverlay = !1,
                this.$overlay.addClass("is-hidden"),
                this.$overlayControlNode.removeClass(this.attr.hasOverlayClass)
            }
            ,
            this.repositionPopover = function() {
                var e = this.$node.offset().top
                  , t = $(window).height();
                this.maxHeight = t - e - this.attr.bottomPadding,
                this.$popover.css({
                    height: this.maxHeight,
                    "max-height": this.maxHeight
                }),
                "auto" === this.defaultHeight && (this.height = this.$popoverContent.outerHeight(),
                this.$popover.css({
                    height: this.height,
                    "max-height": this.height
                }))
            }
            ,
            this.setPopoverSize = function(e) {
                this.width = e.width,
                this.height = e.height,
                this.$popover.css({
                    width: this.width,
                    height: this.height
                })
            }
            ,
            this.getPopoverPositionClass = function() {
                return this.attr.positionalClasses[this.attr.popoverPosition]
            }
            ,
            this.renderInPopover = function(e, t, i) {
                i && (this.defaultHeight = i.defaultHeight || this.attr.defaultHeight,
                this.withOverlay = i.withOverlay || this.attr.withOverlay,
                this.withClickTrap = i.withClickTrap || this.attr.withClickTrap),
                this.$overlay = this.renderTemplate("overlay"),
                this.$overlayControlNode = this.$node.closest(".js-overlay"),
                this.$overlay.insertBefore(this.$overlayControlNode),
                this.render("popover"),
                this.$popover = this.select("popoverSelector"),
                this.$popover.addClass(this.getPopoverPositionClass()),
                this.setPopoverSize({
                    width: this.attr.defaultWidth
                }),
                this.$popoverContent = this.select("popoverContentSelector");
                var s = this.renderTemplate(e, t);
                this.$popoverContent.append(s)
            }
        }
        var s = i(1).compose
          , n = i(4);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t() {
            s.mixin(this, [n]),
            this.attributes({
                thumbSizeSelectSelector: ".js-thumb-size",
                thumbSizeSelectTemplate: "column/thumb_size_select",
                selectItemSelector: ".js-toggle-item",
                selectedClass: "is-selected"
            }),
            this.after("initialize", function() {
                this.on(this.$node, "click", {
                    selectItemSelector: this.handleThumbSizeSelectClick
                }),
                this.on("uiColumnUpdateSearchFilter", this.renderThumbSizeSelector)
            }),
            this.renderThumbSizeSelector = function() {
                var e = this.toHtml(this.attr.thumbSizeSelectTemplate);
                this.$thumbSizeSelect = this.select("thumbSizeSelectSelector"),
                this.$thumbSizeSelect.html(e),
                this.$thumbSizeSelectOptions = this.select("selectItemSelector");
                var t = this.attr.column.getMediaPreviewSize()
                  , i = '[data-value="' + t + '"]';
                this.$thumbSizeSelectOptions.filter(i).addClass(this.attr.selectedClass)
            }
            ,
            this.handleThumbSizeSelectClick = function(e, t) {
                var i = $(t.el)
                  , s = i.data("value");
                s && (this.trigger("uiColumnUpdateMediaPreview", {
                    value: s
                }),
                this.$thumbSizeSelectOptions.removeClass(this.attr.selectedClass),
                i.addClass(this.attr.selectedClass))
            }
        }
        var s = i(1).compose
          , n = i(4);
        return t
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        var e = _.memoize(function() {
            var e = window.navigator.userAgent
              , t = e.match(/Chrome\/([\d]+)\./)
              , i = e.match(/AppleWebKit\/([\d]+)\./);
            return t && parseInt(t[1], 10) >= 35 ? !0 : "mac" === TD.util.getAppEnv() && i && parseInt(i[1], 10) >= 537 ? !0 : !1
        });
        return function() {
            this.applyWillAnimate = function(t) {
                e() && $(t).addClass("will-animate")
            }
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        var e = {
            isSelectedAccountSafeguarded: function(e) {
                return _.intersection(e.settings.safeguarded_account_list, e.selectedAccountKeys).length > 0
            },
            isSafeguardingOk: function(t) {
                return e.isSelectedAccountSafeguarded(t) ? t.accountSafeguardChecked : !0
            }
        };
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function(e) {
        function t(e) {
            return e.files.some(function(e) {
                return "image/gif" === e.type
            })
        }
        function s(e) {
            return 1 === n.getMaxAllowedImages(e) || n.getMaxAllowedImages(e) > 1 && !t(e)
        }
        var n = i(188)
          , r = {
            buttonText: {
                single: TD.i("Add image"),
                another: TD.i("Add another image"),
                multiple: TD.i("Add images")
            },
            tooltipText: {
                oneGIF: TD.i("You cannot upload a GIF with other images"),
                isScheduling: TD.i("You cannot add more than 1 image to a scheduled Tweet"),
                isMessaging: TD.i("You cannot add more than 1 image to a message"),
                reachedLimit: "You cannot add more than {{max}} images",
                quotedTweet: TD.i("Quoted Tweets cannot contain images")
            },
            getButtonText: function(e) {
                return 1 === n.getMaxAllowedImages(e) ? r.buttonText.single : e.files.length > 0 ? r.buttonText.another : r.buttonText.multiple
            },
            getTooltipText: function(e) {
                return 4 === n.getMaxAllowedImages(e) && t(e) ? r.tooltipText.oneGIF : e.files.length >= n.getMaxAllowedImages(e) ? e.scheduledDate ? r.tooltipText.isScheduling : "message" === e.tweetType ? r.tooltipText.isMessaging : TD.i("You cannot add more than {{max}} images", {
                    max: n.getMaxAllowedImages(e)
                }) : e.quotedTweet ? r.tooltipText.quotedTweet : void 0
            },
            canAddImage: function(e) {
                return e.files.length < n.getMaxAllowedImages(e) && s(e) && !e.quotedTweet
            }
        };
        return r
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s, n;
    s = [i(1), i(427), i(408), i(396), i(397), i(409), i(398), i(399), i(400), i(402), i(403), i(404), i(405), i(412), i(413), i(418), i(419), i(421), i(414), i(432), i(442), i(426), i(428), i(444), i(420), i(434), i(443), i(433), i(416), i(430), i(423), i(410), i(431), i(407), i(429), i(406), i(425), i(411), i(424), i(422), i(415), i(401), i(441), i(417), i(445), i(446), i(452), i(453), i(454), i(455), i(457), i(458), i(456), i(463), i(462), i(460), i(459), i(461)],
    n = function(e) {
        "use strict";
        var t = Array.prototype.slice.call(arguments, 1);
        return e.component(function() {
            this.after("initialize", function() {
                _.invoke(t, "attachTo", this.$node)
            })
        })
    }
    .apply(t, s),
    !(void 0 !== n && (e.exports = n))
}
, function(e, t, i) {
    var s;
    s = function() {
        var e = {};
        return e.publishToQueue = function(e, t) {
            TD.storage.notification.notify(e, t)
        }
        ,
        e.publish = function(e, t) {
            $.publish(e, t)
        }
        ,
        e.subscribe = function(e, t) {
            return $.subscribe(e, t)
        }
        ,
        e.unsubscribe = function(e) {
            $.unsubscribe(e)
        }
        ,
        e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        "use strict";
        function e(e) {
            if (e = e || {},
            !(e.$target && e.$target.length && e.$container && e.$container.length && e.$offsetChild && e.$offsetChild.length))
                throw new Error("positionSticky missing required parameters");
            var t = e.$target
              , i = e.$container
              , s = e.$offsetChild
              , n = parseInt(t.css("top"), 10);
            s.css({
                marginTop: t.outerHeight() + "px"
            }),
            i.on("scroll", function(e) {
                var s = Math.max(n, i.scrollTop());
                t.css("top", s + "px").toggleClass("position-sticky-stuck", s > n)
            })
        }
        return {
            makeElementSticky: e
        }
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    var s = i(68)
      , n = {
        baseUrl: "https://twitter.com/i/safety/report_story",
        completeUrl: "https://twitter.com/i/safety/report_story_complete",
        getReportUrl: function(e) {
            return e.reportedTweetId ? n.getReportTweetUrl(e) : n.getReportUserUrl(e)
        },
        getReportUserUrl: function(e) {
            var t = new s(n.baseUrl);
            return t.setQuery({
                source: "reportprofile",
                initiated_in_app: !0,
                reported_user_id: e.reportedUserId
            }),
            t.href()
        },
        getReportTweetUrl: function(e) {
            var t = new s(n.baseUrl);
            return t.setQuery({
                source: "reporttweet",
                initiated_in_app: !0,
                reported_user_id: e.reportedUserId,
                reported_tweet_id: e.reportedTweetId,
                is_media: !!e.isMedia
            }),
            t.href()
        }
    };
    e.exports = n
}
, function(e, t, i) {
    var s;
    s = function() {
        function e(e) {
            return !TD.util.columnUtils.combinedColumnTypes[e.getColumnType()]
        }
        function t(e) {
            return e.model.getKey()
        }
        function i(e) {
            return function(t) {
                return t.getAccountKey() === e
            }
        }
        function s(s, r) {
            var o = TD.storage.accountController.get(s)
              , a = TD.controller.columnManager.getAllOrdered().filter(e).map(t)
              , c = TD.storage.feedController.getAll().filter(i(s))
              , l = {
                initialCount: c.length,
                newFeeds: [],
                lostFeeds: []
            };
            return c.reduce(function(e, t) {
                var i = t.getType();
                if (!n.shouldRewrite[i])
                    return e.lostFeeds.push(t),
                    e;
                var s = i
                  , c = t.getMetadata()
                  , l = r;
                "undefined" != typeof n.type[i] && (s = n.type[i]),
                n.toDefault[i] && (l = TD.storage.accountController.getDefault().getKey()),
                n.metadata.id[i] && "undefined" == typeof c.id && (c = _.extend({}, c, {
                    id: o.getUserID()
                }));
                var u = TD.storage.feedController.getOrCreateFeed(s, t.getService(), l, c);
                return TD.controller.feedManager.replaceFeed(t, u, a),
                e.newFeeds.push(u),
                e
            }, l)
        }
        var n = {};
        return n.shouldRewrite = {
            home: !0,
            search: !0,
            list: !0,
            customtimeline: !0,
            usertimeline: !0,
            favorites: !0,
            usertweets: !0
        },
        n.type = {},
        n.type = {
            home: "usertimeline"
        },
        n.toDefault = {},
        n.toDefault = {
            search: !0
        },
        n.metadata = {},
        n.metadata.id = {
            home: !0,
            usertimeline: !0,
            favorites: !0,
            usertweets: !0
        },
        s
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        var e = {
            buttonText: {
                scheduleTweet: TD.i("Schedule Tweet")
            },
            tooltipText: {
                noMessages: TD.i("Direct messages cannot be scheduled"),
                noMultipleImages: TD.i("Scheduled Tweets cannot contain multiple images")
            },
            getButtonText: function(t) {
                return t.scheduledDate ? TD.util.prettyTimeString(t.scheduledDate) : e.buttonText.scheduleTweet
            },
            getTooltipText: function(t) {
                return "message" === t.tweetType ? e.tooltipText.noMessages : 2 === t.files.length ? e.tooltipText.noMultipleImages : ""
            },
            canSchedule: function(e) {
                return "message" !== e.tweetType && e.files.length < 2
            }
        };
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        var e = {
            buttonText: {
                tweet: TD.i("Tweet"),
                reply: TD.i("Tweet"),
                message: TD.i("Send message")
            },
            tooltipText: {
                ready: TD.i("Tweet"),
                tooLong: TD.i("Your Tweet is too long"),
                noAccount: TD.i("You have to select at least one account to Tweet from"),
                noRecipients: TD.i("You have to select a recipient for your message"),
                scheduledDatePassed: TD.i("Scheduled time has passed"),
                accountSafeguardNotChecked: TD.i("You have to check the confirmation step to Tweet")
            },
            getButtonText: function(t) {
                return t.scheduledDate ? TD.i("Tweet at {{time}}", {
                    time: TD.util.prettyTimeOfDayOrDateString(t.scheduledDate)
                }) : e.buttonText[t.tweetType]
            },
            getDefaultTooltipText: function() {
                var t = e.tooltipText.ready
                  , i = "osx" === TD.util.getOSName() ? "&#8984;" + TD.i("Return") : TD.i("Ctrl+Enter");
                return [t, " (", i, ")"].join("")
            },
            getTooltipText: function(t) {
                return 0 === t.selectedAccountKeys.length ? e.tooltipText.noAccount : t.remainingCharCount < 0 ? e.tooltipText.tooLong : "message" !== t.tweetType || t.hasMessageRecipients ? t.schedulingOk ? t.safeguardingOk ? e.getDefaultTooltipText() : e.tooltipText.accountSafeguardNotChecked : e.tooltipText.scheduledDatePassed : e.tooltipText.noRecipients
            }
        };
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    var s = i(868);
    e.exports = {
        truncate: function(e, t) {
            return 0 === t ? "" : e && t ? s(e, 0, t) : e
        }
    }
}
, function(e, t, i) {
    var s;
    s = function() {
        var e = {
            tooltipText: {
                messageCannotBeScheduled: TD.i("Direct messages cannot be scheduled"),
                noMultipleImages: TD.i("Direct messages cannot contain multiple images")
            },
            getTooltipText: function(t) {
                return t.scheduledDate ? e.tooltipText.messageCannotBeScheduled : t.files.length > 1 ? e.tooltipText.noMultipleImages : ""
            },
            canSwitchTweetType: function(e) {
                return !e.scheduledDate && e.files.length <= 1
            }
        };
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        function e() {
            this.rebroadcast = function(e) {
                return function(t) {
                    return this._isRebroadcasting ? void 0 : (this._isRebroadcasting = !0,
                    this.trigger(t, e.apply(this, [].slice.call(arguments))),
                    this._isRebroadcasting = !1,
                    t.stopPropagation(),
                    !1)
                }
                .bind(this)
            }
        }
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    var s;
    s = function() {
        var e = function() {
            this.appSatisfiesVersionRequirements = function(e) {
                var t = TD.version
                  , i = e.split(" ");
                return _.all(i, function(e) {
                    var i, s = e.match(/[<=>]*/)[0], n = e.substr(s.length), r = [];
                    return _.contains(s, ">") ? r.push(1) : _.contains(s, "<") && r.push(-1),
                    (_.contains(s, "=") || 0 === s.length) && r.push(0),
                    i = TD.util.versionComparator(t, n),
                    _.contains(r, i)
                })
            }
        }
        ;
        return e
    }
    .call(t, i, t, e),
    !(void 0 !== s && (e.exports = s))
}
, function(e, t, i) {
    "use strict";
    i(321),
    i(577),
    i(372),
    i(578),
    i(586),
    i(388),
    i(585),
    i(328),
    i(327),
    i(332),
    i(361),
    i(359),
    i(339),
    i(329),
    i(348),
    i(349),
    i(350),
    i(366),
    i(355),
    i(357),
    i(352),
    i(353),
    i(354),
    i(356),
    i(351),
    i(347),
    i(340),
    i(343),
    i(341),
    i(342),
    i(331),
    i(363),
    i(346),
    i(345),
    i(364),
    i(358),
    i(369),
    i(371),
    i(367),
    i(368),
    i(362),
    i(334),
    i(370),
    i(330),
    i(333),
    i(360),
    i(344),
    i(336),
    i(325),
    i(326),
    i(323),
    i(324),
    i(338),
    i(335),
    i(365),
    i(337),
    i(322),
    i(609),
    i(610),
    i(615),
    i(611),
    i(612),
    i(614),
    i(613),
    i(616),
    i(317),
    i(318),
    i(319),
    i(320),
    i(375),
    i(385),
    i(380),
    i(379),
    i(378),
    i(384),
    i(383),
    i(386),
    i(381),
    TD.decider = i(377),
    TD.storage = i(193),
    i(604),
    i(603),
    i(596),
    i(600),
    i(597),
    i(599),
    i(594),
    i(592),
    i(588),
    i(590),
    i(593),
    i(591),
    i(587),
    i(589),
    i(598),
    i(602),
    TD.ui.template = i(9),
    i(581),
    i(582),
    i(382),
    i(387),
    i(376),
    i(374),
    i(269),
    i(272),
    i(270),
    i(268),
    i(304),
    i(288),
    i(293),
    i(292),
    i(291),
    i(294),
    i(295),
    i(290),
    i(296),
    i(297),
    i(289),
    i(300),
    i(309),
    i(308),
    i(307),
    i(306),
    i(299),
    i(298),
    i(303),
    i(305),
    i(276),
    i(284),
    i(286),
    i(282),
    i(280),
    i(281),
    i(283),
    i(277),
    i(278),
    i(279),
    i(287),
    i(285),
    i(301),
    i(302),
    i(274),
    i(271),
    i(275),
    i(313),
    i(314),
    i(315),
    i(312),
    i(310),
    i(580),
    i(169),
    i(395),
    i(579),
    i(863)
}
, function(e, t, i) {
    "use strict";
    var s = i(194)
      , n = /[^A-Za-z0-9_]/g
      , r = {};
    e.exports = function(e, t, i) {
        var o, a, c, l = TD.config.i18n_test_length_ratio || .2, u = TD.config.i18n_test_padding_char || "d";
        return "string" == typeof e && (e = {
            text: e
        }),
        "en_US" === s.getLocale() ? a = e.text : (o = r[e.text],
        void 0 === o && (o = e.text.replace(n, ""),
        r[e.text] = o),
        a = s.getMessage(o) || e.text),
        i || (a = TD.ui.template.toHtml(a, t)),
        TD.config.i18n_test && (c = Math.round(a.length * l),
        a += Array(c + 1).join(u)),
        a
    }
}
, function(e, t, i) {
    "use strict";
    i(573),
    i(450)
}
, function(e, t) {
    "use strict";
    TD.languages = {
        _index: null ,
        _initialiseIndex: function() {
            var e = TD.languages.getAllLanguages();
            TD.languages._index = {},
            e.forEach(function(e) {
                TD.languages._index[e.code] = e,
                e.actual_code && (TD.languages._index[e.actual_code] = e)
            })
        },
        getLanguageFromISOCode: function(e) {
            TD.languages._index || TD.languages._initialiseIndex();
            var t = TD.languages._index[e];
            return _.clone(t)
        },
        getSystemLanguageCode: function(e) {
            var t = navigator.language || navigator.userLanguage || "";
            return e && (t = t.replace(/-[a-z]+$/i, "")),
            t
        },
        isSupportedTranslationSourceLanguage: function(e) {
            var t = TD.languages.getSupportedTranslationSourceLanguages();
            return -1 !== t.indexOf(e.toLowerCase())
        },
        isSystemLangSupportedDestinationLanguage: function() {
            var e = TD.languages.getSupportedTranslationDestinationLanguages();
            return -1 !== e.indexOf(TD.languages.getSystemLanguageCode(!0).toLowerCase()) || -1 !== e.indexOf(TD.languages.getSystemLanguageCode(!1).toLowerCase())
        },
        getSupportedDestinationSystemLanguage: function() {
            var e = TD.languages.getSupportedTranslationDestinationLanguages();
            return -1 !== e.indexOf(TD.languages.getSystemLanguageCode(!0).toLowerCase()) ? TD.languages.getSystemLanguageCode(!0) : TD.languages.getSystemLanguageCode(!1)
        },
        getAllLanguages: function() {
            return [{
                code: "am",
                localized_name: TD.i("Amharic"),
                name: "አማርኛ"
            }, {
                code: "ar",
                localized_name: TD.i("Arabic"),
                name: "العربية"
            }, {
                code: "bg",
                localized_name: TD.i("Bulgarian"),
                name: "Български"
            }, {
                code: "bn",
                localized_name: TD.i("Bengali"),
                name: "বাংলা"
            }, {
                code: "bo",
                localized_name: TD.i("Tibetan"),
                name: "བོད་སྐད"
            }, {
                code: "ca",
                localized_name: TD.i("Catalan"),
                name: "Català"
            }, {
                code: "chr",
                localized_name: TD.i("Cherokee"),
                name: "ᏣᎳᎩ"
            }, {
                code: "cs",
                localized_name: TD.i("Czech"),
                name: "čeština"
            }, {
                code: "da",
                localized_name: TD.i("Danish"),
                name: "Dansk"
            }, {
                code: "de",
                localized_name: TD.i("German"),
                name: "Deutsch"
            }, {
                code: "dv",
                localized_name: TD.i("Maldivian"),
                name: "ދިވެހި"
            }, {
                code: "el",
                localized_name: TD.i("Greek"),
                name: "Ελληνικά"
            }, {
                code: "en",
                localized_name: TD.i("English"),
                name: "English"
            }, {
                code: "es",
                localized_name: TD.i("Spanish"),
                name: "Español"
            }, {
                code: "et",
                localized_name: TD.i("Estonian"),
                name: "eesti"
            }, {
                code: "fa",
                localized_name: TD.i("Persian"),
                name: "فارسی"
            }, {
                code: "fi",
                localized_name: TD.i("Finnish"),
                name: "Suomi"
            }, {
                code: "fr",
                localized_name: TD.i("French"),
                name: "Français"
            }, {
                code: "gu",
                localized_name: TD.i("Gujarati"),
                name: "ગુજરાતી"
            }, {
                code: "iw",
                actual_code: "he",
                localized_name: TD.i("Hebrew"),
                name: "עברית"
            }, {
                code: "hi",
                localized_name: TD.i("Hindi"),
                name: "हिंदी"
            }, {
                code: "ht",
                localized_name: TD.i("Haitian Creole"),
                name: "Kreyòl ayisyen"
            }, {
                code: "hu",
                localized_name: TD.i("Hungarian"),
                name: "Magyar"
            }, {
                code: "hy",
                localized_name: TD.i("Armenian"),
                name: "Հայերեն"
            }, {
                code: "in",
                actual_code: "id",
                localized_name: TD.i("Indonesian"),
                name: "Bahasa Indonesia"
            }, {
                code: "is",
                localized_name: TD.i("Icelandic"),
                name: "Íslenska"
            }, {
                code: "it",
                localized_name: TD.i("Italian"),
                name: "Italiano"
            }, {
                code: "iu",
                localized_name: TD.i("Inuktitut"),
                name: "ᐃᓄᒃᑎᑐᑦ"
            }, {
                code: "ja",
                localized_name: TD.i("Japanese"),
                name: "日本語"
            }, {
                code: "ka",
                localized_name: TD.i("Georgian"),
                name: "ქართული"
            }, {
                code: "km",
                localized_name: TD.i("Khmer"),
                name: "ខ្មែរ"
            }, {
                code: "kn",
                localized_name: TD.i("Kannada"),
                name: "ಕನ್ನಡ"
            }, {
                code: "ko",
                localized_name: TD.i("Korean"),
                name: "한국어"
            }, {
                code: "lo",
                localized_name: TD.i("Lao"),
                name: "ລາວ"
            }, {
                code: "lt",
                localized_name: TD.i("Lithuanian"),
                name: "Lietuvių"
            }, {
                code: "lv",
                localized_name: TD.i("Latvian"),
                name: "latviešu valoda"
            }, {
                code: "ml",
                localized_name: TD.i("Malayalam"),
                name: "മലയാളം"
            }, {
                code: "my",
                localized_name: TD.i("Myanmar"),
                name: "မြန်မာဘာသာ"
            }, {
                code: "ne",
                localized_name: TD.i("Nepali"),
                name: "नेपाली"
            }, {
                code: "nl",
                localized_name: TD.i("Dutch"),
                name: "Nederlands"
            }, {
                code: "no",
                localized_name: TD.i("Norwegian"),
                name: "Norsk"
            }, {
                code: "or",
                localized_name: TD.i("Oriya"),
                name: "ଓଡ଼ିଆ"
            }, {
                code: "pa",
                localized_name: TD.i("Panjabi"),
                name: "ਪੰਜਾਬੀ"
            }, {
                code: "pl",
                localized_name: TD.i("Polish"),
                name: "Polski"
            }, {
                code: "pt",
                localized_name: TD.i("Portuguese"),
                name: "Português"
            }, {
                code: "ro",
                localized_name: TD.i("Romanian"),
                name: "limba română"
            }, {
                code: "ru",
                localized_name: TD.i("Russian"),
                name: "Русский"
            }, {
                code: "si",
                localized_name: TD.i("Sinhala"),
                name: "සිංහල"
            }, {
                code: "sk",
                localized_name: TD.i("Slovak"),
                name: "slovenčina"
            }, {
                code: "sl",
                localized_name: TD.i("Slovene"),
                name: "slovenski jezik"
            }, {
                code: "sv",
                localized_name: TD.i("Swedish"),
                name: "Svenska"
            }, {
                code: "ta",
                localized_name: TD.i("Tamil"),
                name: "தமிழ்"
            }, {
                code: "te",
                localized_name: TD.i("Telugu"),
                name: "తెలుగు"
            }, {
                code: "th",
                localized_name: TD.i("Thai"),
                name: "ไทย"
            }, {
                code: "tl",
                localized_name: TD.i("Tagalog"),
                name: "Tagalog"
            }, {
                code: "tr",
                localized_name: TD.i("Turkish"),
                name: "Türkçe"
            }, {
                code: "uk",
                localized_name: TD.i("Ukrainian"),
                name: "українська мова"
            }, {
                code: "ur",
                localized_name: TD.i("Urdu"),
                name: "ﺍﺭﺩﻭ"
            }, {
                code: "vi",
                localized_name: TD.i("Vietnamese"),
                name: "Tiếng Việt"
            }, {
                code: "zh",
                localized_name: TD.i("Chinese"),
                name: "中文"
            }]
        },
        getSupportedTranslationSourceLanguages: function() {
            return ["bg", "ca", "zh", "cs", "da", "nl", "en", "et", "fi", "fr", "de", "el", "ht", "hi", "hu", "id", "in", "it", "ja", "ko", "lv", "lt", "no", "pl", "pt", "ro", "ru", "sk", "sl", "es", "sv", "th", "tr", "uk", "vi", "ar", "fa", "he"]
        },
        getSupportedTranslationDestinationLanguages: function() {
            return ["bg", "ca", "zh-cn", "zh-tw", "cs", "da", "nl", "en", "et", "fi", "fr", "de", "el", "ht", "hi", "hu", "id", "in", "it", "ja", "ko", "lv", "lt", "no", "pl", "pt", "ro", "ru", "sk", "sl", "es", "sv", "th", "tr", "uk", "vi", "ar", "fa", "he"]
        }
    }
}
, function(e, t) {
    "use strict";
    window.TD = {
        storage: {},
        core: {},
        net: {},
        mustaches: "undefined" == typeof TD_mustaches ? {} : TD_mustaches,
        assetsOverlay: "undefined" == typeof TD_assetsOverlay ? {} : TD_assetsOverlay,
        templates: {},
        components: {},
        services: {},
        controller: {
            auth: {}
        },
        vo: {},
        ui: {},
        sync: {},
        cache: {}
    }
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(19)
      , r = s(n)
      , o = i(18)
      , a = s(o);
    window.TD = window.TD || {},
    window.TD.config = window.TD.config || {},
    window.TD.metrics = function() {
        function e(e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        }
        function t(e, t) {
            return e.concat(t)
        }
        var i = {};
        return i.DEBUG = TD.config.debug_level >= 4,
        i.throttle = 8e3,
        i.flush = !0,
        i.restoreFromFlush = !0,
        i.flushKey = "metrics.realtimeData",
        i.types = {
            counter: {
                key: "counters",
                empty: 0,
                append: function(e, t) {
                    return e + t
                },
                hasValue: function(e) {
                    return !!e
                },
                defaultValue: 1,
                isValidValue: function(e) {
                    return "number" == typeof e && !isNaN(e) && e > 0
                }
            },
            metric: {
                key: "metrics",
                empty: [],
                append: function(e, t) {
                    return e.concat(t)
                },
                hasValue: function(e) {
                    return !(!e || !e.length)
                },
                defaultValue: [],
                isValidValue: function(t) {
                    return e(t) && t.length
                }
            }
        },
        i.env = function() {
            return TD.util && TD.util.getAppEnv ? TD.util.getAppEnv() : "unknown"
        }
        ,
        i.namespaces = {
            raw: function() {
                return ""
            },
            by_id: function() {
                return [TD.version, TD.buildIDShort, i.env()].join("-")
            }
        },
        i.inflateMetricTriple = function(e) {
            var t = e[0]
              , s = e[1]
              , n = e[2]
              , r = i.makeKey(s).split(":")
              , o = r[0]
              , c = r.slice(1);
            return (0,
            a.default)(i.namespaces).map(function(e) {
                var s = i.namespaces[e]()
                  , r = [o, e, s].filter(Boolean)
                  , a = i.makeKey.apply(null , r.concat(c));
                return [t, a, n]
            })
        }
        ,
        i.inflate = function(e) {
            return (0,
            a.default)(e).map(function(s) {
                return (0,
                a.default)(e[s]).map(function(t) {
                    return [s, t, e[s][t]]
                }).map(i.inflateMetricTriple).reduce(t, [])
            }).reduce(t, []).reduce(function(e, t) {
                var i = t[0]
                  , s = t[1]
                  , n = t[2];
                return e[i] = e[i] || {},
                e[i][s] = n,
                e
            }, {})
        }
        ,
        i.log = function() {
            function e() {
                i.send(i.inflate(o)),
                o = {},
                n = null
            }
            function t() {
                i.throttle ? n || (n = setTimeout(e, i.throttle)) : e()
            }
            function s(e) {
                e.key = i.makeKey(e.key),
                e.type = e.type || "counter";
                var s = i.types[e.type]
                  , n = o[s.key] || (o[s.key] = {})
                  , r = "undefined" != typeof e.value ? e.value : s.defaultValue;
                s.isValidValue(r) && (s.hasValue(n[e.key]) || (n[e.key] = s.empty),
                n[e.key] = s.append(n[e.key], r),
                t())
            }
            var n, o = {};
            try {
                var a = localStorage.getItem(i.flushKey);
                localStorage.removeItem(i.flushKey),
                a && (o = JSON.parse(a),
                t())
            } catch (c) {}
            return $(window).on("beforeunload", function() {
                if (i.flush)
                    try {
                        localStorage.setItem(i.flushKey, (0,
                        r.default)(o))
                    } catch (e) {}
            }),
            $(window).on("metricsFlush", function() {
                e()
            }),
            s
        }(),
        i.send = function(e) {
            var t = new XMLHttpRequest;
            t.open("post", TD.config.api_root + "/metrics", !0),
            t.setRequestHeader("Content-Type", "application/json");
            try {
                t.send((0,
                r.default)(e) + "\n")
            } catch (i) {}
            return t
        }
        ,
        i.makeKey = function() {
            var e = [].slice.call(arguments);
            return ["blackbird"].concat(e).join(":").toLowerCase().replace(/^((?:blackbird:){2,})/, "blackbird:")
        }
        ,
        i
    }(),
    TD.metrics.error = function() {
        var e = {};
        return e.preventCallThrough = !1,
        e.original = function() {}
        ,
        e.handler = function(t, i, s, n, r) {
            var o = {
                action: "error",
                data: {}
            };
            return r ? (o.data.type = r.constructor.name,
            o.data.message = r.message,
            o.data.stack = r.stack) : (o.data.type = (t.match(/([a-z]+error)/i) || [])[1],
            o.data.message = (t.match(/:(.*)$/) || [])[1],
            o.data.message = (o.message || "").toString().trim()),
            o.data.file = i,
            o.data.line = s,
            o.data.column = n,
            o.key = TD.metrics.makeKey(o.action, o.data.type),
            TD.metrics.log(o),
            e.preventCallThrough === !0 ? !0 : e.original.apply(null , arguments)
        }
        ,
        e.attach = function() {
            e.attached || (e.attached = !0,
            e.original = window.onerror || e.original,
            window.onerror = e.handler)
        }
        ,
        e
    }(),
    TD.metrics.event = function() {
        var e = {};
        e.handler = function(t, i) {
            e.attached && i && i.key && TD.metrics.log(i)
        }
        ,
        e.attach = function() {
            e.attached || (e.attached = !0)
        }
        ;
        try {
            $(window).on("metric", e.handler)
        } catch (t) {
            console.error("Could not attach metric event listener.")
        }
        return e
    }(),
    TD && TD.config && (TD.config.disable_metrics_error || TD.metrics.error.attach(),
    TD.config.disable_metrics_event || TD.metrics.event.attach())
}
, function(e, t) {
    "use strict";
    TD.minWrapperVersionMac = "2.8.0",
    TD.minWrapperVersionWin = "2.8.0"
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(19)
      , r = s(n);
    TD.net.ajax = function() {
        function e(e) {
            return e.isContributor() ? TD.storage.store.getTwitterLoginAccount() || e : e
        }
        function t(e, t) {
            if (!t.isContributor())
                return e;
            var i = {};
            return i["x-act-as-user-id"] = t.getUserID(),
            _.extend({}, e, i)
        }
        function i(t, i) {
            var s = {}
              , n = e(i);
            return s["x-td-oauth-key"] = n.getOAuthToken(),
            s["x-td-oauth-secret"] = n.getTokenSecret(),
            TD.decider.get("disable_x_td_oauth_service_header") || (s["x-td-oauth-service"] = n.getType()),
            _.extend({}, t, s)
        }
        function s(e) {
            var t = {};
            t.Authorization = TD.util.getBearerTokenAuthHeader(),
            TD.decider.get("send_twitter_auth_type_header") && (t["X-Twitter-Auth-Type"] = "OAuth2Session");
            var i = TD.util.getCsrfTokenHeader();
            return i && (t["X-Csrf-Token"] = i),
            _.extend({}, e, t)
        }
        function n(e, s) {
            return [t, i].reduce(function(e, t) {
                return t(e, s)
            }, e)
        }
        function o(e, t, i) {
            var s = TD.config.api_root + "/oauth/" + t;
            return s += "/" + i.getType() + "/",
            s += encodeURIComponent(e)
        }
        function a(e) {
            return "" === e ? null : jQuery.parseJSON(e)
        }
        function c(e) {
            return function() {
                var t = [].slice.call(arguments)
                  , i = e.apply(this, t);
                return i.addErrback(function(i) {
                    return 403 === i.number && i.req && i.req.responseJSON && i.req.responseJSON.errors && i.req.responseJSON.errors[0] && 353 === i.req.responseJSON.errors[0].code ? e.apply(this, t) : i
                }),
                i
            }
        }
        function l(e) {
            return function(t, i, s, n, r) {
                var o = [].slice.call(arguments)
                  , a = e.apply(this, o);
                return a.addErrback(TD.util.effect(function(e) {
                    if (e.req) {
                        var t = TD.decider.get("sample_failed_requests")
                          , i = TD.decider.get("dev_sample_all_failed_requests")
                          , s = Math.random() < p / 100
                          , n = t && (s || i);
                        n && (TD.controller.stats.generic({
                            page: "api",
                            action: "failure"
                        }, {
                            custom_json_payload: TD.net.util.getFailureScribePayload(e)
                        }),
                        TD.util.metric("api:request:failure:scribe"))
                    }
                })),
                a
            }
        }
        function u(e, t, i, s, n) {
            return TD.decider.get("prevent_duplicate_ajax_requests") ? void TD.util.metric("api:request:duplicate:prevented") : (TD.util.metric("api:request:duplicate:allowed"),
            TD.sync.util.DO_THING_ANYWAY)
        }
        function d(e, t, i, s, n) {
            if (TD.decider.get("disable_ajax_" + e.toLowerCase()))
                return TD.core.defer.fail(new Error("Network is disabled"));
            var o, c, l = !1, u = new TD.core.defer.Deferred(function() {
                l = !0,
                o.abort()
            }
            ), d = {
                url: t,
                global: !1,
                type: e,
                dataType: "text json",
                converters: {
                    "text json": a
                }
            };
            return n && _.extend(d, n),
            i = _.defaults(i || {}, {
                "X-Twitter-Client-Version": TD.util.getTweetDeckUserAgentString()
            }),
            ("LOCAL" === TD.buildID || TD.config.internal_build || TD.decider.get("force_zipkin_header")) && t.indexOf("twitter.com") > -1 && (i["X-B3-Flags"] = 1),
            d.beforeSend = function(e) {
                var t = !1;
                return _.each(i, function(i, s) {
                    var n = s.toLowerCase();
                    "content-type" !== n && e.setRequestHeader(s, i),
                    TD.decider.get("disable_contributed_requests") && "x-act-as-user-id" === n && (t = !0)
                }),
                t ? !1 : void 0
            }
            ,
            s && (d.data = s),
            c = i["Content-Type"] || i["content-type"],
            c && (d.contentType = c,
            "application/json" === c && (d.data = (0,
            r.default)(d.data))),
            d.tweetdeck = {
                headers: i,
                settings: n
            },
            o = jQuery.ajax(d),
            o.done(function(e, t, i) {
                u.callback({
                    data: e,
                    xhr: i
                })
            }),
            o.complete(function(e, t) {
                var s = e.getResponseHeader("X-Acted-As-User-Id")
                  , n = _.find(i, function(e, t) {
                    var i = t.toLowerCase();
                    return "x-act-as-user-id" == i ? e : void 0
                });
                n && (s ? n !== s && $(document).trigger("metric", {
                    key: "auth:contributors:actedasheader:unmatched"
                }) : $(document).trigger("metric", {
                    key: "auth:contributors:actedasheader:missing"
                }))
            }),
            o.fail(function(e, t, i) {
                l ? u.errback(new TD.core.defer.CancelledError(e,"abort")) : u.errback(new TD.core.defer.XMLHttpRequestError(e,i,d))
            }),
            u
        }
        function h(e, t) {
            var i = _.defaults(t || {}, {
                url: e,
                method: "GET",
                headers: {},
                params: {},
                account: void 0,
                settings: {}
            });
            if (!i.account)
                return TD.core.defer.fail(new Error("TD.ajax.request requires an account"));
            var s = Date.now()
              , n = m.buildRequest(i);
            return n.addCallback(function(e) {
                return m.sendRequest(e.method, e.url, e.headers, e.body, e.settings)
            }),
            n.addBoth(TD.util.effect(function(t) {
                if (TD.decider.get("disable_api_stats") || $(document).trigger("dataApiResponse", {
                    url: e,
                    contributed: i.account.isContributor(),
                    status: TD.util.getXhrStatusFromSendRequestResult(t)
                }),
                !TD.decider.get("disable_request_timing_metrics")) {
                    var n = Date.now() - s;
                    TD.util.metric("api:request:time:cors", [n], "metric")
                }
            })),
            n
        }
        var m = {}
          , p = .5;
        return m.sendRequest = TD.sync.util.deDupeDeferred(l(d), u),
        m.jsonp = function(e, t) {
            return m.sendRequest("GET", e, {}, t, {
                dataType: "jsonp",
                timeout: 1e4
            })
        }
        ,
        m.upload = function(i, r) {
            var o = TD.config.api_root + "/oauth/upload"
              , a = n({}, r)
              , c = {}
              , l = e(r);
            return l.isCookieUser() && (o = TD.config.twitter_upload_base + "/1.1/media/upload.json",
            a = s(t({}, r)),
            c.withCredentials = !0),
            m.sendRequest("POST", o, a, i, {
                timeout: 12e4,
                processData: !1,
                contentType: !1,
                xhrFields: c
            })
        }
        ,
        m.signRequest = function(e, t, i, s, r) {
            var a = "sign";
            r = n(r || {}, e),
            "GET" === i && (TD.decider.get("disable_oauth_echo") ? r["x-td-oauth-no-redirect"] = !0 : a = "echo");
            var c = o(t, a, e);
            return m.sendRequest(i, c, r, s)
        }
        ,
        m.getSignedUrl = function(t, i) {
            var s = e(t);
            if (s.isCookieUser())
                return TD.core.defer.succeed({
                    data: {
                        url: i
                    }
                });
            var r = TD.net.util.addURLParameters(o(i, "sign", t), n({}, t))
              , a = {
                "x-td-oauth-no-redirect": !0
            };
            return m.sendRequest("GET", r, a)
        }
        ,
        m.checkCookie = function() {
            var e = TD.storage.store.getTwitterLoginAccount();
            if (!e)
                return TD.core.defer.succeed();
            var t = e.getUserID();
            return m.getCookieId().addCallback(function(e) {
                var i = TD.core.defer.succeed();
                return e !== t && (i = TD.core.defer.fail(new Error("Cookie does not match expected account")),
                $(document).trigger("dataTwitterAccountAccessDenied", {
                    account: TD.storage.accountController.getCookieAccount(),
                    isLoginAccount: !0
                })),
                i
            })
        }
        ,
        m.getCookieId = function(e) {
            var t = TD.util.getTwitterCookieUserId();
            return t ? (TD.util.metric("api:cookie:id:used-twid"),
            TD.core.defer.succeed("" + t)) : (TD.util.metric("api:cookie:id:twid-missing"),
            m.getCookieUser(e).addCallback(function(e) {
                return TD.util.metric("api:cookie:id:used-verify"),
                e.data.id_str
            }).addErrback(TD.util.effect(function() {
                TD.util.metric("api:cookie:id:failed-verify")
            })))
        }
        ,
        m.getCookieUser = function() {
            var e, t = 0, i = 3e5;
            return c(function(n) {
                return n = n || {},
                !n.skipCache && Date.now() - t < i ? (TD.util.metric("api:cookie:verify:cache:hit"),
                TD.core.defer.succeed(e)) : (TD.util.metric("api:cookie:verify:cache:" + (n.skipCache ? "skip" : "miss")),
                m.sendRequest("GET", TD.config.twitter_api_base + "/1.1/account/verify_credentials.json", s({}), {}, {
                    xhrFields: {
                        withCredentials: !0
                    }
                }).addCallback(TD.util.effect(function(i) {
                    t = Date.now(),
                    e = i
                })))
            })
        }(),
        m.buildRequest = function(i) {
            ("GET" === i.method || "DELETE" === i.method) && (i.url = TD.net.util.addURLParameters(i.url, i.params),
            delete i.params),
            i.body = i.params;
            var n = t(i.headers, i.account)
              , r = e(i.account);
            if (r.isCookieUser())
                return m.checkCookie().addCallback(_.constant({
                    method: i.method,
                    url: i.url,
                    headers: s(n),
                    body: i.body,
                    settings: _.assign({}, i.settings, {
                        xhrFields: {
                            withCredentials: !0
                        }
                    })
                }));
            var o = m.signRequest(i.account, i.url, i.method, i.body, i.headers);
            return o.addCallback(function(e) {
                var t = e.data
                  , s = _.extend({}, t.headers, n);
                return {
                    method: i.method,
                    url: i.url,
                    headers: s,
                    body: i.body,
                    settings: i.settings
                }
            }),
            o
        }
        ,
        m.request = c(h),
        m
    }()
}
, function(e, t) {
    "use strict";
    TD.net.StreamRequest = function(e, t) {
        var i = function() {
            console.log((new Date).toUTCString(), ">", t.getUsername(), ">", arguments)
        }
        ;
        this.receivedChars = 0,
        this.readChars = 0;
        var s, n, r, o, a, c = 100, l = this, u = !1, d = function(e, t) {
            var i = new XMLHttpRequest;
            return "withCredentials"in i ? i.open(e, t, !0) : i = null ,
            i
        }
        , h = function(e) {
            i("Signer HTTP status:", e.xhr.status),
            200 === e.xhr.status && (r = e.data.headers.Authorization,
            m())
        }
        , m = function() {
            if (a = d("GET", e),
            !a)
                return void v("CORS not supported", 0);
            if (TD.storage.accountController.getCookieAccount()) {
                if (!TD.decider.get("cookie_streaming"))
                    return void v("Cookie streaming disabled", 0);
                a.withCredentials = !0,
                a.setRequestHeader("Authorization", TD.util.getBearerTokenAuthHeader()),
                a.setRequestHeader("X-Twitter-Auth-Type", "OAuth2Session")
            } else
                a.setRequestHeader("Authorization", r);
            a.setRequestHeader("X-User-Agent", "TweetDeck Chrome " + TD.version),
            t.isContributor() && a.setRequestHeader("X-Act-As-User-Id", t.getUserID()),
            a.send(),
            p()
        }
        , p = function T() {
            f(),
            a.readyState !== XMLHttpRequest.DONE && setTimeout(T, c)
        }
        , f = function() {
            switch (a.readyState) {
            case XMLHttpRequest.LOADING:
                var e, t = a.responseText.lastIndexOf("\r");
                if (u || (TD.util.metric("api:stream:connect"),
                i("Stream HTTP status:", a.status),
                u = !0),
                l.receivedChars = a.responseText.length,
                t >= l.readChars) {
                    e = a.responseText.substring(l.readChars, t + 1),
                    l.readChars += e.length;
                    try {
                        g(e)
                    } catch (s) {
                        console.log("Callback error:", s)
                    }
                }
                break;
            case XMLHttpRequest.DONE:
                TD.util.metric("api:stream:disconnect"),
                v("Stream interrupted", a.status)
            }
        }
        , g = function(e) {
            s && s(e)
        }
        , v = function(e, t) {
            n && n(e, t)
        }
        ;
        this.onStreaming = {
            connect: function(e) {
                s = e
            },
            disconnect: function(e) {
                s === e && (s = null )
            }
        },
        this.onFailure = {
            connect: function(e) {
                n = e
            },
            disconnect: function(e) {
                n === e && (n = null )
            }
        },
        this.goStreaming = function() {
            if (t.isContributor() && TD.decider.get("disable_contributed_streaming"))
                return v("Cannot stream contributor accounts", 0);
            if (TD.storage.accountController.getCookieAccount())
                return m();
            var i = TD.net.ajax.signRequest(t, e, "GET");
            i.addCallback(h),
            i.addErrback(function(e) {
                v("Failed to sign request", 0)
            })
        }
        ,
        this.deleteLater = function() {
            i("Closing stream connection"),
            o && (o.onreadystatechange = null ),
            a && (a.onreadystatechange = null ,
            a.abort()),
            g = null ,
            v = null
        }
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(240)
      , n = i(89);
    TD.net.util = function() {
        var e = {}
          , t = encodeURIComponent
          , i = /[!'()]/g
          , r = /\*/g;
        return window.encodeURIComponent = function(e) {
            return t(e).replace(i, escape).replace(r, "%2A")
        }
        ,
        e.addURLParam = function(t, i, s) {
            var n = {};
            return n[i] = s,
            e.addURLParameters(t, n)
        }
        ,
        e.addURLParameters = function(t, i) {
            var s = e.buildQueryString(i)
              , n = t;
            return s ? (n += -1 === t.indexOf("?") ? "?" : "&",
            n + s) : t
        }
        ,
        e.buildQueryString = function(e) {
            var t, i = [];
            if (e)
                for (var s in e)
                    void 0 !== e[s] && (t = s + "=" + encodeURIComponent(e[s]),
                    i.push(t));
            return i.join("&")
        }
        ,
        e.formDecode = function(e) {
            var t, i, s, n = e.split("#", 1)[0].split("&"), r = {};
            return n.forEach(function(e) {
                if (s = e.indexOf("="),
                s > 0) {
                    t = e.slice(0, s),
                    i = e.slice(s + 1);
                    try {
                        t = decodeURIComponent(t)
                    } catch (n) {}
                    try {
                        i = decodeURIComponent(i)
                    } catch (n) {}
                    r[t] = i
                }
            }),
            r
        }
        ,
        e.decodeURL = function(t) {
            var i = t.split("?");
            return i.length > 1 ? e.formDecode(i[1]) : {}
        }
        ,
        e.formEncode = function(e) {
            var t = [];
            for (var i in e)
                t.push(i + "=" + encodeURIComponent(e[i]));
            return t.join("&")
        }
        ,
        e.getQueryStringParams = function() {
            var e = window.location.href.split("?");
            if (e.length >= 2) {
                var t = e.slice(1).join("?");
                return this.formDecode(t)
            }
            return {}
        }
        ,
        e.getFailureScribePayload = function(e) {
            var t = {
                hadBody: !!n.getIn(e, ["requestSettings", "data"]),
                headers: n.getIn(e, ["requestSettings", "tweetdeck", "headers"]),
                settings: n.getIn(e, ["requestSettings", "tweetdeck", "settings"]),
                type: n.getIn(e, ["requestSettings", "type"]),
                url: n.getIn(e, ["requestSettings", "url"])
            }
              , i = {
                errors: n.getIn(e, ["req", "responseJSON", "errors"], []),
                headers: s(e.req.getAllResponseHeaders()),
                message: e.message,
                statusCode: e.number
            };
            return {
                request: t,
                response: i
            }
        }
        ,
        e
    }()
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    function n(e) {
        this.scribeContext = {},
        this.scribeData = {},
        this.scribe = function(t, i) {
            var s = e || window.scribeTransport;
            if (!s)
                throw new Error("You must create a global scribeTransport variable or pass one into this constructor.");
            if (!t || "object" != ("undefined" == typeof t ? "undefined" : (0,
            c.default)(t)) || i && "object" != ("undefined" == typeof i ? "undefined" : (0,
            c.default)(i)))
                throw new Error("Invalid terms or data hash argument when calling ClientEvent.scribe().");
            if (this.scribeContext) {
                var n = "function" == typeof this.scribeContext ? this.scribeContext() : this.scribeContext;
                t = $.extend({}, n, t)
            }
            for (var r in t)
                t[r] = t[r] && ("" + t[r]).toLowerCase().replace(/_?[^a-z0-9_]+_?/g, "_");
            if (s.options.debug && $.each(["client", "action"], function(e, i) {
                if (!t[i])
                    throw new Error("You must specify a " + i + " term in your client_event.")
            }),
            i = $.extend({}, i),
            this.scribeData) {
                var a = "function" == typeof this.scribeData ? this.scribeData() : this.scribeData;
                i = $.extend({}, a, i)
            }
            i.event_namespace = t,
            i.triggered_on = i.triggered_on || +new Date,
            i.format_version = i.format_version || 2,
            "undefined" != typeof i.custom_json_payload && (i.custom_json_payload = (0,
            o.default)(i.custom_json_payload)),
            s.send(i, "client_event")
        }
    }
    var r = i(19)
      , o = s(r)
      , a = i(112)
      , c = s(a);
    e.exports = n
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    function n(e) {
        this.SESSION_BUFFER_KEY = "ScribeTransport",
        this.SCRIBE_API_ENDPOINT = "/i/jot",
        this.options = {},
        e && (this.updateOptions(e),
        this.registerEventHandlers(e))
    }
    var r = i(19)
      , o = s(r);
    e.exports = n,
    n.prototype = {
        flush: function(e, t) {
            if (e && e.length) {
                if (void 0 === t && (t = !!this.options.sync),
                this.options.useAjax) {
                    var i = {
                        url: this.options.url,
                        data: $.extend(this.ajaxParams(e), this.options.requestParameters),
                        type: "POST",
                        dataType: "json",
                        async: !t,
                        headers: {
                            "X-Twitter-Polling": !0
                        }
                    };
                    this.options.debug && (this.options.debugHandler && (i.success = this.options.debugHandler),
                    i.data.debug = "1"),
                    $.ajax(i)
                } else {
                    var s = this.options.debug ? "&debug=1" : "";
                    (new Image).src = this.options.url + "?q=" + (+new Date).toString().slice(-4) + s + "&" + this.imageParams(e)
                }
                this.reset()
            }
        },
        ajaxParams: function(e) {
            if ("string" == typeof e)
                return {
                    log: "[" + e + "]"
                };
            var t = this.options.encodeParameters;
            return t && "function" == typeof t ? t.apply(this, arguments) : {
                log: (0,
                o.default)(e)
            }
        },
        imageParams: function(e) {
            if ("string" == typeof e)
                return "log=%5B" + e + "%5D";
            var t = this.options.encodeParameters;
            return t && "function" == typeof t ? t.apply(this, arguments) : "log=" + encodeURIComponent((0,
            o.default)(e))
        },
        reset: function() {
            this.options.bufferEvents && (this.skipUnloadFlush = !1,
            sessionStorage.removeItem(this.options.bufferKey))
        },
        getBuffer: function() {
            return sessionStorage.getItem(this.options.bufferKey) || ""
        },
        logWithStorageException: function(e, t) {
            var i = {
                category: "client_scribe_storage_error",
                error: e.message,
                url: document.location.href,
                product_name: "swift",
                event_name: "storage_quota_exceeded",
                type: "js_error"
            };
            this.addCategoryField(i, i.category),
            this.flush(this.appendData(t, this.encodeEventData(i)))
        },
        storeData: function(e, t) {
            try {
                sessionStorage.setItem(e, t)
            } catch (i) {
                if ("QuotaExceededError" !== i.name && "QuotaExceededError" !== i.message && "NS_ERROR_DOM_QUOTA_REACHED" !== i.name && "QUOTA_EXCEEDED_ERR" !== i.name && -2147024882 !== i.number)
                    throw i;
                this.logWithStorageException(i, t)
            }
        },
        encodeEventData: function(e) {
            var t = (0,
            o.default)(e);
            return this.options.useAjax || (t = encodeURIComponent(t)),
            t
        },
        appendData: function(e, t) {
            return e + (e ? this.SEPARATOR + t : t)
        },
        addToBuffer: function(e) {
            var t = this.getBuffer()
              , i = this.encodeEventData(e)
              , s = this.appendData(t, i);
            this.options.bufferSize && this.fullBuffer(s) ? this.options.useAjax ? this.flush(s) : (this.flush(t),
            this.storeData(this.options.bufferKey, i)) : this.storeData(this.options.bufferKey, s)
        },
        addCategoryField: function(e, t) {
            e._category_ = t
        },
        send: function(e, t, i) {
            !t || !e || this.options.bufferSize < 0 || (this.addCategoryField(e, t),
            !i && this.options.bufferEvents && this.options.bufferSize ? this.addToBuffer(e) : this.flush([e], i),
            this.options.debug && $(document).trigger("scribedata." + this.options.bufferKey, e),
            this.options.metrics && "debug" != e.event_info && $(document).trigger("debugscribe", e))
        },
        fullBuffer: function(e) {
            return e.length >= (this.options.useAjax ? 2083 * this.options.bufferSize : 2050 - this.options.url.length)
        },
        updateOptions: function(e) {
            if (this.options = $.extend({}, this.options, e),
            this.options.requestParameters || (this.options.requestParameters = {}),
            void 0 === this.options.flushOnUnload && (this.options.flushOnUnload = !0),
            this.options.bufferKey || (this.options.bufferKey = this.SESSION_BUFFER_KEY),
            0 === this.options.bufferSize && (this.options.bufferEvents = !1),
            void 0 === this.options.useAjax && (this.options.useAjax = !0),
            this.options.bufferEvents || void 0 == this.options.bufferEvents)
                try {
                    sessionStorage.setItem(this.SESSION_BUFFER_KEY + ".init", "test");
                    var t = "test" == sessionStorage.getItem(this.SESSION_BUFFER_KEY + ".init");
                    sessionStorage.removeItem(this.SESSION_BUFFER_KEY + ".init"),
                    this.options.bufferEvents = t
                } catch (i) {
                    this.options.bufferEvents = !1
                }
            if (this.options.debug && !this.options.debugHandler) {
                var s = this;
                this.options.debugHandler = e.debugHandler || function(e) {
                    $(document).trigger("handlescribe." + s.options.bufferKey, e)
                }
            }
            var n = "https:" === window.location.protocol ? "https:" : "http:";
            void 0 === this.options.url ? this.options.useAjax ? this.options.url = this.SCRIBE_API_ENDPOINT : this.options.url = "https://twitter.com" + this.SCRIBE_API_ENDPOINT : this.options.url = this.options.url.replace(/^[a-z]+:/g, n).replace(/\/$/, ""),
            this.options.bufferEvents && void 0 === this.options.bufferSize && (this.options.bufferSize = 20)
        },
        appHost: function() {
            return window.location.host
        },
        registerEventHandlers: function() {
            var e = this
              , t = $(document);
            if (this.options.bufferEvents && (t.on("flushscribe." + e.options.bufferKey, function(t) {
                e.flush(e.getBuffer(), !0)
            }),
            this.options.flushOnUnload)) {
                var i = function(t) {
                    e.skipUnloadFlush = !t || !t.match(/http/) || !!t.match(new RegExp("^https?://" + e.appHost(),"gi")),
                    e.skipUnloadFlush && window.setTimeout(function() {
                        e.skipUnloadFlush = !1
                    }, 3e3)
                }
                ;
                t.on("mouseup." + this.options.bufferKey, "a", function(e) {
                    this.getAttribute("target") || e.button || e.metaKey || e.shiftKey || e.altKey || e.ctrlKey || i(this.getAttribute("href"))
                }),
                t.on("submit." + this.options.bufferKey, "form", function(e) {
                    i(this.getAttribute("action"))
                }),
                t.on("uiNavigate." + this.options.bufferKey, function(e, t) {
                    i(t.url)
                }),
                $(window).on("unload." + this.options.bufferKey, function() {
                    e.skipUnloadFlush || e.flush(e.getBuffer(), !0),
                    e.skipUnloadFlush = !1
                })
            }
            this.SEPARATOR = this.options.useAjax ? "," : encodeURIComponent(",")
        },
        destroy: function() {
            this.flush(this.getBuffer()),
            $(document).off("flushscribe." + this.options.bufferKey),
            $(window).off("unload." + this.options.bufferKey),
            $(document).off("mouseup." + this.options.bufferKey),
            $(document).off("submit." + this.options.bufferKey),
            $(document).off("uiNavigate." + this.options.bufferKey)
        }
    }
}
, function(e, t) {
    "use strict";
    TD.services.bitly = function() {
        var e = {}
          , t = "tweetdeckapi"
          , i = "R_b8032856b71a14fabfe64f6845689ddf"
          , s = function(s, n) {
            var r = "https://api-ssl.bitly.com/v3/" + s;
            n.login = t,
            n.apiKey = i,
            n.format = "json";
            var o = e.getAccount();
            return o && (n.x_login = o.login,
            n.x_apiKey = o.apiKey),
            TD.net.ajax.jsonp(r, n)
        }
        ;
        return e.shorten = function(e) {
            var t, i = e;
            return _.startsWith(e, "http://") || _.startsWith(e, "https://") || (i = "http://" + e),
            t = s("shorten", {
                longUrl: i
            }),
            t.addCallback(function(t) {
                var i = t.data;
                if (!i || !i.data || !i.data.url)
                    throw new Error("Bit.ly shortening failed");
                return i.data && (i.data.long_url = e),
                i.data
            }),
            t
        }
        ,
        e.shortenTextLinks = function(e) {
            var t = twttrTxt.extractUrls(e)
              , i = t.map(function(e) {
                return TD.util.isLinkToTwitterItem(e) ? TD.core.defer.succeed(e) : TD.services.bitly.shorten(e)
            })
              , s = new TD.core.defer.DeferredList(i);
            return s.addCallback(function(t) {
                return t.forEach(function(t) {
                    var i = t[0]
                      , s = t[1];
                    i && (e = e.replace(s.long_url, s.url))
                }),
                e
            }),
            s
        }
        ,
        e.getAccount = function() {
            var t = TD.settings.getBitlyAccount();
            return t ? t : _.first(e.getAccountsFromAccountController())
        }
        ,
        e.updateAccount = function(e) {
            return TD.util.metric("settings:services:bitly:update"),
            TD.settings.setBitlyAccount(e)
        }
        ,
        e.getAccountsFromAccountController = function() {
            return TD.storage.accountController.getAccountsForService("bitly").map(function(e) {
                return {
                    login: e.getUserID(),
                    apiKey: e.getOAuthToken(),
                    accountKey: e.getKey()
                }
            })
        }
        ,
        e
    }()
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(18)
      , r = s(n);
    window.TD = window.TD || {},
    window.TD.sessionMigration = function() {
        function e() {
            return TD.util.isMacApp() && TD.decider.get("migrate_mac_app_session_to_web_gt_3_9_482") || TD.util.isChromeApp() && TD.decider.get("migrate_chrome_app_session_to_web")
        }
        function t(e) {
            return !e.local._session && !e.session._session
        }
        function i() {
            return TD.storage.store.getSessionMigratedToWeb()
        }
        function s(e, t) {
            $(document).trigger("metric", {
                key: "session-migration:" + e + ":" + t
            })
        }
        function n(e) {
            var t = new TD.core.defer.Deferred;
            return s("migrate", "start"),
            window.frames[u].postMessage(e, TD.config.web_root),
            window.addEventListener("message", function(e) {
                e.data.migrationSuccessful ? (TD.storage.store.setSessionMigratedToWeb(),
                s("migrate", "complete"),
                t.callback()) : t.errback()
            }),
            t
        }
        function o() {
            var e = new TD.core.defer.Deferred;
            return $(document.body).append($("<iframe>").attr({
                name: u,
                src: d
            }).css({
                display: "none"
            }).on("load", e.callback.bind(e))),
            e
        }
        function a() {
            return TD.controller.stats.flushScribeQueue(),
            $(document).trigger("metricsFlush"),
            setTimeout(function() {
                document.location = TD.config.web_root
            }, 1e3),
            TD.core.defer.timeout(1e4)
        }
        function c() {
            $('[name="' + u + '"]').remove()
        }
        var l = {}
          , u = "migrationFrame"
          , d = TD.config.web_root + "/web/templates/migrate.html";
        return l.migrateSessionToWeb = function() {
            if (TD.util.isWeb() || !e())
                return TD.storage.store.removeSessionMigratedToWeb(),
                TD.core.defer.succeed();
            var r = TD.storage.store.getSessionMigrationData();
            if (t(r) || i()) {
                var l = t(r) ? "no-session" : "previously-migrated";
                return s("redirect", l),
                a()
            }
            var u = TD.core.defer.succeed()
              , d = TD.core.defer.timeout(1e4).addCallback(function() {
                s("migrate", "timeout")
            });
            return u.addCallback(o),
            u.addCallback(n.bind(null , r)),
            u.addCallbacks(function() {
                return s("redirect", "successful-migration"),
                a()
            }, function() {
                s("migrate", "fail")
            }),
            new TD.core.defer.DeferredList([d, u],{
                fireOnOneCallback: !0
            }).addCallback(c)
        }
        ,
        l.unpackSessionStorage = function() {
            var e = "tempSessionData:";
            try {
                (0,
                r.default)(localStorage).forEach(function(t) {
                    if (0 === t.indexOf(e)) {
                        var i = t.replace(e, "");
                        sessionStorage.setItem(i, localStorage[t]),
                        localStorage.removeItem(t)
                    }
                }),
                $(document).trigger("metric", {
                    key: "session-migration:unpack-storage:success"
                })
            } catch (t) {
                $(document).trigger("metric", {
                    key: "session-migration:unpack-storage:error:" + t.message
                })
            }
        }
        ,
        l
    }()
}
, function(e, t) {
    "use strict";
    TD.storage.Account = function(e, t, i, s, n) {
        var r = function(i, s) {
            i ? (this.state = _.clone(i),
            this.privateState = {}) : (this.state = {},
            this.privateState = {});
            var n = this
              , r = function() {
                n.controller.pushAccount(n)
            }
              , o = e.store.getTwitterLoginAccountID.bind(e.store);
            this.triggerPush = t.makeThingScheduler(r, null , "account", o, .2),
            s && s.contributor && this.makeContributor()
        }
        ;
        r.prototype = new e.StoredObj(e.accountController),
        r.prototype.eventname = "/storage/account",
        r.generateKeyFor = function(e, t) {
            return "tweetdeck" === e ? "tweetdeck" : encodeURI(e + ":" + t)
        }
        ,
        r.getIdentifiersForKey = function(e) {
            var t = e.split(":");
            return {
                service: t[0],
                id: t[1]
            }
        }
        ,
        r.generateRemoteDataForTwitterUser = function(e) {
            return {
                key: r.CONTRIBUTOR_OAUTH_TOKEN,
                token: "",
                secret: "",
                screen_name: e.screen_name,
                service: "twitter",
                uid: e.id_str,
                avatar: e.profile_image_url_https,
                name: e.name
            }
        }
        ,
        r.generateRemoteDataForId = function(e) {
            var t = Number(e) % 7;
            return {
                key: r.CONTRIBUTOR_OAUTH_TOKEN,
                token: "",
                secret: "",
                screen_name: r.UNKNOWN_SCREEN_NAME,
                service: "twitter",
                uid: e,
                avatar: TD.ui.template.toHtmlFromRaw("https://abs.twimg.com/sticky/default_profile_images/default_profile_{{id}}_bigger.png", {
                    id: t
                }),
                name: "Unknown " + e
            }
        }
        ,
        r.OAUTH2_AUTH_TOKEN = "COOKIE",
        r.CONTRIBUTOR_OAUTH_TOKEN = "CONTRIBUTOR",
        r.UNKNOWN_SCREEN_NAME = "???",
        r.prototype.computeKey = function() {
            if (!this.getType() || !this.getUserID())
                throw {
                    name: "NotReadyError",
                    message: "cannot computeKey on account; insufficient data"
                };
            this.setKey(r.generateKeyFor(this.getType(), this.getUserID()))
        }
        ,
        r.prototype.set = function(e, t) {
            return this.state[e] = t,
            i.notify(this.eventname + "/change", this),
            this.triggerPush()
        }
        ,
        r.prototype.checkInvariants = function() {
            t.assert(_.isEmpty(this.deltaQ), "Accounts must not have Δs"),
            t.assert(null === this.stateCache, "Accounts do not use stateCache")
        }
        ,
        r.prototype.getUsername = function() {
            return this.get("username")
        }
        ,
        r.prototype.setUsername = function(e) {
            return this.set("username", e)
        }
        ,
        r.prototype.getName = function() {
            return this.get("name")
        }
        ,
        r.prototype.setName = function(e) {
            return this.set("name", e)
        }
        ,
        r.prototype.getUserID = function() {
            return this.get("userId")
        }
        ,
        r.prototype.setUserID = function(e) {
            return this.set("userId", e)
        }
        ,
        r.prototype.getType = function() {
            return this.get("type")
        }
        ,
        r.prototype.setType = function(e) {
            return this.set("type", e)
        }
        ,
        r.prototype.getOAuthToken = function() {
            return this.get("oauth_token")
        }
        ,
        r.prototype.setOAuthToken = function(e) {
            return this.set("oauth_token", e)
        }
        ,
        r.prototype.getTokenSecret = function() {
            return this.get("token_secret")
        }
        ,
        r.prototype.setTokenSecret = function(e) {
            return this.set("token_secret", e)
        }
        ,
        r.prototype.getProfileImageURL = function() {
            var e = this.get("profileImageURL");
            return e && TD.util.isRetina() && (e = e.replace(TD.services.TwitterUser.NORMAL_SUFFIX_REGEXP, TD.services.TwitterUser.BIGGER_SUFFIX)),
            e
        }
        ,
        r.prototype.setProfileImageURL = function(e) {
            return this.set("profileImageURL", e)
        }
        ,
        r.prototype.getIsPrivate = function() {
            return this.getPrivate("isPrivate")
        }
        ,
        r.prototype.setIsPrivate = function(e) {
            return this.setPrivate("isPrivate", e)
        }
        ,
        r.prototype.getUpdated = function() {
            return this.getPrivate("updated")
        }
        ,
        r.prototype.setUpdated = function(e) {
            return this.setPrivate("updated", e)
        }
        ,
        r.prototype.isCookieUser = function() {
            return this.getOAuthToken() === r.OAUTH2_AUTH_TOKEN
        }
        ,
        r.prototype.makeOAuth2 = function() {
            return this.setOAuthToken(r.OAUTH2_AUTH_TOKEN)
        }
        ,
        r.prototype.isContributor = function() {
            return this.getOAuthToken() === r.CONTRIBUTOR_OAUTH_TOKEN
        }
        ,
        r.prototype.makeContributor = function() {
            return this.setOAuthToken(r.CONTRIBUTOR_OAUTH_TOKEN)
        }
        ,
        r.prototype.isMissingUserData = function() {
            return this.getUsername() === r.UNKNOWN_SCREEN_NAME
        }
        ,
        r.prototype.getIsAdmin = function() {
            var e = !this.isContributor() || this.getPrivate("isAdmin");
            return !!e
        }
        ,
        r.prototype.setIsAdmin = function(e) {
            return this.setPrivate("isAdmin", !!e)
        }
        ,
        r.prototype.getStateForBackend = function(e) {
            e = e || {};
            var t = {
                secret: this.getTokenSecret(),
                screen_name: this.getUsername(),
                name: this.getName(),
                avatar: this.getProfileImageURL(),
                key: this.getOAuthToken()
            };
            return e.withIdentifiers && (t.uid = this.getUserID(),
            t.service = this.getType()),
            t
        }
        ;
        var o = {
            key: "oauth_token",
            token: "oauth_token",
            secret: "token_secret",
            screen_name: "username",
            service: "type",
            uid: "userId",
            avatar: "profileImageURL",
            name: "name"
        };
        return r.prototype.newRemoteState = function(e) {
            var i = this;
            t.stateLog(this, ".updateFromBackend(", e, ")"),
            _.each(o, function(t, s) {
                e[s] && i.set(t, e[s])
            })
        }
        ,
        r.newFromBackendState = function(e) {
            var t = new r;
            return t.newRemoteState(e),
            t.computeKey(),
            t
        }
        ,
        r.prototype.isSameUser = function(e) {
            return this.getUsername().toLowerCase() === e.toLowerCase()
        }
        ,
        r
    }(TD.storage, TD.sync.util, TD.storage.notification, TD.util, TD.core.base64)
}
, function(e, t, i) {
    "use strict";
    var s = i(89);
    TD.storage.AccountController = function(e, t, i, n, r) {
        var o = function() {
            var o = this;
            this._moduleName = "accounts",
            this.reqsinflight = [],
            o.ACCEPTED_ACCOUNT_TYPES = {
                twitter: !0,
                bitly: !0
            },
            this._objects = {},
            this._unverified = {},
            o.blacklistAccount = function(i) {
                t.stateLog("blacklisting", i);
                var s = i.getKey();
                e.clientController.client.addToAccountBlacklist(s),
                this._objects[s] && o.remove(s),
                e.clientController.client.delFromAccountWhitelist(s),
                n.notify("/storage/account/blacklisted", i)
            }
            ,
            o.whitelistAccounts = function(i) {
                t.stateLog("whitelisting", i),
                e.clientController.client ? _.each(i, function(t) {
                    e.clientController.client.addToAccountWhitelist(t.getKey()),
                    e.clientController.client.delFromAccountBlacklist(t.getKey())
                }) : t.warn("Can't update whitelist: client not initialised")
            }
            ,
            o.isEmpty = function() {
                return _.isEmpty(this._objects)
            }
            ,
            o.isSingleUser = function() {
                return 1 === this.getAll().length
            }
            ,
            o.getDefault = function() {
                if (e.clientController.client) {
                    var t = e.clientController.client.getDefaultAccount()
                      , i = this._objects[t];
                    return t && i && o.isPostingAccount(i) ? i : o.isEmpty() ? null : (o.setDefault(o.getPostingAccounts()[0].getKey()),
                    this._objects[e.clientController.client.getDefaultAccount()])
                }
            }
            ,
            o.getUserIdentifier = function() {
                var t = o.getAccountFromId(e.store.getTwitterLoginAccountID());
                return t ? t.state.username : ""
            }
            ,
            o.setDefault = function(t) {
                e.clientController.client.setDefaultAccount(t)
            }
            ,
            o.getAccountsForService = function(e) {
                return o.getAll().filter(function(t) {
                    return t.getType() === e
                })
            }
            ,
            o.getAccountFromUsername = function(e) {
                var t = o.getAccountsForService("twitter");
                return e = e.toLowerCase(),
                _.select(t, function(t) {
                    return t.getUsername().toLowerCase() === e
                })
            }
            ,
            o.getAccountFromId = function(e) {
                var t = o.getAccountsForService("twitter");
                return _.find(t, function(t) {
                    return "" + t.getUserID() === e
                })
            }
            ,
            o.getPreferredAccount = function(e) {
                var t = o.getDefault();
                return !t || e && t.getType() != e ? o.getAccountsForService(e)[0] : t
            }
            ,
            this.init = function() {
                t.trace("accountController init"),
                jQuery.subscribe("/storage/client/change", function(e) {
                    _.each(e.getAccountBlacklist(), function(e) {
                        o._objects[e] && o.remove(e)
                    })
                })
            }
            ,
            this.reset = function() {
                this._objects = {}
            }
            ,
            this.triggerPush = function() {
                t.assert(!1, "triggerPush() should not be called on account controller")
            }
            ,
            this.updateFromBackend = function(i, s) {
                t.stateLog("accountController.updateFromBackend:", i);
                var n = t.list_to_set(s.settings.account_whitelist || []);
                i = i || [],
                i = i.filter(function(t) {
                    var i = e.Account.generateKeyFor(t.service, t.uid)
                      , s = n[i];
                    return this.ACCEPTED_ACCOUNT_TYPES[t.service] ? (s || (this._unverified[i] = e.Account.newFromBackendState(t)),
                    s) : !1
                }
                .bind(this));
                var r = this;
                _.each(i, function(i) {
                    var s = e.Account.generateKeyFor(i.service, i.uid)
                      , n = r._objects[s];
                    n ? (t.stateLog("updating existing", n, "with", i),
                    n.newRemoteState(i)) : (t.stateLog("creating new Account with", i),
                    n = e.Account.newFromBackendState(i),
                    r.manage(n))
                })
            }
            ,
            this.get = function(e) {
                return "tweetdeck" === e ? {
                    getKey: function() {
                        return "tweetdeck"
                    },
                    getUserID: function() {
                        return "tweetdeck"
                    },
                    getType: function() {
                        return "tweetdeck"
                    }
                } : this._objects[e]
            }
            ,
            this.manage = function(t) {
                if (!t.getKey())
                    throw $(document).trigger("metric", {
                        key: "account:manage:fail"
                    }),
                    new TypeError("account must have its .key set");
                return t.managed = !0,
                this._objects[t.getKey()] || n.notify("/storage/account/new", t),
                this._objects[t.getKey()] = t,
                this.whitelistAccounts([t]),
                e.store.setLastVerifiedTimestamp(t),
                $(document).trigger("metric", {
                    key: "account:manage:success"
                }),
                this.pushAccount(t)
            }
            ,
            this.manageContributee = function(e) {
                var t = TD.storage.Account.generateKeyFor("twitter", e.id)
                  , i = this.get(t);
                return i ? this.updateAccountFromContributee(i, e) : this.createAccountFromContributee(e)
            }
            ,
            this.createAccountFromContributee = function(e) {
                var t = new TD.storage.Account(null ,{
                    contributor: !0
                });
                return t.setType("twitter"),
                t.setUserID(e.id),
                t.setIsAdmin(e.isAdmin),
                t.computeKey(),
                this._verifyAndManageAccount(t)
            }
            ,
            this.updateAccountFromContributee = function(e, t) {
                var i = TD.core.defer.succeed();
                return e.getPrivate("isAccessDenied") && (e.setPrivate("isAccessDenied", !1),
                $(document).trigger("dataTwitterAccountAccessEnabled", {
                    accountKey: e.getKey()
                }),
                i.addCallback(e.makeContributor.bind(e))),
                i.addCallback(e.setIsAdmin.bind(e, t.isAdmin)),
                i
            }
            ,
            this.isContributeeManaged = function(e) {
                var t = TD.storage.Account.generateKeyFor("twitter", e.id);
                return !!this.get(t)
            }
            ,
            this.addAccountFromOAuthKeys = function(e, t) {
                var i = new TD.storage.Account
                  , s = TD.controller.auth.create("twitter", i)
                  , n = new TD.core.defer.Deferred;
                return s.updateAccount(e, t, n.callback.bind(n)),
                n.addCallbackWith(s, s.becomeContributor),
                n.addCallbackWith(this, function() {
                    TD.storage.accountController.manage(i),
                    TD.controller.clients.initialiseClients()
                }),
                n
            }
            ,
            o.remove = function(t) {
                var i = this._objects[t];
                return i.managed = !1,
                delete this._objects[t],
                n.notify("/storage/account/removed", i),
                e.store.removeLastVerifiedTimestamp(i),
                i.isContributor() && $(document).trigger("uiRemoveContributee", {
                    accountKey: TD.storage.store.getTwitterLoginAccount().getKey(),
                    userId: i.getUserID()
                }),
                this.deleteAccount(i)
            }
            ,
            o.getAll = function() {
                var e = _.values(this._objects);
                return e.sort(o.accountComparator),
                e
            }
            ,
            o.getPostingAccounts = function() {
                return _.filter(o.getAll(), o.isPostingAccount)
            }
            ,
            o.isPostingAccount = function(e) {
                return "bitly" !== e.getType()
            }
            ,
            o.accountComparator = function(e, t) {
                var i = e.getType()
                  , s = t.getType()
                  , n = "twitter" === i
                  , r = "twitter" === s
                  , a = TD.storage.store.getTwitterLoginAccount()
                  , c = a ? a.getKey() : o.getDefault().getKey();
                if (e.getKey() === c)
                    return -1;
                if (t.getKey() === c)
                    return 1;
                if (n && r) {
                    var l = e.getUsername().toLowerCase()
                      , u = t.getUsername().toLowerCase();
                    return (l > u) - (u > l)
                }
                return n ? -1 : r ? 1 : (i > s) - (s > i)
            }
            ,
            o.getDefaults = function() {
                var e = o.getAll()
                  , t = o.getDefault()
                  , i = []
                  , s = {};
                t && (s[t.getType()] = !0,
                i.push(t));
                for (var n = 0; n < e.length; n++)
                    s[e[n].getType()] || (s[e[n].getType()] = !0,
                    i.push(e[n]));
                return i
            }
            ,
            o.loginTweetdeck = function(e, s) {
                t.stateLog("aC.loginTweetdeck()", e, s);
                var n = TD.core.sha1(s)
                  , r = i.login(e, n);
                return r.addCallback(function(t) {
                    return {
                        httpStatus: 200,
                        account: {
                            uid: e,
                            password: n,
                            plaintextPassword: s
                        },
                        data: t
                    }
                }),
                r.addErrback(function(e) {
                    return {
                        httpStatus: e.number,
                        message: e.message,
                        data: e.req.responseJSON
                    }
                }),
                r
            }
            ,
            o.loginTwitter = function(e, n, r) {
                r = _.defaults({}, r, {
                    doXAuth: !1
                }),
                t.stateLog("aC.loginTwitter()", e, n);
                var o = i.twogin(e, n, r);
                return o.addCallback(function(e) {
                    return {
                        httpStatus: 200,
                        account: {
                            uid: e && e.user_id,
                            password: null ,
                            plaintextPassword: n
                        },
                        data: e,
                        xAuth: e.xauth_response || {}
                    }
                }),
                o.addErrback(function(e) {
                    var t = s.getIn(e, ["req", "responseJSON", "xauth_response"], {});
                    return {
                        httpStatus: e.number,
                        message: e.message,
                        data: e.req.responseJSON,
                        xAuth: t
                    }
                }),
                o
            }
            ,
            o.loginTwitterWith2FACode = function(e, n, r) {
                t.stateLog("aC.loginTwitterWith2FACode()", e, n, r);
                var o = i.twoginSend2FACode(e, n, r);
                return o.addCallback(function(e) {
                    return {
                        httpStatus: 200,
                        account: {
                            uid: e && e.user_id,
                            password: null ,
                            plaintextPassword: n
                        },
                        data: e,
                        xAuth: e.xauth_response || {}
                    }
                }),
                o.addErrback(function(e) {
                    var t = s.getIn(e, ["req", "responseJSON", "xauth_response"], {});
                    return {
                        httpStatus: e.number,
                        message: e.message,
                        data: e.req.responseJSON,
                        xAuth: t
                    }
                }),
                o
            }
            ,
            o.createTweetdeckAccount = function(e, s) {
                t.stateLog("aC.createTweetdeckAccount()", e, s);
                var n = TD.core.sha1(s)
                  , r = i.createAccount(e, n);
                return r.addErrback(t.errmark, "accountController.js:createTweetDeckAccount():->tdapi.createAccount()"),
                r.addCallback(function() {
                    return {
                        account: {
                            uid: null ,
                            password: n,
                            plaintextPassword: s
                        },
                        data: {
                            accounts: []
                        }
                    }
                }),
                r.addErrback(t.errmark, "accountController.js:createTweetDeckAccount()"),
                r
            }
            ,
            o.pushAccounts = function() {
                return r.gatherResults(_.map(this._objects, function(e) {
                    return o.pushAccount(e)
                }))
            }
            ,
            o.pushAccount = function(e) {
                if (i.isLoggedIn()) {
                    var t = e.getKey();
                    if (t && this._objects[t] && !e.isCookieUser() && !e.isMissingUserData()) {
                        var s = e.getStateForBackend()
                          , n = "/accounts/" + e.getType() + "/" + e.getUserID();
                        return i.requestWithBody(n, "POST", s)
                    }
                }
            }
            ,
            o.deleteAccount = function(e) {
                if (i.isLoggedIn()) {
                    t.stateLog("sync.controller.deleteAccount:", e);
                    var s = "/accounts/" + e.getType() + "/" + e.getUserID();
                    return i.drequest(s, i.getReq({
                        method: "DELETE"
                    }))
                }
            }
            ,
            o.authFromAccount = function(e) {
                return TD.controller.auth.create(e.getType(), e)
            }
            ,
            o.getTemporaryCookieAccount = function() {
                var e = new TD.storage.Account;
                return e.setType("twitter"),
                e.makeOAuth2(),
                e
            }
            ,
            o.getCookieAccount = function() {
                var e = TD.storage.store.getTwitterLoginAccount();
                return e && e.isCookieUser() ? e : void 0
            }
            ,
            o._verifyAndManageAccount = function(e, t) {
                var i = o.authFromAccount(e)
                  , s = new r.Deferred;
                return i.verifyAccount(s.callback.bind(s), s.errback.bind(s)),
                t && s.addErrback(function() {}),
                s.addCallback(function() {
                    return TD.storage.accountController.manage(e)
                }),
                s
            }
            ,
            o.verifyAndManageCookieAccount = function(e) {
                var t = o.authFromAccount(e);
                return t.verifyCookieAccount().addCallback(function() {
                    return TD.storage.accountController.manage(e)
                })
            }
            ,
            o.verifyTwitterCookieAccount = function() {
                var e = o.getTemporaryCookieAccount();
                return this.verifyAndManageCookieAccount(e).addCallback(_.constant(e))
            }
            ,
            o.verifyNewTwoginAccount = function() {
                t.stateLog("verifyNewTwoginAccount");
                var i = e.Account.generateKeyFor("twitter", TD.storage.store.getTwitterLoginAccountID())
                  , s = this._unverified[i];
                if (s)
                    var n = this._verifyAndManageAccount(s, !0);
                return this._unverified = {},
                n || TD.core.defer.succeed()
            }
            ,
            o.isEmployee = function() {
                var e = o.getTemporaryCookieAccount()
                  , t = o.authFromAccount(e);
                return t.isAccountEmployee()
            }
            ,
            o.setEmployeeState = function(e) {
                o.employeeState = e
            }
            ,
            o.getEmployeeState = function() {
                return o.employeeState
            }
        }
        ;
        return o.prototype = new e.SobjController,
        e.accountController = new o,
        o
    }(TD.storage, TD.sync.util, TD.sync.tdapi, TD.storage.notification, TD.core.defer)
}
, function(e, t) {
    "use strict";
    TD.storage.Client = function(e, t, i, s, n, r, o) {
        var a = 10
          , c = function(e) {
            t.trace("Client constructor:"),
            t.stateLog("Client constructor: ", e);
            var i = e && e.column_order;
            i && !_.isEqual(i, _.union(i)) && (t.warn("WARNING! removing duplicates in column_order", _.clone(i)),
            e.column_order = _.union(i)),
            t.assert(!e || !e.columns, '"columns" should not be in local client state'),
            this._init(e),
            this.managed = !0,
            TD.config.debug_checks && this.checkInvariants()
        }
        ;
        c.prototype = new e.StoredObj(e.clientController),
        c.prototype.eventname = "/storage/client",
        c.prototype.recent_searches_limit = a,
        c.prototype.getName = function() {
            return this.get("name")
        }
        ,
        c.prototype.getApiid = function() {
            return this.get("name")
        }
        ,
        c.prototype.hasApiid = function() {
            return !0
        }
        ,
        c.prototype.getColumnOrder = function() {
            return _.clone(this.get("column_order") || [])
        }
        ,
        c.prototype.setColumnOrder = function(e) {
            if (_.each(e, function(e) {
                t.precondition("string" == typeof e, "must provide string column keys")
            }),
            !_.isEqual(e, _.union(e)))
                throw t.warn("ERROR: column_order contains duplicates:", e),
                new Error("column_order must not contain duplicates");
            return n.notify("/storage/client/column_order_changed"),
            this.setListPermutation("column_order", e)
        }
        ,
        c.prototype.removeColumn = function(e) {
            return n.notify("/storage/client/column_order_changed"),
            this.listRemove("column_order", e)
        }
        ,
        c.prototype.appendColumn = function(e) {
            return n.notify("/storage/client/column_order_changed"),
            this.listAdd("column_order", e)
        }
        ,
        c.prototype.getAccountBlacklist = function() {
            return _.clone(this.get("account_blacklist") || []);
        }
        ,
        c.prototype.addToAccountBlacklist = function(t) {
            var i = this.get("account_blacklist") || [];
            if (_.include(i, t))
                return r.succeed(null );
            var s = this.listAdd("account_blacklist", t);
            return n.notify("/storage/client/account_blacklist_changed", i, this.get("account_blacklist"), this),
            e.accountController.remove(t),
            s
        }
        ,
        c.prototype.delFromAccountWhitelist = function(e) {
            var t = this.get("account_whitelist") || [];
            if (!_.include(t, e))
                return r.succeed(null );
            var i = this.listRemove("account_whitelist", e)
              , s = this.get("account_whitelist");
            return n.notify("/storage/client/account_whitelist_changed", t, s, this),
            $(document).trigger("dataAccountWhitelist", {
                accountKeys: s
            }),
            i
        }
        ,
        c.prototype.addToAccountWhitelist = function(e) {
            var t = this.get("account_whitelist") || [];
            if (_.include(t, e))
                return r.succeed(null );
            var i = this.listAdd("account_whitelist", e)
              , s = this.get("account_whitelist");
            return n.notify("/storage/client/account_whitelist_changed", t, s, this),
            $(document).trigger("dataAccountWhitelist", {
                accountKeys: s
            }),
            i
        }
        ,
        c.prototype.delFromAccountBlacklist = function(e) {
            var t = this.get("account_blacklist") || [];
            if (!_.include(t, e))
                return r.succeed(null );
            var i = this.listRemove("account_blacklist", e);
            return n.notify("/storage/client/account_blacklist_changed", t, this.get("account_blacklist"), this),
            i
        }
        ,
        c.prototype.getAccountWhitelist = function() {
            return _.clone(this.get("account_whitelist"))
        }
        ,
        c.prototype.getDefaultAccount = function() {
            return this.get("default_account")
        }
        ,
        c.prototype.addRecentSearch = function(e) {
            return r.gatherResults([this.listRemove("recent_searches", e), this.listPrepend("recent_searches", e), this.listTruncate("recent_searches", this.recent_searches_limit)])
        }
        ,
        c.prototype.getRecentSearches = function() {
            return this.get("recent_searches") || []
        }
        ,
        c.prototype.clearRecentSearches = function() {
            this.set("recent_searches", [])
        }
        ,
        c.prototype.postProcessNewRemoteState = function() {
            var e = this.getColumnOrder()
              , i = _.union(e);
            _.isEqual(i, e) || (t.warn("WARNING! found duplicates in column order, collapsing", e),
            this.state.column_order = i)
        }
        ,
        c.prototype.setDefaultAccount = function(e) {
            return t.assert(!_.isUndefined(e), "huh? you wanted to do what now?"),
            this.setValueIffDifferent("default_account", e, "/storage/client/default_account_changed")
        }
        ;
        var l = ["account_blacklist", "account_whitelist", "default_account", "settings", "recent_searches"];
        return c.prototype.transformForRemote = function(i, s) {
            t.stateLog("Client.transformToLocal L", i);
            var n = {};
            _.each(l, function(e) {
                i[e] && (n[e] = i[e])
            });
            var r = {
                settings: n,
                name: i.name
            };
            return r.columns = _.map(i.column_order || [], function(i) {
                var s = e.columnController.get(i);
                return t.assert(s.hasApiid(), "Column " + i + " does not have apiid", s),
                s.getApiid()
            }),
            i.mtime && (r.mtime = i.mtime),
            t.stateLog("Client.transformToLocal R", r),
            r
        }
        ,
        c.prototype.transformToLocal = function(i) {
            t.stateLog("Client.transformToLocal R", i);
            var s = {}
              , n = !1;
            s.column_order = _.filter(_.map(i.columns, function(s) {
                if (!s)
                    return t.warn("WARNING: bogus data in rstate.columns!", t.pformat(i.columns)),
                    null ;
                var r = e.columnController.getByApiid(s);
                return r || (t.stateLog("allocating new empty local sColumn for", s),
                r = new e.Column,
                r.setApiid(s),
                e.columnController.manage(r),
                n = !0),
                r.getKey()
            }), Boolean),
            n && TD.sync.controller.ueberpull();
            var r = i.settings || {};
            return _.each(l, function(e) {
                r[e] && (s[e] = r[e])
            }),
            s.mtime = i.mtime,
            s.name = i.name,
            t.stateLog("Client.transformToLocal L", s),
            s
        }
        ,
        c.prototype.setApiid = function(e) {
            t.assert(!1, "no-one should ever set apiid on Client")
        }
        ,
        c.newFromBackendState = function(e) {
            var t = new c;
            return t.newRemoteState(e),
            t
        }
        ,
        c
    }(TD.storage, TD.sync.util, TD.sync.tdapi, TD.util, TD.storage.notification, TD.core.defer, TD.sync.trace)
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(19)
      , r = s(n);
    TD.storage.ClientController = function(e, t, i, s, n, o, a) {
        var c = function() {
            var i = this;
            this.apiEndpoint = "/clients",
            _.defer(function() {
                var s = t.makeThingScheduler
                  , n = e.store.getTwitterLoginAccountID.bind(e.store);
                i.triggerPush = s(_.bind(i.pushIfDirty, i), null , "clisync", n)
            }),
            this._moduleName = "clients",
            this.reqsinflight = [],
            this._objects = {},
            this._objectsByApiid = this._objects,
            this.client = null ,
            this.toString = function() {
                return "<ClientController>"
            }
            ,
            this.init = function() {
                t.stateLog("client controller init start", this.client),
                t.trace("clientController init"),
                TD.config.sync_name in this._objects ? (this.client = this._objects[TD.config.sync_name],
                t.assert(this.client.getName(), "need name!"),
                t.stateLog("client controller new client:", this.client)) : t.stateLog("no initial client state; deferring client creation"),
                t.stateLog("clientController.init: client: ", this.client)
            }
            ,
            this.reset = function() {
                this.client = null
            }
            ,
            this.createNewClient = function() {
                t.stateLog("clientController.createNewClient()");
                var i = this
                  , n = {
                    name: TD.config.sync_name,
                    columns: [],
                    settings: {}
                }
                  , r = {}
                  , o = s.requestWithBody("/clients", "POST", n, r);
                return o.addCallback(function() {
                    t.stateLog("createNewClient resp headers; ", r);
                    var s = r["x-td-mtime"];
                    return t.assert(s, "require x-td-mtime header in client POST"),
                    n.mtime = s,
                    i.client = e.Client.newFromBackendState(n),
                    t.assert(i.client.getName(), "Client should have name at this point"),
                    i._objects[i.client.getName()] = i.client,
                    t.stateLog("clientController.createNewClient with", i.client.state),
                    i.triggerPush()
                }),
                o
            }
            ,
            this.createNewClientForTwitterAccount = function(i) {
                var s = {
                    name: "blackbird",
                    columns: [],
                    settings: {}
                }
                  , n = TD.net.ajax.request(TD.config.twitter_api_base + "/1.1/tweetdeck/clients", {
                    method: "POST",
                    params: (0,
                    r.default)(s),
                    account: i
                });
                return n.addCallbackWith(this, function(i) {
                    var n = i.xhr.getResponseHeader("x-td-mtime");
                    return t.assert(n, "require x-td-mtime header in client POST"),
                    s.mtime = n,
                    this.client = e.Client.newFromBackendState(s),
                    this._objects[this.client.getName()] = this.client,
                    t.stateLog("clientController.createNewClient with", this.client.state),
                    this.triggerPush()
                }),
                n
            }
            ,
            this.updateFromBackend = function(i) {
                null === this.client ? (this.client = e.Client.newFromBackendState(i),
                this._objects[this.client.getName()] = this.client,
                t.stateLog("client controller (ufb) new client:", this.client)) : this.client.newRemoteState(i)
            }
            ,
            this.pushIfDirty = function() {
                if (TD.config.debug_checks && this.checkInvariants(),
                a.push(this, "dirty", null ),
                this.client.isDirty()) {
                    a.push(this, "dirty", this.client);
                    var i = this
                      , s = e.columnController.triggerPush();
                    return s.addCallback(function() {
                        return t.assert(i.client.isDirty(), "?!? push dirty, but not dirty"),
                        i.pushObject(i.client, "/clients/" + i.client.getName())
                    }),
                    s.addCallback(function() {
                        return i.pushIfDirty()
                    }),
                    s
                }
                return a.push(this, "not dirty", null ),
                o.succeed()
            }
        }
        ;
        return c.prototype = new e.SobjController,
        e.clientController = new c,
        c
    }(TD.storage, TD.sync.util, TD.util, TD.sync.tdapi, TD.storage.notification, TD.core.defer, TD.sync.trace)
}
, function(e, t) {
    "use strict";
    TD.storage.Column = function(e, t, i, s, n) {
        var r = function(e) {
            this._init(e),
            this.privateState.key || (this.privateState.key = "c" + (new Date).getTime() + _.uniqueId("s"))
        }
        ;
        r.prototype = new e.StoredObj(e.columnController),
        r.prototype.eventname = "/storage/column",
        r.prototype.getTitle = function() {
            var e = this.get("title");
            return _.isUndefined(e) ? "loading…" : e
        }
        ,
        r.prototype.setTitle = function(e) {
            return this.set("title", e)
        }
        ,
        r.prototype.getDescription = function() {
            return this.get("description")
        }
        ,
        r.prototype.setDescription = function(e) {
            return this.set("description", e)
        }
        ,
        r.prototype.getType = function() {
            return this.get("type")
        }
        ,
        r.prototype.setType = function(e) {
            return this.set("type", e)
        }
        ,
        r.prototype.getFilters = function() {
            return this.get("filters")
        }
        ,
        r.prototype.setFilters = function(e) {
            return this.setValueIffDifferent("filters", e)
        }
        ,
        r.prototype.getHasSound = function() {
            var e = this.get("settings");
            return Boolean(e && e.has_sound)
        }
        ,
        r.prototype.setHasSound = function(e) {
            return e = Boolean(e),
            n.notify("/storage/column/column_flags_changed", "has_sound", e, this),
            this.dictSet("settings", "has_sound", e)
        }
        ,
        r.prototype.getHasNotification = function() {
            var e = this.get("settings");
            return Boolean(e && e.has_notification)
        }
        ,
        r.prototype.setHasNotification = function(e) {
            return e = Boolean(e),
            n.notify("/storage/column/column_flags_changed", "has_notification", e, this),
            this.dictSet("settings", "has_notification", e)
        }
        ,
        r.prototype.getMediaPreviewSize = function() {
            var e = this.get("settings");
            return e ? e.media_preview_size : null
        }
        ,
        r.prototype.setMediaPreviewSize = function(e) {
            return $(document).trigger("dataColumnSettings", {
                columnKey: this.getKey(),
                mediaPreviewSize: e
            }),
            this.dictSet("settings", "media_preview_size", e)
        }
        ,
        r.prototype.getClearedTimestamp = function() {
            var e = this.get("settings");
            return e && e.cleared_timestamp ? e.cleared_timestamp : 0
        }
        ,
        r.prototype.setClearedTimestamp = function(e) {
            return n.notify("/storage/column/column_marks_changed", "cleared_timestamp", e, this),
            this.dictSet("settings", "cleared_timestamp", e)
        }
        ,
        r.prototype.getFeedKeys = function() {
            return this.get("feedkeys")
        }
        ,
        r.prototype.setFeedKeys = function(e) {
            return this.setValueIffDifferent("feedkeys", _.isArray(e) ? _.uniq(e.sort(), !0) : e, "/storage/column/feeds_changed")
        }
        ;
        var o = ["mtime", "type", "title", "description", "settings", "position", "bookmarks", "filters"];
        return r.prototype.transformForRemote = function(i, s) {
            var n = function(i) {
                var s = e.feedController.get(i);
                return t.assert(s && s.hasApiid(), "feeds must have apiid when transforming column for remote"),
                s.getApiid()
            }
              , r = {};
            return _.each(o, function(e) {
                r[e] = i[e]
            }),
            r.feeds = _.map(i.feedkeys, n),
            i.mtime && (r.mtime = i.mtime),
            s.apiid && (r.id = s.apiid),
            r
        }
        ,
        r.prototype.transformToLocal = function(i) {
            TD.config.debug_checks && _.each(i.feeds, function(s) {
                t.assert(e.feedController.getByApiid(s), "feed not found by apiid in " + t.pformat(i.feeds))
            });
            var s = {};
            return _.each(o, function(e) {
                s[e] = i[e]
            }),
            s.feedkeys = _.map(i.feeds, function(t) {
                return e.feedController.getByApiid(t).getKey()
            }),
            s.apiid = i.id,
            s
        }
        ,
        r.newFromBackendState = function(e) {
            var t = new r;
            return t.newRemoteState(e),
            t
        }
        ,
        r
    }(TD.storage, TD.sync.util, TD.sync.tdapi, TD.util, TD.storage.notification)
}
, function(e, t) {
    "use strict";
    TD.storage.ColumnController = function(e, t, i, s, n) {
        var r = function() {
            var i = this;
            this.apiEndpoint = "/columns",
            this._moduleName = "columns",
            this.reqsinflight = [],
            this.bindTrigger("colctr"),
            $.subscribe("/storage/account/new", function(e) {
                i.addToCombinedColumns(e)
            }),
            $.subscribe("/storage/client/account_whitelist_changed", function() {
                i.rebuildScheduledColumns()
            }),
            $(document).one("TD.ready", function() {
                i.rebuildScheduledColumns()
            }),
            this._objects = {},
            this._objectsByApiid = {},
            this.toString = function() {
                return "<ColumnController>"
            }
            ,
            this.init = function() {
                t.trace("columnController init"),
                TD.config.debug_checks && this.checkInvariants()
            }
            ,
            this.reset = function() {
                this._objects = {},
                this._objectsByApiid = {}
            }
            ,
            this.updateFromBackend = function(i) {
                var n = this;
                t.stateLog("columnController.updateFromBackend:", i),
                _.each(i, function(t, i) {
                    var r = n._objectsByApiid[i];
                    r ? r.newRemoteState(t) : (r = e.Column.newFromBackendState(t),
                    r.setApiid(i),
                    n.manage(r),
                    s.notify("/storage/column/new", r))
                })
            }
            ,
            this.get = function(e) {
                return this._objects[e]
            }
            ,
            this.getColumnsContainingFeed = function(e) {
                var t = [];
                return _.each(this._objects, function(i) {
                    _.each(i.getFeedKeys(), function(s) {
                        s == e && t.push(i)
                    })
                }),
                t
            }
            ,
            this.getColumnsByType = function(e) {
                return _.filter(this._objects, function(t) {
                    return t.getType() === e
                })
            }
            ,
            this.manage = function(e) {
                return e.managed = !0,
                t.assert(e.getKey(), "columns must have valid keys to be managed!"),
                this._objects[e.getKey()] = e,
                e.hasApiid() && (this._objectsByApiid[e.getApiid()] = e),
                this.triggerPush()
            }
            ,
            this.remove = function(e) {
                var t = this._objects[e];
                t && (t.managed = !1),
                delete this._objects[e]
            }
            ,
            this.getAll = function() {
                return _.values(this._objects)
            }
            ,
            this.getByApiid = function(e) {
                t.assert(e, "must provide apiid; " + t.repr(e)),
                t.assert("undefined" !== e, "huh? where did that come from?");
                var i = this._objectsByApiid[e];
                return i || (t.warn("WARNING: col ", e, " not found in cols_by_apiid ", _.keys(this._objectsByApiid)),
                t.stateLog("this._objects, apiids; ", t.pformat(_.map(this._objects, function(e, t) {
                    return [t, e.getApiid()]
                })))),
                i
            }
            ,
            this.isEmpty = function() {
                return _.isEmpty(this._objects)
            }
            ,
            this._selfcheckapiids = function() {
                for (var e in this._objects) {
                    var t = this._objects[e];
                    t.hasApiid() && _assert(t == this.getByApiid(t.getApiid()), "lookup failed")
                }
            }
            ,
            this.addToCombinedColumns = function(i) {
                t.stateLog("ADDING ACCOUNT TO COMBINED COLS", i);
                var s = e.clientController.client;
                if (s)
                    for (var n, r, o, a, c = e.clientController.client.getColumnOrder(), l = {
                        home: !0,
                        me: !0,
                        privateMe: !0
                    }, u = function(e) {
                        return e.getKey()
                    }
                    , d = 0; d < c.length; d++)
                        if (n = this.get(c[d])) {
                            if (r = n.getType(),
                            l[r]) {
                                switch (o = null ,
                                r) {
                                case "me":
                                    o = this.getMeFeeds([i]);
                                    break;
                                case "privateMe":
                                    o = this.getInboxFeeds([i])
                                }
                                o && (a = o.map(u),
                                n.setFeedKeys(n.getFeedKeys().concat(a)),
                                n.managed && e.feedController.manageFeeds(o))
                            }
                        } else
                            t.warn("Warning: Column not found!"),
                            t._break()
            }
            ,
            this.rebuildScheduledColumns = function() {
                var t = this.getScheduledFeeds()
                  , i = t.map(function(e) {
                    return e.getKey()
                });
                this.getColumnsByType("scheduled").forEach(function(s) {
                    s.setFeedKeys(i),
                    s.managed && e.feedController.manageFeeds(t),
                    setTimeout(function() {
                        TD.controller.feedScheduler.refreshColumn(s.getKey())
                    }, 200)
                })
            }
            ;
            var n = function(t, i) {
                var s = e.feedController;
                return s.getOrCreateFeed(t, i.getType(), i.getKey(), {})
            }
            ;
            this.getMeFeeds = function(e) {
                for (var t = [], i = 0; i < e.length; i++)
                    "twitter" === e[i].getType() && t.push(n("mentions", e[i]));
                return t
            }
            ,
            this.getInboxFeeds = function(e) {
                for (var t = [], i = 0; i < e.length; i++)
                    "twitter" === e[i].getType() && t.push(n("direct", e[i]));
                return t
            }
            ,
            this.getScheduledFeeds = function() {
                var e = TD.storage.accountController.getAccountsForService("twitter");
                return e.map(n.bind(this, TD.util.columnUtils.feedTypes.SCHEDULED))
            }
            ,
            this.prePushCheckInvariants = function(i) {
                _.each(i, function(i) {
                    _.each(i.getFeedKeys(), function(i) {
                        t.assert(e.feedController.get(i), "feeds must exist + be managed in columns push; " + i),
                        t.assert(e.feedController.get(i).hasApiid(), "feeds must all have apiid in columns push; " + i)
                    })
                })
            }
        }
        ;
        return r.prototype = new e.SobjController,
        r.prototype.pushPreflight = function() {
            return e.feedController.triggerPush(.05)
        }
        ,
        e.columnController = new r,
        r
    }(TD.storage, TD.sync.util, TD.sync.tdapi, TD.storage.notification, TD.core.defer)
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(19)
      , r = s(n);
    TD.storage.Feed = function(e, t, i, s) {
        var n = function o(e, t) {
            this._init(e),
            _.isUndefined(t) || (this.state = this.transformToLocal(t)),
            this.setKey(o.generateKeyFor(this.getAccountKey(), this.getType(), this.getMetadata()))
        }
        ;
        return n.prototype = new e.StoredObj(e.feedController),
        n.prototype.eventname = "/storage/feed",
        n.generateKeyFor = function(e, i, s) {
            s = s || {};
            var n = TD.util.deterministicObjectHash(s)
              , r = [e, i, n];
            return t.assert(e, "accountkey not set in Feed.generateKey"),
            t.assert(i, "type not set in Feed.generateKey"),
            encodeURI(r.join(":"))
        }
        ,
        n.prototype.getType = function() {
            return this.get("type")
        }
        ,
        n.prototype.setType = function(e) {
            return this.immutableSet("type", e)
        }
        ,
        n.prototype.getService = function() {
            return this.get("service")
        }
        ,
        n.prototype.setService = function(e) {
            return this.immutableSet("service", e)
        }
        ,
        n.prototype.getAccountKey = function() {
            return this.get("accountkey")
        }
        ,
        n.prototype.setAccountKey = function(e) {
            return this.immutableSet("accountkey", e)
        }
        ,
        n.prototype.getTopSortIndex = function() {
            var e = this.get("marks");
            return e ? e.top_sort_index ? e.top_sort_index || null : {
                value: this.getLatestTime(),
                type: "milliseconds"
            } : null
        }
        ,
        n.prototype.setTopSortIndex = function(e) {
            var t, i = this.get("marks") || {};
            return Array.isArray(i) && (i = _.extend({}, i)),
            i[0] = i[0] || {},
            i.top_sort_index = e,
            t = this.set("marks", i)
        }
        ,
        n.prototype.getLatestTime = function() {
            var e = this.get("marks");
            if (!e || _.isEmpty(e))
                return 0;
            var t = e[0];
            return t.last_notification || 0
        }
        ,
        n.prototype.setLatestTime = function(e) {
            var t = this.get("marks");
            return !t || _.isEmpty(t) ? this.set("marks", [{
                last_notification: e
            }]) : (t[0].last_notification = e,
            this.set("marks", t))
        }
        ,
        n.prototype.getMetadata = function() {
            return _.clone(this.get("metadata"))
        }
        ,
        n.prototype.setMetadata = function(e) {
            return this.immutableSet("metadata", e)
        }
        ,
        n.prototype.transformForRemote = function(i, s) {
            var n = e.accountController.get(i.accountkey);
            t.assert(n && n.getUserID(), "must have acct + uid for feed transform");
            var o = n.getUserID()
              , a = {
                type: i.type,
                service: i.service,
                account: {
                    userid: o.toString()
                },
                metadata: (0,
                r.default)(i.metadata),
                marks: i.marks
            };
            return i.mtime && (a.mtime = i.mtime),
            s.apiid && (a.id = s.apiid),
            a
        }
        ,
        n.prototype.reprocessNotificationMarks = function(e, t) {
            var i = null
              , s = null ;
            if (t && t.marks && !_.isEmpty(t.marks) && (i = t.marks[0].last_notification,
            s = t.marks),
            e.marks && !_.isEmpty(e.marks)) {
                s = e.marks;
                var n = e.marks[0].last_notification;
                i && n ? i = Math.max(i, n) : n && (i = n)
            }
            return s ? s[0].last_notification = i : s = i ? [{
                last_notification: i
            }] : [],
            s
        }
        ,
        n.prototype.transformToLocal = function(t) {
            var i = {
                type: t.type,
                service: t.service,
                accountkey: e.Account.generateKeyFor(t.service, t.account.userid),
                metadata: JSON.parse(t.metadata),
                mtime: t.mtime,
                marks: t.marks
            };
            return i
        }
        ,
        n.newFromBackendState = function(e) {
            return new n(null ,e)
        }
        ,
        n
    }(TD.storage, TD.sync.util, TD.sync.tdapi, TD.util)
}
, function(e, t) {
    "use strict";
    TD.storage.FeedController = function(e, t, i, s, n) {
        var r = function() {
            var i = this;
            this.apiEndpoint = "/feeds",
            this._moduleName = "feeds",
            this.reqsinflight = [],
            this.bindTrigger("feedctr"),
            i._objects = {},
            i._objectsByApiid = {},
            this.toString = function() {
                return "<FeedController>"
            }
            ,
            this.init = function() {
                t.trace("feedController init"),
                TD.config.debug_checks && this.checkInvariants()
            }
            ,
            this.reset = function() {
                this._objects = {},
                this._objectsByApiid = {}
            }
            ,
            this.updateFromBackend = function(i) {
                var n = this;
                t.stateLog("feedController.updateFromBackend:", i),
                _.each(i, function(t, i) {
                    var r = n._objectsByApiid[i];
                    r ? (r.newRemoteState(t),
                    s.notify("/storage/feed/updated", r)) : (r = e.Feed.newFromBackendState(t),
                    r.setApiid(i),
                    n.manage(r),
                    s.notify("/storage/feed/new", r))
                })
            }
            ,
            this.get = function(e) {
                return this._objects[e]
            }
            ,
            this.manage = function(e) {
                e.managed = !0;
                var s = this._objects[e.getKey()];
                return s && e === s ? i.triggerPush() : (s && (t.warn("WARNING replacing feed", s, "with", e, "please use feedController.getOrCreateFeed", [t.getStack().split("\n")]),
                s.getLatestTime() > e.getLatestTime() && t.warn("Warning: latestTime weirdness:", s.getLatestTime(), e.getLatestTime()),
                s.hasApiid() && e.setApiid(s.getApiid()),
                s.isDirty() && (_.isEmpty(s.deltaQ) || "init" != s.deltaQ[0].type) && t.assert(!s.isDirty(), "houston, we have a problem")),
                this._objects[e.getKey()] = e,
                e.hasApiid() && (this._objectsByApiid[e.getApiid()] = e),
                i.triggerPush())
            }
            ,
            this.manageFeeds = function(e) {
                for (var t = 0; t < e.length; t++)
                    i.manage(e[t])
            }
            ,
            this._selfcheckapiids = function() {
                for (var e in this._objects) {
                    var t = this._objects[e];
                    t.apiid && _assert(t == i.getByApiid(t.apiid), "lookup failed")
                }
            }
            ,
            i.isEmpty = function() {
                return _.isEmpty(this._objects)
            }
            ,
            i.getOrCreateFeed = function(t, i, s, n, r) {
                var o, a, c;
                if ("search" !== t || n.term || n.baseQuery && n.searchFilterData && (o = new TD.vo.SearchFilter(n.searchFilterData),
                n.term = [n.baseQuery, o.getQueryString()].join(" ")),
                c = e.Feed.generateKeyFor(s, t, n),
                a = this._objects[c],
                !a) {
                    var l = {
                        type: t,
                        service: i,
                        accountkey: s,
                        metadata: n,
                        apiid: r
                    };
                    a = new e.Feed(l)
                }
                return r && (a.apiid = r,
                this._objectsByApiid[r] = a),
                a
            }
        }
        ;
        return r.prototype = new e.SobjController,
        e.feedController = new r,
        r
    }(TD.storage, TD.sync.util, TD.sync.tdapi, TD.storage.notification, TD.core.defer)
}
, function(e, t) {
    "use strict";
    function i() {
        this.data = {},
        this.length = 0
    }
    i.prototype.clear = function() {
        this.data = {},
        this.length = 0
    }
    ,
    i.prototype.getItem = function(e) {
        var t = this.data[e];
        return void 0 !== t ? t : null
    }
    ,
    i.prototype.key = function(e) {
        throw new Error("MemoryStore.key not implemented.")
    }
    ,
    i.prototype.removeItem = function(e) {
        null !== this.getItem(e) && (delete this.data[e],
        this.length--)
    }
    ,
    i.prototype.setItem = function(e, t) {
        null === this.getItem(e) && this.length++,
        this.data[e] = "" + t
    }
    ,
    e.exports = i
}
, function(e, t) {
    "use strict";
    TD.storage.notification = function(e) {
        var t = {}
          , i = []
          , s = function() {
            var e = i.splice(0, i.length);
            _.each(e, function(e) {
                if (e.topic)
                    try {
                        jQuery.publish(e.topic, e.args)
                    } catch (t) {
                        console.log("FAILURE publishing event", e, t)
                    }
                else
                    e.d && e.d.callback()
            })
        }
        ;
        return t.notify = function(e) {
            var t = Array.prototype.slice.call(arguments, 1);
            i.push({
                topic: e,
                args: t
            }),
            _.defer(s)
        }
        ,
        t.flush = function() {
            var t = new e.Deferred;
            return i.push({
                d: t
            }),
            _.defer(s),
            t
        }
        ,
        t
    }(TD.core.defer)
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(19)
      , r = s(n);
    TD.storage.StoredDelta = function(e, t, i, s, n) {
        function o(t) {
            this.type = t,
            e.assert(l[t] && a, "unknown type " + t),
            this.args = _.toArray(arguments).slice(1),
            this.id = "Δ" + (new Date).getTime() + _.uniqueId(":"),
            c(t, this.args),
            "init" === t && (e.verboseLog("initialisation delta", this.id, this.args[0]),
            "mtime"in this.args[0] && (e.warn("WARNING init Δ contains mtime!", e.clone(this.args[0])),
            e._break()))
        }
        var a = {
            init: 1,
            set: 2,
            del: 1,
            lmove: 3,
            ldel: 2,
            linsert: 3,
            ladd: 3,
            ltrunc: 2,
            ldedupe: 1,
            hset: 3,
            other: 0
        }
          , c = function(t, i) {
            var s = a[t];
            switch (e.assert(i.length === s, "wrong no. args for " + t + ", expected " + s + " got " + i.length),
            t) {
            case "ltrunc":
                e.assert("number" == typeof i[1], "ltrunc: length must be number");
                break;
            case "linsert":
            case "ladd":
            case "ldel":
            case "lmove":
                e.assert("string" == typeof i[1], "list elements must be strings")
            }
        }
        ;
        o.prototype.toString = function() {
            return "StoredDelta[" + this.id + "](" + this.type + ": " + (0,
            r.default)(this.args) + ")"
        }
        ,
        o.prototype.serialise = function() {
            return [this.type].concat(this.args)
        }
        ;
        var l = {
            init: function(t, i) {
                if (!_.isEqual(t, {})) {
                    var s = e.clone(t)
                      , n = e.clone(i);
                    return delete s.mtime,
                    delete n.mtime,
                    _.isEqual(s, n) ? (e.warn("WARNING Δ init_state === state", e.clone(t), "init:", i.mtime, "state:", t.mtime),
                    t) : void e.warn("WARNING discarding init_state", e.clone(i), "in favour of", e.clone(t))
                }
                return _.clone(i)
            },
            set: function(e, t, i) {
                return e[t] = i,
                e
            },
            del: function(e, t) {
                return delete e[t],
                e
            },
            lmove: function(e, t, i, s) {
                var n = _.clone(e[t])
                  , r = n.indexOf(i);
                return -1 != r ? (n.splice(r, 1),
                n.splice(r + s, 0, i),
                e[t] = n,
                e) : void 0
            },
            ldel: function(e, t, i) {
                var s;
                return s = _.isUndefined(e[t]) ? [] : _.without(e[t], i),
                e[t] = s,
                e
            },
            linsert: function(e, t, i, s) {
                var n;
                return n = _.isUndefined(e[t]) ? [] : _.clone(e[t]),
                n.splice(s, 0, i),
                e[t] = n,
                e
            },
            ladd: function(e, t, i, s) {
                if (_.include(e[t], i))
                    return e;
                var n;
                return n = _.isUndefined(e[t]) ? [] : _.clone(e[t]),
                n.splice(s, 0, i),
                e[t] = n,
                e
            },
            ltrunc: function(e, t, i) {
                var s;
                return s = _.isUndefined(e[t]) ? [] : e[t],
                s.length > i && s.splice(i, s.length - i),
                e[t] = s,
                e
            },
            ldedupe: function(e, t) {
                var i;
                return i = _.isUndefined(e[t]) ? [] : e[t],
                e[t] = _.uniq(i),
                e
            },
            hset: function(e, t, i, s) {
                var n = _.clone(e[t]);
                return n || (n = {}),
                n[i] = s,
                e[t] = n,
                e
            }
        };
        o.prototype.apply = function(t) {
            var i = _.clone(t)
              , s = l[this.type]
              , n = s.apply(this, [i].concat(this.args));
            return n ? n : (e.warn("WARNING: unable to apply Δ", this.toString(), "to", e.clone(t)),
            _.clone(t))
        }
        ,
        o.prototype.applyToValue = function(e, t) {
            var i = {};
            return i[e] = t,
            this.apply(i)[e]
        }
        ,
        o.listPermutator = function(t, i, s) {
            var n = []
              , r = _.clone(i);
            if (e.verboseLog("StoredDelta.listPermutator", i, "→", s),
            i.length != _.union(i).length || s.length != _.union(s).length)
                throw e.stateLog("Duplicate error in listPermutator", {
                    original: i,
                    original_: _.union(i),
                    target: s,
                    targetu: _.union(s)
                }),
                new TypeError("lists must not contain duplicates");
            _.each(_.difference(i, s), function(e) {
                n.push(new o("ldel",t,e)),
                r.splice(r.indexOf(e), 1)
            });
            for (var a = 0; a < s.length; a++)
                if (r[a] != s[a]) {
                    var c = s[a]
                      , l = r.indexOf(c);
                    -1 === l ? (n.push(new o("ladd",t,c,a)),
                    r.splice(a, 0, c)) : (n.push(new o("lmove",t,c,a - l)),
                    r.splice(l, 1),
                    r.splice(a, 0, c))
                }
            return n
        }
        ,
        o.applyMultiple = function(e, t) {
            return _.reduce(e, function(e, t) {
                return t.apply(e)
            }, t)
        }
        ;
        var u = function(e, t) {
            function i() {
                return e.apply(this, t)
            }
            return i.prototype = e.prototype,
            new i
        }
        ;
        return o.deserialiseDeltas = function(e) {
            return _.map(e, function(e) {
                return u(o, e)
            })
        }
        ,
        o.checkStateCache = function(t, i, s) {
            if (null === s && 0 === i.length)
                return !0;
            var n = _.clone(s);
            delete n.mtime;
            var r = o.applyMultiple(i, _.clone(t));
            return delete r.mtime,
            _.isEqual(n, r) ? !0 : (e.stateLog("cache", s, "!= goal", r, "for", t, "+", i),
            !1)
        }
        ,
        o
    }(TD.sync.util, TD.sync.tdapi, TD.util, TD.core.defer, TD.storage.notification)
}
, function(e, t) {
    "use strict";
    TD.settings = function(e, t) {
        function i(e) {
            var t, i;
            if (!s)
                throw new Error("Settings client hasn't been initialized. Call settings.init() first.");
            return t = s.get("settings"),
            i = void 0,
            t && (i = t[e]),
            _.isUndefined(i) && (i = r[e]),
            (_.isArray(i) || _.isObject(i)) && (i = TD.sync.util.clone(i)),
            i
        }
        var s, n = {}, r = {}, o = "/storage/client/settings/", a = "use_stream", c = "use_notification_sound", l = "language", u = "check_for_updates", d = "use_narrow_columns", h = "column_width", m = "font_size", p = "theme", f = "scheduled_col_autoadded", g = "link_shortener", v = "use_jmp", T = "global_filter", w = "previous_splash_version", b = "show_startup_notifications", y = "name_cache", D = "seen_message_ids", C = "navbar_width", S = "compose_stay_open", A = "display_sensitive_media", E = "dataminr_auth_token", I = "account_selector_grid_mode", k = "safeguarded_account_list", x = "bitly_login", M = "bitly_api_key", R = [w, E];
        return n.linkShorteners = [{
            id: "twitter",
            title: "Twitter"
        }, {
            id: "bitly",
            title: "Bit.ly"
        }],
        n.init = function() {
            s = e.clientController.client,
            s ? $(document).trigger("dataSettingsValues", TD.sync.util.clone(s.get("settings"))) : console.warn("Initialized settings before storage.clientController.init() was called.")
        }
        ,
        n.set = function(e, n) {
            var r = {};
            return t.notify(o + e, n),
            _.isEqual(n, i(e)) ? TD.core.defer.succeed() : (-1 === R.indexOf(e) && (_.isString(n) || _.isBoolean(n) || _.isNumber(n)) && TD.controller.stats.setting(e, n),
            _.defer(function() {
                r[e] = n,
                $(document).trigger("dataSettingsValues", r)
            }),
            s.dictSet("settings", e, n))
        }
        ,
        r[a] = !0,
        n.getUseStream = function() {
            return Boolean(i(a))
        }
        ,
        n.setUseStream = function(e) {
            return n.set(a, Boolean(e))
        }
        ,
        r[c] = !0,
        n.getUseNotificationSound = function() {
            return Boolean(i(c))
        }
        ,
        n.setUseNotificationSound = function(e) {
            return n.set(c, Boolean(e))
        }
        ,
        n.getLanguage = function() {
            return String(i(l))
        }
        ,
        n.setLanguage = function(e) {
            return n.set(l, String(e))
        }
        ,
        r[u] = !0,
        n.getCheckForUpdates = function() {
            return Boolean(i(u))
        }
        ,
        n.setCheckForUpdates = function(e) {
            return n.set(u, Boolean(e))
        }
        ,
        r[d] = !1,
        r[h] = "medium",
        n.getColumnWidth = function() {
            var e = i(d);
            return _.isBoolean(e) && (n.set(d, null ),
            e) ? (n.setColumnWidth("narrow"),
            "narrow") : i(h)
        }
        ,
        n.setColumnWidth = function(e) {
            return n.set(h, e)
        }
        ,
        r[m] = "medium",
        n.getFontSize = function() {
            return i(m)
        }
        ,
        n.setFontSize = function(e) {
            return n.set(m, e)
        }
        ,
        r[p] = "light",
        n.getTheme = function() {
            return i(p)
        }
        ,
        n.setTheme = function(e) {
            return n.set(p, String(e))
        }
        ,
        r[g] = "twitter",
        n.getLinkShortener = function() {
            return String(i(g))
        }
        ,
        n.setLinkShortener = function(e) {
            return n.set(g, String(e))
        }
        ,
        r[v] = !1,
        n.getUseJmp = function() {
            return Boolean(i(v))
        }
        ,
        n.setUseJmp = function(e) {
            return n.set(v, Boolean(e))
        }
        ,
        n.getGlobalFilter = function() {
            return i(T)
        }
        ,
        n.setGlobalFilter = function(e) {
            return n.set(T, e)
        }
        ,
        r[b] = !0,
        n.getShowStartupNotifications = function() {
            return Boolean(i(b))
        }
        ,
        n.setShowStartupNotifications = function(e) {
            return n.set(b, Boolean(e))
        }
        ,
        r[A] = !1,
        n.getDisplaySensitiveMedia = function() {
            return Boolean(i(A))
        }
        ,
        n.setDisplaySensitiveMedia = function(e) {
            return n.set(A, Boolean(e))
        }
        ,
        r[f] = !1,
        n.getScheduledColAdded = function() {
            return Boolean(i(f))
        }
        ,
        n.setScheduledColAdded = function(e) {
            return n.set(f, Boolean(e))
        }
        ,
        r[w] = "0",
        n.getPreviousSplashVersion = function() {
            return i(w)
        }
        ,
        n.setPreviousSplashVersion = function(e) {
            return n.set(w, String(e))
        }
        ,
        r[y] = {},
        n.getNameCache = function() {
            return i(y)
        }
        ,
        n.setNameCache = function(e) {
            return n.set(y, e)
        }
        ,
        r[D] = [],
        n.getIdsForSeenMessages = function() {
            return i(D)
        }
        ,
        n.setIdsForSeenMessages = function(e) {
            return n.set(D, e)
        }
        ,
        r[C] = "condensed",
        n.getNavbarWidth = function() {
            return i(C)
        }
        ,
        n.setNavbarWidth = function(e) {
            return n.set(C, e)
        }
        ,
        r[S] = !1,
        n.getComposeStayOpen = function() {
            return Boolean(i(S))
        }
        ,
        n.setComposeStayOpen = function(e) {
            return n.set(S, Boolean(e))
        }
        ,
        r[E] = null ,
        n.getDataminrAuthToken = function() {
            return i(E)
        }
        ,
        n.setDataminrAuthToken = function(e) {
            return n.set(E, e)
        }
        ,
        r[I] = "grid",
        n.getAccountSelectorGridMode = function() {
            return i(I)
        }
        ,
        n.setAccountSelectorGridMode = function(e) {
            return n.set(I, e)
        }
        ,
        r[k] = [],
        n.getSafeguardedAccountList = function() {
            return i(k)
        }
        ,
        n.setSafeguardedAccountList = function(e) {
            return n.set(k, e)
        }
        ,
        n.removeSafeguardedAccount = function(e) {
            return n.set(k, n.getSafeguardedAccountList().filter(function(t) {
                return e !== t
            }))
        }
        ,
        n.addSafeguardedAccount = function(e) {
            return n.set(k, n.getSafeguardedAccountList().filter(function(t) {
                return e !== t
            }).concat([e]))
        }
        ,
        n.getBitlyAccount = function() {
            var e = i(x)
              , t = i(M);
            return e && t ? {
                apiKey: t,
                login: e
            } : void 0
        }
        ,
        n.setBitlyAccount = function(e) {
            return n.set(x, e.login).addCallback(function() {
                return n.set(M, e.apiKey)
            }).addCallback(function() {
                return n.getBitlyAccount()
            })
        }
        ,
        n
    }(TD.storage, TD.storage.notification)
}
, function(e, t) {
    "use strict";
    TD.storage.SobjController = function(e, t, i, s, n, r) {
        var o = function() {
            this._objects = null ,
            this._objectsByApiid = null ,
            this.reqsinflight = null ,
            this.apiEndpoint = null ,
            this._moduleName = null
        }
        ;
        return o.prototype.toString = function() {
            return "<SobjController[" + (this._moduleName || "unknown") + "]>"
        }
        ,
        o.prototype.triggerPush = function() {
            throw t.printStacktrace(),
            new Error("NotImplemented")
        }
        ,
        o.prototype.bindTrigger = function(i) {
            var s = t.makeThingScheduler
              , n = e.store.getTwitterLoginAccountID.bind(e.store);
            this.triggerPush = s(_.bind(this.pushDirty, this), null , i, n)
        }
        ,
        o.prototype.remove = function(e) {
            var t = this._objects[e];
            t && (t.managed = !1,
            t.hasApiid() && delete this._objectsByApiid[t.getApiid()]),
            delete this._objects[e]
        }
        ,
        o.prototype.getAll = function() {
            return _.values(this._objects)
        }
        ,
        o.prototype.getByApiid = function(e) {
            return t.assert(e, "must provide apiid; " + t.repr(e)),
            t.assert("undefined" != e, "huh? where did that come from?"),
            this._objectsByApiid[e]
        }
        ,
        o.prototype.pushPreflight = function() {
            return n.succeed(null )
        }
        ,
        o.prototype.pushDirty = function() {
            TD.config.debug_checks && this.checkInvariants();
            var e = _.uniqueId("pD:");
            r.push(this, "pushDirty", null , e);
            var t = this
              , i = this.pushPreflight();
            return i.addCallback(function() {
                var i = _.filter(t._objects, function(e) {
                    return e.isDirty()
                });
                if (_.isEmpty(i))
                    return r.push(t, "(not dirty)", null , e),
                    n.succeed();
                var s = t.pushObjects(i, e);
                return s.addCallback(function() {
                    return t.pushDirty()
                }),
                s
            }),
            i
        }
        ,
        o.prototype.prePushCheckInvariants = function(e) {}
        ,
        o.prototype.pushObjects = function(e, i) {
            if (t.verboseLog(this.toString() + ".pushObjects()", this, e),
            i || (i = _.uniqueId("pO:")),
            r.push(this, "pushObjects", e, i),
            t.assert(this.apiEndpoint, "api endpoint must be set"),
            _.isEmpty(e))
                return r.push(this, "(empty)", e, i),
                n.succeed([]);
            TD.config.debug_checks && this.prePushCheckInvariants(e);
            var s = _.map(e, function(e) {
                return e.getStateForBackend()
            })
              , o = _.pluck(s, "Δid")
              , a = _.pluck(s, "state");
            r.push(this, "objs+Δs", e, o, i),
            TD.config.debug_checks && (_.each(a, function(e) {
                t.assert(e.mtime || !e.id, "for a test and set request, we expect (require) either mtime (modify) or absence of id (create) for every object")
            }),
            _.isEmpty(this.reqsinflight) || (t.warn("WARNING! called pushObjects", e, "when already have requests in flight", t.clone(this.reqsinflight)),
            t._break()));
            var c = this.pushObjectsRequest(a, e, o, i);
            return c.addCallbackWith(this, function(e) {
                return this._processTSResults(e.responses, e.objects, e.deltaIds, e.respHeaders, e.pushid)
            }),
            c.addErrback(function(e) {
                return TD.util.metric("sync:sobj_controller:push_objects:error"),
                e
            }),
            c
        }
        ,
        o.prototype.pushObjectsRequest = function(e, t, i, s) {
            var n = TD.net.ajax.request(TD.config.twitter_api_base + "/1.1/tweetdeck" + this.apiEndpoint, {
                method: "POST",
                params: e,
                headers: {
                    "x-td-mtime-check": "partial",
                    "content-type": "application/json"
                },
                account: TD.sync.controller.getLoginAccount()
            });
            return n.addCallback(function(e) {
                return {
                    responses: e.data,
                    objects: t,
                    deltaIds: i,
                    respHeaders: {
                        "x-td-mtime": e.xhr.getResponseHeader("x-td-mtime")
                    },
                    pushid: s
                }
            }),
            n
        }
        ,
        o.prototype._processTSResults = function(e, s, n, o, a) {
            r.tsResults(this, e, s, n, o, a),
            e instanceof i.Conflict && (r.conflicts(this, e.body, s, o, a),
            e = e.body),
            t.assert(e.length == s.length, "wrong number of responses/objects!"),
            t.assert(e.length == n.length, "wrong number of responses/deltas!"),
            t.verboseLog("objects", s, "deltas", n),
            _.each(n, function(e) {
                t.assert(null !== e, "Δid must not be null")
            });
            var c = o["x-td-mtime"];
            t.assert(c, "require x-td-mtime header in object PUT");
            for (var l, u = this, d = function(e, i) {
                t.verboseLog("_processTSResults:check_set_apiid", e, i),
                e.hasApiid() ? t.assert(e.getApiid() == i, "apiid mismatch") : (u._objectsByApiid[i] = e,
                e.setApiid(i))
            }
            , h = 0; h < e.length; h++)
                l = e[h],
                _.isString(l) ? (t.verboseLog("_processTSResults", s[h], e[h]),
                d(s[h], e[h]),
                s[h].commit(n[h], c)) : (r.conflict(this, l, s[h], o, a),
                t.verboseLog("_processTSResults: not an apiid:", l),
                s[h].newRemoteState(e[h]))
        }
        ,
        o.prototype.pushObject = function(e, i) {
            t.verboseLog(this.toString() + ".pushObject()", this, e, i),
            r.push(this, "object", e);
            var s = e.getStateForBackend()
              , n = s["Δid"]
              , o = s.state;
            t.assert(o.mtime, "for a test and set request, we expect (require) mtime");
            var a = this.pushObjectRequest(i, o, e, n);
            return a.addCallbackWith(this, function(e) {
                return this._processTSResult(e.response, e.object, e.deltaId, e.respHeaders)
            }),
            a.addErrback(function(e) {
                return TD.util.metric("sync:sobj_controller:push_object:error"),
                e
            }),
            a
        }
        ,
        o.prototype.pushObjectRequest = function(e, t, i, s) {
            var n = TD.net.ajax.request(TD.config.twitter_api_base + "/1.1/tweetdeck" + e, {
                method: "POST",
                params: t,
                headers: {
                    "x-td-iff-mtime": t.mtime,
                    "content-type": "application/json"
                },
                account: TD.sync.controller.getLoginAccount()
            });
            return n.addCallback(function(e) {
                return {
                    response: e.data || "",
                    object: i,
                    deltaId: s,
                    respHeaders: {
                        "x-td-mtime": e.xhr.getResponseHeader("x-td-mtime")
                    }
                }
            }),
            n
        }
        ,
        o.prototype._processTSResult = function(e, s, n, o) {
            r.tsResult(this, e, s, n, o),
            t.verboseLog("object", s, "delta", n),
            t.assert(null !== n, "Δid must not be null");
            var a;
            if (e instanceof i.Conflict)
                t.verboseLog("_processTSResult: got a conflict:", e),
                a = s.newRemoteState(e.body);
            else {
                t.assert(_.isString(e), "don't know how to handle response");
                var c = o["x-td-mtime"];
                t.assert(c, "require x-td-mtime header in object PUT"),
                t.verboseLog("_processTSResult", s, e),
                a = s.commit(n, c)
            }
            return a
        }
        ,
        o.prototype.checkInvariants = function() {
            var e = this;
            _.each(this._objects, function(i) {
                var s = i.checkInvariants;
                s && s.call(i),
                i.hasApiid() && t.assert(e._objectsByApiid[i.getApiid()], "all managed objects with apiid must be in _objectsByApiid")
            })
        }
        ,
        o
    }(TD.storage, TD.sync.util, TD.sync.tdapi, TD.storage.notification, TD.core.defer, TD.sync.trace)
}
, function(e, t) {
    "use strict";
    TD.storage.StoredObj = function(e, t, i, s, n, r, o) {
        function a(e) {
            this.controller = e
        }
        return a.prototype.controller = null ,
        a.prototype.managed = !1,
        a.prototype.stateCache = null ,
        a.prototype.state = null ,
        a.prototype.privateState = null ,
        a.prototype.eventname = "/storage/object",
        a.prototype._init = function(i) {
            i || (i = {}),
            o.objInit(this, i),
            this.state = {},
            this.privateState = {},
            _.isEmpty(i) ? (this.deltaQ = [],
            this.stateCache = null ) : (this.deltaQ = [new e.StoredDelta("init",i)],
            this.stateCache = _.clone(i)),
            t.verboseLog("StoredObj.init", this, i, this.deltaQ)
        }
        ,
        a.prototype.getApiid = function() {
            var e = this.getPrivate("apiid");
            return t.assert(e, "missing apiid", this),
            e
        }
        ,
        a.prototype.hasApiid = function() {
            return Boolean(this.getPrivate("apiid"))
        }
        ,
        a.prototype.setApiid = function(e) {
            return o.update("set apiid", this, [e]),
            this.setPrivate("apiid", e)
        }
        ,
        a.prototype.getKey = function() {
            return this.getPrivate("key")
        }
        ,
        a.prototype.setKey = function(e) {
            return this.setPrivate("key", e)
        }
        ,
        a.prototype._prepCache = function() {
            return null === this.stateCache && (t.assert(0 === this.deltaQ.length, "empty stateCache must coincide with empty ΔQ"),
            this.stateCache = _.clone(this.state)),
            this.stateCache
        }
        ,
        a.prototype.set = function(i, s) {
            return o.update("set", this, [i, s]),
            t.assert("columns" !== i, "you should be setting column_order, not columns"),
            this._prepCache(),
            this.deltaQ.push(new e.StoredDelta("set",i,s)),
            this.stateCache[i] = s,
            r.notify(this.eventname + "/change", this),
            this.controller.triggerPush()
        }
        ,
        a.prototype.setListPermutation = function(i, s) {
            TD.config.debug_checks && this.checkCache();
            var a = this.get(i);
            if (_.isEqual(s, a))
                return o.update("set null list permutation", this, [i, a, s]),
                t.stateLog("ignoring request to change list at", i),
                n.succeed();
            o.update("set list permutation", this, [i, a, s]);
            var c = e.StoredDelta.listPermutator(i, a, s);
            return t.verboseLog("set list permutation", a, "→", s, "Δs:", c),
            this.deltaQ = this.deltaQ.concat(c),
            this.stateCache = e.StoredDelta.applyMultiple(this.deltaQ, this.state),
            TD.config.debug_checks && this.checkCache(),
            r.notify(this.eventname + "/change", this),
            this.controller.triggerPush()
        }
        ,
        a.prototype.listPrepend = function(t, i) {
            o.update("list prepend", this, [t, i]);
            var s = this.get(t);
            return s || (s = []),
            this._prepCache(),
            this.deltaQ.push(new e.StoredDelta("linsert",t,i,0)),
            this.stateCache[t] = [i].concat(s),
            r.notify(this.eventname + "/change", this),
            this.controller.triggerPush()
        }
        ,
        a.prototype.listAppend = function(t, i) {
            o.update("list append", this, [t, i]);
            var s = this.get(t);
            return s || (s = []),
            this._prepCache(),
            this.deltaQ.push(new e.StoredDelta("linsert",t,i,s.length)),
            this.stateCache[t] = s.concat([i]),
            r.notify(this.eventname + "/change", this),
            this.controller.triggerPush()
        }
        ,
        a.prototype.listAdd = function(i, s) {
            var a = this.get(i);
            a || (a = []);
            var c = new e.StoredDelta("ladd",i,s,a.length)
              , l = c.applyToValue(i, a);
            return _.isEqual(l, a) ? (o.update("set null list add", this, [i, a, l]),
            t.stateLog("ignoring request to add to list at", i),
            n.succeed()) : (o.update("list add", this, [i, s]),
            this._prepCache(),
            this.deltaQ.push(c),
            this.stateCache[i] = l,
            r.notify(this.eventname + "/change", this),
            this.controller.triggerPush())
        }
        ,
        a.prototype.listTruncate = function(t, i) {
            o.update("list truncate", this, [t, i]);
            var s = this.get(t);
            return s || (s = []),
            this._prepCache(),
            this.deltaQ.push(new e.StoredDelta("ltrunc",t,i)),
            s.length > i && s.splice(i, s.length - i),
            this.stateCache[t] = s,
            r.notify(this.eventname + "/change", this),
            this.controller.triggerPush()
        }
        ,
        a.prototype.listRemove = function(t, i) {
            o.update("list remove", this, [t, i]);
            var s = this.get(t) || [];
            return this._prepCache(),
            this.deltaQ.push(new e.StoredDelta("ldel",t,i)),
            this.stateCache[t] = _.without(s, i),
            r.notify(this.eventname + "/change", this),
            this.controller.triggerPush()
        }
        ,
        a.prototype.listDedupe = function(t) {
            o.update("list dedupe", this, [t]);
            var i = this.get(t) || [];
            this._prepCache();
            var s = new e.StoredDelta("ldedupe",t);
            return this.deltaQ.push(s),
            this.stateCache[t] = s.applyToValue(t, i),
            r.notify(this.eventname + "/change", this),
            this.controller.triggerPush()
        }
        ,
        a.prototype.dictSet = function(t, i, s) {
            o.update("dict set", this, [t, i, s]),
            this._prepCache();
            var n = _.clone(this.get(t));
            return this.deltaQ.push(new e.StoredDelta("hset",t,i,s)),
            n || (n = {}),
            n[i] = s,
            this.stateCache[t] = n,
            r.notify(this.eventname + "/change", this),
            this.controller.triggerPush()
        }
        ,
        a.prototype.setPrivate = function(e, t) {
            var i = this.privateState[e];
            return this.privateState[e] = t,
            i !== t && r.notify(this.eventname + "/change", this),
            n.succeed()
        }
        ,
        a.prototype.getPrivate = function(e) {
            return this.privateState[e]
        }
        ,
        a.prototype.immutableSet = function(e, i) {
            var s = this.state[e];
            if (i != s)
                throw t.warn("ERROR: attempt to change", e, "of", this, "from", s, "to", i),
                new Error("attempt to modify immutable field " + e);
            return n.succeed()
        }
        ,
        a.prototype.setValueIffDifferent = function(e, i, s, o) {
            var a = this.get(e);
            return _.isEqual(a, i) ? n.succeed(null ) : (t.verboseLog(this, "setValueIffDifferent", e, "from", a, "to", i),
            s && r.notify(s, i, a, this),
            o && o(i, a),
            r.notify(this.eventname + "/change", this),
            this.set(e, i))
        }
        ,
        a.prototype.get = function(e) {
            return null === this.stateCache ? this.state[e] : this.stateCache[e]
        }
        ,
        a.prototype.latestDelta = function() {
            return _.isEmpty(this.deltaQ) ? null : this.deltaQ[this.deltaQ.length - 1].id
        }
        ,
        a.prototype.getStateForBackend = function() {
            TD.config.debug_checks && (t.precondition(this.isDirty(), "don't call getStateForBackend unless isDirty"),
            this.checkCache());
            var e = _.clone(null !== this.stateCache ? this.stateCache : this.state);
            return !e.mtime && this.state.mtime && (e.mtime = this.state.mtime),
            {
                "Δid": this.latestDelta(),
                state: this.transformForRemote(e, this.privateState)
            }
        }
        ,
        a.prototype.postProcessNewRemoteState = function() {}
        ,
        a.prototype.newRemoteState = function(i) {
            o.update("new remote state", this, i),
            TD.config.debug_checks && (t.stateLog("checking cache"),
            this.checkCache()),
            t.verboseLog("transforming to local:", this, t.clone(i)),
            this.state = this.transformToLocal(i),
            0 !== this.deltaQ.length ? (t.assert(null !== this.stateCache, "if we have Δs, we should have cache"),
            t.verboseLog("applying pending deltas", this, t.clone(this.deltaQ)),
            this.stateCache = e.StoredDelta.applyMultiple(this.deltaQ, this.state)) : t.assert(null === this.stateCache, "if no Δs, should have no cache"),
            this.postProcessNewRemoteState(),
            TD.config.debug_checks && (t.stateLog("checking cache"),
            this.checkCache()),
            r.notify(this.eventname + "/change", this)
        }
        ,
        a.prototype.commit = function(i, s) {
            o.update("commit", this, [i + " : " + s]);
            var n = _.pluck(this.deltaQ, "id").indexOf(i);
            if (-1 === n)
                throw t.stateLog("asked to commit " + i + " but it doesn't exist in " + _.map(this.deltaQ, function(e) {
                    return e.toString()
                })),
                new Error("invalid deltaId supplied");
            if (TD.config.debug_checks && this.checkCache(),
            n === this.deltaQ.length - 1)
                this.deltaQ = [],
                this.state = _.clone(this.stateCache),
                this.state.mtime = s,
                this.stateCache = null ,
                TD.config.debug_checks && this.checkCache();
            else {
                var r = this.deltaQ.splice(0, n + 1)
                  , a = e.StoredDelta.applyMultiple(r, this.state);
                this.state = a,
                this.state.mtime = s,
                this.stateCache.mtime = s,
                TD.config.debug_checks && this.checkCache(),
                this.controller.triggerPush()
            }
        }
        ,
        a.prototype.checkCache = function() {
            var i = e.StoredDelta.checkStateCache(this.state, this.deltaQ, this.stateCache);
            t.assert(i, "cache != state+Δs")
        }
        ,
        a.prototype.checkInvariants = function() {
            this.hasApiid() || t.assert(_.isEmpty(this.state), 'must have no "state" if no apiid'),
            t.assert(this.state && _.isUndefined(this.state.apiid), "apiid in non-priv state, bad"),
            this.isDirty() ? (t.assert(!_.isEmpty(this.deltaQ), "deltaQ must be non-empty if dirty"),
            t.assert(null !== this.stateCache, "cache must be present if dirty"),
            this.checkCache(),
            this.hasApiid() && t.assert(null !== this.latestDelta(), "latestDelta() must not return null for Δid for dirty object")) : (t.assert(_.isEmpty(this.deltaQ), "deltaQ must be empty if not dirty"),
            t.assert(null === this.stateCache, "cache must be absent if not dirty"))
        }
        ,
        a.prototype.isDirty = function() {
            return this.hasApiid() ? 0 !== this.deltaQ.length : (t.assert(0 !== this.deltaQ.length, "should be dirty if no apiid"),
            !0)
        }
        ,
        a
    }(TD.storage, TD.sync.util, TD.sync.tdapi, TD.util, TD.core.defer, TD.storage.notification, TD.sync.trace)
}
, function(e, t) {
    "use strict";
    var i = {};
    i.CURRENT_VERSION = 5,
    i.getVersion = function(e) {
        var t = e.getItem("__version__");
        return null === t ? i.guessVersion(e) : Number(t)
    }
    ,
    i.guessVersion = function(e) {
        var t = e.getItem("settings")
          , i = e.getItem("clients")
          , s = e.getItem("columns");
        if (i && !t && (i = JSON.parse(i),
        !_.isEmpty(i))) {
            var n = _.values(i)[0];
            if ("ΔQ"in n)
                return 2
        }
        return !i && t && s ? 0 : 4
    }
    ,
    i.doUpgrade = function(e) {
        var t = i.getVersion(e._backend);
        (!t || 4 > t) && i._upgradeAllToV4(e),
        t = i.getVersion(e._backend),
        5 > t && i._upgradeV4ToV5(e),
        e.setVersion(this.CURRENT_VERSION)
    }
    ,
    i._upgradeAllToV4 = function(e) {
        console.log("Upgrading store to v4"),
        e.constructor.flushDataFromStore(e._backend, e.constructor.PERSISTENT_SESSION_ITEMS),
        e.setVersion(4)
    }
    ,
    i._upgradeV4ToV5 = function(e) {
        window.sessionStorage && sessionStorage.removeItem("migrate");
        var t = e._backend;
        "tweetdeck" === t.getItem("currentAuthType") && (t.removeItem("currentAuthType"),
        t.removeItem("tweetdeckAccount"),
        t.removeItem("_session")),
        e.setVersion(5)
    }
    ,
    e.exports = i
}
, function(e, t) {
    "use strict";
    TD.sync.controller = function(e, t, i) {
        var s = {};
        return s.flushSyncDataAndReload = function() {
            TD.storage.Store.flushWebstorage(TD.storage.Store.PERSISTENT_SESSION_ITEMS),
            TD.util.isWrapperApp() && deck.tearDown(),
            window.location.reload()
        }
        ,
        s.updateFromBackendData = function(e) {
            TD.storage.accountController.updateFromBackend(e.accounts, e.client),
            TD.storage.feedController.updateFromBackend(e.feeds),
            TD.storage.columnController.updateFromBackend(e.columns),
            TD.storage.clientController.updateFromBackend(e.client),
            TD.decider.get("disable_decider_using_dedicated_endpoint") && TD.decider.updateFromBackend(e.decider)
        }
        ,
        s.ueberpull = function() {
            e.trace("überpull");
            var t = i.succeed();
            return t.addCallback(function() {
                return TD.storage.columnController.triggerPush(.05)
            }),
            t.addErrback(e.errmark, "d.Eb:triggerPush"),
            t.addCallback(s.sync),
            t.addCallback(function(e) {
                $(document).trigger("dataMessages", {
                    messages: e.messages
                })
            }),
            t.addErrback(e.errmark, "d.Eb:sync.controller.updateFromBackend"),
            t
        }
        ,
        s.init = function() {
            var e = i.succeed();
            return e.addCallback(function() {
                TD.storage.feedController.init(),
                TD.storage.columnController.init(),
                TD.storage.accountController.init(),
                TD.storage.clientController.init();
                var e = TD.config.sync_period;
                _.isUndefined(e) && (e = 600),
                s.loop = setInterval(s.ueberpull, 1e3 * e)
            }),
            e.addCallback(s.sync),
            e
        }
        ,
        s.sync = function() {
            TD.util.metric("sync:controller:sync-with-cookie");
            var e = s.getLoginAccount()
              , t = s.fetchAccountsForTwitterAccount(e)
              , i = s.fetchAllForTwitterAccount(e);
            i.addErrback(function(t) {
                if (404 !== t.number)
                    return t;
                var i = TD.storage.clientController.createNewClientForTwitterAccount(e);
                return i.addCallback(function() {
                    return s.fetchAllForTwitterAccount(e)
                }),
                i
            }),
            i.addCallback(function(e) {
                return delete e.decider,
                e
            });
            var n = TD.core.defer.gatherResults([i, t]).addCallback(function(e) {
                var t = e[0];
                return t.accounts = e[1],
                t
            });
            return s.addHandlersToSyncDeferred(n)
        }
        ,
        s.addHandlersToSyncDeferred = function(t) {
            return t.addErrback(TD.util.effect(e.warn.bind(e, "WARNING! sync with twitter account failed"))),
            t.addCallback(s.infillMissingAccountsForSyncData),
            t.addCallback(TD.util.dEffect(s.updateFromBackendData)),
            t.addCallbackWith(TD.decider, TD.util.dEffect(TD.decider.updateForLoginAccount)),
            t.addErrback(TD.util.effect(e.warn.bind(e, "WARNING! decider poll failed"))),
            t
        }
        ,
        s.fetchAccounts = function() {
            return t.drequest("/accounts")
        }
        ,
        s.fetchAccountsForTwitterAccount = function(e) {
            return TD.net.ajax.request(TD.config.twitter_api_base + "/1.1/users/contributees.json", {
                account: e
            }).addCallback(function(t) {
                var i = t.data.map(function(e) {
                    return TD.storage.Account.generateRemoteDataForTwitterUser(e.user)
                });
                return [e.getStateForBackend({
                    withIdentifiers: !0
                })].concat(i)
            })
        }
        ,
        s.infillMissingAccountsForSyncData = function(e) {
            var t = e.accounts.map(function(e) {
                return TD.storage.Account.generateKeyFor(e.service, e.uid)
            })
              , i = s.getWhitelistFromSyncData(e)
              , n = s.getMissingTwitterIdsFromKeys(t, i).map(TD.storage.Account.generateRemoteDataForId)
              , r = e.accounts.concat(n);
            return $.extend({}, e, {
                accounts: r
            })
        }
        ,
        s.getWhitelistFromSyncData = function(e) {
            return e && e.client && e.client.settings && e.client.settings.account_whitelist ? e.client.settings.account_whitelist : []
        }
        ,
        s.getMissingTwitterIdsFromKeys = function(e, t) {
            return _.difference(t, e).map(TD.storage.Account.getIdentifiersForKey).filter(function(e) {
                return "twitter" === e.service
            }).map(function(e) {
                return e.id
            })
        }
        ,
        s.fetchAllForTwitterAccount = function(e) {
            return TD.net.ajax.request(TD.config.twitter_api_base + "/1.1/tweetdeck/clients/blackbird/all", {
                account: e
            }).addCallback(function(e) {
                return e.data
            })
        }
        ,
        s.getLoginAccount = function() {
            return TD.storage.store.getTwitterLoginAccount() || this.temporaryLoginAccount
        }
        ,
        s.checkInvariants = function() {
            var e = [TD.storage.feedController, TD.storage.columnController, TD.storage.accountController, TD.storage.clientController];
            _.each(e, function(e) {
                var t = e.checkInvariants;
                t && t.call(e)
            })
        }
        ,
        s.reset = function() {
            s.loop && (clearInterval(s.loop),
            delete s.loop),
            TD.storage.columnController.reset(),
            TD.storage.feedController.reset(),
            TD.storage.accountController.reset(),
            TD.storage.clientController.reset()
        }
        ,
        s
    }(TD.sync.util, TD.sync.tdapi, TD.core.defer)
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(19)
      , r = s(n);
    TD.sync.tdapi = function(e, t, i, s) {
        var n = {}
          , o = null
          , a = null
          , c = function(e, t) {
            return "x-td-basic " + s.encode(e + ":" + t)
        }
          , l = function() {
            if (!o)
                throw new Error("Not Logged In");
            return "X-TD-Session " + o
        }
          , u = function(e) {
            return _.isUndefined(e.session) || (o = e.session),
            e
        }
          , d = function(e) {
            try {
                e.req.responseJSON = JSON.parse(e.req.responseText)
            } catch (t) {
                TD.sync.util.verboseLog("Could not parse error response JSON. Probably was none.", t)
            }
            return e
        }
        ;
        n.forgetSession = function() {
            o = null
        }
        ,
        n.getDecider = function(e) {
            var t = "/decider?identifier=" + e
              , i = {
                type: "GET"
            };
            return n.drequest(t, i, {})
        }
        ,
        n.login = function(e, t) {
            var i = "/login"
              , s = {
                type: "POST",
                headers: {
                    Authorization: c(e, t),
                    "X-TD-Authtype": "tweetdeck"
                }
            }
              , r = n.drequest(i, s, {});
            return r.addCallback(u),
            r
        }
        ,
        n.twogin = function(e, t, i) {
            i = i || {};
            var s = i.doXAuth ? "/xauth" : "/login"
              , r = {
                type: "POST",
                headers: {
                    Authorization: c(e, t),
                    "X-TD-Authtype": "twitter"
                }
            }
              , o = n.drequest(s, r, {});
            return o.addErrback(d),
            o.addCallback(u),
            o
        }
        ,
        n.twoginSend2FACode = function(e, t, i) {
            i = i || {};
            var s = i.doXAuth ? "/xauth" : "/login"
              , o = {
                login_verification_request_id: i.requestId,
                login_verification_user_id: "" + i.userId
            };
            i.code && (o.login_verification_challenge_response = i.code);
            var a = {
                type: "POST",
                data: (0,
                r.default)(o),
                contentType: "application/json",
                headers: {
                    "X-TD-Authtype": "twitter"
                }
            }
              , c = n.drequest(s, a, {});
            return c.addErrback(d),
            c.addCallback(u),
            c
        }
        ,
        n.logout = function(e) {
            if (!n.isLoggedIn())
                return TD.core.defer.succeed();
            e = e || {};
            var t = "/logout" + (e.allSessions ? "?all_sessions=true" : "")
              , i = n.drequest(t, n.getReq({
                method: "POST"
            }));
            return i.addCallback(TD.util.effect(n.forgetSession)),
            i
        }
        ,
        n.importSetup = function(e, t) {
            return n.requestWithBody("/import", "POST", {
                from_username: e,
                passhash: t
            })
        }
        ,
        n.importPreview = function(e, t) {
            return n.drequest("/import/preview", {
                type: "POST",
                headers: {},
                data: (0,
                r.default)({
                    from_username: e,
                    passhash: t
                }),
                contentType: "application/json"
            })
        }
        ,
        n.isLoggedIn = function() {
            return Boolean(o)
        }
        ,
        n.setSession = function(e) {
            o = e
        }
        ,
        n.saveSession = function() {
            TD.storage.store.setSessionData(o)
        }
        ,
        n.onAuthFail = function(e, t) {
            a = e
        }
        ,
        n.createAccount = function(e, t, i, s) {
            var r = TD.util.iso8601(new Date)
              , o = "/user" + TD.config.td_create_key + r
              , a = new window.jsSHA(o,"ASCII")
              , l = a.getHMAC(TD.config.td_create_secret, "ASCII", "SHA-256", "B64")
              , d = "/user"
              , h = {
                type: "PUT",
                headers: {
                    Authorization: c(e, t),
                    "x-td-sig": l,
                    "x-td-timestamp": r,
                    "x-td-create": TD.config.td_create_key
                }
            }
              , m = n.drequest(d, h);
            return m.addCallback(u),
            m
        }
        ,
        n.Conflict = function(e) {
            this.body = e
        }
        ;
        var h = new RegExp("^([^:]*): (.*)$")
          , m = function(e, t) {
            _.isUndefined(t) && (t = {});
            var i = e.getAllResponseHeaders()
              , s = i.split("\r\n");
            return 1 == s.length && (s = i.split("\n")),
            _.each(s, function(e) {
                var i = e.match(h);
                i && (t[i[1].toLowerCase()] = i[2])
            }),
            t
        }
        ;
        return n.drequest = function(s, r, o, c) {
            var l = _.uniqueId(r && r.reqid ? "[" + r.reqid + "]rq:" : "rq:");
            if (e.stateLog("drequest", l, s, r),
            (null === r || _.isUndefined(r)) && (r = n.getReq()),
            i.request(l, s, r),
            "/" == s.charAt(0) && (s = TD.config.api_root + s),
            !_.startsWith(s, "http://") && !_.startsWith(s, "https://"))
                return t.fail(new Error("Malformed url"));
            r.headers = _.defaults(r.headers || {}, {
                "X-Twitter-Client-Version": TD.util.getTweetDeckUserAgentString()
            });
            var u = function(i, s) {
                var n = jQuery.ajax(i, s)
                  , r = new t.Deferred;
                return n.done(function(e, t, i) {
                    r.callback(i)
                }),
                n.fail(function(i, s, n) {
                    409 === i.status ? (e.assert("Conflict" === n, "409 should be Conflict"),
                    r.callback(i)) : r.errback(new t.XMLHttpRequestError(i,n))
                }),
                r
            }
              , d = u(s, r);
            d.reqid = l;
            var h = function(e) {
                var t, i = e.req;
                if (401 !== i.status || c)
                    throw e;
                if (t = m(i),
                "X-TD-Session" !== t["www-authenticate"])
                    throw e;
                throw a && a(),
                e
            }
            ;
            d.addErrback(h);
            var p = function(t, a) {
                var c, u = function(t) {
                    if ("" === t)
                        return t;
                    try {
                        return JSON.parse(t)
                    } catch (i) {
                        return _.isEmpty(t) || e.warn(["failed to json parse drequest response;", t, "for request", s, r]),
                        t
                    }
                }
                ;
                return c = 409 === t.status ? new n.Conflict(u(t.responseText)) : u(t.responseText),
                o && m(t, o),
                o && o.date && TD.storage.notification.notify("/date", o.date),
                e.stateLog("drequest ret", l, s, c, t.getAllResponseHeaders().split("\n")),
                i.response(l, s, c, o),
                c
            }
            ;
            return d.addCallback(p, l),
            d
        }
        ,
        n.requestWithBody = function(e, t, i, s, o, a, c) {
            var l = n.getReq({
                type: t,
                reqid: a,
                headers: o || {},
                data: (0,
                r.default)(i),
                contentType: "application/json"
            });
            return n.drequest(e, l, s, c)
        }
        ,
        n.getReq = function(e) {
            var t = {
                type: "GET",
                headers: {}
            };
            for (var i in e)
                e.hasOwnProperty(i) && (t[i] = e[i]);
            return t.headers.Authorization = l(),
            e && e.method && (t.type = e.method),
            t
        }
        ,
        n
    }(TD.sync.util, TD.core.defer, TD.sync.trace, TD.core.base64)
}
, function(e, t) {
    "use strict";
    TD.sync.trace = function(e) {
        var t = {}
          , i = [];
        return t.record = function() {
            var t = (new Date).toLocaleTimeString();
            i.push([t].concat(_.toArray(arguments))),
            TD.config.debug_trace && e.stateLog.apply(null , ["-------- TRACE: " + t].concat(_.toArray(arguments))),
            TD.config.debug_menu || i.length > 200 && i.splice(0, 100)
        }
        ,
        t.request = function(e, i, s) {
            t.record("request", e, s.type, i, _.clone(s))
        }
        ,
        t.response = function(e, i, s, n) {
            t.record("response", e, i, _.clone(s), _.clone(n))
        }
        ,
        t.objInit = function(e, i, s) {
            t.record("obj init", e, _.clone(i), _.clone(s))
        }
        ,
        t.manage = function(i, s) {
            t.record("manage", i, s, e.clone(s.getStateForLocalstorage()))
        }
        ,
        t.update = function(e, i, s) {
            t.record("update", e, i, _.clone(s))
        }
        ,
        t.push = function(i, s, n, r) {
            t.record("push", i, s, _.clone(n), e.clone(r))
        }
        ,
        t.tsResults = function(e, i, s, n, r, o) {
            t.record("t+s results", e, _.clone(i), _.clone(s), _.clone(n), _.clone(r), o)
        }
        ,
        t.tsResult = function(e, i, s, n, r, o) {
            t.record("t+s result", e, _.clone(i), _.clone(s), n, _.clone(r), o)
        }
        ,
        t.conflicts = function(e, i, s, n, r) {
            t.record("conflicts", e, _.clone(i), _.clone(s), _.clone(n), r)
        }
        ,
        t.conflict = function(e, i, s, n, r) {
            t.record("conflict", e, _.clone(i), _.clone(s), _.clone(n), r)
        }
        ,
        t.assert = function(i, s) {
            t.record("ASSERT", i, s, e.getStack())
        }
        ,
        t.clear = function() {
            i = []
        }
        ,
        t.logDump = function() {
            var e = "-------------------------------------------------------------";
            console.log(e + " TRACE dump " + e),
            _.each(i, function(e) {
                console.log(e)
            }),
            console.log(e + "  END dump  " + e)
        }
        ,
        t.logSummarise = function() {
            var t = "-------------------------------------------------------------";
            console.log(t + " TRACE dump " + t);
            var s = e.list_to_set(["obj init", "update"]);
            _.each(i, function(e) {
                s[e[1]] || console.log(e)
            }),
            console.log(t + "  END dump  " + t)
        }
        ,
        t
    }(TD.sync.util)
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(18)
      , r = s(n);
    TD.util.columnUtils = function() {
        var e = {};
        return e.storageColumnTypes = {
            OTHER: "other",
            HOME: "home",
            ME: "me",
            INBOX: "privateMe",
            SCHEDULED: "scheduled"
        },
        e.feedTypes = {
            HOME: "home",
            USERTIMELINE: "usertimeline",
            INTERACTIONS: "interactions",
            MENTIONS: "mentions",
            SEARCH: "search",
            LIST: "list",
            CUSTOMTIMELINE: "customtimeline",
            DIRECT: "direct",
            USERTWEETS: "usertweets",
            FAVORITES: "favorites",
            NETWORKACTIVITY: "networkactivity",
            SCHEDULED: "scheduled",
            DATAMINR: "dataminr"
        },
        e.allFeedTypes = (0,
        r.default)(e.feedTypes).reduce(function(t, i) {
            return t[e.feedTypes[i]] = !0,
            t
        }, {}),
        e.nonExhaustibleFeedTypes = {},
        TD.util.extendObjectWith(e.nonExhaustibleFeedTypes, [[e.feedTypes.CUSTOMTIMELINE, !0], [e.feedTypes.FAVORITES, !0]]),
        e.gaplessFeedTypes = {},
        TD.util.extendObjectWith(e.gaplessFeedTypes, [[e.feedTypes.CUSTOMTIMELINE, !0], [e.feedTypes.DIRECT, !0], [e.feedTypes.SCHEDULED, !0]]),
        e.followingFeedTypes = {},
        TD.util.extendObjectWith(e.followingFeedTypes, [[e.feedTypes.HOME, !0], [e.feedTypes.NETWORKACTIVITY, !0]]),
        e.muteableFeedTypes = {},
        TD.util.extendObjectWith(e.muteableFeedTypes, [[e.feedTypes.HOME, !0], [e.feedTypes.INTERACTIONS, !0], [e.feedTypes.MENTIONS, !0], [e.feedTypes.NETWORKACTIVITY, !0]]),
        e.columnMetaTypes = {
            TIMELINE: "col_timeline",
            INTERACTIONS: "col_interactions",
            MENTIONS: "col_mentions",
            FOLLOWERS: "col_followers",
            SEARCH: "col_search",
            LIST: "col_list",
            CUSTOMTIMELINE: "col_customtimeline",
            MESSAGES: "col_messages",
            USERTWEETS: "col_usertweets",
            FAVORITES: "col_favorites",
            ACTIVITY: "col_activity",
            DATAMINR: "col_dataminr",
            HOME: "col_home",
            ME: "col_me",
            INBOX: "col_inbox",
            SCHEDULED: "col_scheduled",
            UNKNOWN: "col_unknown"
        },
        e.columnMetaTypeToScribeNamespace = {},
        TD.util.extendObjectWith(e.columnMetaTypeToScribeNamespace, [[e.columnMetaTypes.TIMELINE, {
            page: "home",
            section: ""
        }], [e.columnMetaTypes.INTERACTIONS, {
            page: "connect",
            section: "activity"
        }], [e.columnMetaTypes.MENTIONS, {
            page: "connect",
            section: "mentions"
        }], [e.columnMetaTypes.SEARCH, {
            page: "search",
            section: "tweets"
        }], [e.columnMetaTypes.LIST, {
            page: "list",
            section: "tweets"
        }], [e.columnMetaTypes.USERTWEETS, {
            page: "profile_tweets",
            section: ""
        }], [e.columnMetaTypes.FAVORITES, {
            page: "favorites",
            section: ""
        }], [e.columnMetaTypes.ACTIVITY, {
            page: "network_activity",
            section: ""
        }], [e.columnMetaTypes.DATAMINR, {
            page: "dataminr",
            section: "watchlist"
        }], [e.columnMetaTypes.HOME, {
            page: "home",
            section: ""
        }], [e.columnMetaTypes.ME, {
            page: "connect",
            section: "mentions"
        }]]),
        e.columnIconClasses = {
            TWITTER: "icon-twitter-bird",
            HASH: "icon-hash",
            CONTENT: "icon-content",
            USER: "icon-user",
            HOME: "icon-home",
            INTERACTIONS: "icon-notifications",
            ACTIVITY: "icon-activity",
            MENTIONS: "icon-mention",
            FOLLOWERS: "icon-follow",
            MESSAGES: "icon-message",
            SEARCH: "icon-search",
            LIST: "icon-list",
            TWEETS: "icon-tweets",
            FAVORITES: "icon-favorite",
            SCHEDULED: "icon-schedule",
            TRENDS: "icon-trending",
            CUSTOMTIMELINE: "icon-custom-timeline",
            DATAMINR: "icon-dataminr"
        },
        e.columnClasses = {
            TWITTER: "type-twitter",
            HOME: "column-type-home",
            INTERACTIONS: "column-type-interactions",
            ACTIVITY: "column-type-activity",
            MENTIONS: "column-type-mention",
            FOLLOWERS: "column-type-new-followers",
            MESSAGES: "column-type-message",
            SEARCH: "column-type-search",
            LIST: "column-type-list",
            CUSTOMTIMELINE: "column-type-customtimeline",
            TWEETS: "column-type-tweets",
            FAVORITES: "column-type-favorite",
            SCHEDULED: "column-type-scheduled",
            TRENDS: "column-type-trends"
        },
        e.columnMetaTypeToIconClass = {},
        TD.util.extendObjectWith(e.columnMetaTypeToIconClass, [[e.columnMetaTypes.TIMELINE, e.columnIconClasses.HOME], [e.columnMetaTypes.INTERACTIONS, e.columnIconClasses.INTERACTIONS], [e.columnMetaTypes.MENTIONS, e.columnIconClasses.MENTIONS], [e.columnMetaTypes.FOLLOWERS, e.columnIconClasses.FOLLOWERS], [e.columnMetaTypes.SEARCH, e.columnIconClasses.SEARCH], [e.columnMetaTypes.LIST, e.columnIconClasses.LIST], [e.columnMetaTypes.CUSTOMTIMELINE, e.columnIconClasses.CUSTOMTIMELINE], [e.columnMetaTypes.MESSAGES, e.columnIconClasses.MESSAGES], [e.columnMetaTypes.USERTWEETS, e.columnIconClasses.USER], [e.columnMetaTypes.FAVORITES, e.columnIconClasses.FAVORITES], [e.columnMetaTypes.ACTIVITY, e.columnIconClasses.ACTIVITY], [e.columnMetaTypes.HOME, e.columnIconClasses.HOME], [e.columnMetaTypes.ME, e.columnIconClasses.MENTIONS], [e.columnMetaTypes.INBOX, e.columnIconClasses.MESSAGES], [e.columnMetaTypes.SCHEDULED, e.columnIconClasses.SCHEDULED], [e.columnMetaTypes.UNKNOWN, e.columnIconClasses.TWITTER], [e.columnMetaTypes.DATAMINR, e.columnIconClasses.DATAMINR]]),
        e.columnMetaTypeToClass = {},
        TD.util.extendObjectWith(e.columnMetaTypeToClass, [[e.columnMetaTypes.TIMELINE, e.columnClasses.HOME], [e.columnMetaTypes.INTERACTIONS, e.columnClasses.INTERACTIONS], [e.columnMetaTypes.MENTIONS, e.columnClasses.MENTIONS], [e.columnMetaTypes.FOLLOWERS, e.columnClasses.FOLLOWERS], [e.columnMetaTypes.SEARCH, e.columnClasses.SEARCH], [e.columnMetaTypes.LIST, e.columnClasses.LIST], [e.columnMetaTypes.CUSTOMTIMELINE, e.columnClasses.CUSTOMTIMELINE], [e.columnMetaTypes.MESSAGES, e.columnClasses.MESSAGES], [e.columnMetaTypes.USERTWEETS, e.columnClasses.TWEETS], [e.columnMetaTypes.FAVORITES, e.columnClasses.FAVORITES], [e.columnMetaTypes.ACTIVITY, e.columnClasses.ACTIVITY], [e.columnMetaTypes.HOME, e.columnClasses.HOME], [e.columnMetaTypes.ME, e.columnClasses.MENTIONS], [e.columnMetaTypes.INBOX, e.columnClasses.MESSAGES], [e.columnMetaTypes.SCHEDULED, e.columnClasses.SCHEDULED], [e.columnMetaTypes.UNKNOWN, e.columnClasses.TWITTER]]),
        e.columnMetaTypeToTitleTemplateData = {},
        TD.util.extendObjectWith(e.columnMetaTypeToTitleTemplateData, [[e.columnMetaTypes.TIMELINE, {
            title: TD.i("Home", null , !0),
            needsUserAttribution: !0
        }], [e.columnMetaTypes.INTERACTIONS, {
            title: TD.i("Notifications", null , !0),
            needsUserAttribution: !0
        }], [e.columnMetaTypes.MENTIONS, {
            title: TD.i("Mentions", null , !0),
            needsUserAttribution: !0
        }], [e.columnMetaTypes.FOLLOWERS, {
            title: TD.i("Followers", null , !0),
            needsUserAttribution: !0
        }], [e.columnMetaTypes.SEARCH, {
            needsUserAttribution: !0
        }], [e.columnMetaTypes.LIST, {
            needsUserAttribution: !0
        }], [e.columnMetaTypes.CUSTOMTIMELINE, {
            needsUserAttribution: !0,
            editableFieldClass: "js-customtimeline-title",
            maxLength: 25
        }], [e.columnMetaTypes.MESSAGES, {
            title: TD.i("Messages", null , !0),
            needsUserAttribution: !0
        }], [e.columnMetaTypes.USERTWEETS, {
            title: TD.i("User", null , !0),
            needsUserAttribution: !0
        }], [e.columnMetaTypes.FAVORITES, {
            title: TD.i("Favorites", null , !0),
            needsUserAttribution: !0
        }], [e.columnMetaTypes.ACTIVITY, {
            title: TD.i("Activity", null , !0),
            needsUserAttribution: !0
        }], [e.columnMetaTypes.HOME, {
            title: TD.i("Home", null , !0)
        }], [e.columnMetaTypes.ME, {
            title: TD.i("Mentions", null , !0)
        }], [e.columnMetaTypes.INBOX, {
            title: TD.i("Messages", null , !0)
        }], [e.columnMetaTypes.SCHEDULED, {
            title: TD.i("Scheduled", null , !0),
            needsUserAttribution: !0
        }], [e.columnMetaTypes.DATAMINR, {
            needsUserAttribution: !0
        }], [e.columnMetaTypes.UNKNOWN, {
            title: TD.i("Unknown Column", null , !0)
        }]]),
        e.embeddableColumnTypes = [e.columnMetaTypes.FAVORITES, e.columnMetaTypes.USERTWEETS, e.columnMetaTypes.SEARCH, e.columnMetaTypes.LIST, e.columnMetaTypes.CUSTOMTIMELINE],
        e.shareableColumnTypes = [e.columnMetaTypes.CUSTOMTIMELINE],
        e.viewableColumnTypes = [e.columnMetaTypes.CUSTOMTIMELINE],
        e.filterableColumnTypes = [e.columnMetaTypes.TIMELINE, e.columnMetaTypes.INTERACTIONS, e.columnMetaTypes.MENTIONS, e.columnMetaTypes.FOLLOWERS, e.columnMetaTypes.SEARCH, e.columnMetaTypes.LIST, e.columnMetaTypes.CUSTOMTIMELINE, e.columnMetaTypes.MESSAGES, e.columnMetaTypes.USERTWEETS, e.columnMetaTypes.FAVORITES, e.columnMetaTypes.ACTIVITY, e.columnMetaTypes.HOME, e.columnMetaTypes.ME, e.columnMetaTypes.INBOX, e.columnMetaTypes.SCHEDULED, e.columnMetaTypes.DATAMINR],
        e.actionColumnTypes = [e.columnMetaTypes.INTERACTIONS, e.columnMetaTypes.MENTIONS, e.columnMetaTypes.ACTIVITY, e.columnMetaTypes.FOLLOWERS],
        e.singleActionColumnTypes = [e.columnMetaTypes.MENTIONS, e.columnMetaTypes.FOLLOWERS],
        e.mediaPreviewableColumnTypes = [e.columnMetaTypes.TIMELINE, e.columnMetaTypes.INTERACTIONS, e.columnMetaTypes.MENTIONS, e.columnMetaTypes.SEARCH, e.columnMetaTypes.LIST, e.columnMetaTypes.CUSTOMTIMELINE, e.columnMetaTypes.USERTWEETS, e.columnMetaTypes.FAVORITES, e.columnMetaTypes.ACTIVITY, e.columnMetaTypes.HOME, e.columnMetaTypes.ME, e.columnMetaTypes.DATAMINR],
        e.combinedColumnTypes = {},
        TD.util.extendObjectWith(e.combinedColumnTypes, [[e.columnMetaTypes.ME, !0], [e.columnMetaTypes.INBOX, !0], [e.columnMetaTypes.SCHEDULED, !0]]),
        e.getColumnType = function(t) {
            var i = t.model.getType()
              , s = t.getFeeds();
            switch (i) {
            case e.storageColumnTypes.HOME:
                return e.columnMetaTypes.HOME;
            case e.storageColumnTypes.ME:
                return e.columnMetaTypes.ME;
            case e.storageColumnTypes.INBOX:
                return e.columnMetaTypes.INBOX;
            case e.storageColumnTypes.SCHEDULED:
                return e.columnMetaTypes.SCHEDULED;
            default:
                return 1 === s.length ? e._inferColumnTypeFromFeed(s[0], t) : e.columnMetaTypes.UNKNOWN
            }
        }
        ,
        e.isMessageColumn = function(t) {
            var i = e.getColumnType(t);
            return i === e.columnMetaTypes.MESSAGES || i === e.columnMetaTypes.INBOX
        }
        ,
        e._twitterFeedTypeToColumnMetaType = {},
        TD.util.extendObjectWith(e._twitterFeedTypeToColumnMetaType, [[e.feedTypes.HOME, e.columnMetaTypes.TIMELINE], [e.feedTypes.USERTIMELINE, e.columnMetaTypes.TIMELINE], [e.feedTypes.INTERACTIONS, e.columnMetaTypes.INTERACTIONS], [e.feedTypes.MENTIONS, e.columnMetaTypes.MENTIONS], [e.feedTypes.SEARCH, e.columnMetaTypes.SEARCH], [e.feedTypes.LIST, e.columnMetaTypes.LIST], [e.feedTypes.CUSTOMTIMELINE, e.columnMetaTypes.CUSTOMTIMELINE], [e.feedTypes.DIRECT, e.columnMetaTypes.MESSAGES], [e.feedTypes.USERTWEETS, e.columnMetaTypes.USERTWEETS], [e.feedTypes.FAVORITES, e.columnMetaTypes.FAVORITES], [e.feedTypes.NETWORKACTIVITY, e.columnMetaTypes.ACTIVITY], [e.feedTypes.DATAMINR, e.columnMetaTypes.DATAMINR]]),
        e._inferColumnTypeFromFeed = function(t, i) {
            var s, n, r = t.getService(), o = t.getType(), a = t.getMetadata(), c = e.columnMetaTypes.UNKNOWN;
            if ("twitter" === r)
                switch (c = e._twitterFeedTypeToColumnMetaType[o] || c,
                o) {
                case e.feedTypes.SEARCH:
                    var l = twttrTxt.extractMentionsWithIndices(a.term);
                    if (1 === l.length) {
                        var u = l[0];
                        0 === u.indices[0] && u.indices[1] === a.term.length && (c = e.columnMetaTypes.MENTIONS)
                    }
                    break;
                case e.feedTypes.INTERACTIONS:
                    if (s = i.model.getFilters()) {
                        n = new TD.vo.ActionFilter(s.action);
                        var d = n.getActiveFacetCount();
                        1 === d && (n.showMentions ? c = e.columnMetaTypes.MENTIONS : n.showFollowers && (c = e.columnMetaTypes.FOLLOWERS))
                    }
                }
            return c
        }
        ,
        e.getColumnIconClassByColumnType = function(t) {
            return e.columnMetaTypeToIconClass[t]
        }
        ,
        e.getColumnClassByColumnType = function(t) {
            return e.columnMetaTypeToClass[t]
        }
        ,
        e.toggleQuotedTweetUnavailable = function(e) {
            var t = TD.decider.get("disable_quote_tweet_unavailable_msg");
            e.each(function(e, i) {
                $(i).find(".quoted-tweet.quoted-tweet-unavailable").length > 0 ? $(i).find(".quoted-tweet.quoted-tweet-unavailable").each(function(e, s) {
                    $(s).toggleClass("is-vishidden", t),
                    $(i).find(".is-quote-tweet a.url-ext[rel=tweet]:last-child").each(function(e, i) {
                        null === i.nextSibling && $(i).toggleClass("is-vishidden", !t)
                    })
                }) : $(i).find(".is-quote-tweet a.url-ext[rel=tweet]:last-child").each(function(e, t) {
                    null === t.nextSibling && $(t).toggleClass("is-vishidden", !0)
                })
            })
        }
        ,
        e.getColumnTitleHTML = function(t, i) {
            i = i || {};
            var s, n, r, o, a, c = !1, l = t.getColumnType(), u = t.getFeeds(), d = t.model.getTitle(), h = {}, m = e.columnMetaTypeToTitleTemplateData[l];
            l === e.columnMetaTypes.FAVORITES && (m.title = TD.decider.get("hearts_and_likes2") ? TD.i("Likes") : TD.i("Favorites"));
            for (var p, f, g, v, T, w = 0; w < u.length; w++) {
                if (s = u[w],
                n = s.getType(),
                r = s.getMetadata())
                    switch (n) {
                    case e.feedTypes.LIST:
                        p = TD.cache.names.getScreenName(r.ownerId),
                        v = TD.cache.names.getListName(r.listId, r.ownerId),
                        v ? h.title = v : c = !0;
                        break;
                    case e.feedTypes.CUSTOMTIMELINE:
                        p = TD.cache.names.getScreenName(r.ownerId),
                        f = TD.storage.accountController.get(s.getAccountKey()).getProfileImageURL(),
                        T = TD.cache.names.getCustomTimelineName(r.id),
                        h.title = T;
                        break;
                    case e.feedTypes.SEARCH:
                        l === e.columnMetaTypes.MENTIONS ? p = r.term : g = r.baseQuery ? r.baseQuery : r.term,
                        g ? h.title = g : c = !0;
                        break;
                    case e.feedTypes.DATAMINR:
                        h.title = r.watchlist.name;
                        break;
                    default:
                        r.id ? (p = TD.cache.names.getScreenName(r.id),
                        p || (c = !0)) : l === e.columnMetaTypes.SCHEDULED && (p = TD.i("All accounts")),
                        h.title = m.title
                    }
                p || (o = TD.storage.accountController.get(s.getAccountKey()),
                a = o.getType(),
                "tweetdeck" !== a && (p = o.getUsername(),
                "twitter" === a && (p = TD.util.atMentionify(p))))
            }
            return m.needsUserAttribution && (p ? (h.needsUserAttribution = m.needsUserAttribution,
            h.screenName = p,
            h.profileImageURL = f) : c = !0),
            c ? TD.util.escape(d) : l === e.columnMetaTypes.UNKNOWN ? d ? TD.util.escape(d) : TD.ui.template.render("column_title", h) : i.editable ? (h.editableFieldClass = m.editableFieldClass,
            h.maxLength = m.maxLength,
            TD.ui.template.render("column_title_editable", h)) : TD.ui.template.render("column_title", h)
        }
        ,
        e.inferFeedTypeFromActionFilter = function(e) {
            var t = this.feedTypes.INTERACTIONS
              , i = e.getActiveFacetCount();
            return 1 === i && e.showMentions && (t = this.feedTypes.MENTIONS),
            t
        }
        ,
        e
    }()
}
, function(e, t, i) {
    "use strict";
    var s = i(248);
    s.mapbox.accessToken = TD.config.mapbox_access_token,
    i(866),
    e.exports = s
}
, function(e, t) {
    "use strict";
    TD.util.poller = function() {
        var e = {};
        return e.isCacheHit = function(e) {
            return e.chirps.length || e.remainderCursor.interval.empty
        }
        ,
        e.getRefreshCursor = function(t, i) {
            return {
                bounds: {
                    lower: e.calculateLowerBound(t.getKey(), i, {
                        isGapless: TD.util.columnUtils.gaplessFeedTypes[t.getType()]
                    })
                },
                interval: e.getRefreshCursorInterval(i)
            }
        }
        ,
        e.getRefreshCursorInterval = function(e) {
            var t = e.find(function(e) {
                return "rest" === e.apiSource
            });
            return new TD.services.ChirpInterval(t ? TD.services.ChirpInterval.excEnd(t) : TD.services.ChirpInterval.negInf,TD.services.ChirpInterval.posInf)
        }
        ,
        e.getBottomChirp = function(e) {
            return e[e.length - 1]
        }
        ,
        e.getTopChirp = function(e) {
            return e[0]
        }
        ,
        e.makeChirpInterval = function(t) {
            return 0 === t.length ? TD.services.ChirpInterval.empty : new TD.services.ChirpInterval(TD.services.ChirpInterval.incEnd(e.getBottomChirp(t)),TD.services.ChirpInterval.incEnd(e.getTopChirp(t)))
        }
        ,
        e.makeRequestResultInterval = function(t, i) {
            return 0 === t.length ? TD.services.ChirpInterval.empty : new TD.services.ChirpInterval(TD.services.ChirpInterval.incEnd(e.getBottomChirp(t)),i.to)
        }
        ,
        e.getBoundsForChirp = function(t, i) {
            return {
                lower: e.getLowerBoundForChirp(t, i),
                upper: e.getUpperBoundForChirp(t, i)
            }
        }
        ,
        e.annotateChirpsWithApiBounds = function(e, t) {
            return t.map(function(t) {
                var i = TD.util.poller.getBoundsForChirp(e.getType(), t);
                return t.setApiBounds(e.getKey(), i)
            })
        }
        ,
        e.calculateUpperBound = function(e, t) {
            for (var i, s = t.length - 1; s >= 0 && "undefined" == typeof i; )
                i = t[s].getApiBounds(e).upper,
                s -= 1;
            return i
        }
        ,
        e.getUpperBoundForChirp = function(e, t) {
            var i, s = TD.controller.FeedPoller.CURSORED_ON_TWEET_TIMESTAMP[e], n = e === TD.controller.FeedPoller.FEED_TYPES.search, r = TD.controller.FeedPoller.CURSORED_FEED_TYPES[e], o = TD.controller.FeedPoller.SCHEDULED_FEED_TYPES[e], a = e === TD.controller.FeedPoller.FEED_TYPES.dataminr, c = e === TD.controller.FeedPoller.FEED_TYPES.direct, l = t.id, u = TD.decider.get("universal_search_timelines"), d = function(e, t, i) {
                return t > e.length - 1 ? e : e.substr(0, t) + i + e.substr(t + 1)
            }
            ;
            if (o)
                l = t.created.getTime() / 1e3;
            else if (n && u)
                l = u && TD.decider.get("universal_search_timelines_by_id") ? t.id : t.created.getTime() / 1e3;
            else if (s)
                l = t.minPosition || t.created.getTime(),
                l -= 1;
            else if (r)
                l = t.cursor;
            else if (a)
                l = t.dataminr.created.getTime();
            else if (c)
                l = t.minEntryId;
            else if ("string" == typeof l)
                for (var h = l.length - 1; h >= 0; h--) {
                    if (i = l.charAt(h),
                    "0" !== i) {
                        i = String(Number(i) - 1),
                        l = d(l, h, i);
                        break
                    }
                    l = d(l, h, 9)
                }
            else
                l--;
            return l
        }
        ,
        e.calculateLowerBound = function(e, t, i) {
            i = _.defaults({}, i, {
                isGapless: !1
            });
            for (var s, n = i.isGapless ? 0 : 1; n < t.length && "undefined" == typeof s; )
                "rest" === t[n].apiSource && (s = t[n].getApiBounds(e).lower),
                n += 1;
            return s
        }
        ,
        e.getLowerBoundForChirp = function(e, t) {
            var i = TD.controller.FeedPoller.CURSORED_ON_TWEET_TIMESTAMP[e]
              , s = e === TD.controller.FeedPoller.FEED_TYPES.search
              , n = TD.controller.FeedPoller.CURSORED_FEED_TYPES[e]
              , r = TD.controller.FeedPoller.SCHEDULED_FEED_TYPES[e]
              , o = e === TD.controller.FeedPoller.FEED_TYPES.dataminr
              , a = e === TD.controller.FeedPoller.FEED_TYPES.direct
              , c = 1
              , l = TD.decider.get("universal_search_timelines");
            return c = r ? t.created.getTime() / 1e3 : s && l ? l && TD.decider.get("universal_search_timelines_by_id") ? t.id : t.created.getTime() / 1e3 : i ? t.maxPosition || t.created.getTime().toString() : n ? t.cursor : o ? t.dataminr.created.getTime() : a ? t.cursor : t.getSinceId()
        }
        ,
        e
    }()
}
, function(e, t) {
    "use strict";
    var i = {};
    i.chirpPasses = function(e, t) {
        return t instanceof TD.services.TwitterStatus ? i.tweetPasses(e, t) : t instanceof TD.services.TwitterAction ? i.actionPasses(e, t) : !0
    }
    ,
    i.userPasses = function(e, t) {
        return t ? !e[t.id] : !0
    }
    ,
    i.tweetPasses = function(e, t) {
        return t ? i.userPasses(e, t.user) && i.tweetPasses(e, t.retweetedStatus) && i.tweetPasses(e, t.quotedTweet) : !0
    }
    ,
    i.actionPasses = function(e, t) {
        return t ? i.userPasses(e, t.getCreator()) && t.getTargetUsers().every(i.userPasses.bind(i, e)) : !0
    }
    ,
    e.exports = i
}
, function(e, t, i) {
    "use strict";
    var s = i(92);
    TD.vo.Column = function(e, t) {
        TD.sync.util.assert(e, "must provide sColumn to create aColumn"),
        this.model = e,
        TD.sync.util.assert(this.model.getKey(), "vo.Column will most likely fail if your column has no key"),
        this.ui = new TD.ui.Column(this.model.getKey()),
        this._feeds = [],
        this.filters = [],
        this.description = "",
        this.reset(),
        this.scribedImpressionIDs = new s(200),
        this._isUpdating = !0,
        this.feedSubscriptions = {},
        this.deleteSubscriptions = {},
        this.visible = !0,
        this.visibility = {
            columnWidth: 0,
            visibleWidth: 0,
            visibleHeight: 0,
            visibleFraction: 0
        },
        this.temporary = !1,
        this.detailViewComponent = null ,
        this.UPWARD_SCROLL_CHIRP_BLOCK_SIZE = 40,
        this.INFINITE_SCROLL_CHIRP_BLOCK_SIZE = 20,
        this.TARGET_COLUMN_CHIRP_LIMIT = 40,
        this.RETRY_FILL_TIMEOUT = 1e3,
        this.loadFeeds(),
        this.loadFilters(),
        t && this.setFeeds(t),
        this.isFilterable() || this.updateSearchFilter(new TD.vo.SearchFilter),
        this.COLUMN_MINIMALIST_TWEET_TPM_THRESHOLD = 750,
        this.streamRate = 0;
        var i = this.updateStreamRate.bind(this);
        $(document).on("dataStreamRate", i),
        this.tpm = 0;
        var n = this.updateTpm.bind(this)
          , r = "dataColumn" + this.model.getKey() + "Tpm";
        $(document).on(r, n),
        this.tpmCounter = new TD.util.TpmCounter(500,5e3,r),
        this.STREAM_ITEM_CONTENT_SELECTOR = ".js-stream-item-content",
        this.STREAM_ITEM_SELECTOR = ".js-stream-item",
        $.subscribe("/storage/client/settings/display_sensitive_media", this.reloadTweets.bind(this)),
        this.throttledUpdateUnreadIndicators = _.throttle(this.updateUnreadIndicators.bind(this), 100),
        this.pausePlayGifs = _.throttle(this.pausePlayGifs.bind(this), 500),
        this.chirpsWithPlayingGifs = [],
        this.handleVisibleChirps = function(e, t) {
            if (t.columnKey === this.model.getKey()) {
                var i = t.chirpsData.map(function(e) {
                    return e.chirp
                })
                  , s = TD.util.getTopChirp([this.highWaterMarkSeenChirp].concat(i));
                s !== this.highWaterMarkSeenChirp && (this.highWaterMarkSeenChirp = s),
                this.throttledUpdateUnreadIndicators(),
                this.pausePlayGifs(i)
            }
        }
        .bind(this),
        $(document).on("uiVisibleChirps", this.handleVisibleChirps)
    }
    ,
    TD.vo.Column.MEDIA_PREVIEW_OFF = "off",
    TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL = "small",
    TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM = "medium",
    TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE = "large",
    TD.vo.Column.prototype.pausePlayGifs = function(e) {
        var t = e.filter(function(e) {
            return e && e.hasAnimatedGif()
        });
        _.difference(this.chirpsWithPlayingGifs, t).forEach(this.ui.pauseGif, this.ui),
        t.forEach(this.ui.playGifIfNotManuallyPaused, this.ui),
        this.chirpsWithPlayingGifs = t
    }
    ,
    TD.vo.Column.prototype.reset = function() {
        this.state = "awaiting_backfill",
        this.updateArray = [],
        this.updateIndex = {},
        this.highWaterMarkChirp = null ,
        this.highWaterMarkSeenChirp = null ,
        this.isTrackingRealtime = !0,
        this.isFetchingUpwardUpdates = !1,
        this.isFetchingOlderUpdates = !1,
        this.doUpwardScrollDeferreds = [],
        TD.ui.columns.unlockColumnFromElement(this.model.getKey()),
        this.resetUnreadIndicators()
    }
    ,
    TD.vo.Column.prototype.updateHighWaterMarkChirp = function(e) {
        e && (this.highWaterMarkChirp = TD.util.getTopChirp([this.highWaterMarkChirp, e]))
    }
    ,
    TD.vo.Column.prototype.backfill = function() {
        if ("awaiting_backfill" === this.state) {
            this.state = "backfill_loading";
            var e = this.calculateInfiniteScrollCursor([])
              , t = this.fillAggregateCursor(e);
            t.addCallbacks(function(e) {
                this.mergeAndRenderChirps(e.chirps),
                e.chirps.length ? this.state = "polling" : this.state = "awaiting_backfill"
            }
            .bind(this), function() {
                this.state = "awaiting_backfill"
            }
            .bind(this))
        }
    }
    ,
    TD.vo.Column.prototype.clone = function() {
        return TD.controller.columnManager.makeColumn(this.model.getType(), this.getFeeds(), this.model.getFilters())
    }
    ,
    TD.vo.Column.prototype.updateStreamRate = function(e, t) {
        this.streamRate = t.itemsPerMinute
    }
    ,
    TD.vo.Column.prototype.updateTpm = function(e, t) {
        this.tpm = t.itemsPerMinute
    }
    ,
    TD.vo.Column.prototype.loadFeeds = function() {
        if (this.model.managed) {
            var e = this.model.getFeedKeys();
            if (_.isUndefined(e))
                return void TD.sync.util.stateLog("loadFeeds() not loading feeds for", this, "given", this.model.state);
            this._feeds = [];
            for (var t = 0; t < e.length; t++) {
                var i = TD.storage.feedController.get(e[t]);
                this._feeds.push(i)
            }
            this.refreshSubscriptions()
        }
    }
    ,
    TD.vo.Column.prototype.getFeeds = function() {
        return this._feeds.concat()
    }
    ,
    TD.vo.Column.prototype.getFeedCount = function() {
        return this._feeds.length
    }
    ,
    TD.vo.Column.prototype.getFeedsByType = function(e) {
        return this.getFeeds().filter(function(t) {
            return t.getType() === e
        })
    }
    ,
    TD.vo.Column.prototype.setFeeds = function(e) {
        this._feeds = e;
        for (var t = [], i = 0; i < this._feeds.length; i++)
            t.push(this._feeds[i].getKey());
        this.model.setFeedKeys(t),
        this.refreshSubscriptions(),
        this.model.managed && TD.storage.feedController.manageFeeds(this._feeds)
    }
    ,
    TD.vo.Column.prototype.addFeed = function(e) {
        for (var t, i = [], s = 0; s < this._feeds.length; s++) {
            if (t = this._feeds[s].getKey(),
            t === e.getKey())
                return;
            i.push(t)
        }
        this._feeds.push(e),
        i.push(e.getKey()),
        this.model.setFeedKeys(i),
        this.refreshSubscriptions(),
        this.model.managed && TD.storage.feedController.manageFeeds(this._feeds)
    }
    ,
    TD.vo.Column.prototype.addFeeds = function(e) {
        if (e && 0 !== e.length) {
            var t, i = [], s = {};
            for (e = this._feeds.concat(e),
            t = 0; t < e.length; t++)
                s[e[t].getKey()] || (s[e[t].getKey()] = !0,
                i.push(e[t]));
            this.setFeeds(i)
        }
    }
    ,
    TD.vo.Column.prototype.removeFeed = function(e) {
        for (var t, i = [], s = 0, n = this._feeds.length - 1; n >= 0; n--)
            t = this._feeds[n].getKey(),
            t === e.getKey() ? (this._feeds.splice(n, 1),
            s++) : i.push(t);
        return s > 0 && (this.model.setFeedKeys(i),
        this.refreshSubscriptions(),
        this.checkChirpIndex()),
        s
    }
    ,
    TD.vo.Column.prototype.filterAllowedChirps = function(e) {
        var t = this.model.getClearedTimestamp();
        return e.filter(function(e) {
            return e.created.getTime() > t && e.passFilters(this.filters)
        }, this)
    }
    ,
    TD.vo.Column.prototype.findChirp = function(e) {
        var t = this.updateIndex[e];
        if (!t && this.detailViewComponent && (t = this.detailViewComponent.findChirp(e)),
        !t)
            for (var i = 0; i < this.updateArray.length; i++)
                if (this.updateArray[i].getRelatedTweet() && this.updateArray[i].getRelatedTweet().id === e) {
                    t = this.updateArray[i].getRelatedTweet();
                    break
                }
        return t
    }
    ,
    TD.vo.Column.prototype.findMostInterestingChirp = function(e) {
        var t = this.findChirp(e);
        return t && t instanceof TD.services.TwitterAction && (t = t.getRelatedTweet() || t),
        t
    }
    ,
    TD.vo.Column.prototype.checkChirpIndex = function() {
        var e = this.model.getFeedKeys()
          , t = _.map(e, TD.controller.feedManager.getPoller)
          , i = _.filter(this.updateArray, function(e) {
            return !_.find(t, function(t) {
                return t.chirpIndex[e.id]
            })
        });
        this.removeFromIndex(null , i, !0),
        0 === this.updateArray.length && this.reset()
    }
    ,
    TD.vo.Column.prototype.refreshSubscriptions = function() {
        var e, t = {}, i = this.model.getFeedKeys();
        if ("me" === this.model.getType()) {
            var s = !1
              , n = [];
            _.each(i, function(e) {
                var t = TD.storage.feedController.get(e);
                t && ("interactions" === t.getType() && (s = !0),
                "mentions" !== t.getType() && n.push(e))
            }),
            s && (i = n)
        }
        for (var r = 0; r < i.length; r++)
            e = i[r],
            t[e] = !0,
            this.feedSubscriptions[e] || (this.feedSubscriptions[e] = $.subscribe("/feed/" + e, this.handlePushChirps.bind(this))),
            this.deleteSubscriptions[e] || (this.deleteSubscriptions[e] = $.subscribe("/delete/" + e, this.handlePushDelete.bind(this)));
        for (e in this.feedSubscriptions)
            this.feedSubscriptions.hasOwnProperty(e) && (t[e] || ($.unsubscribe(this.feedSubscriptions[e]),
            delete this.feedSubscriptions[e]));
        for (e in this.deleteSubscriptions)
            this.deleteSubscriptions.hasOwnProperty(e) && (t[e] || ($.unsubscribe(this.deleteSubscriptions[e]),
            delete this.deleteSubscriptions[e]))
    }
    ,
    TD.vo.Column.prototype.handlePushChirps = function(e) {
        if ("polling" !== this.state)
            return void this.backfill();
        var t = TD.core.defer.succeed(e);
        return t.addCallbackWith(this, this.preprocessPollerData),
        t.addCallbackWith(this, this.mergeMissingChirps),
        this.isTrackingRealtime && (t.addCallbackWith(this, this.doUpwardScroll),
        t.addCallback(function() {
            return e
        })),
        t.addCallbackWith(this, this.processPushData),
        t
    }
    ,
    TD.vo.Column.prototype.preprocessPollerData = function(e) {
        return e.chirps = this.filterAllowedChirps(e.chirps),
        e.chirps.sort(TD.util.chirpColumnSort),
        e
    }
    ,
    TD.vo.Column.prototype.mergeMissingChirps = function(e) {
        var t = TD.services.ChirpInterval.empty;
        this.updateArray.length && (t = new TD.services.ChirpInterval(TD.services.ChirpInterval.incEnd(this.updateArray[this.updateArray.length - 1]),TD.services.ChirpInterval.incEnd(this.updateArray[0])));
        var i = e.chirps.filter(t.contains, t);
        return this.mergeAndRenderChirps(i),
        e
    }
    ,
    TD.vo.Column.prototype.processPushData = function(e) {
        var t = !!e.poller.feed.managed;
        if (t && e.notifyAfterSortIndex) {
            var i = new TD.services.ChirpBase;
            i.sortIndex = e.notifyAfterSortIndex;
            var s = [].concat.apply([], e.chirps.map(function(e) {
                return e.getUnreadChirps(i)
            }));
            $.publish("/notifications/new", [{
                column: this,
                items: s
            }])
        }
        var n = new TD.services.ChirpInterval(this.highWaterMarkChirp ? TD.services.ChirpInterval.excEnd(this.highWaterMarkChirp) : TD.services.ChirpInterval.negInf,TD.services.ChirpInterval.posInf)
          , r = e.chirps.filter(n.contains, n);
        this.updateHighWaterMarkChirp(e.chirps[0]),
        this.numNewPushedChirps += r.length,
        this.wasPushedGap = this.wasPushedGap || e.gap,
        this.throttledUpdateUnreadIndicators()
    }
    ,
    TD.vo.Column.prototype.handlePushDelete = function(e, t) {
        this.removeFromIndex(e, t, !0)
    }
    ,
    TD.vo.Column.prototype.resetUnreadIndicators = function() {
        this.numNewPushedChirps = 0,
        this.wasPushedGap = !1,
        this.updateUnreadIndicators()
    }
    ,
    TD.vo.Column.prototype.updateUnreadIndicators = function() {
        this.temporary || this.ui.updateUnreadIndicators({
            numUnseenChirps: this.getNumUnseenChirps(),
            gappy: this.wasPushedGap
        })
    }
    ,
    TD.vo.Column.prototype.getNumUnseenChirps = function() {
        var e = 0;
        if (!this.isTrackingRealtime) {
            var t = new TD.services.ChirpInterval(this.highWaterMarkSeenChirp ? TD.services.ChirpInterval.excEnd(this.highWaterMarkSeenChirp) : TD.services.ChirpInterval.negInf,TD.services.ChirpInterval.posInf)
              , i = this.updateArray.filter(t.contains, t);
            e = i.reduce(function(e, t) {
                return e + (t instanceof TD.services.GapChirp ? t.gapSize : 1)
            }, 0)
        }
        return e + this.numNewPushedChirps
    }
    ,
    TD.vo.Column.prototype.removeSubscriptions = function() {
        var e;
        for (e in this.feedSubscriptions)
            this.feedSubscriptions.hasOwnProperty(e) && ($.unsubscribe(this.feedSubscriptions[e]),
            delete this.feedSubscriptions[e]);
        for (e in this.deleteSubscriptions)
            this.deleteSubscriptions.hasOwnProperty(e) && ($.unsubscribe(this.deleteSubscriptions[e]),
            delete this.deleteSubscriptions[e]);
        $(document).off("uiVisibleChirps", this.handleVisibleChirps)
    }
    ,
    TD.vo.Column.prototype.doUpwardScroll = function() {
        if ("polling" !== this.state)
            return TD.core.defer.succeed();
        var e = new TD.core.defer.Deferred;
        if (this.doUpwardScrollDeferreds = this.doUpwardScrollDeferreds || [],
        this.doUpwardScrollDeferreds.push(e),
        this.isFetchingUpwardUpdates)
            return e;
        this.isFetchingUpwardUpdates = !0;
        var t = this.fillAggregateCursor(this.calculateUpwardScrollCursor(this.updateArray), {
            emptyPageRetriesAllowed: 0
        });
        return t.addCallbackWith(this, function(e) {
            return e.possibleGapSize = this.numNewPushedChirps - e.chirps.length,
            e
        }),
        t.addCallbackWith(this, this.extractChirpsWithGap),
        t.addCallbackWith(this, this.mergeAndRenderChirps),
        t.addBoth(this.removeOffscreen.bind(this, "up")),
        t.addBothWith(this, TD.util.effect(function() {
            this.isFetchingUpwardUpdates = !1,
            this.resetUnreadIndicators()
        })),
        t.addBothWith(this, this.throttledUpdateUnreadIndicators),
        t.addBothWith(this, function() {
            var e = this.doUpwardScrollDeferreds;
            this.doUpwardScrollDeferreds = [],
            e.forEach(function(e) {
                e.callback()
            })
        }),
        e
    }
    ,
    TD.vo.Column.prototype.extractChirpsWithGap = function(e) {
        if (e.remainderCursor.interval.empty)
            return e.chirps;
        var t = new TD.services.GapChirp(e.remainderCursor,{
            sortIndex: e.chirps[e.chirps.length - 1].sortIndex,
            gapSize: e.possibleGapSize
        });
        return e.chirps.concat([t])
    }
    ,
    TD.vo.Column.prototype.doInfiniteScroll = function(e) {
        if (e = _.defaults(e || {}, {
            fromScrollbarDrag: !1
        }),
        !this.isFetchingOlderUpdates && "polling" === this.state) {
            this.isFetchingOlderUpdates = !0,
            this.ui.addInfiniteScrollSpinner();
            var t = this.fillAggregateCursor(this.calculateInfiniteScrollCursor(this.updateArray));
            return t.addCallbackWith(this, function(e) {
                this.mergeAndRenderChirps(e.chirps)
            }),
            t.addBothWith(this, function() {
                this.isFetchingOlderUpdates = !1,
                this.ui.removeInfiniteScrollSpinner()
            }),
            e.fromScrollbarDrag || t.addBoth(this.removeOffscreen.bind(this, "down")),
            t
        }
    }
    ,
    TD.vo.Column.prototype.fillGap = function(e) {
        var t = this.findChirp(e);
        if (t) {
            var i = this.fillAggregateCursor(t.gapCursor);
            i.addCallbackWith(this, TD.util.effect(this.trackFillGap)),
            i.addCallbackWith(this, function(e) {
                return e.possibleGapSize = t.gapSize - e.chirps.length,
                e
            }),
            i.addCallbackWith(this, this.extractChirpsWithGap),
            i.addCallbackWith(this, function(e) {
                return this.removeFromIndex(null , [t], !0),
                this.mergeAndRenderChirps(e)
            }),
            i.addCallback(TD.core.defer.timeout.bind(null , 200)),
            i.addCallback(this.removeOffscreen.bind(this, "up"))
        }
    }
    ,
    TD.vo.Column.prototype.fillAggregateCursor = function(e, t) {
        return this.fillAggregateCursorWithRetries(e, t).addCallback(function(e) {
            return e.emptyPageRetriesMade > 0 && TD.util.metric("column:fetch:retry-fill:retries-made", [e.emptyPageRetriesMade], "metric"),
            e.data
        })
    }
    ,
    TD.vo.Column.prototype.fillAggregateCursorWithRetries = function(e, t) {
        t = _.defaults(t || {}, {
            emptyPageRetriesAllowed: 5,
            emptyPageRetriesMade: 0
        });
        var i = e.getCursors().map(function(e) {
            var t = TD.controller.feedManager.getPoller(e.feedKey);
            return t.fillCursor(e, {
                forceFetch: !0
            })
        })
          , s = TD.core.defer.gatherResults(i);
        return s.addCallbackWith(this, this.extractUsableBlock),
        s.addCallbackWith(this, function(i) {
            var s = i.reduce(function(e, t) {
                return e.concat(t.chirps)
            }, []);
            s.sort(TD.util.chirpColumnSort);
            var n = this.INFINITE_SCROLL_CHIRP_BLOCK_SIZE;
            e.interval.from !== TD.services.ChirpInterval.negInf && (n = this.UPWARD_SCROLL_CHIRP_BLOCK_SIZE),
            s.length > n && (s = s.slice(0, n),
            i = i.map(function(e) {
                var t = TD.controller.feedManager.getPoller(e.requestCursor.feedKey);
                return t.recalculateResult(e, s)
            }));
            var r = this.makeAggregateCursor(new Date, i.map(function(e) {
                return e.remainderCursor
            }));
            return {
                data: {
                    requestCursor: e,
                    chirps: s,
                    remainderCursor: r
                },
                emptyPageRetriesAllowed: t.emptyPageRetriesAllowed,
                emptyPageRetriesMade: t.emptyPageRetriesMade
            }
        }),
        TD.decider.get("throttle_column_fill_retry") || s.addCallbackWith(this, this.maybeRetryFillAggregateCursor),
        s
    }
    ,
    TD.vo.Column.prototype.maybeRetryFillAggregateCursor = function(e) {
        var t = 0 === e.data.chirps.length
          , i = e.emptyPageRetriesMade < e.emptyPageRetriesAllowed
          , s = e.data.remainderCursor.interval.empty
          , n = t && i && !s;
        return n ? TD.core.defer.timeout(this.RETRY_FILL_TIMEOUT).addCallbackWith(this, function() {
            return this.fillAggregateCursorWithRetries(e.data.remainderCursor, {
                emptyPageRetriesAllowed: e.emptyPageRetriesAllowed,
                emptyPageRetriesMade: e.emptyPageRetriesMade + 1
            })
        }) : TD.core.defer.succeed(e)
    }
    ,
    TD.vo.Column.prototype.extractUsableBlock = function(e) {
        var t = e.reduce(function(e, t) {
            return e.hull(t.remainderCursor.interval)
        }, TD.services.ChirpInterval.empty);
        return e.map(function(e) {
            var i = e.chirps.filter(function(e) {
                return !t.contains(e)
            })
              , s = TD.controller.feedManager.getPoller(e.requestCursor.feedKey);
            return e = s.recalculateResult(e, i),
            e.chirps = this.filterAllowedChirps(e.chirps),
            e
        }
        .bind(this))
    }
    ,
    TD.vo.Column.prototype.mergeAndRenderChirps = function(e) {
        this.ui.hideIsUpdatingMessage(),
        this._isUpdating && (this.ui.getChirpContainer().trigger("dataColumnFeedUpdated"),
        this.ui.hideChirpContainer(),
        this._isUpdating = !1),
        0 === this.updateArray.length && this.ui.removeInfiniteScrollSpinner();
        var t = this.addItemsToIndex(e);
        return 0 === this.updateArray.length ? this.ui.showNoResultsMessage(this.temporary, this.isOwnCustomTimeline()) : this.ui.hideNoResultsMessage(),
        this.isMessageColumn() && $(document).trigger("uiMessageUnreadCount", {
            columnKey: this.model.getKey(),
            count: this.unreadMessageCount()
        }),
        this.updateHighWaterMarkChirp(this.updateArray[0]),
        t
    }
    ,
    TD.vo.Column.prototype.getRenderOptions = function() {
        return {
            mediaPreviewSize: this.getMediaPreviewSize(),
            isOwnCustomTimeline: this.isOwnCustomTimeline(),
            showVerifiedBadge: this.getShowVerified(),
            isTemporaryColumn: this.temporary
        }
    }
    ,
    TD.vo.Column.prototype.addItemsToIndex = function(e) {
        var t, i, s = [];
        e.sort(TD.util.chirpColumnSort);
        var n = {};
        e = e.filter(function(e) {
            var t = !n[e.id];
            return n[e.id] = !0,
            t
        });
        for (var r = 0; r < e.length; r++)
            i = e[r],
            this.updateIndex[i.id] ? this.reRenderChirp(i) : (s.push(i),
            this.updateIndex[i.id] = i);
        if (t = s.length) {
            for (var o = "", a = [], c = this.updateArray, l = this.getRenderOptions(); s.length > 0 || c.length > 0; )
                if (0 === s.length)
                    a = a.concat(c),
                    c = [];
                else if (0 === c.length)
                    a = a.concat(s),
                    this.addToView(o, s, l, {
                        insertAtTop: !o,
                        insertAtBottom: !0
                    }),
                    s = [];
                else {
                    for (var u = [], d = c[0], h = s[0]; TD.util.chirpColumnSort(d, h) > 0 && s.length > 0; )
                        i = s.shift(),
                        u.push(i),
                        s.length > 0 && (h = s[0]);
                    u.length > 0 ? (this.addToView(o, u, l, {
                        insertAtTop: !o,
                        insertAtBottom: !1
                    }),
                    a = a.concat(u)) : (i = c.shift(),
                    a.push(i),
                    i.passFilters(this.filters) && (o = i.id))
                }
            this.updateArray = a
        }
        return t
    }
    ,
    TD.vo.Column.prototype.reRenderChirp = function(e) {
        var t = this.updateIndex[e.id]
          , i = this.ui.getChirpContainer()
          , s = $(this.ui.renderChirps([e], this.getRenderOptions()))
          , n = i.children('[data-key="' + e.id + '"]')
          , r = this.updateArray.indexOf(t);
        this.updateIndex[e.id] = e,
        this.updateArray[r] = e,
        this.updateArray.sort(TD.util.chirpColumnSort),
        this.detailViewComponent && this.detailViewComponent.changed(e);
        var o = this.updateArray.indexOf(e);
        if (o > 0)
            var a = this.updateArray[o - 1].id;
        TD.ui.columns.alterColumnContents(this.model.getKey(), n, function() {
            n.remove(),
            0 === o ? i.prepend(s) : i.children('[data-key="' + a + '"]').after(s)
        })
    }
    ,
    TD.vo.Column.prototype.removeFromIndex = function(e, t, i) {
        for (var s = 0; s < t.length; s++) {
            var n = t[s];
            this.removeChirp(n),
            i && this.detailViewComponent && this.detailViewComponent.deleted(n)
        }
    }
    ,
    TD.vo.Column.prototype.removeChirp = function(e) {
        var t = this.updateIndex[e.id];
        if (t) {
            for (var i = 0; i < this.updateArray.length; i++)
                if (e = this.updateArray[i],
                e === t) {
                    this.updateArray.splice(i, 1);
                    break
                }
            delete this.updateIndex[e.id],
            this.ui.removeChirp(e.id),
            $(document).trigger("uiColumnChirpsChanged", {
                id: this.model.getKey()
            })
        }
        0 === this.updateArray.length && this.ui.showIsUpdatingMessage()
    }
    ,
    TD.vo.Column.prototype.clear = function() {
        if (0 !== this.updateArray.length) {
            var e = this.updateArray[0].created.getTime();
            this.model.setClearedTimestamp(e),
            this.truncate(0)
        }
    }
    ,
    TD.vo.Column.prototype.calculateUpwardScrollCursor = function(e) {
        var t = this.getPollers().map(function(e) {
            return {
                feedKey: e.feed.getKey(),
                interval: new TD.services.ChirpInterval(TD.services.ChirpInterval.excEnd(this.updateArray[0]),TD.services.ChirpInterval.posInf),
                bounds: {}
            }
        }, this)
          , i = this.makeAggregateCursor(new Date, t);
        return i
    }
    ,
    TD.vo.Column.prototype.calculateInfiniteScrollCursor = function(e) {
        var t = {
            interval: TD.services.ChirpInterval.whole,
            bounds: {}
        }
          , i = this.getPollers().map(function(i) {
            return i.getCacheResult(t, e).remainderCursor
        }, this)
          , s = this.makeAggregateCursor(new Date, i);
        return s
    }
    ,
    TD.vo.Column.prototype.makeAggregateCursor = function(e, t) {
        return new TD.services.AggregateCursor(e,t || [])
    }
    ,
    TD.vo.Column.prototype.getPollers = function() {
        return this.getFeeds().map(function(e) {
            return TD.controller.feedManager.getPoller(e.getKey())
        })
    }
    ,
    TD.vo.Column.prototype.removeOffscreen = function(e, t) {
        "number" != typeof t && (t = 0);
        var i = this.TARGET_COLUMN_CHIRP_LIMIT
          , s = TD.ui.columns.isScrolledToTop(this.model.getKey())
          , n = this.ui.state.animationQueue.length;
        return ("up" === e || s) && this.discardTweetsNotInRange(0, i + n + (s ? 0 : t)),
        "down" === e && this.discardTweetsNotInRange(this.updateArray.length - i, this.updateArray.length),
        t
    }
    ,
    TD.vo.Column.prototype.discardTweetsNotInRange = function(e, t) {
        e = Math.max(0, e);
        var i = this.updateArray.slice(0, e).map(TD.util.getChirpId)
          , s = this.updateArray.slice(t).map(TD.util.getChirpId);
        this.annihilateChirps(i, {
            willBreakScrollPosition: !0
        }),
        this.annihilateChirps(s, {
            willBreakScrollPosition: !1
        }),
        this.updateArray = this.updateArray.slice(e, t),
        this.updateArray.length || this.reset()
    }
    ,
    TD.vo.Column.prototype.truncate = function(e) {
        this.discardTweetsNotInRange(0, e)
    }
    ,
    TD.vo.Column.prototype.annihilateChirps = function(e, t) {
        e.length && (e.forEach(function(e) {
            delete this.updateIndex[e]
        }, this),
        this.ui.removeChirps(e, t))
    }
    ,
    TD.vo.Column.prototype.chirpInView = function(e) {
        var t = this.ui.getChirpContainer()
          , i = t.parents(".js-column-scroller").height()
          , s = t.children('[data-key="' + e.id.toString() + '"]')
          , n = s.position().top;
        return i > n
    }
    ,
    TD.vo.Column.prototype.trackFillGap = function(e) {
        TD.util.metric("column:fetch:gap:fill:result", [e.chirps.length], "metric")
    }
    ,
    TD.vo.Column.prototype.addToView = function(e, t, i, s) {
        var n, r, o = this.ui.getChirpContainer(), a = s.insertAtBottom && s.insertAtTop, c = TD.controller.columnManager.isStreaming(this.model.getKey());
        0 !== t.length && (i.doRenderMinimalist = !1,
        this.updateArray.length > 0 && (i.doRenderMinimalist = this.tpm > this.COLUMN_MINIMALIST_TWEET_TPM_THRESHOLD,
        c && this.tpmCounter.incrementCounter(t.length)),
        n = this.ui.renderChirps(t, i),
        r = $(n),
        TD.ui.Column.identifyInlinedLinks(r),
        "" === e ? a ? o.html(r) : o.prepend(r) : o.children('[data-key="' + e + '"]').after(r),
        s.containsNewChirps = !this.highWaterMarkChirp || t[0].belongsAbove(this.highWaterMarkChirp),
        a ? this.ui.fadeInChirpContainer() : this.ui.slideInChirps(r, this.temporary, this.streamRate, this.tpm, s))
    }
    ,
    TD.vo.Column.prototype.getMediaPreviewSize = function() {
        var e, t = this.model.getMediaPreviewSize();
        return t || (this.isMessageColumn() && (t = TD.vo.Column.MEDIA_PREVIEW_OFF),
        e = this.getSearchFilter(),
        t = e.content.hasActiveMediaFilter() ? TD.vo.Column.MEDIA_PREVIEW_SIZE_LARGE : this.getColumnType() === TD.util.columnUtils.columnMetaTypes.INTERACTIONS ? TD.vo.Column.MEDIA_PREVIEW_SIZE_SMALL : TD.vo.Column.MEDIA_PREVIEW_SIZE_MEDIUM),
        t
    }
    ,
    TD.vo.Column.prototype.setMediaPreviewSize = function(e) {
        var t = this.getMediaPreviewSize();
        e !== t && this.model.setMediaPreviewSize(e),
        this.reloadTweets()
    }
    ,
    TD.vo.Column.prototype.getShowVerified = function() {
        return "col_search" === this.getColumnType() && this.temporary
    }
    ,
    TD.vo.Column.prototype.getTitleHTML = function(e) {
        return TD.util.columnUtils.getColumnTitleHTML(this, e)
    }
    ,
    TD.vo.Column.prototype.getDetailTitleHTML = function() {
        return TD.util.columnUtils.getColumnTitleHTML(this)
    }
    ,
    TD.vo.Column.prototype.getColumnType = function() {
        return TD.util.columnUtils.getColumnType(this)
    }
    ,
    TD.vo.Column.prototype.getIconClass = function() {
        return TD.util.columnUtils.getColumnIconClassByColumnType(this.getColumnType())
    }
    ,
    TD.vo.Column.prototype.getClass = function() {
        return TD.util.columnUtils.getColumnClassByColumnType(this.getColumnType())
    }
    ,
    TD.vo.Column.prototype.isOfType = function(e) {
        return this.getColumnType() === e
    }
    ,
    TD.vo.Column.prototype.isMessageColumn = function() {
        return TD.util.columnUtils.isMessageColumn(this)
    }
    ,
    TD.vo.Column.prototype.isSearchColumn = function() {
        return this.isOfType(TD.util.columnUtils.columnMetaTypes.SEARCH)
    }
    ,
    TD.vo.Column.prototype.isActionsColumn = function() {
        return TD.util.columnUtils.actionColumnTypes.indexOf(this.getColumnType()) > -1
    }
    ,
    TD.vo.Column.prototype.isSingleActionTypeColumn = function() {
        return TD.util.columnUtils.singleActionColumnTypes.indexOf(this.getColumnType()) > -1
    }
    ,
    TD.vo.Column.prototype.isActivityColumn = function() {
        return this.isOfType(TD.util.columnUtils.columnMetaTypes.ACTIVITY)
    }
    ,
    TD.vo.Column.prototype.isCustomTimeline = function() {
        return this.isOfType(TD.util.columnUtils.columnMetaTypes.CUSTOMTIMELINE)
    }
    ,
    TD.vo.Column.prototype.isDataminr = function() {
        return this.isOfType(TD.util.columnUtils.columnMetaTypes.DATAMINR)
    }
    ,
    TD.vo.Column.prototype.isEmbeddable = function() {
        return _.include(TD.util.columnUtils.embeddableColumnTypes, this.getColumnType())
    }
    ,
    TD.vo.Column.prototype.isShareable = function() {
        var e = TD.util.columnUtils
          , t = e.shareableColumnTypes;
        return TD.decider.get("sac_enable_share") && (t = t.concat(e.columnMetaTypes.FAVORITES, e.columnMetaTypes.USERTWEETS, e.columnMetaTypes.LIST, e.columnMetaTypes.SEARCH)),
        _.include(t, this.getColumnType())
    }
    ,
    TD.vo.Column.prototype.isViewable = function() {
        return _.include(TD.util.columnUtils.viewableColumnTypes, this.getColumnType())
    }
    ,
    TD.vo.Column.prototype.isClearable = function() {
        var e = this.getColumnType();
        return e !== TD.util.columnUtils.columnMetaTypes.SCHEDULED && e !== TD.util.columnUtils.columnMetaTypes.CUSTOMTIMELINE
    }
    ,
    TD.vo.Column.prototype.isOwnList = function() {
        var e = !1;
        return _.find(this.getFeeds(), function(t) {
            if ("list" === t.getType()) {
                var i = t.getMetadata();
                e = TD.cache.lists.find(i.listId, i.screenName, i.slug, !0)
            }
            return Boolean(e)
        }),
        e
    }
    ,
    TD.vo.Column.prototype.isOwnCustomTimeline = function() {
        var e = this.getFeedsByType(TD.util.columnUtils.feedTypes.CUSTOMTIMELINE)
          , t = e.some(function(e) {
            var t = e.getMetadata()
              , i = TD.storage.Account.generateKeyFor("twitter", t.ownerId);
            return i === e.getAccountKey()
        });
        return t
    }
    ,
    TD.vo.Column.prototype.deleteCustomTimeline = function(e, t) {
        var i = this.getFeedsByType(TD.util.columnUtils.feedTypes.CUSTOMTIMELINE);
        i.forEach(function(i) {
            var s = i.getMetadata().id
              , n = TD.controller.clients.getClient(i.getAccountKey())
              , r = i.getKey();
            n.deleteCustomTimeline(s, function() {
                TD.controller.feedManager.deleteFeedsWhere(function(e) {
                    return e.getKey() === r
                }),
                e && e()
            }, function() {
                TD.controller.progressIndicator.addMessage(TD.i("Error deleting collection")),
                t && t()
            })
        })
    }
    ,
    TD.vo.Column.prototype.getCustomTimeline = function() {
        var e, t = this.getCustomTimelineFeed();
        if (t) {
            var i = t.getMetadata().id
              , s = TD.controller.clients.getClient(t.getAccountKey());
            e = s.customTimelines.filter(function(e) {
                return e.id === i
            })[0]
        }
        return e
    }
    ,
    TD.vo.Column.prototype.getCustomTimelineFeed = function() {
        var e = this.getFeedsByType(TD.util.columnUtils.feedTypes.CUSTOMTIMELINE);
        return e[0]
    }
    ,
    TD.vo.Column.prototype.updateMetadata = function(e) {
        var t, i = this.getFeeds()[0];
        this._isUpdating = !0,
        this.ui.showIsUpdatingMessage(),
        e.term = null ,
        t = TD.storage.feedController.getOrCreateFeed(i.getType(), i.getService(), i.getAccountKey(), e),
        this.ui.getChirpContainer().trigger("dataColumnUpdatingFeed", {
            column: this,
            oldFeed: i,
            newFeed: t
        }),
        TD.controller.feedManager.replaceFeed(i, t, [this.model.getKey()])
    }
    ,
    TD.vo.Column.prototype.loadFilters = function() {
        var e = new TD.vo.SearchFilter(this.model.getFilters())
          , t = e.getFilters();
        _.isEqual(_.pluck(this.filters, "id"), _.pluck(t, "id")) || (this.filters = t,
        this.reloadTweets())
    }
    ,
    TD.vo.Column.prototype.isFilterable = function() {
        return -1 !== TD.util.columnUtils.filterableColumnTypes.indexOf(this.getColumnType())
    }
    ,
    TD.vo.Column.prototype.reloadTweets = function() {
        this._isUpdating || (this.truncate(0),
        this.backfill())
    }
    ,
    TD.vo.Column.prototype.getBaseQuery = function() {
        var e = null
          , t = this.getFeeds();
        if (this.isSearchColumn() && t && t.length > 0) {
            var i = t[0].getMetadata();
            i && (e = i.baseQuery ? i.baseQuery : i.term)
        }
        return e
    }
    ,
    TD.vo.Column.prototype.updateSearchFilter = function(e) {
        var t, i, s, n, r;
        if (e) {
            if (this.isSearchColumn())
                return void this.updateSearchFeedFilter(e);
            s = this.getFeeds()[0],
            s && this.isActionsColumn() && !this.isActivityColumn() && (i = s.getType(),
            t = TD.util.columnUtils.inferFeedTypeFromActionFilter(e.action),
            t !== i && (r = _.clone(s.getMetadata()),
            n = TD.storage.feedController.getOrCreateFeed(t, s.getService(), s.getAccountKey(), r),
            this.ui.getChirpContainer().trigger("dataColumnUpdatingFeed", {
                column: this,
                oldFeed: s,
                newFeed: n
            }),
            TD.controller.feedManager.replaceFeed(s, n, [this.model.getKey()]))),
            this.model.setFilters(e.toJSONObject()),
            this.ui.getChirpContainer().trigger("dataColumnFiltersUpdated")
        }
    }
    ,
    TD.vo.Column.prototype.updateSearchFeedFilter = function(e) {
        var t = !1
          , i = this.getFeeds()[0]
          , s = _.clone(i.getMetadata());
        s.baseQuery || (s.baseQuery = s.term),
        e.content && e.content.matching && e.content.matching !== s.baseQuery && (t = !0,
        s.baseQuery = e.content.matching);
        var n = new TD.vo.SearchFilter(s.searchFilterData);
        (t || n.getQueryString() !== e.getQueryString()) && (s.searchFilterData = e.toJSONObject(),
        this.updateMetadata(s))
    }
    ,
    TD.vo.Column.prototype.getSearchFilter = function() {
        var e, t;
        return this.isSearchColumn() ? (t = this.getFeeds()[0].getMetadata(),
        e = new TD.vo.SearchFilter(t.searchFilterData),
        e.content.matching || e.content.setMatching(t.baseQuery || t.term)) : e = new TD.vo.SearchFilter(this.model.getFilters()),
        e
    }
    ,
    TD.vo.Column.prototype.hasActiveSearchFilters = function() {
        var e = this.getSearchFilter()
          , t = !this.isSingleActionTypeColumn() && !this.isSearchColumn()
          , i = this.hasActiveUserFilters() || this.hasActiveContentFilters() || this.hasActiveLocationFilters() || this.hasActiveEngagementFilters() || this.hasActiveActionFilters() && t;
        return this.isSearchColumn() || (i = e.content.matching || i),
        Boolean(i)
    }
    ,
    TD.vo.Column.prototype.hasActiveContentFilters = function() {
        var e, t = this.getSearchFilter();
        return e = this.isSearchColumn() ? t.content.getQueryString() : t.content.matching || t.content.getQueryString() || t.content.type !== TD.vo.ContentFilter.TYPE_ANYTHING,
        Boolean(e)
    }
    ,
    TD.vo.Column.prototype.hasActiveLocationFilters = function() {
        var e = this.getSearchFilter()
          , t = e.location.getQueryString();
        return Boolean(t)
    }
    ,
    TD.vo.Column.prototype.hasActiveUserFilters = function() {
        var e = this.getSearchFilter()
          , t = e.user.getQueryString();
        return Boolean(t)
    }
    ,
    TD.vo.Column.prototype.hasActiveActionFilters = function() {
        var e = this.getSearchFilter()
          , t = this.getColumnType()
          , i = e.action.getMaxFacets(t)
          , s = e.action.getActiveFacetCount(t);
        return i > s
    }
    ,
    TD.vo.Column.prototype.hasActiveEngagementFilters = function() {
        var e = this.getSearchFilter()
          , t = e.engagement.getQueryString();
        return Boolean(t)
    }
    ,
    TD.vo.Column.prototype.hasFilterError = function() {
        var e = this.getSearchFilter();
        return e.action.hasFilterError(this.getColumnType())
    }
    ,
    TD.vo.Column.prototype.markAllMessagesAsRead = function() {
        this.isMessageColumn() && this.getFeeds().forEach(function(e) {
            var t = e.getAccountKey()
              , i = TD.controller.clients.getClient(t);
            i.conversations.markAllRead()
        }, this)
    }
    ,
    TD.vo.Column.prototype.hasUnreadMessages = function() {
        var e = !1;
        return this.isMessageColumn() && (e = this.updateArray.some(function(e) {
            return e.unread
        })),
        e
    }
    ,
    TD.vo.Column.prototype.unreadMessageCount = function() {
        var e = 0;
        return this.isMessageColumn() && (e = this.getFeeds().map(function(e) {
            return TD.controller.clients.getClient(e.getAccountKey())
        }).reduce(function(e, t) {
            return e + t.conversations.getUnreadCount()
        }, 0)),
        e > 20 && (e = TD.i("20+")),
        e.toString()
    }
}
, function(e, t) {
    "use strict";
    TD.vo.Filter = function(e, t, i) {
        switch (this.type = e,
        this.value = t,
        this.positive = i,
        _.isString(t) && (this.value = t.toLowerCase()),
        this.type) {
        case TD.vo.Filter.PHRASE:
            this.exact = !1;
            break;
        case TD.vo.Filter.SENDER:
            this.exact = !0,
            this.fuzzy = !0,
            this.filterTarget = "parent";
            break;
        case TD.vo.Filter.SOURCE:
            this.exact = !0,
            this.fuzzy = !1;
            break;
        case TD.vo.Filter.FOLLOWERS:
            this.exact = !1,
            this.range = !0;
            break;
        case TD.vo.Filter.IS_RETWEET:
            this.exact = !0;
            break;
        case TD.vo.Filter.IS_FROM_VERIFIED:
            this.exact = !0,
            this.filterTarget = "parent";
            break;
        case TD.vo.Filter.CHIRP_TYPE:
            this.exact = !0,
            this.filterTarget = "parent"
        }
        this.id = this.generateLocalID()
    }
    ,
    TD.vo.Filter.PHRASE = "phrase",
    TD.vo.Filter.SENDER = "sender",
    TD.vo.Filter.SOURCE = "source",
    TD.vo.Filter.FOLLOWERS = "followers",
    TD.vo.Filter.IS_RETWEET = "is_retweet",
    TD.vo.Filter.IS_MENTION = "is_mention",
    TD.vo.Filter.IS_FAVORITE = "is_favorite",
    TD.vo.Filter.IS_FOLLOW = "is_follow",
    TD.vo.Filter.IS_ACTION_ON_RETWEET = "is_action_on_retweet",
    TD.vo.Filter.IS_QUOTED = "is_quoted",
    TD.vo.Filter.HAS_IMAGE = "has_image",
    TD.vo.Filter.HAS_VIDEO = "has_video",
    TD.vo.Filter.HAS_GIF = "has_gif",
    TD.vo.Filter.HAS_VINE = "has_vine",
    TD.vo.Filter.HAS_MEDIA = "has_media",
    TD.vo.Filter.HAS_LINK = "has_link",
    TD.vo.Filter.IS_FROM_VERIFIED = "verified",
    TD.vo.Filter.CHIRP_TYPE = "chirp_type",
    TD.vo.Filter.LOCATION = "location",
    TD.vo.Filter.prototype.id = null ,
    TD.vo.Filter.prototype.value = null ,
    TD.vo.Filter.prototype.type = TD.vo.Filter.PHRASE,
    TD.vo.Filter.prototype.positive = !0,
    TD.vo.Filter.prototype.exact = !0,
    TD.vo.Filter.prototype.fuzzy = !1,
    TD.vo.Filter.prototype.range = !1,
    TD.vo.Filter.prototype.filterTarget = "child",
    TD.vo.Filter.prototype.generateLocalID = function() {
        return "filter" + TD.util.deterministicObjectHash(this.toBackendState())
    }
    ,
    TD.vo.Filter.prototype.pass = function(e) {
        var t = this;
        e = this._getFilterTarget(e);
        var i = e.getFilterableText();
        i = i ? i.toLowerCase() : null ;
        var s = e.getSenders();
        s = s ? _.map(s, function(e) {
            return e.toLowerCase()
        }) : null ;
        var n = e.sourceNoHTML;
        n = n ? n.toLowerCase() : null ;
        var r;
        switch (this.type) {
        case TD.vo.Filter.PHRASE:
            return this._testString(i);
        case TD.vo.Filter.SENDER:
            return this.positive ? _.any(s, function(e) {
                return t._testString(e)
            }) : _.every(s, function(e) {
                return t._testString(e)
            });
        case TD.vo.Filter.SOURCE:
            return this._testString(n);
        case TD.vo.Filter.FOLLOWERS:
            return this._testNumber(r);
        case TD.vo.Filter.IS_RETWEET:
            return this._testBoolean(e.isRetweetedStatus());
        case TD.vo.Filter.IS_FROM_VERIFIED:
            return this._testBoolean(e.isFromVerifiedUser());
        case TD.vo.Filter.HAS_IMAGE:
            return this._testBoolean(e.hasImage());
        case TD.vo.Filter.HAS_VIDEO:
            return this._testBoolean(e.hasVideo());
        case TD.vo.Filter.HAS_GIF:
            return this._testBoolean(e.hasAnimatedGif());
        case TD.vo.Filter.HAS_VINE:
            return this._testBoolean(e.hasVine());
        case TD.vo.Filter.HAS_MEDIA:
            return this._testBoolean(e.hasImage() || e.hasVideo());
        case TD.vo.Filter.HAS_LINK:
            return this._testBoolean(e.hasLink());
        case TD.vo.Filter.CHIRP_TYPE:
            return this._testString(e.getChirpType())
        }
        return !0
    }
    ,
    TD.vo.Filter.prototype.getDisplayType = function() {
        switch (this.type) {
        case TD.vo.Filter.PHRASE:
            return "";
        case TD.vo.Filter.SENDER:
            return TD.i("user");
        case TD.vo.Filter.SOURCE:
            return TD.i("source");
        case TD.vo.Filter.FOLLOWERS:
            return TD.i("followers");
        case TD.vo.Filter.IS_RETWEET:
            return TD.i("retweets");
        case TD.vo.Filter.HAS_MEDIA:
            return TD.i("media");
        case TD.vo.Filter.HAS_LINK:
            return TD.i("links");
        case TD.vo.Filter.IS_FROM_VERIFIED:
            return TD.i("verified")
        }
        return ""
    }
    ,
    TD.vo.Filter.prototype._getFilterTarget = function(e) {
        return "parent" !== this.filterTarget && e.targetTweet ? e.targetTweet : e
    }
    ,
    TD.vo.Filter.prototype._testString = function(e) {
        if (!e || !this.value)
            return !0;
        if (this.exact) {
            if (e === this.value)
                return this.positive;
            if (this.fuzzy && "@" + e === this.value)
                return this.positive
        } else if (-1 !== e.indexOf(this.value))
            return this.positive;
        return !this.positive
    }
    ,
    TD.vo.Filter.prototype._testNumber = function(e) {
        if (!_.isNumber(e) || !_.isNumber(this.value))
            return !0;
        if (this.exact) {
            if (e === this.value)
                return this.positive
        } else if (this.range && e >= this.value)
            return this.positive;
        return !this.positive
    }
    ,
    TD.vo.Filter.prototype._testBoolean = function(e) {
        return _.isBoolean(e) && _.isBoolean(this.value) ? e === this.value ? this.positive : !this.positive : !0
    }
    ,
    TD.vo.Filter.prototype.toBackendState = function() {
        return {
            type: this.type,
            value: this.value,
            positive: this.positive,
            exact: this.exact,
            fuzzy: this.fuzzy,
            range: this.range
        }
    }
    ,
    TD.vo.Filter.prototype.fromBackendState = function(e) {
        this.type = e.type,
        this.value = e.value,
        this.positive = e.positive,
        this.exact = e.exact,
        this.fuzzy = e.fuzzy,
        this.range = e.range,
        this.id = this.generateLocalID()
    }
}
, function(e, t, i) {
    "use strict";
    function s(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
    var n = i(18)
      , r = s(n);
    TD.vo.ActionFilter = function(e) {
        return this.fromJSONObject(e)
    }
    ,
    TD.vo.ActionFilter.prototype.showMentions = !0,
    TD.vo.ActionFilter.prototype.showRetweets = !0,
    TD.vo.ActionFilter.prototype.showFavorites = !0,
    TD.vo.ActionFilter.prototype.showFollowers = !0,
    TD.vo.ActionFilter.prototype.showLists = !0,
    TD.vo.ActionFilter.prototype.showActionsOnRetweets = !0,
    TD.vo.ActionFilter.prototype.showQuoted = !0,
    TD.vo.ActionFilter.INTERACTION_FACETS = {
        showMentions: !0,
        showRetweets: !0,
        showActionsOnRetweets: !0,
        showQuoted: !0,
        showFavorites: !0,
        showFollowers: !0,
        showLists: !0
    },
    TD.vo.ActionFilter.ACTIVITY_FACETS = {
        showFavorites: !0,
        showFollowers: !0,
        showLists: !0
    },
    TD.vo.ActionFilter.POSSIBLE_FACETS = $.extend({}, TD.vo.ActionFilter.ACTIVITY_FACETS, TD.vo.ActionFilter.INTERACTION_FACETS),
    TD.vo.ActionFilter.prototype.setShowMentions = function(e) {
        this.showMentions = Boolean(e)
    }
    ,
    TD.vo.ActionFilter.prototype.setShowRetweets = function(e) {
        this.showRetweets = Boolean(e)
    }
    ,
    TD.vo.ActionFilter.prototype.setShowFavorites = function(e) {
        this.showFavorites = Boolean(e)
    }
    ,
    TD.vo.ActionFilter.prototype.setShowFollowers = function(e) {
        this.showFollowers = Boolean(e)
    }
    ,
    TD.vo.ActionFilter.prototype.setShowLists = function(e) {
        this.showLists = Boolean(e)
    }
    ,
    TD.vo.ActionFilter.prototype.setShowActionsOnRetweets = function(e) {
        this.showActionsOnRetweets = Boolean(e)
    }
    ,
    TD.vo.ActionFilter.prototype.setShowQuoted = function(e) {
        this.showQuoted = Boolean(e)
    }
    ,
    TD.vo.ActionFilter.prototype.toJSONObject = function() {
        return {
            showMentions: this.showMentions,
            showRetweets: this.showRetweets,
            showFavorites: this.showFavorites,
            showFollowers: this.showFollowers,
            showLists: this.showLists,
            showActionsOnRetweets: this.showActionsOnRetweets,
            showQuoted: this.showQuoted
        }
    }
    ,
    TD.vo.ActionFilter.prototype.fromJSONObject = function(e) {
        return e ? (this.setShowMentions(e.showMentions),
        this.setShowRetweets(e.showRetweets),
        this.setShowFavorites(e.showFavorites),
        this.setShowFollowers(e.showFollowers),
        this.setShowLists(e.showLists),
        this.setShowActionsOnRetweets(e.showActionsOnRetweets),
        this.setShowQuoted(e.showQuoted),
        this) : void 0
    }
    ,
    TD.vo.ActionFilter.prototype.getActiveFacetCount = function(e) {
        var t = this.toJSONObject()
          , i = this.getAvailableFacets(e);
        return (0,
        r.default)(t).reduce(function(e, s) {
            return e + (t[s] && i[s] ? 1 : 0)
        }, 0)
    }
    ,
    TD.vo.ActionFilter.prototype.hasFilterError = function(e) {
        return 0 === this.getActiveFacetCount(e)
    }
    ,
    TD.vo.ActionFilter.prototype.getAvailableFacets = function(e) {
        var t, i = !1;
        return e ? (e === TD.util.columnUtils.columnMetaTypes.INTERACTIONS ? i = !0 : e === TD.util.columnUtils.columnMetaTypes.MENTIONS && (i = !0),
        t = i ? $.extend({}, TD.vo.ActionFilter.INTERACTION_FACETS) : $.extend({}, TD.vo.ActionFilter.ACTIVITY_FACETS)) : t = TD.vo.ActionFilter.POSSIBLE_FACETS,
        i && (TD.decider.get("action_retweeted_retweet") || TD.decider.get("action_favorited_retweet") || delete t.showActionsOnRetweets,
        TD.decider.get("action_quoted_tweet") || delete t.showQuoted),
        t
    }
    ,
    TD.vo.ActionFilter.prototype.getMaxFacets = function(e) {
        var t = this.getAvailableFacets(e);
        return (0,
        r.default)(t).length
    }
    ,
    TD.vo.ActionFilter.prototype.getSummaryText = function(e) {
        var t, i, s = [], n = this.getMaxFacets(e), r = this.getActiveFacetCount(e), o = this.getAvailableFacets(e);
        return 0 === r ? t = TD.i("Filter error") : r === n ? t = e === TD.util.columnUtils.columnMetaTypes.ACTIVITY ? TD.i("All activity") : TD.i("All notifications") : r === n - 1 && e !== TD.util.columnUtils.columnMetaTypes.ACTIVITY ? (!this.showMentions && o.showMentions && (t = TD.i("All except mentions")),
        !this.showRetweets && o.showRetweets && (t = TD.i("All except Retweets")),
        !this.showFavorites && o.showFavorites && (t = TD.decider.get("hearts_and_likes2") ? TD.i("All except likes") : TD.i("All except favorites")),
        !this.showFollowers && o.showFollowers && (t = TD.i("All except followers")),
        !this.showLists && o.showLists && (t = TD.i("All except lists")),
        !this.showActionsOnRetweets && o.showActionsOnRetweets && (t = TD.i("All except actions on my Retweets")),
        !this.showQuoted && o.showQuoted && (t = TD.i("All except quoted Tweets"))) : (this.showMentions && o.showMentions && s.push(TD.i("mentions")),
        this.showQuoted && o.showQuoted && s.push(TD.i("quoted Tweets")),
        this.showRetweets && o.showRetweets && s.push(TD.i("Retweets")),
        this.showFavorites && o.showFavorites && s.push(TD.decider.get("hearts_and_likes2") ? TD.i("likes") : TD.i("favorites")),
        this.showFollowers && o.showFollowers && s.push(TD.i("followers")),
        this.showLists && o.showLists && s.push(TD.i("lists")),
        this.showActionsOnRetweets && o.showActionsOnRetweets && s.push(TD.i("actions on my Retweets")),
        i = s.pop(),
        1 === r ? t = TD.i("{{{actionType}}} only", {
            actionType: i
        }) : (s = s.join(", "),
        t = TD.i("{{{actionTypes}}} and {{{lastActionType}}}", {
            actionTypes: s,
            lastActionType: i
        }))),
        t
    }
    ,
    TD.vo.ActionFilter.prototype.getFilters = function() {
        var e, t = [];
        return this.showMentions || (e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.MENTION,!1),
        t.push(e)),
        this.showRetweets || (e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.RETWEET,!1),
        t.push(e)),
        this.showFavorites || (e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.FAVORITE,!1),
        t.push(e)),
        this.showFollowers || (e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.FOLLOW,!1),
        t.push(e)),
        this.showLists || (e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.LIST_CREATED,!1),
        t.push(e),
        e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.LIST_MEMBER_ADDED,!1),
        t.push(e)),
        this.showActionsOnRetweets || (TD.decider.get("action_retweeted_retweet") && (e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.RETWEETED_RETWEET,!1),
        t.push(e)),
        TD.decider.get("action_favorited_retweet") && (e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.FAVORITED_RETWEET,!1),
        t.push(e))),
        !this.showQuoted && TD.decider.get("action_quoted_tweet") && (e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.QUOTE,!1),
        t.push(e),
        e = new TD.vo.Filter(TD.vo.Filter.CHIRP_TYPE,TD.services.TwitterAction.QUOTED_TWEET,!1),
        t.push(e)),
        t
    }
}
, function(e, t) {
    "use strict";
    TD.vo.ContentFilter = function(e) {
        this.fromJSONObject(e)
    }
    ,
    TD.vo.ContentFilter.TYPE_ANYTHING = "anything",
    TD.vo.ContentFilter.TYPE_IMG = "img",
    TD.vo.ContentFilter.TYPE_VID = "vid",
    TD.vo.ContentFilter.TYPE_GIF = "gif",
    TD.vo.ContentFilter.TYPE_VINE = "vine",
    TD.vo.ContentFilter.TYPE_PERISCOPE = "periscope",
    TD.vo.ContentFilter.TYPE_IMG_AND_VID = "img_vid",
    TD.vo.ContentFilter.TYPE_LINKS = "links",
    TD.vo.ContentFilter.LANG_ANY = "any",
    TD.vo.ContentFilter.prototype.matching = "",
    TD.vo.ContentFilter.prototype.excluding = "",
    TD.vo.ContentFilter.prototype.type = "anything",
    TD.vo.ContentFilter.prototype.lang = "any",
    TD.vo.ContentFilter.prototype.includeRTs = !0,
    TD.vo.ContentFilter.prototype.setMatching = function(e) {
        this.matching = e || ""
    }
    ,
    TD.vo.ContentFilter.prototype.setExcluding = function(e) {
        this.excluding = e || ""
    }
    ,
    TD.vo.ContentFilter.prototype.setType = function(e) {
        this.type = e || TD.vo.ContentFilter.TYPE_ANYTHING
    }
    ,
    TD.vo.ContentFilter.prototype.setLanguage = function(e) {
        this.lang = e || TD.vo.ContentFilter.LANG_ANY
    }
    ,
    TD.vo.ContentFilter.prototype.setIncludeRTs = function(e) {
        this.includeRTs = void 0 === e ? !0 : Boolean(e)
    }
    ,
    TD.vo.ContentFilter.prototype.toJSONObject = function() {
        return {
            matching: this.matching,
            excluding: this.excluding,
            type: this.type,
            lang: this.lang,
            includeRTs: this.includeRTs
        }
    }
    ,
    TD.vo.ContentFilter.prototype.fromJSONObject = function(e) {
        e && (this.setMatching(e.matching),
        this.setExcluding(e.excluding),
        this.setType(e.type),
        this.setLanguage(e.lang),
        this.setIncludeRTs(e.includeRTs))
    }
    ,
    TD.vo.ContentFilter.prototype.getQueryString = function() {
        var e = [];
        switch (this.type) {
        case TD.vo.ContentFilter.TYPE_IMG:
            e.push("filter:images");
            break;
        case TD.vo.ContentFilter.TYPE_VID:
            e.push("filter:videos");
            break;
        case TD.vo.ContentFilter.TYPE_GIF:
            e.push("card_name:animated_gif");
            break;
        case TD.vo.ContentFilter.TYPE_VINE:
            e.push("filter:vine");
            break;
        case TD.vo.ContentFilter.TYPE_PERISCOPE:
            e.push("card_domain:periscope.tv");
            break;
        case TD.vo.ContentFilter.TYPE_IMG_AND_VID:
            e.push("(filter:images OR filter:videos)");
            break;
        case TD.vo.ContentFilter.TYPE_LINKS:
            e.push("filter:links")
        }
        return this.lang !== TD.vo.ContentFilter.LANG_ANY && e.push("lang:" + this.lang),
        this.includeRTs || e.push("exclude:nativeretweets exclude:retweets"),
        this.excluding && e.push(this.getExcludingQuery()),
        e.join(" ")
    }
    ,
    TD.vo.ContentFilter.prototype.getSummaryText = function() {
        var e, t = [];
        switch (this.type) {
        case TD.vo.ContentFilter.TYPE_IMG:
            t.push(TD.i("showing images"));
            break;
        case TD.vo.ContentFilter.TYPE_VID:
            t.push(TD.i("showing videos"));
            break;
        case TD.vo.ContentFilter.TYPE_GIF:
            t.push(TD.i("showing GIFs"));
            break;
        case TD.vo.ContentFilter.TYPE_VINE:
            t.push(TD.i("showing Vines"));
            break;
        case TD.vo.ContentFilter.TYPE_PERISCOPE:
            t.push(TD.i("showing Periscopes"));
            break;
        case TD.vo.ContentFilter.TYPE_IMG_AND_VID:
            t.push(TD.i("showing images and videos"));
            break;
        case TD.vo.ContentFilter.TYPE_LINKS:
            t.push(TD.i("showing links"))
        }
        if (this.matching && t.push(TD.i("matching ‘{{{matching}}}’", {
            matching: this.matching
        })),
        this.excluding && t.push(TD.i("excluding ‘{{{excluding}}}’", {
            excluding: this.excluding
        })),
        this.lang !== TD.vo.ContentFilter.LANG_ANY) {
            var i = TD.languages.getLanguageFromISOCode(this.lang);
            t.push(TD.i("written in {{{lang}}}", {
                lang: i.localized_name
            }))
        }
        return this.includeRTs || t.push(TD.i("retweets excluded")),
        e = 0 === t.length ? TD.i("any") : t.join(", ")
    }
    ,
    TD.vo.ContentFilter.prototype.getExcludingQuery = function() {
        if (!this.excluding)
            return "";
        var e = TD.services.TwitterSearchParser.extractPhrases(this.excluding, !0);
        return e = e.map(function(e) {
            return "-" + e
        }),
        e.join(" ")
    }
    ,
    TD.vo.ContentFilter.prototype.getFilters = function() {
        var e, t, i = [];
        switch (this.type) {
        case TD.vo.ContentFilter.TYPE_IMG:
            e = new TD.vo.Filter(TD.vo.Filter.HAS_IMAGE,!0,!0),
            i.push(e);
            break;
        case TD.vo.ContentFilter.TYPE_VID:
            e = new TD.vo.Filter(TD.vo.Filter.HAS_VIDEO,!0,!0),
            i.push(e);
            break;
        case TD.vo.ContentFilter.TYPE_GIF:
            e = new TD.vo.Filter(TD.vo.Filter.HAS_GIF,!0,!0),
            i.push(e);
            break;
        case TD.vo.ContentFilter.TYPE_VINE:
            e = new TD.vo.Filter(TD.vo.Filter.HAS_VINE,!0,!0),
            i.push(e);
            break;
        case TD.vo.ContentFilter.TYPE_IMG_AND_VID:
            e = new TD.vo.Filter(TD.vo.Filter.HAS_MEDIA,!0,!0),
            i.push(e);
            break;
        case TD.vo.ContentFilter.TYPE_LINKS:
            e = new TD.vo.Filter(TD.vo.Filter.HAS_LINK,!0,!0),
            i.push(e)
        }
        return this.matching && (t = TD.services.TwitterSearchParser.extractPhrases(this.matching, !1),
        t.forEach(function(t) {
            e = new TD.vo.Filter(TD.vo.Filter.PHRASE,t,!0),
            i.push(e)
        })),
        this.excluding && (t = TD.services.TwitterSearchParser.extractPhrases(this.excluding, !1),
        t.forEach(function(t) {
            e = new TD.vo.Filter(TD.vo.Filter.PHRASE,t,!1),
            i.push(e)
        })),
        this.includeRTs || (e = new TD.vo.Filter(TD.vo.Filter.IS_RETWEET,!1,!0),
        i.push(e)),
        i
    }
    ,
    TD.vo.ContentFilter.prototype.hasActiveMediaFilter = function() {
        return [TD.vo.ContentFilter.TYPE_IMG, TD.vo.ContentFilter.TYPE_VID, TD.vo.ContentFilter.TYPE_GIF, TD.vo.ContentFilter.TYPE_VINE, TD.vo.ContentFilter.TYPE_PERISCOPE, TD.vo.ContentFilter.TYPE_IMG_AND_VID].indexOf(this.type) > -1
    }
}
, function(e, t) {
    "use strict";
    TD.vo.EngagementFilter = function(e) {
        this.fromJSONObject(e)
    }
    ,
    TD.vo.EngagementFilter.prototype.minReplies = 0,
    TD.vo.EngagementFilter.prototype.minRetweets = 0,
    TD.vo.EngagementFilter.prototype.minFavorites = 0,
    TD.vo.EngagementFilter.prototype.setMinReplies = function(e) {
        this.minReplies = parseInt(e, 10)
    }
    ,
    TD.vo.EngagementFilter.prototype.setMinRetweets = function(e) {
        this.minRetweets = parseInt(e, 10)
    }
    ,
    TD.vo.EngagementFilter.prototype.setMinFavorites = function(e) {
        this.minFavorites = parseInt(e, 10)
    }
    ,
    TD.vo.EngagementFilter.prototype.toJSONObject = function() {
        return {
            minReplies: this.minReplies,
            minRetweets: this.minRetweets,
            minFavorites: this.minFavorites
        }
    }
    ,
    TD.vo.EngagementFilter.prototype.fromJSONObject = function(e) {
        e && (this.setMinReplies(e.minReplies),
        this.setMinRetweets(e.minRetweets),
        this.setMinFavorites(e.minFavorites))
    }
    ,
    TD.vo.EngagementFilter.prototype.getQueryString = function() {
        if (!TD.decider.get("engagement_filter"))
            return "";
        var e = [];
        return this.minReplies > 0 && e.push("min_replies:" + this.minReplies),
        this.minRetweets > 0 && e.push("min_retweets:" + this.minRetweets),
        this.minFavorites > 0 && e.push("min_faves:" + this.minFavorites),
        e.join(" ")
    }
    ,
    TD.vo.EngagementFilter.prototype.getSummaryText = function() {
        var e, t = [];
        switch (this.minReplies > 0 && t.push({
            count: this.minReplies,
            label: TD.i("replies")
        }),
        this.minRetweets > 0 && t.push({
            count: this.minRetweets,
            label: TD.i("retweets")
        }),
        this.minFavorites > 0 && t.push({
            count: this.minFavorites,
            label: TD.decider.get("hearts_and_likes2") ? TD.i("likes") : TD.i("favorites")
        }),
        t.length) {
        case 0:
            e = TD.i("any");
            break;
        case 1:
            e = TD.i("at least {{#0}}{{count}} {{label}}{{/0}}", t);
            break;
        case 2:
            e = TD.i("at least {{#0}}{{count}} {{label}}{{/0}} and {{#1}}{{count}} {{label}}{{/1}}", t);
            break;
        case 3:
            e = TD.i("at least {{#0}}{{count}} {{label}}{{/0}}, {{#1}}{{count}} {{label}}{{/1}} and {{#2}}{{count}} {{label}}{{/2}}", t)
        }
        return e
    }
    ,
    TD.vo.EngagementFilter.prototype.getFilters = function() {
        return []
    }
}
, function(e, t) {
    "use strict";
    TD.vo.LocationFilter = function(e) {
        this.fromJSONObject(e)
    }
    ,
    TD.vo.LocationFilter.prototype.toJSONObject = function() {
        return {
            lat: this.lat,
            lng: this.lng,
            radius: this.radius,
            zoom: this.zoom
        }
    }
    ,
    TD.vo.LocationFilter.prototype.fromJSONObject = function(e) {
        e && (this.setLat(e.lat),
        this.setLng(e.lng),
        this.setRadius(e.radius),
        this.setZoom(e.zoom))
    }
    ,
    TD.vo.LocationFilter.prototype.setLat = function(e) {
        this.lat = e || ""
    }
    ,
    TD.vo.LocationFilter.prototype.setLng = function(e) {
        this.lng = e || ""
    }
    ,
    TD.vo.LocationFilter.prototype.setRadius = function(e) {
        this.radius = e || ""
    }
    ,
    TD.vo.LocationFilter.prototype.setZoom = function(e) {
        this.zoom = e || ""
    }
    ,
    TD.vo.LocationFilter.prototype.getQueryString = function() {
        return this.lat && this.lng && this.radius ? "near:" + this.lat + "," + this.lng + " within:" + this.radius : ""
    }
    ,
    TD.vo.LocationFilter.prototype.getSummaryText = function() {
        return this.lat && this.lng && this.radius ? TD.i("Within {{location}} radius", {
            location: this.radius
        }) : TD.i("Any")
    }
    ,
    TD.vo.LocationFilter.prototype.getFilters = function() {
        return []
    }
    ,
    TD.vo.LocationFilter.prototype.getFilters = function() {
        return this.lat && this.lng && this.radius ? [new TD.vo.Filter(TD.vo.Filter.LOCATION,this.toJSONObject(),!0)] : []
    }
}
, function(e, t) {
    "use strict";
    TD.vo.SearchFilter = function(e) {
        this.fromJSONObject(e)
    }
    ,
    TD.vo.SearchFilter.prototype.action = null ,
    TD.vo.SearchFilter.prototype.content = null ,
    TD.vo.SearchFilter.prototype.location = null ,
    TD.vo.SearchFilter.prototype.engagement = null ,
    TD.vo.SearchFilter.prototype.user = null ,
    TD.vo.SearchFilter.prototype.toJSONObject = function() {
        var e = {
            action: this.action.toJSONObject(),
            content: this.content.toJSONObject(),
            location: this.location.toJSONObject(),
            engagement: this.engagement.toJSONObject(),
            user: this.user.toJSONObject()
        };
        return e
    }
    ,
    TD.vo.SearchFilter.prototype.fromJSONObject = function(e) {
        e = e || {},
        this.action = new TD.vo.ActionFilter(e.action),
        this.content = new TD.vo.ContentFilter(e.content),
        this.location = new TD.vo.LocationFilter(e.location),
        this.engagement = new TD.vo.EngagementFilter(e.engagement),
        this.user = new TD.vo.UserFilter(e.user)
    }
    ,
    TD.vo.SearchFilter.prototype.getQueryString = function() {
        var e = [this.content.getQueryString(), this.location.getQueryString(), this.engagement.getQueryString(), this.user.getQueryString()];
        return e.join(" ").trim()
    }
    ,
    TD.vo.SearchFilter.prototype.getFilters = function() {
        var e = this.action.getFilters();
        return e = e.concat(this.content.getFilters()),
        e = e.concat(this.location.getFilters()),
        e = e.concat(this.engagement.getFilters()),
        e = e.concat(this.user.getFilters())
    }
}
, function(e, t) {
    "use strict";
    TD.vo.UserFilter = function(e) {
        this.fromJSONObject(e)
    }
    ,
    TD.vo.UserFilter.FROM_ALL = "all",
    TD.vo.UserFilter.FROM_USER = "user",
    TD.vo.UserFilter.FROM_VERIFIED = "verified",
    TD.vo.UserFilter.FROM_LIST = "list",
    TD.vo.UserFilter.prototype.from_type = null ,
    TD.vo.UserFilter.prototype.from_name = null ,
    TD.vo.UserFilter.prototype.mention_name = null ,
    TD.vo.UserFilter.prototype.setFrom = function(e, t) {
        t && e !== TD.vo.UserFilter.FROM_VERIFIED && e !== TD.vo.UserFilter.FROM_ALL || (t = ""),
        this.from_type = e,
        this.from_name = TD.util.deMentionify(t)
    }
    ,
    TD.vo.UserFilter.prototype.setMentioned = function(e) {
        this.mention_name = e || "",
        this.mention_name = TD.util.deMentionify(this.mention_name)
    }
    ,
    TD.vo.UserFilter.prototype.toJSONObject = function() {
        return {
            from_type: this.from_type,
            from_name: this.from_name,
            mention_name: this.mention_name
        }
    }
    ,
    TD.vo.UserFilter.prototype.fromJSONObject = function(e) {
        e && (this.setFrom(e.from_type, e.from_name),
        this.setMentioned(e.mention_name))
    }
    ,
    TD.vo.UserFilter.prototype.getQueryString = function() {
        var e = [];
        switch (this.from_type) {
        case TD.vo.UserFilter.FROM_USER:
            e.push("from:" + this.from_name);
            break;
        case TD.vo.UserFilter.FROM_VERIFIED:
            e.push("filter:verified");
            break;
        case TD.vo.UserFilter.FROM_LIST:
            e.push("list:" + this.from_name)
        }
        return this.mention_name && e.push("+@" + this.mention_name),
        e.join(" ")
    }
    ,
    TD.vo.UserFilter.prototype.getSummaryText = function() {
        var e, t = [];
        switch (this.from_type) {
        case TD.vo.UserFilter.FROM_USER:
            e = TD.storage.accountController.getAccountFromUsername(this.from_name).length > 0,
            e ? t.push(TD.i("by me (@{{{name}}})", {
                name: this.from_name
            })) : t.push(TD.i("by @{{{name}}}", {
                name: this.from_name
            }));
            break;
        case TD.vo.UserFilter.FROM_VERIFIED:
            t.push(TD.i("by verified users"));
            break;
        case TD.vo.UserFilter.FROM_LIST:
            t.push(TD.i("by members of @{{{name}}}", {
                name: this.from_name
            }))
        }
        return this.mention_name && (e = TD.storage.accountController.getAccountFromUsername(this.mention_name).length > 0,
        e ? t.push(TD.i("mentioning me (@{{{name}}})", {
            name: this.mention_name
        })) : t.push(TD.i("mentioning @{{{name}}}", {
            name: this.mention_name
        }))),
        0 === t.length && t.push(TD.i("any")),
        t.join(", ")
    }
    ,
    TD.vo.UserFilter.prototype.getFilters = function() {
        var e, t = [];
        switch (this.mention_name && (e = new TD.vo.Filter(TD.vo.Filter.PHRASE,TD.util.atMentionify(this.mention_name),!0),
        t.push(e)),
        this.from_type) {
        case TD.vo.UserFilter.FROM_USER:
            e = new TD.vo.Filter(TD.vo.Filter.SENDER,this.from_name,!0),
            t.push(e);
            break;
        case TD.vo.UserFilter.FROM_VERIFIED:
            e = new TD.vo.Filter(TD.vo.Filter.IS_FROM_VERIFIED,!0,!0),
            t.push(e)
        }
        return t
    }
}
, function(e, t, i) {
    (function(e) {
        "use strict";
        function t(e, t, i) {
            e[t] || Object[s](e, t, {
                writable: !0,
                configurable: !0,
                value: i
            })
        }
        if (i(798),
        i(799),
        i(618),
        e._babelPolyfill)
            throw new Error("only one instance of babel-polyfill is allowed");
        e._babelPolyfill = !0;
        var s = "defineProperty";
        t(String.prototype, "padLeft", "".padStart),
        t(String.prototype, "padRight", "".padEnd),
        "pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e) {
            [][e] && t(Array, e, Function.call.bind([][e]))
        })
    }
    ).call(t, function() {
        return this
    }())
}
, function(e, t, i) {
    i(628),
    e.exports = i(45).RegExp.escape
}
, function(e, t, i) {
    var s = i(10)
      , n = i(136)
      , r = i(12)("species");
    e.exports = function(e) {
        var t;
        return n(e) && (t = e.constructor,
        "function" != typeof t || t !== Array && !n(t.prototype) || (t = void 0),
        s(t) && (t = t[r],
        null === t && (t = void 0))),
        void 0 === t ? Array : t
    }
}
, function(e, t, i) {
    var s = i(619);
    e.exports = function(e, t) {
        return new (s(e))(t)
    }
}
, function(e, t, i) {
    "use strict";
    var s = i(3)
      , n = i(41)
      , r = "number";
    e.exports = function(e) {
        if ("string" !== e && e !== r && "default" !== e)
            throw TypeError("Incorrect hint");
        return n(s(this), e != r)
    }
}
, [883, 59, 108, 83], [895, 59, 26], function(e, t, i) {
    "use strict";
    var s = i(625)
      , n = i(104)
      , r = i(34);
    e.exports = function() {
        for (var e = r(this), t = arguments.length, i = Array(t), o = 0, a = s._, c = !1; t > o; )
            (i[o] = arguments[o++]) === a && (c = !0);
        return function() {
            var s, r = this, o = arguments.length, l = 0, u = 0;
            if (!c && !o)
                return n(e, i, r);
            if (s = i.slice(),
            c)
                for (; t > l; l++)
                    s[l] === a && (s[l] = arguments[u++]);
            for (; o > u; )
                s.push(arguments[u++]);
            return n(e, s, r)
        }
    }
}
, function(e, t, i) {
    e.exports = i(6)
}
, function(e, t) {
    e.exports = function(e, t) {
        var i = t === Object(t) ? function(e) {
            return t[e]
        }
        : t;
        return function(t) {
            return String(t).replace(e, i)
        }
    }
}
, function(e, t, i) {
    var s = i(72)
      , n = i(12)("iterator")
      , r = i(55);
    e.exports = i(45).isIterable = function(e) {
        var t = Object(e);
        return void 0 !== t[n] || "@@iterator"in t || r.hasOwnProperty(s(t))
    }
}
, function(e, t, i) {
    var s = i(2)
      , n = i(626)(/[\\^$*+?.()|[\]{}]/g, "\\$&");
    s(s.S, "RegExp", {
        escape: function(e) {
            return n(e)
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.P, "Array", {
        copyWithin: i(196)
    }),
    i(71)("copyWithin")
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(39)(4);
    s(s.P + s.F * !i(37)([].every, !0), "Array", {
        every: function(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.P, "Array", {
        fill: i(128)
    }),
    i(71)("fill")
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(39)(2);
    s(s.P + s.F * !i(37)([].filter, !0), "Array", {
        filter: function(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(39)(6)
      , r = "findIndex"
      , o = !0;
    r in [] && Array(1)[r](function() {
        o = !1
    }),
    s(s.P + s.F * o, "Array", {
        findIndex: function(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    i(71)(r)
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(39)(5)
      , r = "find"
      , o = !0;
    r in [] && Array(1)[r](function() {
        o = !1
    }),
    s(s.P + s.F * o, "Array", {
        find: function(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    i(71)(r)
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(39)(0)
      , r = i(37)([].forEach, !0);
    s(s.P + s.F * !r, "Array", {
        forEach: function(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(46)
      , n = i(2)
      , r = i(16)
      , o = i(204)
      , a = i(135)
      , c = i(15)
      , l = i(129)
      , u = i(151);
    n(n.S + n.F * !i(106)(function(e) {
        Array.from(e)
    }), "Array", {
        from: function(e) {
            var t, i, n, d, h = r(e), m = "function" == typeof this ? this : Array, p = arguments.length, f = p > 1 ? arguments[1] : void 0, g = void 0 !== f, v = 0, T = u(h);
            if (g && (f = s(f, p > 2 ? arguments[2] : void 0, 2)),
            void 0 == T || m == Array && a(T))
                for (t = c(h.length),
                i = new m(t); t > v; v++)
                    l(i, v, g ? f(h[v], v) : h[v]);
            else
                for (d = T.call(h),
                i = new m; !(n = d.next()).done; v++)
                    l(i, v, g ? o(d, f, [n.value, v], !0) : n.value);
            return i.length = v,
            i
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(100)(!1)
      , r = [].indexOf
      , o = !!r && 1 / [1].indexOf(1, -0) < 0;
    s(s.P + s.F * (o || !i(37)(r)), "Array", {
        indexOf: function(e) {
            return o ? r.apply(this, arguments) || 0 : n(this, e, arguments[1])
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Array", {
        isArray: i(136)
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(26)
      , r = [].join;
    s(s.P + s.F * (i(82) != Object || !i(37)(r)), "Array", {
        join: function(e) {
            return r.call(n(this), void 0 === e ? "," : e)
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(26)
      , r = i(53)
      , o = i(15)
      , a = [].lastIndexOf
      , c = !!a && 1 / [1].lastIndexOf(1, -0) < 0;
    s(s.P + s.F * (c || !i(37)(a)), "Array", {
        lastIndexOf: function(e) {
            if (c)
                return a.apply(this, arguments) || 0;
            var t = n(this)
              , i = o(t.length)
              , s = i - 1;
            for (arguments.length > 1 && (s = Math.min(s, r(arguments[1]))),
            0 > s && (s = i + s); s >= 0; s--)
                if (s in t && t[s] === e)
                    return s || 0;
            return -1
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(39)(1);
    s(s.P + s.F * !i(37)([].map, !0), "Array", {
        map: function(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(129);
    s(s.S + s.F * i(5)(function() {
        function e() {}
        return !(Array.of.call(e)instanceof e)
    }), "Array", {
        of: function() {
            for (var e = 0, t = arguments.length, i = new ("function" == typeof this ? this : Array)(t); t > e; )
                n(i, e, arguments[e++]);
            return i.length = t,
            i
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(198);
    s(s.P + s.F * !i(37)([].reduceRight, !0), "Array", {
        reduceRight: function(e) {
            return n(this, e, arguments.length, arguments[1], !0)
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(198);
    s(s.P + s.F * !i(37)([].reduce, !0), "Array", {
        reduce: function(e) {
            return n(this, e, arguments.length, arguments[1], !1)
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(133)
      , r = i(35)
      , o = i(60)
      , a = i(15)
      , c = [].slice;
    s(s.P + s.F * i(5)(function() {
        n && c.call(n)
    }), "Array", {
        slice: function(e, t) {
            var i = a(this.length)
              , s = r(this);
            if (t = void 0 === t ? i : t,
            "Array" == s)
                return c.call(this, e, t);
            for (var n = o(e, i), l = o(t, i), u = a(l - n), d = Array(u), h = 0; u > h; h++)
                d[h] = "String" == s ? this.charAt(n + h) : this[n + h];
            return d
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(39)(3);
    s(s.P + s.F * !i(37)([].some, !0), "Array", {
        some: function(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(34)
      , r = i(16)
      , o = i(5)
      , a = [].sort
      , c = [1, 2, 3];
    s(s.P + s.F * (o(function() {
        c.sort(void 0)
    }) || !o(function() {
        c.sort(null )
    }) || !i(37)(a)), "Array", {
        sort: function(e) {
            return void 0 === e ? a.call(r(this)) : a.call(r(this), n(e))
        }
    })
}
, function(e, t, i) {
    i(74)("Array")
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Date", {
        now: function() {
            return (new Date).getTime()
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(5)
      , r = Date.prototype.getTime
      , o = function(e) {
        return e > 9 ? e : "0" + e
    }
    ;
    s(s.P + s.F * (n(function() {
        return "0385-07-25T07:06:39.999Z" != new Date(-5e13 - 1).toISOString()
    }) || !n(function() {
        new Date(NaN).toISOString()
    })), "Date", {
        toISOString: function() {
            if (!isFinite(r.call(this)))
                throw RangeError("Invalid time value");
            var e = this
              , t = e.getUTCFullYear()
              , i = e.getUTCMilliseconds()
              , s = 0 > t ? "-" : t > 9999 ? "+" : "";
            return s + ("00000" + Math.abs(t)).slice(s ? -6 : -4) + "-" + o(e.getUTCMonth() + 1) + "-" + o(e.getUTCDate()) + "T" + o(e.getUTCHours()) + ":" + o(e.getUTCMinutes()) + ":" + o(e.getUTCSeconds()) + "." + (i > 99 ? i : "0" + o(i)) + "Z"
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(16)
      , r = i(41);
    s(s.P + s.F * i(5)(function() {
        return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
            toISOString: function() {
                return 1
            }
        })
    }), "Date", {
        toJSON: function(e) {
            var t = n(this)
              , i = r(t);
            return "number" != typeof i || isFinite(i) ? t.toISOString() : null
        }
    })
}
, function(e, t, i) {
    var s = i(12)("toPrimitive")
      , n = Date.prototype;
    s in n || i(23)(n, s, i(621))
}
, function(e, t, i) {
    var s = Date.prototype
      , n = "Invalid Date"
      , r = "toString"
      , o = s[r]
      , a = s.getTime;
    new Date(NaN) + "" != n && i(24)(s, r, function() {
        var e = a.call(this);
        return e === e ? o.call(this) : n
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.P, "Function", {
        bind: i(199)
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(10)
      , n = i(32)
      , r = i(12)("hasInstance")
      , o = Function.prototype;
    r in o || i(14).f(o, r, {
        value: function(e) {
            if ("function" != typeof this || !s(e))
                return !1;
            if (!s(this.prototype))
                return e instanceof this;
            for (; e = n(e); )
                if (this.prototype === e)
                    return !0;
            return !1
        }
    })
}
, function(e, t, i) {
    var s = i(14).f
      , n = i(52)
      , r = i(17)
      , o = Function.prototype
      , a = /^\s*function ([^ (]*)/
      , c = "name"
      , l = Object.isExtensible || function() {
        return !0
    }
    ;
    c in o || i(13) && s(o, c, {
        configurable: !0,
        get: function() {
            try {
                var e = this
                  , t = ("" + e).match(a)[1];
                return r(e, c) || !l(e) || s(e, c, n(5, t)),
                t
            } catch (i) {
                return ""
            }
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(206)
      , r = Math.sqrt
      , o = Math.acosh;
    s(s.S + s.F * !(o && 710 == Math.floor(o(Number.MAX_VALUE)) && o(1 / 0) == 1 / 0), "Math", {
        acosh: function(e) {
            return (e = +e) < 1 ? NaN : e > 94906265.62425156 ? Math.log(e) + Math.LN2 : n(e - 1 + r(e - 1) * r(e + 1))
        }
    })
}
, function(e, t, i) {
    function s(e) {
        return isFinite(e = +e) && 0 != e ? 0 > e ? -s(-e) : Math.log(e + Math.sqrt(e * e + 1)) : e
    }
    var n = i(2)
      , r = Math.asinh;
    n(n.S + n.F * !(r && 1 / r(0) > 0), "Math", {
        asinh: s
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = Math.atanh;
    s(s.S + s.F * !(n && 1 / n(-0) < 0), "Math", {
        atanh: function(e) {
            return 0 == (e = +e) ? e : Math.log((1 + e) / (1 - e)) / 2
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(141);
    s(s.S, "Math", {
        cbrt: function(e) {
            return n(e = +e) * Math.pow(Math.abs(e), 1 / 3)
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        clz32: function(e) {
            return (e >>>= 0) ? 31 - Math.floor(Math.log(e + .5) * Math.LOG2E) : 32
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = Math.exp;
    s(s.S, "Math", {
        cosh: function(e) {
            return (n(e = +e) + n(-e)) / 2
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(140);
    s(s.S + s.F * (n != Math.expm1), "Math", {
        expm1: n
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(141)
      , r = Math.pow
      , o = r(2, -52)
      , a = r(2, -23)
      , c = r(2, 127) * (2 - a)
      , l = r(2, -126)
      , u = function(e) {
        return e + 1 / o - 1 / o
    }
    ;
    s(s.S, "Math", {
        fround: function(e) {
            var t, i, s = Math.abs(e), r = n(e);
            return l > s ? r * u(s / l / a) * l * a : (t = (1 + a / o) * s,
            i = t - (t - s),
            i > c || i != i ? r * (1 / 0) : r * i)
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = Math.abs;
    s(s.S, "Math", {
        hypot: function(e, t) {
            for (var i, s, r = 0, o = 0, a = arguments.length, c = 0; a > o; )
                i = n(arguments[o++]),
                i > c ? (s = c / i,
                r = r * s * s + 1,
                c = i) : i > 0 ? (s = i / c,
                r += s * s) : r += i;
            return c === 1 / 0 ? 1 / 0 : c * Math.sqrt(r)
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = Math.imul;
    s(s.S + s.F * i(5)(function() {
        return -5 != n(4294967295, 5) || 2 != n.length
    }), "Math", {
        imul: function(e, t) {
            var i = 65535
              , s = +e
              , n = +t
              , r = i & s
              , o = i & n;
            return 0 | r * o + ((i & s >>> 16) * o + r * (i & n >>> 16) << 16 >>> 0)
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        log10: function(e) {
            return Math.log(e) / Math.LN10
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        log1p: i(206)
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        log2: function(e) {
            return Math.log(e) / Math.LN2
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        sign: i(141)
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(140)
      , r = Math.exp;
    s(s.S + s.F * i(5)(function() {
        return -2e-17 != !Math.sinh(-2e-17)
    }), "Math", {
        sinh: function(e) {
            return Math.abs(e = +e) < 1 ? (n(e) - n(-e)) / 2 : (r(e - 1) - r(-e - 1)) * (Math.E / 2)
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(140)
      , r = Math.exp;
    s(s.S, "Math", {
        tanh: function(e) {
            var t = n(e = +e)
              , i = n(-e);
            return t == 1 / 0 ? 1 : i == 1 / 0 ? -1 : (t - i) / (r(e) + r(-e))
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        trunc: function(e) {
            return (e > 0 ? Math.floor : Math.ceil)(e)
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(6)
      , n = i(17)
      , r = i(35)
      , o = i(134)
      , a = i(41)
      , c = i(5)
      , l = i(58).f
      , u = i(31).f
      , d = i(14).f
      , h = i(76).trim
      , m = "Number"
      , p = s[m]
      , f = p
      , g = p.prototype
      , v = r(i(57)(g)) == m
      , T = "trim"in String.prototype
      , w = function(e) {
        var t = a(e, !1);
        if ("string" == typeof t && t.length > 2) {
            t = T ? t.trim() : h(t, 3);
            var i, s, n, r = t.charCodeAt(0);
            if (43 === r || 45 === r) {
                if (i = t.charCodeAt(2),
                88 === i || 120 === i)
                    return NaN
            } else if (48 === r) {
                switch (t.charCodeAt(1)) {
                case 66:
                case 98:
                    s = 2,
                    n = 49;
                    break;
                case 79:
                case 111:
                    s = 8,
                    n = 55;
                    break;
                default:
                    return +t
                }
                for (var o, c = t.slice(2), l = 0, u = c.length; u > l; l++)
                    if (o = c.charCodeAt(l),
                    48 > o || o > n)
                        return NaN;
                return parseInt(c, s)
            }
        }
        return +t
    }
    ;
    if (!p(" 0o1") || !p("0b1") || p("+0x1")) {
        p = function(e) {
            var t = arguments.length < 1 ? 0 : e
              , i = this;
            return i instanceof p && (v ? c(function() {
                g.valueOf.call(i)
            }) : r(i) != m) ? o(new f(w(t)), i, p) : w(t)
        }
        ;
        for (var b, y = i(13) ? l(f) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), D = 0; y.length > D; D++)
            n(f, b = y[D]) && !n(p, b) && d(p, b, u(f, b));
        p.prototype = g,
        g.constructor = p,
        i(24)(s, m, p)
    }
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Number", {
        EPSILON: Math.pow(2, -52)
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(6).isFinite;
    s(s.S, "Number", {
        isFinite: function(e) {
            return "number" == typeof e && n(e)
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Number", {
        isInteger: i(137)
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Number", {
        isNaN: function(e) {
            return e != e
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(137)
      , r = Math.abs;
    s(s.S, "Number", {
        isSafeInteger: function(e) {
            return n(e) && r(e) <= 9007199254740991
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Number", {
        MAX_SAFE_INTEGER: 9007199254740991
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Number", {
        MIN_SAFE_INTEGER: -9007199254740991
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(214);
    s(s.S + s.F * (Number.parseFloat != n), "Number", {
        parseFloat: n
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(215);
    s(s.S + s.F * (Number.parseInt != n), "Number", {
        parseInt: n
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = (i(54),
    i(53))
      , r = i(195)
      , o = i(146)
      , a = 1..toFixed
      , c = Math.floor
      , l = [0, 0, 0, 0, 0, 0]
      , u = "Number.toFixed: incorrect invocation!"
      , d = "0"
      , h = function(e, t) {
        for (var i = -1, s = t; ++i < 6; )
            s += e * l[i],
            l[i] = s % 1e7,
            s = c(s / 1e7)
    }
      , m = function(e) {
        for (var t = 6, i = 0; --t >= 0; )
            i += l[t],
            l[t] = c(i / e),
            i = i % e * 1e7
    }
      , p = function() {
        for (var e = 6, t = ""; --e >= 0; )
            if ("" !== t || 0 === e || 0 !== l[e]) {
                var i = String(l[e]);
                t = "" === t ? i : t + o.call(d, 7 - i.length) + i
            }
        return t
    }
      , f = function(e, t, i) {
        return 0 === t ? i : t % 2 === 1 ? f(e, t - 1, i * e) : f(e * e, t / 2, i)
    }
      , g = function(e) {
        for (var t = 0, i = e; i >= 4096; )
            t += 12,
            i /= 4096;
        for (; i >= 2; )
            t += 1,
            i /= 2;
        return t
    }
    ;
    s(s.P + s.F * (!!a && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== 0xde0b6b3a7640080.toFixed(0)) || !i(5)(function() {
        a.call({})
    })), "Number", {
        toFixed: function(e) {
            var t, i, s, a, c = r(this, u), l = n(e), v = "", T = d;
            if (0 > l || l > 20)
                throw RangeError(u);
            if (c != c)
                return "NaN";
            if (-1e21 >= c || c >= 1e21)
                return String(c);
            if (0 > c && (v = "-",
            c = -c),
            c > 1e-21)
                if (t = g(c * f(2, 69, 1)) - 69,
                i = 0 > t ? c * f(2, -t, 1) : c / f(2, t, 1),
                i *= 4503599627370496,
                t = 52 - t,
                t > 0) {
                    for (h(0, i),
                    s = l; s >= 7; )
                        h(1e7, 0),
                        s -= 7;
                    for (h(f(10, s, 1), 0),
                    s = t - 1; s >= 23; )
                        m(1 << 23),
                        s -= 23;
                    m(1 << s),
                    h(1, 1),
                    m(2),
                    T = p()
                } else
                    h(0, i),
                    h(1 << -t, 0),
                    T = p() + o.call(d, l);
            return l > 0 ? (a = T.length,
            T = v + (l >= a ? "0." + o.call(d, l - a) + T : T.slice(0, a - l) + "." + T.slice(a - l))) : T = v + T,
            T
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(5)
      , r = i(195)
      , o = 1..toPrecision;
    s(s.P + s.F * (n(function() {
        return "1" !== o.call(1, void 0)
    }) || !n(function() {
        o.call({})
    })), "Number", {
        toPrecision: function(e) {
            var t = r(this, "Number#toPrecision: incorrect invocation!");
            return void 0 === e ? o.call(t) : o.call(t, e)
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S + s.F, "Object", {
        assign: i(208)
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Object", {
        create: i(57)
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S + s.F * !i(13), "Object", {
        defineProperties: i(209)
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S + s.F * !i(13), "Object", {
        defineProperty: i(14).f
    })
}
, function(e, t, i) {
    var s = i(10)
      , n = i(51).onFreeze;
    i(40)("freeze", function(e) {
        return function(t) {
            return e && s(t) ? e(n(t)) : t
        }
    })
}
, function(e, t, i) {
    var s = i(26)
      , n = i(31).f;
    i(40)("getOwnPropertyDescriptor", function() {
        return function(e, t) {
            return n(s(e), t)
        }
    })
}
, function(e, t, i) {
    i(40)("getOwnPropertyNames", function() {
        return i(210).f
    })
}
, function(e, t, i) {
    var s = i(16)
      , n = i(32);
    i(40)("getPrototypeOf", function() {
        return function(e) {
            return n(s(e))
        }
    })
}
, function(e, t, i) {
    var s = i(10);
    i(40)("isExtensible", function(e) {
        return function(t) {
            return s(t) ? e ? e(t) : !0 : !1
        }
    })
}
, function(e, t, i) {
    var s = i(10);
    i(40)("isFrozen", function(e) {
        return function(t) {
            return s(t) ? e ? e(t) : !1 : !0
        }
    })
}
, function(e, t, i) {
    var s = i(10);
    i(40)("isSealed", function(e) {
        return function(t) {
            return s(t) ? e ? e(t) : !1 : !0
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Object", {
        is: i(216)
    })
}
, [925, 16, 59, 40], function(e, t, i) {
    var s = i(10)
      , n = i(51).onFreeze;
    i(40)("preventExtensions", function(e) {
        return function(t) {
            return e && s(t) ? e(n(t)) : t
        }
    })
}
, function(e, t, i) {
    var s = i(10)
      , n = i(51).onFreeze;
    i(40)("seal", function(e) {
        return function(t) {
            return e && s(t) ? e(n(t)) : t
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Object", {
        setPrototypeOf: i(109).set
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(72)
      , n = {};
    n[i(12)("toStringTag")] = "z",
    n + "" != "[object z]" && i(24)(Object.prototype, "toString", function() {
        return "[object " + s(this) + "]"
    }, !0)
}
, function(e, t, i) {
    var s = i(2)
      , n = i(214);
    s(s.G + s.F * (parseFloat != n), {
        parseFloat: n
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(215);
    s(s.G + s.F * (parseInt != n), {
        parseInt: n
    })
}
, [926, 56, 6, 46, 72, 2, 10, 3, 34, 54, 81, 109, 143, 148, 207, 12, 73, 75, 74, 45, 106], function(e, t, i) {
    var s = i(2)
      , n = Function.apply;
    s(s.S, "Reflect", {
        apply: function(e, t, i) {
            return n.call(e, t, i)
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(57)
      , r = i(34)
      , o = i(3)
      , a = i(10)
      , c = i(199);
    s(s.S + s.F * i(5)(function() {
        function e() {}
        return !(Reflect.construct(function() {}, [], e)instanceof e)
    }), "Reflect", {
        construct: function(e, t) {
            r(e);
            var i = arguments.length < 3 ? e : r(arguments[2]);
            if (e == i) {
                if (void 0 != t)
                    switch (o(t).length) {
                    case 0:
                        return new e;
                    case 1:
                        return new e(t[0]);
                    case 2:
                        return new e(t[0],t[1]);
                    case 3:
                        return new e(t[0],t[1],t[2]);
                    case 4:
                        return new e(t[0],t[1],t[2],t[3])
                    }
                var s = [null ];
                return s.push.apply(s, t),
                new (c.apply(e, s))
            }
            var l = i.prototype
              , u = n(a(l) ? l : Object.prototype)
              , d = Function.apply.call(e, u, t);
            return a(d) ? d : u
        }
    })
}
, function(e, t, i) {
    var s = i(14)
      , n = i(2)
      , r = i(3)
      , o = i(41);
    n(n.S + n.F * i(5)(function() {
        Reflect.defineProperty(s.f({}, 1, {
            value: 1
        }), 1, {
            value: 2
        })
    }), "Reflect", {
        defineProperty: function(e, t, i) {
            r(e),
            t = o(t, !0),
            r(i);
            try {
                return s.f(e, t, i),
                !0
            } catch (n) {
                return !1
            }
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(31).f
      , r = i(3);
    s(s.S, "Reflect", {
        deleteProperty: function(e, t) {
            var i = n(r(e), t);
            return i && !i.configurable ? !1 : delete e[t]
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(3)
      , r = function(e) {
        this._t = n(e),
        this._i = 0;
        var t, i = this._k = [];
        for (t in e)
            i.push(t)
    }
    ;
    i(138)(r, "Object", function() {
        var e, t = this, i = t._k;
        do
            if (t._i >= i.length)
                return {
                    value: void 0,
                    done: !0
                };
        while (!((e = i[t._i++])in t._t));return {
            value: e,
            done: !1
        }
    }),
    s(s.S, "Reflect", {
        enumerate: function(e) {
            return new r(e)
        }
    })
}
, function(e, t, i) {
    var s = i(31)
      , n = i(2)
      , r = i(3);
    n(n.S, "Reflect", {
        getOwnPropertyDescriptor: function(e, t) {
            return s.f(r(e), t)
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(32)
      , r = i(3);
    s(s.S, "Reflect", {
        getPrototypeOf: function(e) {
            return n(r(e))
        }
    })
}
, function(e, t, i) {
    function s(e, t) {
        var i, a, u = arguments.length < 3 ? e : arguments[2];
        return l(e) === u ? e[t] : (i = n.f(e, t)) ? o(i, "value") ? i.value : void 0 !== i.get ? i.get.call(u) : void 0 : c(a = r(e)) ? s(a, t, u) : void 0
    }
    var n = i(31)
      , r = i(32)
      , o = i(17)
      , a = i(2)
      , c = i(10)
      , l = i(3);
    a(a.S, "Reflect", {
        get: s
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Reflect", {
        has: function(e, t) {
            return t in e
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(3)
      , r = Object.isExtensible;
    s(s.S, "Reflect", {
        isExtensible: function(e) {
            return n(e),
            r ? r(e) : !0
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Reflect", {
        ownKeys: i(213)
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(3)
      , r = Object.preventExtensions;
    s(s.S, "Reflect", {
        preventExtensions: function(e) {
            n(e);
            try {
                return r && r(e),
                !0
            } catch (t) {
                return !1
            }
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(109);
    n && s(s.S, "Reflect", {
        setPrototypeOf: function(e, t) {
            n.check(e, t);
            try {
                return n.set(e, t),
                !0
            } catch (i) {
                return !1
            }
        }
    })
}
, function(e, t, i) {
    function s(e, t, i) {
        var c, h, m = arguments.length < 4 ? e : arguments[3], p = r.f(u(e), t);
        if (!p) {
            if (d(h = o(e)))
                return s(h, t, i, m);
            p = l(0)
        }
        return a(p, "value") ? p.writable !== !1 && d(m) ? (c = r.f(m, t) || l(0),
        c.value = i,
        n.f(m, t, c),
        !0) : !1 : void 0 === p.set ? !1 : (p.set.call(m, i),
        !0)
    }
    var n = i(14)
      , r = i(31)
      , o = i(32)
      , a = i(17)
      , c = i(2)
      , l = i(52)
      , u = i(3)
      , d = i(10);
    c(c.S, "Reflect", {
        set: s
    })
}
, function(e, t, i) {
    var s = i(6)
      , n = i(134)
      , r = i(14).f
      , o = i(58).f
      , a = i(105)
      , c = i(103)
      , l = s.RegExp
      , u = l
      , d = l.prototype
      , h = /a/g
      , m = /a/g
      , p = new l(h) !== h;
    if (i(13) && (!p || i(5)(function() {
        return m[i(12)("match")] = !1,
        l(h) != h || l(m) == m || "/a/i" != l(h, "i")
    }))) {
        l = function(e, t) {
            var i = this instanceof l
              , s = a(e)
              , r = void 0 === t;
            return !i && s && e.constructor === l && r ? e : n(p ? new u(s && !r ? e.source : e,t) : u((s = e instanceof l) ? e.source : e, s && r ? c.call(e) : t), i ? this : d, l)
        }
        ;
        for (var f = (function(e) {
            e in l || r(l, e, {
                configurable: !0,
                get: function() {
                    return u[e]
                },
                set: function(t) {
                    u[e] = t
                }
            })
        }
        ), g = o(u), v = 0; g.length > v; )
            f(g[v++]);
        d.constructor = l,
        l.prototype = d,
        i(24)(s, "RegExp", l)
    }
    i(74)("RegExp")
}
, function(e, t, i) {
    i(102)("match", 1, function(e, t, i) {
        return [function(i) {
            "use strict";
            var s = e(this)
              , n = void 0 == i ? void 0 : i[t];
            return void 0 !== n ? n.call(i, s) : new RegExp(i)[t](String(s))
        }
        , i]
    })
}
, function(e, t, i) {
    i(102)("replace", 2, function(e, t, i) {
        return [function(s, n) {
            "use strict";
            var r = e(this)
              , o = void 0 == s ? void 0 : s[t];
            return void 0 !== o ? o.call(s, r, n) : i.call(String(r), s, n)
        }
        , i]
    })
}
, function(e, t, i) {
    i(102)("search", 1, function(e, t, i) {
        return [function(i) {
            "use strict";
            var s = e(this)
              , n = void 0 == i ? void 0 : i[t];
            return void 0 !== n ? n.call(i, s) : new RegExp(i)[t](String(s))
        }
        , i]
    })
}
, function(e, t, i) {
    i(102)("split", 2, function(e, t, s) {
        "use strict";
        var n = i(105)
          , r = s
          , o = [].push
          , a = "split"
          , c = "length"
          , l = "lastIndex";
        if ("c" == "abbc"[a](/(b)*/)[1] || 4 != "test"[a](/(?:)/, -1)[c] || 2 != "ab"[a](/(?:ab)*/)[c] || 4 != "."[a](/(.?)(.?)/)[c] || "."[a](/()()/)[c] > 1 || ""[a](/.?/)[c]) {
            var u = void 0 === /()??/.exec("")[1];
            s = function(e, t) {
                var i = String(this);
                if (void 0 === e && 0 === t)
                    return [];
                if (!n(e))
                    return r.call(i, e, t);
                var s, a, d, h, m, p = [], f = (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.unicode ? "u" : "") + (e.sticky ? "y" : ""), g = 0, v = void 0 === t ? 4294967295 : t >>> 0, T = new RegExp(e.source,f + "g");
                for (u || (s = new RegExp("^" + T.source + "$(?!\\s)",f)); (a = T.exec(i)) && (d = a.index + a[0][c],
                !(d > g && (p.push(i.slice(g, a.index)),
                !u && a[c] > 1 && a[0].replace(s, function() {
                    for (m = 1; m < arguments[c] - 2; m++)
                        void 0 === arguments[m] && (a[m] = void 0)
                }),
                a[c] > 1 && a.index < i[c] && o.apply(p, a.slice(1)),
                h = a[0][c],
                g = d,
                p[c] >= v))); )
                    T[l] === a.index && T[l]++;
                return g === i[c] ? (h || !T.test("")) && p.push("") : p.push(i.slice(g)),
                p[c] > v ? p.slice(0, v) : p
            }
        } else
            "0"[a](void 0, 0)[c] && (s = function(e, t) {
                return void 0 === e && 0 === t ? [] : r.call(this, e, t)
            }
            );
        return [function(i, n) {
            var r = e(this)
              , o = void 0 == i ? void 0 : i[t];
            return void 0 !== o ? o.call(i, r, n) : s.call(String(r), i, n)
        }
        , s]
    })
}
, function(e, t, i) {
    "use strict";
    i(220);
    var s = i(3)
      , n = i(103)
      , r = i(13)
      , o = "toString"
      , a = /./[o]
      , c = function(e) {
        i(24)(RegExp.prototype, o, e, !0)
    }
    ;
    i(5)(function() {
        return "/a/b" != a.call({
            source: "a",
            flags: "b"
        })
    }) ? c(function() {
        var e = s(this);
        return "/".concat(e.source, "/", "flags"in e ? e.flags : !r && e instanceof RegExp ? n.call(e) : void 0)
    }) : a.name != o && c(function() {
        return a.call(this)
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("anchor", function(e) {
        return function(t) {
            return e(this, "a", "name", t)
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("big", function(e) {
        return function() {
            return e(this, "big", "", "")
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("blink", function(e) {
        return function() {
            return e(this, "blink", "", "")
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("bold", function(e) {
        return function() {
            return e(this, "b", "", "")
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(144)(!1);
    s(s.P, "String", {
        codePointAt: function(e) {
            return n(this, e)
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(15)
      , r = i(145)
      , o = "endsWith"
      , a = ""[o];
    s(s.P + s.F * i(132)(o), "String", {
        endsWith: function(e) {
            var t = r(this, e, o)
              , i = arguments.length > 1 ? arguments[1] : void 0
              , s = n(t.length)
              , c = void 0 === i ? s : Math.min(n(i), s)
              , l = String(e);
            return a ? a.call(t, l, c) : t.slice(c - l.length, c) === l
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("fixed", function(e) {
        return function() {
            return e(this, "tt", "", "")
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("fontcolor", function(e) {
        return function(t) {
            return e(this, "font", "color", t)
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("fontsize", function(e) {
        return function(t) {
            return e(this, "font", "size", t)
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(60)
      , r = String.fromCharCode
      , o = String.fromCodePoint;
    s(s.S + s.F * (!!o && 1 != o.length), "String", {
        fromCodePoint: function(e) {
            for (var t, i = [], s = arguments.length, o = 0; s > o; ) {
                if (t = +arguments[o++],
                n(t, 1114111) !== t)
                    throw RangeError(t + " is not a valid code point");
                i.push(65536 > t ? r(t) : r(((t -= 65536) >> 10) + 55296, t % 1024 + 56320))
            }
            return i.join("")
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(145)
      , r = "includes";
    s(s.P + s.F * i(132)(r), "String", {
        includes: function(e) {
            return !!~n(this, e, r).indexOf(e, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("italics", function(e) {
        return function() {
            return e(this, "i", "", "")
        }
    })
}
, [927, 144, 139], function(e, t, i) {
    "use strict";
    i(25)("link", function(e) {
        return function(t) {
            return e(this, "a", "href", t)
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(26)
      , r = i(15);
    s(s.S, "String", {
        raw: function(e) {
            for (var t = n(e.raw), i = r(t.length), s = arguments.length, o = [], a = 0; i > a; )
                o.push(String(t[a++])),
                s > a && o.push(String(arguments[a]));
            return o.join("")
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.P, "String", {
        repeat: i(146)
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("small", function(e) {
        return function() {
            return e(this, "small", "", "")
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(15)
      , r = i(145)
      , o = "startsWith"
      , a = ""[o];
    s(s.P + s.F * i(132)(o), "String", {
        startsWith: function(e) {
            var t = r(this, e, o)
              , i = n(Math.min(arguments.length > 1 ? arguments[1] : void 0, t.length))
              , s = String(e);
            return a ? a.call(t, s, i) : t.slice(i, i + s.length) === s
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("strike", function(e) {
        return function() {
            return e(this, "strike", "", "")
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("sub", function(e) {
        return function() {
            return e(this, "sub", "", "")
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(25)("sup", function(e) {
        return function() {
            return e(this, "sup", "", "")
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(76)("trim", function(e) {
        return function() {
            return e(this, 3)
        }
    })
}
, [928, 6, 17, 13, 2, 24, 51, 5, 110, 75, 61, 12, 218, 150, 623, 622, 136, 3, 26, 41, 52, 57, 210, 31, 14, 59, 58, 83, 108, 56, 23], function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(111)
      , r = i(149)
      , o = i(3)
      , a = i(60)
      , c = i(15)
      , l = i(10)
      , u = (i(12)("typed_array"),
    i(6).ArrayBuffer)
      , d = i(143)
      , h = r.ArrayBuffer
      , m = r.DataView
      , p = n.ABV && u.isView
      , f = h.prototype.slice
      , g = n.VIEW
      , v = "ArrayBuffer";
    s(s.G + s.W + s.F * (u !== h), {
        ArrayBuffer: h
    }),
    s(s.S + s.F * !n.CONSTR, v, {
        isView: function(e) {
            return p && p(e) || l(e) && g in e
        }
    }),
    s(s.P + s.U + s.F * i(5)(function() {
        return !new h(2).slice(1, void 0).byteLength
    }), v, {
        slice: function(e, t) {
            if (void 0 !== f && void 0 === t)
                return f.call(o(this), e);
            for (var i = o(this).byteLength, s = a(e, i), n = a(void 0 === t ? i : t, i), r = new (d(this, h))(c(n - s)), l = new m(this), u = new m(r), p = 0; n > s; )
                u.setUint8(p++, l.getUint8(s++));
            return r
        }
    }),
    i(74)(v)
}
, function(e, t, i) {
    var s = i(2);
    s(s.G + s.W + s.F * !i(111).ABV, {
        DataView: i(149).DataView
    })
}
, function(e, t, i) {
    i(48)("Float32", 4, function(e) {
        return function(t, i, s) {
            return e(this, t, i, s)
        }
    })
}
, function(e, t, i) {
    i(48)("Float64", 8, function(e) {
        return function(t, i, s) {
            return e(this, t, i, s)
        }
    })
}
, function(e, t, i) {
    i(48)("Int16", 2, function(e) {
        return function(t, i, s) {
            return e(this, t, i, s)
        }
    })
}
, function(e, t, i) {
    i(48)("Int32", 4, function(e) {
        return function(t, i, s) {
            return e(this, t, i, s)
        }
    })
}
, function(e, t, i) {
    i(48)("Int8", 1, function(e) {
        return function(t, i, s) {
            return e(this, t, i, s)
        }
    })
}
, function(e, t, i) {
    i(48)("Uint16", 2, function(e) {
        return function(t, i, s) {
            return e(this, t, i, s)
        }
    })
}
, function(e, t, i) {
    i(48)("Uint32", 4, function(e) {
        return function(t, i, s) {
            return e(this, t, i, s)
        }
    })
}
, function(e, t, i) {
    i(48)("Uint8", 1, function(e) {
        return function(t, i, s) {
            return e(this, t, i, s)
        }
    })
}
, function(e, t, i) {
    i(48)("Uint8", 1, function(e) {
        return function(t, i, s) {
            return e(this, t, i, s)
        }
    }, !0)
}
, function(e, t, i) {
    "use strict";
    var s = i(202);
    i(101)("WeakSet", function(e) {
        return function() {
            return e(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function(e) {
            return s.def(this, e, !0)
        }
    }, s, !1, !0)
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(100)(!0);
    s(s.P, "Array", {
        includes: function(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    i(71)("includes")
}
, function(e, t, i) {
    var s = i(2)
      , n = i(207)()
      , r = i(6).process
      , o = "process" == i(35)(r);
    s(s.G, {
        asap: function(e) {
            var t = o && r.domain;
            n(t ? t.bind(e) : e)
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(35);
    s(s.S, "Error", {
        isError: function(e) {
            return "Error" === n(e)
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.P + s.R, "Map", {
        toJSON: i(201)("Map")
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        iaddh: function(e, t, i, s) {
            var n = e >>> 0
              , r = t >>> 0
              , o = i >>> 0;
            return r + (s >>> 0) + ((n & o | (n | o) & ~(n + o >>> 0)) >>> 31) | 0
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        imulh: function(e, t) {
            var i = 65535
              , s = +e
              , n = +t
              , r = s & i
              , o = n & i
              , a = s >> 16
              , c = n >> 16
              , l = (a * o >>> 0) + (r * o >>> 16);
            return a * c + (l >> 16) + ((r * c >>> 0) + (l & i) >> 16)
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        isubh: function(e, t, i, s) {
            var n = e >>> 0
              , r = t >>> 0
              , o = i >>> 0;
            return r - (s >>> 0) - ((~n & o | ~(n ^ o) & n - o >>> 0) >>> 31) | 0
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.S, "Math", {
        umulh: function(e, t) {
            var i = 65535
              , s = +e
              , n = +t
              , r = s & i
              , o = n & i
              , a = s >>> 16
              , c = n >>> 16
              , l = (a * o >>> 0) + (r * o >>> 16);
            return a * c + (l >>> 16) + ((r * c >>> 0) + (l & i) >>> 16)
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(16)
      , r = i(34)
      , o = i(14);
    i(13) && s(s.P + i(107), "Object", {
        __defineGetter__: function(e, t) {
            o.f(n(this), e, {
                get: r(t),
                enumerable: !0,
                configurable: !0
            })
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(16)
      , r = i(34)
      , o = i(14);
    i(13) && s(s.P + i(107), "Object", {
        __defineSetter__: function(e, t) {
            o.f(n(this), e, {
                set: r(t),
                enumerable: !0,
                configurable: !0
            })
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(212)(!0);
    s(s.S, "Object", {
        entries: function(e) {
            return n(e)
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(213)
      , r = i(26)
      , o = i(31)
      , a = i(129);
    s(s.S, "Object", {
        getOwnPropertyDescriptors: function(e) {
            for (var t, i = r(e), s = o.f, c = n(i), l = {}, u = 0; c.length > u; )
                a(l, t = c[u++], s(i, t));
            return l
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(16)
      , r = i(41)
      , o = i(32)
      , a = i(31).f;
    i(13) && s(s.P + i(107), "Object", {
        __lookupGetter__: function(e) {
            var t, i = n(this), s = r(e, !0);
            do
                if (t = a(i, s))
                    return t.get;
            while (i = o(i))
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(16)
      , r = i(41)
      , o = i(32)
      , a = i(31).f;
    i(13) && s(s.P + i(107), "Object", {
        __lookupSetter__: function(e) {
            var t, i = n(this), s = r(e, !0);
            do
                if (t = a(i, s))
                    return t.set;
            while (i = o(i))
        }
    })
}
, function(e, t, i) {
    var s = i(2)
      , n = i(212)(!1);
    s(s.S, "Object", {
        values: function(e) {
            return n(e)
        }
    })
}
, function(e, t, i) {
    var s = i(47)
      , n = i(3)
      , r = s.key
      , o = s.set;
    s.exp({
        defineMetadata: function(e, t, i, s) {
            o(e, t, n(i), r(s))
        }
    })
}
, function(e, t, i) {
    var s = i(47)
      , n = i(3)
      , r = s.key
      , o = s.map
      , a = s.store;
    s.exp({
        deleteMetadata: function(e, t) {
            var i = arguments.length < 3 ? void 0 : r(arguments[2])
              , s = o(n(t), i, !1);
            if (void 0 === s || !s.delete(e))
                return !1;
            if (s.size)
                return !0;
            var c = a.get(t);
            return c.delete(i),
            !!c.size || a.delete(t)
        }
    })
}
, function(e, t, i) {
    var s = i(221)
      , n = i(197)
      , r = i(47)
      , o = i(3)
      , a = i(32)
      , c = r.keys
      , l = r.key
      , u = function(e, t) {
        var i = c(e, t)
          , r = a(e);
        if (null === r)
            return i;
        var o = u(r, t);
        return o.length ? i.length ? n(new s(i.concat(o))) : o : i
    }
    ;
    r.exp({
        getMetadataKeys: function(e) {
            return u(o(e), arguments.length < 2 ? void 0 : l(arguments[1]))
        }
    })
}
, function(e, t, i) {
    var s = i(47)
      , n = i(3)
      , r = i(32)
      , o = s.has
      , a = s.get
      , c = s.key
      , l = function(e, t, i) {
        var s = o(e, t, i);
        if (s)
            return a(e, t, i);
        var n = r(t);
        return null !== n ? l(e, n, i) : void 0
    }
    ;
    s.exp({
        getMetadata: function(e, t) {
            return l(e, n(t), arguments.length < 3 ? void 0 : c(arguments[2]))
        }
    })
}
, function(e, t, i) {
    var s = i(47)
      , n = i(3)
      , r = s.keys
      , o = s.key;
    s.exp({
        getOwnMetadataKeys: function(e) {
            return r(n(e), arguments.length < 2 ? void 0 : o(arguments[1]))
        }
    })
}
, function(e, t, i) {
    var s = i(47)
      , n = i(3)
      , r = s.get
      , o = s.key;
    s.exp({
        getOwnMetadata: function(e, t) {
            return r(e, n(t), arguments.length < 3 ? void 0 : o(arguments[2]))
        }
    })
}
, function(e, t, i) {
    var s = i(47)
      , n = i(3)
      , r = i(32)
      , o = s.has
      , a = s.key
      , c = function(e, t, i) {
        var s = o(e, t, i);
        if (s)
            return !0;
        var n = r(t);
        return null !== n ? c(e, n, i) : !1
    }
    ;
    s.exp({
        hasMetadata: function(e, t) {
            return c(e, n(t), arguments.length < 3 ? void 0 : a(arguments[2]))
        }
    })
}
, function(e, t, i) {
    var s = i(47)
      , n = i(3)
      , r = s.has
      , o = s.key;
    s.exp({
        hasOwnMetadata: function(e, t) {
            return r(e, n(t), arguments.length < 3 ? void 0 : o(arguments[2]))
        }
    })
}
, function(e, t, i) {
    var s = i(47)
      , n = i(3)
      , r = i(34)
      , o = s.key
      , a = s.set;
    s.exp({
        metadata: function(e, t) {
            return function(i, s) {
                a(e, t, (void 0 !== s ? n : r)(i), o(s))
            }
        }
    })
}
, function(e, t, i) {
    var s = i(2);
    s(s.P + s.R, "Set", {
        toJSON: i(201)("Set")
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(144)(!0);
    s(s.P, "String", {
        at: function(e) {
            return n(this, e)
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(36)
      , r = i(15)
      , o = i(105)
      , a = i(103)
      , c = RegExp.prototype
      , l = function(e, t) {
        this._r = e,
        this._s = t
    }
    ;
    i(138)(l, "RegExp String", function() {
        var e = this._r.exec(this._s);
        return {
            value: e,
            done: null === e
        }
    }),
    s(s.P, "String", {
        matchAll: function(e) {
            if (n(this),
            !o(e))
                throw TypeError(e + " is not a regexp!");
            var t = String(this)
              , i = "flags"in c ? String(e.flags) : a.call(e)
              , s = new RegExp(e.source,~i.indexOf("g") ? i : "g" + i);
            return s.lastIndex = r(e.lastIndex),
            new l(s,t)
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(217);
    s(s.P, "String", {
        padEnd: function(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0, !1)
        }
    })
}
, function(e, t, i) {
    "use strict";
    var s = i(2)
      , n = i(217);
    s(s.P, "String", {
        padStart: function(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0, !0)
        }
    })
}
, function(e, t, i) {
    "use strict";
    i(76)("trimLeft", function(e) {
        return function() {
            return e(this, 1)
        }
    }, "trimStart")
}
, function(e, t, i) {
    "use strict";
    i(76)("trimRight", function(e) {
        return function() {
            return e(this, 2)
        }
    }, "trimEnd")
}
, [929, 150], [930, 150], function(e, t, i) {
    var s = i(2);
    s(s.S, "System", {
        global: i(6)
    })
}
, function(e, t, i) {
    for (var s = i(152), n = i(24), r = i(6), o = i(23), a = i(55), c = i(12), l = c("iterator"), u = c("toStringTag"), d = a.Array, h = ["NodeList", "DOMTokenList", "MediaList", "StyleSheetList", "CSSRuleList"], m = 0; 5 > m; m++) {
        var p, f = h[m], g = r[f], v = g && g.prototype;
        if (v) {
            v[l] || o(v, l, d),
            v[u] || o(v, u, f),
            a[f] = d;
            for (p in s)
                v[p] || n(v, p, s[p], !0)
        }
    }
}
, function(e, t, i) {
    var s = i(2)
      , n = i(148);
    s(s.G + s.B, {
        setImmediate: n.set,
        clearImmediate: n.clear
    })
}
, function(e, t, i) {
    var s = i(6)
      , n = i(2)
      , r = i(104)
      , o = i(624)
      , a = s.navigator
      , c = !!a && /MSIE .\./.test(a.userAgent)
      , l = function(e) {
        return c ? function(t, i) {
            return e(r(o, [].slice.call(arguments, 2), "function" == typeof t ? t : Function(t)), i)
        }
        : e
    }
    ;
    n(n.G + n.B + n.F * c, {
        setTimeout: l(s.setTimeout),
        setInterval: l(s.setInterval)
    })
}
, function(e, t, i) {
    i(748),
    i(687),
    i(689),
    i(688),
    i(691),
    i(693),
    i(698),
    i(692),
    i(690),
    i(700),
    i(699),
    i(695),
    i(696),
    i(694),
    i(686),
    i(697),
    i(701),
    i(702),
    i(654),
    i(656),
    i(655),
    i(704),
    i(703),
    i(674),
    i(684),
    i(685),
    i(675),
    i(676),
    i(677),
    i(678),
    i(679),
    i(680),
    i(681),
    i(682),
    i(683),
    i(657),
    i(658),
    i(659),
    i(660),
    i(661),
    i(662),
    i(663),
    i(664),
    i(665),
    i(666),
    i(667),
    i(668),
    i(669),
    i(670),
    i(671),
    i(672),
    i(673),
    i(735),
    i(740),
    i(747),
    i(738),
    i(730),
    i(731),
    i(736),
    i(741),
    i(743),
    i(726),
    i(727),
    i(728),
    i(729),
    i(732),
    i(733),
    i(734),
    i(737),
    i(739),
    i(742),
    i(744),
    i(745),
    i(746),
    i(649),
    i(651),
    i(650),
    i(653),
    i(652),
    i(638),
    i(636),
    i(642),
    i(639),
    i(645),
    i(647),
    i(635),
    i(641),
    i(632),
    i(646),
    i(630),
    i(644),
    i(643),
    i(637),
    i(640),
    i(629),
    i(631),
    i(634),
    i(633),
    i(648),
    i(152),
    i(720),
    i(725),
    i(220),
    i(721),
    i(722),
    i(723),
    i(724),
    i(705),
    i(219),
    i(221),
    i(222),
    i(760),
    i(749),
    i(750),
    i(755),
    i(758),
    i(759),
    i(753),
    i(756),
    i(754),
    i(757),
    i(751),
    i(752),
    i(706),
    i(707),
    i(708),
    i(709),
    i(710),
    i(713),
    i(711),
    i(712),
    i(714),
    i(715),
    i(716),
    i(717),
    i(719),
    i(718),
    i(761),
    i(786),
    i(789),
    i(788),
    i(790),
    i(791),
    i(787),
    i(792),
    i(793),
    i(772),
    i(775),
    i(771),
    i(769),
    i(770),
    i(773),
    i(774),
    i(764),
    i(785),
    i(794),
    i(763),
    i(765),
    i(767),
    i(766),
    i(768),
    i(776),
    i(777),
    i(779),
    i(778),
    i(781),
    i(780),
    i(782),
    i(783),
    i(784),
    i(762),
    i(797),
    i(796),
    i(795),
    e.exports = i(45)
}
, function(e, t, i) {
    (function(t, i) {
        !function(t) {
            "use strict";
            function s(e, t, i, s) {
                var n = Object.create((t || r).prototype)
                  , o = new p(s || []);
                return n._invoke = d(e, i, o),
                n
            }
            function n(e, t, i) {
                try {
                    return {
                        type: "normal",
                        arg: e.call(t, i)
                    }
                } catch (s) {
                    return {
                        type: "throw",
                        arg: s
                    }
                }
            }
            function r() {}
            function o() {}
            function a() {}
            function c(e) {
                ["next", "throw", "return"].forEach(function(t) {
                    e[t] = function(e) {
                        return this._invoke(t, e)
                    }
                })
            }
            function l(e) {
                this.arg = e
            }
            function u(e) {
                function t(t, i) {
                    var s = e[t](i)
                      , n = s.value;
                    return n instanceof l ? Promise.resolve(n.arg).then(r, o) : Promise.resolve(n).then(function(e) {
                        return s.value = e,
                        s
                    })
                }
                function s(e, i) {
                    function s() {
                        return t(e, i)
                    }
                    return n = n ? n.then(s, s) : new Promise(function(e) {
                        e(s())
                    }
                    )
                }
                "object" == typeof i && i.domain && (t = i.domain.bind(t));
                var n, r = t.bind(e, "next"), o = t.bind(e, "throw");
                t.bind(e, "return");
                this._invoke = s
            }
            function d(e, t, i) {
                var s = D;
                return function(r, o) {
                    if (s === _)
                        throw new Error("Generator is already running");
                    if (s === S) {
                        if ("throw" === r)
                            throw o;
                        return g()
                    }
                    for (; ; ) {
                        var a = i.delegate;
                        if (a) {
                            if ("return" === r || "throw" === r && a.iterator[r] === v) {
                                i.delegate = null ;
                                var c = a.iterator.return;
                                if (c) {
                                    var l = n(c, a.iterator, o);
                                    if ("throw" === l.type) {
                                        r = "throw",
                                        o = l.arg;
                                        continue
                                    }
                                }
                                if ("return" === r)
                                    continue
                            }
                            var l = n(a.iterator[r], a.iterator, o);
                            if ("throw" === l.type) {
                                i.delegate = null ,
                                r = "throw",
                                o = l.arg;
                                continue
                            }
                            r = "next",
                            o = v;
                            var u = l.arg;
                            if (!u.done)
                                return s = C,
                                u;
                            i[a.resultName] = u.value,
                            i.next = a.nextLoc,
                            i.delegate = null
                        }
                        if ("next" === r)
                            i._sent = o,
                            s === C ? i.sent = o : i.sent = v;
                        else if ("throw" === r) {
                            if (s === D)
                                throw s = S,
                                o;
                            i.dispatchException(o) && (r = "next",
                            o = v)
                        } else
                            "return" === r && i.abrupt("return", o);
                        s = _;
                        var l = n(e, t, i);
                        if ("normal" === l.type) {
                            s = i.done ? S : C;
                            var u = {
                                value: l.arg,
                                done: i.done
                            };
                            if (l.arg !== A)
                                return u;
                            i.delegate && "next" === r && (o = v)
                        } else
                            "throw" === l.type && (s = S,
                            r = "throw",
                            o = l.arg)
                    }
                }
            }
            function h(e) {
                var t = {
                    tryLoc: e[0]
                };
                1 in e && (t.catchLoc = e[1]),
                2 in e && (t.finallyLoc = e[2],
                t.afterLoc = e[3]),
                this.tryEntries.push(t)
            }
            function m(e) {
                var t = e.completion || {};
                t.type = "normal",
                delete t.arg,
                e.completion = t
            }
            function p(e) {
                this.tryEntries = [{
                    tryLoc: "root"
                }],
                e.forEach(h, this),
                this.reset(!0)
            }
            function f(e) {
                if (e) {
                    var t = e[w];
                    if (t)
                        return t.call(e);
                    if ("function" == typeof e.next)
                        return e;
                    if (!isNaN(e.length)) {
                        var i = -1
                          , s = function n() {
                            for (; ++i < e.length; )
                                if (T.call(e, i))
                                    return n.value = e[i],
                                    n.done = !1,
                                    n;
                            return n.value = v,
                            n.done = !0,
                            n
                        }
                        ;
                        return s.next = s
                    }
                }
                return {
                    next: g
                }
            }
            function g() {
                return {
                    value: v,
                    done: !0
                }
            }
            var v, T = Object.prototype.hasOwnProperty, w = "function" == typeof Symbol && Symbol.iterator || "@@iterator", b = "object" == typeof e, y = t.regeneratorRuntime;
            if (y)
                return void (b && (e.exports = y));
            y = t.regeneratorRuntime = b ? e.exports : {},
            y.wrap = s;
            var D = "suspendedStart"
              , C = "suspendedYield"
              , _ = "executing"
              , S = "completed"
              , A = {}
              , E = a.prototype = r.prototype;
            o.prototype = E.constructor = a,
            a.constructor = o,
            o.displayName = "GeneratorFunction",
            y.isGeneratorFunction = function(e) {
                var t = "function" == typeof e && e.constructor;
                return t ? t === o || "GeneratorFunction" === (t.displayName || t.name) : !1
            }
            ,
            y.mark = function(e) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(e, a) : e.__proto__ = a,
                e.prototype = Object.create(E),
                e
            }
            ,
            y.awrap = function(e) {
                return new l(e)
            }
            ,
            c(u.prototype),
            y.async = function(e, t, i, n) {
                var r = new u(s(e, t, i, n));
                return y.isGeneratorFunction(t) ? r : r.next().then(function(e) {
                    return e.done ? e.value : r.next()
                })
            }
            ,
            c(E),
            E[w] = function() {
                return this
            }
            ,
            E.toString = function() {
                return "[object Generator]"
            }
            ,
            y.keys = function(e) {
                var t = [];
                for (var i in e)
                    t.push(i);
                return t.reverse(),
                function s() {
                    for (; t.length; ) {
                        var i = t.pop();
                        if (i in e)
                            return s.value = i,
                            s.done = !1,
                            s
                    }
                    return s.done = !0,
                    s
                }
            }
            ,
            y.values = f,
            p.prototype = {
                constructor: p,
                reset: function(e) {
                    if (this.prev = 0,
                    this.next = 0,
                    this.sent = v,
                    this.done = !1,
                    this.delegate = null ,
                    this.tryEntries.forEach(m),
                    !e)
                        for (var t in this)
                            "t" === t.charAt(0) && T.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = v)
                },
                stop: function() {
                    this.done = !0;
                    var e = this.tryEntries[0]
                      , t = e.completion;
                    if ("throw" === t.type)
                        throw t.arg;
                    return this.rval
                },
                dispatchException: function(e) {
                    function t(t, s) {
                        return r.type = "throw",
                        r.arg = e,
                        i.next = t,
                        !!s
                    }
                    if (this.done)
                        throw e;
                    for (var i = this, s = this.tryEntries.length - 1; s >= 0; --s) {
                        var n = this.tryEntries[s]
                          , r = n.completion;
                        if ("root" === n.tryLoc)
                            return t("end");
                        if (n.tryLoc <= this.prev) {
                            var o = T.call(n, "catchLoc")
                              , a = T.call(n, "finallyLoc");
                            if (o && a) {
                                if (this.prev < n.catchLoc)
                                    return t(n.catchLoc, !0);
                                if (this.prev < n.finallyLoc)
                                    return t(n.finallyLoc)
                            } else if (o) {
                                if (this.prev < n.catchLoc)
                                    return t(n.catchLoc, !0)
                            } else {
                                if (!a)
                                    throw new Error("try statement without catch or finally");
                                if (this.prev < n.finallyLoc)
                                    return t(n.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(e, t) {
                    for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                        var s = this.tryEntries[i];
                        if (s.tryLoc <= this.prev && T.call(s, "finallyLoc") && this.prev < s.finallyLoc) {
                            var n = s;
                            break
                        }
                    }
                    n && ("break" === e || "continue" === e) && n.tryLoc <= t && t <= n.finallyLoc && (n = null );
                    var r = n ? n.completion : {};
                    return r.type = e,
                    r.arg = t,
                    n ? this.next = n.finallyLoc : this.complete(r),
                    A
                },
                complete: function(e, t) {
                    if ("throw" === e.type)
                        throw e.arg;
                    "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = e.arg,
                    this.next = "end") : "normal" === e.type && t && (this.next = t)
                },
                finish: function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var i = this.tryEntries[t];
                        if (i.finallyLoc === e)
                            return this.complete(i.completion, i.afterLoc),
                            m(i),
                            A
                    }
                },
                "catch": function(e) {
                    for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                        var i = this.tryEntries[t];
                        if (i.tryLoc === e) {
                            var s = i.completion;
                            if ("throw" === s.type) {
                                var n = s.arg;
                                m(i)
                            }
                            return n
                        }
                    }
                    throw new Error("illegal catch attempt")
                },
                delegateYield: function(e, t, i) {
                    return this.delegate = {
                        iterator: f(e),
                        resultName: t,
                        nextLoc: i
                    },
                    A
                }
            }
        }("object" == typeof t ? t : "object" == typeof window ? window : "object" == typeof self ? self : this)
    }
    ).call(t, function() {
        return this
    }(), i(120))
}
, function(e, t, i) {
    e.exports = {
        "default": i(805),
        __esModule: !0
    }
}
, function(e, t, i) {
    e.exports = {
        "default": i(806),
        __esModule: !0
    }
}
, function(e, t, i) {
    e.exports = {
        "default": i(807),
        __esModule: !0
    }
}
, function(e, t, i) {
    var s = i(42)
      , n = s.JSON || (s.JSON = {
        stringify: JSON.stringify
    });
    e.exports = function(e) {
        return n.stringify.apply(n, arguments)
    }
}
, function(e, t, i) {
    i(836),
    e.exports = i(42).Object.keys
}
, function(e, t, i) {
    i(236),
    i(237),
    i(238),
    i(837),
    e.exports = i(42).Promise
}
, function(e, t, i) {
    i(838),
    i(236),
    i(839),
    i(840),
    e.exports = i(42).Symbol
}
, function(e, t, i) {
    i(237),
    i(238),
    e.exports = i(163).f("iterator")
}
, function(e, t) {
    e.exports = function() {}
}
, 54, [878, 66, 234, 833], [883, 88, 230, 157], [884, 85, 817, 815, 49, 234, 834], 104, [888, 84], [889, 87, 27], [890, 84], [891, 49], [892, 227, 115, 116, 64, 27], [894, 27], 205, [895, 88, 66], [896, 117, 77, 63, 65, 86], [897, 33, 233, 84], [900, 65, 49, 88, 62], [902, 66, 229], [904, 63, 235, 158], [907, 113, 42, 86], function(e, t, i) {
    var s = i(64);
    e.exports = function(e, t, i) {
        for (var n in t)
            i && e[n] ? e[n] = t[n] : s(e, n, t[n]);
        return e
    }
}
, [908, 77, 49, 85, 228], function(e, t, i) {
    "use strict";
    var s = i(33)
      , n = i(42)
      , r = i(65)
      , o = i(62)
      , a = i(27)("species");
    e.exports = function(e) {
        var t = "function" == typeof n[e] ? n[e] : s[e];
        o && t && !t[a] && r.f(t, a, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}
, [912, 49, 153, 27], [913, 160, 154], [915, 160], [923, 223, 27, 87, 42], [924, 808, 820, 87, 66, 226], [925, 235, 88, 827], [926, 114, 33, 85, 223, 113, 77, 49, 153, 809, 812, 829, 831, 233, 823, 27, 828, 116, 830, 42, 819], [928, 33, 63, 62, 113, 232, 822, 86, 159, 116, 117, 27, 163, 162, 821, 811, 816, 49, 66, 161, 115, 227, 825, 228, 65, 88, 229, 157, 230, 114, 64], [929, 162], [930, 162], , function(e, t, i) {
    t = e.exports = i(843)(),
    t.push([e.id, ".leaflet-container{background:#fff;font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;color:#404040;color:rgba(0,0,0,.75);outline:0;overflow:hidden;-ms-touch-action:none}.leaflet-container *,.leaflet-container :after,.leaflet-container :before{box-sizing:border-box}.leaflet-container h1,.leaflet-container h2,.leaflet-container h3,.leaflet-container h4,.leaflet-container h5,.leaflet-container h6,.leaflet-container p{font-size:15px;line-height:20px;margin:0 0 10px}.leaflet-container .marker-description img{margin-bottom:10px}.leaflet-container a{color:#3887be;font-weight:400;text-decoration:none}.leaflet-container.dark a,.leaflet-container a:hover{color:#63b6e5}.leaflet-container.dark a:hover{color:#8fcaec}.leaflet-container.dark .mapbox-button,.leaflet-container .mapbox-button{background-color:#3887be;display:inline-block;height:40px;line-height:40px;text-decoration:none;color:#fff;font-size:12px;white-space:nowrap;text-overflow:ellipsis}.leaflet-container.dark .mapbox-button:hover,.leaflet-container .mapbox-button:hover{color:#fff;background-color:#3bb2d0}.leaflet-image-layer,.leaflet-layer,.leaflet-map-pane,.leaflet-marker-icon,.leaflet-marker-pane,.leaflet-marker-shadow,.leaflet-overlay-pane,.leaflet-overlay-pane svg,.leaflet-popup-pane,.leaflet-shadow-pane,.leaflet-tile,.leaflet-tile-container,.leaflet-tile-pane,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0}.leaflet-tile-pane{z-index:2}.leaflet-objects-pane{z-index:3}.leaflet-overlay-pane{z-index:4}.leaflet-shadow-pane{z-index:5}.leaflet-marker-pane{z-index:6}.leaflet-popup-pane{z-index:7}.leaflet-control{position:relative;z-index:7;pointer-events:auto;float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-fade-anim .leaflet-popup,.leaflet-fade-anim .leaflet-tile{opacity:0;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup,.leaflet-fade-anim .leaflet-tile-loaded{opacity:1}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-touching .leaflet-zoom-animated,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-container{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-container.leaflet-clickable,.leaflet-container.map-clickable,.leaflet-marker-icon,.leaflet-overlay-pane path{cursor:pointer}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging,.leaflet-dragging .leaflet-clickable,.leaflet-dragging .leaflet-container,.leaflet-dragging .map-clickable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-zoom-box{background:#fff;border:2px dotted #202020;opacity:.5}.leaflet-bar,.leaflet-control-layers{background-color:#fff;border:1px solid #999;border-color:rgba(0,0,0,.4);border-radius:3px;box-shadow:none}.leaflet-bar a,.leaflet-bar a:hover{color:#404040;color:rgba(0,0,0,.75);border-bottom:1px solid #ddd;border-bottom-color:rgba(0,0,0,.1)}.leaflet-bar a:active,.leaflet-bar a:hover{background-color:#f8f8f8;cursor:pointer}.leaflet-bar a:hover:first-child{border-radius:3px 3px 0 0}.leaflet-bar a:hover:last-child{border-bottom:none;border-radius:0 0 3px 3px}.leaflet-bar a:hover:only-of-type{border-radius:3px}.leaflet-bar .leaflet-disabled{cursor:default;opacity:.75}.leaflet-control-zoom-in,.leaflet-control-zoom-out{display:block;content:'';text-indent:-999em}.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{background:#fff;padding:6px 10px 6px 6px;color:#404040;color:rgba(0,0,0,.75)}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;border-top-color:rgba(0,0,0,.1);margin:5px -10px 5px -6px}.leaflet-container .leaflet-control-attribution{background-color:hsla(0,0%,100%,.5);margin:0;box-shadow:none}.leaflet-container .leaflet-control-attribution a,.leaflet-container .map-info-container a{color:#404040}.leaflet-control-attribution a:hover,.map-info-container a:hover{color:inherit;text-decoration:underline}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-container .leaflet-control-attribution.leaflet-compact-attribution{margin:10px;background:#fff;border-radius:3px 13px 13px 3px;padding:3px 31px 3px 3px;visibility:hidden}.leaflet-control-attribution.leaflet-compact-attribution:hover{visibility:visible}.leaflet-control-attribution.leaflet-compact-attribution:after{content:'';background-color:#fff;background-color:hsla(0,0%,100%,.5);background-position:0 -78px;border-radius:50%;position:absolute;display:inline-block;width:26px;height:26px;vertical-align:middle;bottom:0;z-index:1;visibility:visible;cursor:pointer}.leaflet-control-attribution.leaflet-compact-attribution:hover:after{background-color:#fff}.leaflet-right .leaflet-control-attribution.leaflet-compact-attribution:after{right:0}.leaflet-left .leaflet-control-attribution.leaflet-compact-attribution:after{left:0}.leaflet-control-scale-line{background-color:hsla(0,0%,100%,.5);border:1px solid #999;border-color:rgba(0,0,0,.4);border-top:none;padding:2px 5px 1px;white-space:nowrap;overflow:hidden}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #ddd;border-top-color:rgba(0,0,0,.1);border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-popup{position:absolute;text-align:center;pointer-events:none}.leaflet-popup-content-wrapper{padding:1px;text-align:left;pointer-events:all}.leaflet-popup-content{padding:10px 10px 15px;margin:0;line-height:inherit}.leaflet-popup-close-button+.leaflet-popup-content-wrapper .leaflet-popup-content{padding-top:15px}.leaflet-popup-tip-container{width:20px;height:20px;margin:0 auto;position:relative}.leaflet-popup-tip{width:0;height:0;margin:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #fff;box-shadow:none}.leaflet-popup-close-button{text-indent:-999em;position:absolute;top:0;right:0;pointer-events:all}.leaflet-popup-close-button:hover{background-color:#f8f8f8}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-div-icon{background:#fff;border:1px solid #999;border-color:rgba(0,0,0,.4)}.leaflet-editing-icon{border-radius:3px}.leaflet-bar a,.leaflet-control-layers-toggle,.leaflet-popup-close-button,.map-tooltip.closable .close,.mapbox-button-icon:before,.mapbox-icon{content:'';display:inline-block;width:26px;height:26px;vertical-align:middle;background-repeat:no-repeat}.leaflet-bar a{display:block}.leaflet-container.dark .map-tooltip .close,.leaflet-control-attribution:after,.leaflet-control-layers-toggle,.leaflet-control-zoom-in,.leaflet-control-zoom-out,.leaflet-popup-close-button,.map-tooltip .close,.mapbox-icon{opacity:.75;background-image:url(" + i(873) + ");background-repeat:no-repeat;background-size:26px 260px}.leaflet-container.dark .leaflet-control-attribution:after,.leaflet-container.dark .leaflet-control-layers-toggle,.leaflet-container.dark .leaflet-control-zoom-in,.leaflet-container.dark .leaflet-control-zoom-out,.leaflet-container.dark .mapbox-icon,.mapbox-button-icon:before{opacity:1;background-image:url(" + i(874) + ");background-size:26px 260px}.leaflet-bar .leaflet-control-zoom-in{background-position:0 0}.leaflet-bar .leaflet-control-zoom-out{background-position:0 -26px}.leaflet-popup-close-button,.map-tooltip.closable .close{background-position:-3px -55px;width:20px;height:20px;border-radius:0 3px 0 0}.mapbox-icon-info{background-position:0 -78px}.leaflet-control-layers-toggle{background-position:0 -104px}.mapbox-icon.mapbox-icon-share,.mapbox-icon.mapbox-icon-share:before{background-position:0 -130px}.mapbox-icon.mapbox-icon-geocoder,.mapbox-icon.mapbox-icon-geocoder:before{background-position:0 -156px}.mapbox-icon-facebook,.mapbox-icon-facebook:before{background-position:0 -182px}.mapbox-icon-twitter,.mapbox-icon-twitter:before{background-position:0 -208px}.mapbox-icon-pinterest,.mapbox-icon-pinterest:before{background-position:0 -234px}.leaflet-popup-content-wrapper,.map-legends,.map-tooltip{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1)}.map-legends,.map-tooltip{max-width:300px}.map-legends .map-legend{padding:10px}.map-tooltip{z-index:999999;padding:10px;min-width:180px;max-height:400px;overflow:auto;opacity:1;-webkit-transition:opacity .15s;transition:opacity .15s}.map-tooltip .close{text-indent:-999em;overflow:hidden;display:none}.map-tooltip.closable .close{position:absolute;top:0;right:0;border-radius:3px}.map-tooltip.closable .close:active{background-color:#f8f8f8}.leaflet-control-interaction{position:absolute;top:10px;right:10px;width:300px}.leaflet-popup-content .marker-title{font-weight:700}.leaflet-control .mapbox-button{background-color:#fff;border:1px solid #ddd;border-color:rgba(0,0,0,.1);padding:5px 10px;border-radius:3px}.mapbox-modal>div{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;overflow-y:auto}.mapbox-modal.active>div{z-index:99999;transition:all .2s,z-index 0 0}.mapbox-modal .mapbox-modal-mask{background:rgba(0,0,0,.5);opacity:0}.mapbox-modal.active .mapbox-modal-mask{opacity:1}.mapbox-modal .mapbox-modal-content{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.mapbox-modal.active .mapbox-modal-content{-webkit-transform:translateY(0);transform:translateY(0)}.mapbox-modal-body{position:relative;background:#fff;padding:20px;z-index:1000;width:50%;margin:20px 0 20px 25%}.mapbox-share-buttons{margin:0 0 20px}.mapbox-share-buttons a{width:33.3333%;border-left:1px solid #fff;text-align:center;border-radius:0}.mapbox-share-buttons a:last-child{border-radius:0 3px 3px 0}.mapbox-share-buttons a:first-child{border:none;border-radius:3px 0 0 3px}.mapbox-modal input{width:100%;height:40px;padding:10px;border:1px solid #ddd;border-color:rgba(0,0,0,.1);color:rgba(0,0,0,.5)}.leaflet-control.mapbox-control-info{margin:5px 30px 10px 10px;min-height:26px}.leaflet-right .leaflet-control.mapbox-control-info{margin:5px 10px 10px 30px}.mapbox-info-toggle{background-color:#fff;background-color:hsla(0,0%,100%,.5);border-radius:50%;position:absolute;bottom:0;left:0;z-index:1}.leaflet-right .mapbox-control-info .mapbox-info-toggle{left:auto;right:0}.mapbox-info-toggle:hover{background-color:#fff}.map-info-container{background:#fff;padding:3px 5px 3px 27px;display:none;position:relative;bottom:0;left:0;border-radius:13px 3px 3px 13px}.leaflet-right .map-info-container{left:auto;right:0;padding:3px 27px 3px 5px;border-radius:3px 13px 13px 3px}.mapbox-control-info.active .map-info-container{display:inline-block}.leaflet-container .mapbox-improve-map{font-weight:700}.leaflet-control-mapbox-geocoder{position:relative}.leaflet-control-mapbox-geocoder.searching{opacity:.75}.leaflet-control-mapbox-geocoder .leaflet-control-mapbox-geocoder-wrap{background:#fff;position:absolute;border:1px solid #999;border-color:rgba(0,0,0,.4);overflow:hidden;left:26px;height:28px;width:0;top:-1px;border-radius:0 3px 3px 0;opacity:0;-webkit-transition:opacity .1s;transition:opacity .1s}.leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-wrap{width:180px;opacity:1}.leaflet-bar .leaflet-control-mapbox-geocoder-toggle,.leaflet-bar .leaflet-control-mapbox-geocoder-toggle:hover{border-bottom:none}.leaflet-control-mapbox-geocoder-toggle{border-radius:3px}.leaflet-control-mapbox-geocoder.active,.leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-toggle{border-top-right-radius:0;border-bottom-right-radius:0}.leaflet-control-mapbox-geocoder .leaflet-control-mapbox-geocoder-form input{background:transparent;border:0;width:180px;padding:0 0 0 10px;height:26px;outline:none}.leaflet-control-mapbox-geocoder-results{width:180px;position:absolute;left:26px;top:25px;border-radius:0 0 3px 3px}.leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-results{background:#fff;border:1px solid #999;border-color:rgba(0,0,0,.4)}.leaflet-control-mapbox-geocoder-results a,.leaflet-control-mapbox-geocoder-results span{padding:0 10px;text-overflow:ellipsis;white-space:nowrap;display:block;width:100%;font-size:12px;line-height:26px;text-align:left;overflow:hidden}.leaflet-container.dark .leaflet-control .leaflet-control-mapbox-geocoder-results a:hover,.leaflet-control-mapbox-geocoder-results a:hover{background:#f8f8f8;opacity:1}.leaflet-right .leaflet-control-mapbox-geocoder-results,.leaflet-right .leaflet-control-mapbox-geocoder-wrap{left:auto;right:26px}.leaflet-right .leaflet-control-mapbox-geocoder-wrap{border-radius:3px 0 0 3px}.leaflet-right .leaflet-control-mapbox-geocoder.active,.leaflet-right .leaflet-control-mapbox-geocoder.active .leaflet-control-mapbox-geocoder-toggle{border-radius:0 3px 3px 0}.leaflet-bottom .leaflet-control-mapbox-geocoder-results{top:auto;bottom:25px;border-radius:3px 3px 0 0}.mapbox-logo-true:before{content:'';display:inline-block;width:61px;height:19px;vertical-align:middle}.mapbox-logo-true{background-repeat:no-repeat;background-size:61px 19px;background-image:url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI2NSIgaGVpZ2h0PSIyMCI+PGRlZnMvPjxtZXRhZGF0YT48cmRmOlJERj48Y2M6V29yayByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIvPjxkYzp0aXRsZS8+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNjEuODQ4MywtOTguNTAzOTUpIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgwLjE3NDQxODM2LDAsMCwwLjE3NDQxODM2LDIyMC41MjI4MiwyOS4yMjkzNDIpIiBzdHlsZT0ib3BhY2l0eTowLjI1O2ZpbGw6I2ZmZmZmZjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MTcuMjAwMDIzNjU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtZGFzaGFycmF5Om5vbmUiPjxwYXRoIGQ9Ik0gNS4yOCAxLjUgQyA0LjU0IDEuNTYgMy45IDIuMjUgMy45MSAzIGwgMCAxMS44OCBjIDAuMDIgMC43NyAwLjcyIDEuNDcgMS41IDEuNDcgbCAxLjc1IDAgYyAwLjc4IDAgMS40OCAtMC42OSAxLjUgLTEuNDcgbCAwIC00LjI4IDAuNzIgMS4xOSBjIDAuNTMgMC44NyAyLjAzIDAuODcgMi41NiAwIGwgMC43MiAtMS4xOSAwIDQuMjggYyAwLjAyIDAuNzYgMC43IDEuNDUgMS40NyAxLjQ3IGwgMS43NSAwIGMgMC43OCAwIDEuNDggLTAuNjkgMS41IC0xLjQ3IGwgMCAtMC4xNiBjIDEuMDIgMS4xMiAyLjQ2IDEuODEgNC4wOSAxLjgxIGwgNC4wOSAwIDAgMS40NyBjIC0wIDAuNzggMC42OSAxLjQ4IDEuNDcgMS41IGwgMS43NSAwIGMgMC43OSAtMCAxLjUgLTAuNzEgMS41IC0xLjUgbCAwLjAyIC0xLjQ3IGMgMS43MiAwIDMuMDggLTAuNjQgNC4xNCAtMS42OSBsIDAgMC4xOSBjIDAgMC4zOSAwLjE2IDAuNzkgMC40NCAxLjA2IDAuMjggMC4yOCAwLjY3IDAuNDQgMS4wNiAwLjQ0IGwgMy4zMSAwIGMgMi4wMyAwIDMuODUgLTEuMDYgNC45MSAtMi42OSAxLjA1IDEuNjEgMi44NCAyLjY5IDQuODggMi42OSAxLjAzIDAgMS45OCAtMC4yNyAyLjgxIC0wLjc1IDAuMjggMC4zNSAwLjczIDAuNTcgMS4xOSAwLjU2IGwgMi4xMiAwIGMgMC40OCAwLjAxIDAuOTcgLTAuMjMgMS4yNSAtMC42MiBsIDAuOTEgLTEuMjggMC45MSAxLjI4IGMgMC4yOCAwLjM5IDAuNzQgMC42MyAxLjIyIDAuNjIgbCAyLjE2IDAgQyA2Mi42NyAxNi4zMyA2My40MiAxNC44OSA2Mi44MSAxNCBMIDYwLjIyIDEwLjM4IDYyLjYyIDcgQyA2My4yNiA2LjExIDYyLjUgNC42MiA2MS40MSA0LjYyIGwgLTIuMTYgMCBDIDU4Ljc4IDQuNjIgNTguMzEgNC44NiA1OC4wMyA1LjI1IEwgNTcuMzEgNi4yOCA1Ni41NiA1LjI1IEMgNTYuMjkgNC44NiA1NS44MiA0LjYyIDU1LjM0IDQuNjIgbCAtMi4xNiAwIGMgLTAuNDkgLTAgLTAuOTcgMC4yNSAtMS4yNSAwLjY2IC0wLjg2IC0wLjUxIC0xLjg0IC0wLjgxIC0yLjkxIC0wLjgxIC0yLjAzIDAgLTMuODMgMS4wOCAtNC44OCAyLjY5IEMgNDMuMSA1LjUzIDQxLjI3IDQuNDcgMzkuMTkgNC40NyBMIDM5LjE5IDMgQyAzOS4xOSAyLjYxIDM5LjAzIDIuMjEgMzguNzUgMS45NCAzOC40NyAxLjY2IDM4LjA4IDEuNSAzNy42OSAxLjUgbCAtMS43NSAwIGMgLTAuNzEgMCAtMS41IDAuODMgLTEuNSAxLjUgbCAwIDMuMTYgQyAzMy4zOCA1LjEgMzEuOTYgNC40NyAzMC4zOCA0LjQ3IGwgLTMuMzQgMCBjIC0wLjc3IDAuMDIgLTEuNDcgMC43MiAtMS40NyAxLjUgbCAwIDAuMzEgYyAtMS4wMiAtMS4xMiAtMi40NiAtMS44MSAtNC4wOSAtMS44MSAtMS42MyAwIC0zLjA3IDAuNyAtNC4wOSAxLjgxIEwgMTcuMzggMyBjIC0wIC0wLjc5IC0wLjcxIC0xLjUgLTEuNSAtMS41IEwgMTQuNSAxLjUgQyAxMy41NSAxLjUgMTIuMjggMS44NyAxMS42NiAyLjk0IGwgLTEgMS42OSAtMSAtMS42OSBDIDkuMDMgMS44NyA3Ljc3IDEuNSA2LjgxIDEuNSBsIC0xLjQxIDAgQyA1LjM2IDEuNSA1LjMyIDEuNSA1LjI4IDEuNSB6IG0gMTYuMTkgNy43MiBjIDAuNTMgMCAwLjk0IDAuMzUgMC45NCAxLjI4IGwgMCAxLjI4IC0wLjk0IDAgYyAtMC41MiAwIC0wLjk0IC0wLjM4IC0wLjk0IC0xLjI4IC0wIC0wLjkgMC40MiAtMS4yOCAwLjk0IC0xLjI4IHogbSA4LjgxIDAgYyAwLjgzIDAgMS4xOCAwLjY4IDEuMTkgMS4yOCAwLjAxIDAuOTQgLTAuNjIgMS4yOCAtMS4xOSAxLjI4IHogbSA4LjcyIDAgYyAwLjcyIDAgMS4zNyAwLjYgMS4zNyAxLjI4IDAgMC43NyAtMC41MSAxLjI4IC0xLjM3IDEuMjggeiBtIDEwLjAzIDAgYyAwLjU4IDAgMS4wOSAwLjUgMS4wOSAxLjI4IDAgMC43OCAtMC41MSAxLjI4IC0xLjA5IDEuMjggLTAuNTggMCAtMS4xMiAtMC41IC0xLjEyIC0xLjI4IDAgLTAuNzggMC41NCAtMS4yOCAxLjEyIC0xLjI4IHoiIHRyYW5zZm9ybT0ibWF0cml4KDUuNzMzMzQxNCwwLDAsNS43MzMzNDE0LDIzNi45MzMwOCwzOTcuMTc0OTgpIiBzdHlsZT0iZm9udC1zaXplOm1lZGl1bTtmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO3RleHQtaW5kZW50OjA7dGV4dC1hbGlnbjpzdGFydDt0ZXh0LWRlY29yYXRpb246bm9uZTtsaW5lLWhlaWdodDpub3JtYWw7bGV0dGVyLXNwYWNpbmc6bm9ybWFsO3dvcmQtc3BhY2luZzpub3JtYWw7dGV4dC10cmFuc2Zvcm06bm9uZTtkaXJlY3Rpb246bHRyO2Jsb2NrLXByb2dyZXNzaW9uOnRiO3dyaXRpbmctbW9kZTpsci10Yjt0ZXh0LWFuY2hvcjpzdGFydDtiYXNlbGluZS1zaGlmdDpiYXNlbGluZTtjb2xvcjojMDAwMDAwO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTcuMjAwMDIzNjU7bWFya2VyOm5vbmU7dmlzaWJpbGl0eTp2aXNpYmxlO2Rpc3BsYXk6aW5saW5lO292ZXJmbG93OnZpc2libGU7ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZTtmb250LWZhbWlseTpTYW5zOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246U2FucyIvPjwvZz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgwLjE3NDQxODM2LDAsMCwwLjE3NDQxODM2LDIyMC41MjI4MiwyOS4yMjkzNDIpIiBzdHlsZT0iZmlsbDojZmZmZmZmIj48cGF0aCBkPSJtIDUuNDEgMyAwIDEyIDEuNzUgMCAwIC05LjkxIDMuNSA1Ljk0IDMuNDcgLTUuOTQgMCA5LjkxIDEuNzUgMCAwIC0xMiBMIDE0LjUgMyBDIDEzLjggMyAxMy4yNSAzLjE2IDEyLjk0IDMuNjkgTCAxMC42NiA3LjU5IDguMzggMy42OSBDIDguMDcgMy4xNiA3LjUxIDMgNi44MSAzIHogTSAzNiAzIGwgMCAxMi4wMyAzLjI1IDAgYyAyLjQ0IDAgNC4zOCAtMS45MSA0LjM4IC00LjUzIDAgLTIuNjIgLTEuOTMgLTQuNDcgLTQuMzggLTQuNDcgQyAzOC43IDYuMDMgMzguMzIgNiAzNy43NSA2IGwgMCAtMyB6IE0gMjEuNDcgNS45NyBjIC0yLjQ0IDAgLTQuMTkgMS45MSAtNC4xOSA0LjUzIDAgMi42MiAxLjc1IDQuNTMgNC4xOSA0LjUzIGwgNC4xOSAwIDAgLTQuNTMgYyAwIC0yLjYyIC0xLjc1IC00LjUzIC00LjE5IC00LjUzIHogbSAyNy41NiAwIGMgLTIuNDEgMCAtNC4zOCAyLjAzIC00LjM4IDQuNTMgMCAyLjUgMS45NyA0LjUzIDQuMzggNC41MyAyLjQxIDAgNC4zNCAtMi4wMyA0LjM0IC00LjUzIDAgLTIuNSAtMS45NCAtNC41MyAtNC4zNCAtNC41MyB6IG0gLTIyIDAuMDMgMCAxMiAxLjc1IDAgMCAtMi45NyBjIDAuNTcgMCAxLjA0IC0wIDEuNTkgMCAyLjQ0IDAgNC4zNCAtMS45MSA0LjM0IC00LjUzIDAgLTIuNjIgLTEuOSAtNC41IC00LjM0IC00LjUgeiBtIDI2LjE2IDAgMy4wMyA0LjM4IC0zLjE5IDQuNjIgMi4xMiAwIEwgNTcuMzEgMTEuOTEgNTkuNDQgMTUgNjEuNTkgMTUgNTguMzggMTAuMzggNjEuNDEgNiA1OS4yNSA2IDU3LjMxIDguODEgNTUuMzQgNiB6IE0gMjEuNDcgNy43MiBjIDEuNCAwIDIuNDQgMS4xOSAyLjQ0IDIuNzggbCAwIDIuNzggLTIuNDQgMCBjIC0xLjQgMCAtMi40NCAtMS4yMSAtMi40NCAtMi43OCAtMCAtMS41NyAxLjA0IC0yLjc4IDIuNDQgLTIuNzggeiBtIDI3LjU2IDAgYyAxLjQ0IDAgMi41OSAxLjI0IDIuNTkgMi43OCAwIDEuNTQgLTEuMTUgMi43OCAtMi41OSAyLjc4IC0xLjQ0IDAgLTIuNjIgLTEuMjQgLTIuNjIgLTIuNzggMCAtMS41NCAxLjE4IC0yLjc4IDIuNjIgLTIuNzggeiBtIC0yMC4yNSAwLjAzIDEuNTkgMCBjIDEuNTkgMCAyLjU5IDEuMjggMi41OSAyLjc1IDAgMS40NyAtMS4xMyAyLjc4IC0yLjU5IDIuNzggbCAtMS41OSAwIHogbSA4Ljk3IDAgMS41IDAgYyAxLjQ3IDAgMi42MiAxLjI4IDIuNjIgMi43NSAwIDEuNDcgLTEuMDQgMi43OCAtMi42MiAyLjc4IGwgLTEuNSAwIHoiIHRyYW5zZm9ybT0ibWF0cml4KDUuNzMzMzQxNCwwLDAsNS43MzMzNDE0LDIzNi45MzMwOCwzOTcuMTc0OTgpIiBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIi8+PC9nPjwvZz48L3N2Zz4=')}.leaflet-container.dark .leaflet-bar{background-color:#404040;border-color:#202020;border-color:rgba(0,0,0,.75)}.leaflet-container.dark .leaflet-bar a{color:#404040;border-color:rgba(0,0,0,.5)}.leaflet-container.dark .leaflet-bar a:active,.leaflet-container.dark .leaflet-bar a:hover{background-color:#505050}.leaflet-container.dark .leaflet-control-attribution,.leaflet-container.dark .leaflet-control-attribution:after,.leaflet-container.dark .map-info-container,.leaflet-container.dark .mapbox-info-toggle{background-color:rgba(0,0,0,.5);color:#f8f8f8}.leaflet-container.dark .leaflet-control-attribution a,.leaflet-container.dark .leaflet-control-attribution a:hover,.leaflet-container.dark .map-info-container a,.leaflet-container.dark .map-info-container a:hover{color:#fff}.leaflet-container.dark .leaflet-control-attribution:hover:after{background-color:#000}.leaflet-container.dark .leaflet-control-layers-list span{color:#f8f8f8}.leaflet-container.dark .leaflet-control-layers-separator{border-top-color:hsla(0,0%,100%,.1)}.leaflet-container.dark .leaflet-bar a.leaflet-disabled,.leaflet-container.dark .leaflet-control .mapbox-button.disabled{background-color:#252525;color:#404040}.leaflet-container.dark .leaflet-control-mapbox-geocoder>div{border-color:#202020;border-color:rgba(0,0,0,.75)}.leaflet-container.dark .leaflet-control .leaflet-control-mapbox-geocoder-results a{border-color:#ddd #202020;border-color:rgba(0,0,0,.1) rgba(0,0,0,.75)}.leaflet-container.dark .leaflet-control .leaflet-control-mapbox-geocoder-results span{border-color:#202020;border-color:rgba(0,0,0,.75)}@media only screen and (max-width:800px){.mapbox-modal-body{width:83.3333%;margin-left:8.3333%}}@media only screen and (max-width:640px){.mapbox-modal-body{width:100%;height:100%;margin:0}}@media print{.mapbox-improve-map{display:none}}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-container img.leaflet-tile{max-width:none!important}.leaflet-container img.leaflet-marker-icon{max-width:none}.leaflet-container img.leaflet-image-layer{max-width:15000px!important}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-oldie .mapbox-modal .mapbox-modal-content{display:none}.leaflet-oldie .mapbox-modal.active .mapbox-modal-content{display:block}.map-tooltip{width:280px\\8}.leaflet-oldie .leaflet-container.dark .map-tooltip .close,.leaflet-oldie .leaflet-control-layers-toggle,.leaflet-oldie .leaflet-control-zoom-in,.leaflet-oldie .leaflet-control-zoom-out,.leaflet-oldie .leaflet-popup-close-button,.leaflet-oldie .map-tooltip .close,.leaflet-oldie .mapbox-icon{background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAEECAYAAAA24SSRAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAXnSURBVHic7ZxfiFVFGMB/33pRUQsKto002DY3McJ6yBYkESQxpYTypaB66KEXYRWLYOlhr9RTRGWRUkk9RyEU+Y9ClECJVTKlPybWBilqkYuWrqBOD/NdPV7PmTPn3NPtat/AcO6ZP9/vfN/Mmfl2Zs6Kc452hK62UAxkIANdEURkVERGC9crOjKIiANwzkmRep1lOjWXa2ijaU7jaGWgKsL110a1EnV+LQMqbLqyobO6t4EMZCADGchABrqmQUlPNSWOVgaqIpi7ZSADGchABjKQga49kIjURaQem14apGE4KVR/D0fXds5FRaAOOL1e+h1dP7ZgE6wQxDnXvs7QWaZLE1wUVmRNdY1zrp6wRF0kfqHYnHwDGchABjJQIETNRyIyFVgBzAPmavIIsAt4xzn3d66QiNl1PnCYy05JczwMzG9pKlfIhQCkES/kwUKQqRma9GpM02xqGXdrBdCXZm2NzaFP66SGUGeYl5E+WqJO0HRHSG+PXtJN54AjVbhbjQcbBSjiakH4hR0p+hChOiHQrhKg7Drt6t7//Qtb9RAU5XtXMaiak28gAxnIQO0Gicg0EXlMRDaIyFGNGzRtWhQpMA/1A6uAL4BzZM9H57TMKqC/8HyUPFhZJLiMI4sh0/UDK4FtwHig3LiWWal1UkPsDDsFWAgsBZZo8hZgM7DdOXcmV0igjQ4Ba4HFwORAuclaZi1wqNU2OgNsVw22aNoS1XAhMCXx4OkubOBJZwKDwFbgLNm97qyWGQRmtuoFWRsV0ujabCPzVA1kIAMZqBNAIjIgImPNRxUzK+SsmtRJn4Pqmj8AjCXzsmTlaTSck/8zcDRX/QiNMp8S6Ab2a5nvG5plyioDaoLs1/sBYKwyUBokkTdQJeiVZgi6UR+UVQI0QWHdoXKFvKDYz7RiynXctk7LPlmeRmsKyAqWNQfSQAYykIGuS5CI1ERkSET2ishpvQ6JSLE93ByfoQbsRHeNgfe4vOO8E6iF6hdxToZU6OqGUIWv1vShqkB7VYNaU3pN0/fGgvLa6C5gk3PufJO5zwObgDuraqM8jbZWpdEnwG3AYKOX6XVQ07+sSqNQr3P4QxS9LXeGBGxIzTiGXwR8QSHRsCj7ZjxAbxFYaVAKbMe/BkrAduRpZJ6qgQxkoP8DKDRY1sk/s5W6YFhoUG3nFnZeOIJfxLgXWB7zBFmmyzPT44my9zXSC098OZCTwCQttzOZVzVoX1a5LHmdtYyWDM29yjknItKF3xSelFWvKo1mhCClQLo1sC95T8T/ebr+xrqOABVZT82tY56qgQxkIAN1CkhEulsGiUi3iCzKyJsjIpuBYyLyo4isFpHXReTuTFLAr1sOnAeeT8nbzNW+3rfAM2UcyAcSQj4FngR68Ot0F1NA24CuMqBu4PMUgYdS0hzwYqlFJ+AeNV3s30aLSoEUtjEScoHE3nkZ0Ay1fR7o3ZCcGNAEYHcO5A/g5pZACpsMPEf6UexTwCN5MvI6w2zgaeBt4HQK5BsC57ubY+jPll/wHzn1Ayc07QD+u6MR4GPn3LlA/SuCOZAGMpCBDFRhiF50EpFl+PP49wOzgIPAHmCLc+6zXAERE18P+b7DRqAnJCfvfF0P/mTgLZr0l97vB27CL3HO0rwTwBzn3PHCGiU0uQisA6bhzT0T/T4ZeAr4s6FZmal8WcI0LwETgdfwHzY1XKz3teyjibLLioLWa8UDeG/oZbxD+QHwdULwg1r+K71fXxQ0ohXfAgS/Mvyh5i1MgNZp2qt6P5ImL/QezdbrSeAG4EbVJJkH8LteJ+p1FikhBPpNr3Odc6fUNHdo2oJEucbX8Y2zDQeLgr7T62IReRb4AX9mGGC6Xo8Bu0VkOvCQpu1JlRZoo6Vc/WL2ad4C4A28CWvAR5TtdU0dwqH/ewHvHi8HbgUexh+euDRCFH6PVOh0/FKzw3um4M8zpA1DxwkMQzFjXR9+d/9N1WI8BZI71kU56Aq8HXgC+Ak/5o3gX+rUNmmO5nsbqP2gfwCyvJzPNoKXiAAAAABJRU5ErkJggg==')}.leaflet-oldie .leaflet-container.dark .leaflet-control-layers-toggle,.leaflet-oldie .leaflet-container.dark .leaflet-control-zoom-in,.leaflet-oldie .leaflet-container.dark .leaflet-control-zoom-out,.leaflet-oldie .leaflet-container.dark .mapbox-icon,.leaflet-oldie .mapbox-button-icon:before{background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAEECAYAAAA24SSRAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAXYSURBVHic7ZxfiFVFHMc/a4uKWtDDtqJGZprYgwX5ByTdkkLbSgghCiKih14EBYtg6aEr9RRREKRUUs9hGEVtChKaYMkq2VqWmnUX2tKiNDNZY/Xbw/wue7x7zsw559626zY/GM6df7/P+c3MPfO7M3NumyTGQiaMCSWCIiiC6qVqoZC0lXgy1Cq0FanUck1XxVmSNL8WrzYT1LCMvz5qL1FnoAyoTNOVkpYb3hEUQREUQREUQRF0RYOqjHim9aHaTFDDEt2tCIqgCIqgCIqgCLoiQRULedNLgwCeq1NasbR8IilvqMhJpe5zrvpFQElYIYiksRsMLdd0aYoLwYqsqW5i9KjLLdHJj6AIiqAIiiCP5J2PpgLrgGXAYkvrA/YBrwF/BTXkmB2XSzqhbDlhZRqaypdLuuiB1ORiCOaDTM2wZLaFNMumZunzDYZ1wJy01ubyPfOazLE6qeIbDMsy0qsl6ngtWpyRfqOFInVKbWFXS9TxWtRXQl9mHR9oXwlQdp2xGt4t8YVt6iMor+/d8EM1OvkRFEERFEH/AWga8CCwFfjJwlZLm5ZHge/pPQ+4z8IKYGJGub+BT4GPLBwvCio7f6QeWfQ13TxgA7ATGPKUG7IyG6xOOj3nxDcFWAl0A/da2sdAL/AJcD6kwAc6bop6gT1kWzUZ6LKb6CbDqrx9dB535704S8BZ1o2zdEpSZ1HQ3MRddtmdp8kQzuKa9d8VBSUl9lEh0Pjro6ZKy00TERRBERRBLQZaCpxh9FHFUqBKiiJZ+n5gFfBHnrsKgUKb7t/j/PCwBNZwapKW1yGp3/KPSDrjKVsalIT0W3ypwZoGSoPU8pY2E/RCCqSiwJ55GdBVBusIlCu0Xpf3Na1guZbb1mnYJwtZtKmALm/Z6EBGUARFUASNV1A70AMcBP60aw9F93ADPkO7pD3mDwxKesOusvT2QP3czkmPKd2YUNpucVl+LlBo4jsITAduAIbrmnMAOAncnqflQn10M26JebgufdjSb8oDyQM6hlv3ru/4dkv/vFmgd4EZwPoErN3iM4BdeUGNjDpJqsrtmzc86mqwHkkH5X4t7JD0tEFyw3INzYwwuwisEVA9bPe/CarBdocsip5qBEVQBP3fQRWyX4jOCpUsZS2xhR2SQdwixq3A2lDhMkcTa7Ie2G6fwzfsmax8clrSJCu3py4vVV/ZphsALtjnFXkqtNwyWlLqR1Ub7obPA5OyKjXLolk+SFmQgEN18eD/PLXEI2j8gYqspwbrRE81giIogiKohUAdzQB1APdk5C3Ends6CXwLbAReBm7J1OZxINdKGpb0VEpeb4pT+aWkx8os0SxJKHlf0iOSOiXNkHQpBbRT0oQyoA5JH6YoPJ6SJknPeHR5+6gTWJ2SPjej/BceXV7QV8AHvsoJucTlvt5o8ZkraZa1fUheD+gJfo9+Bq4JlPkNt4Xgl9CdSJos6UlJF1IsOSvp/hw6vL8mFgCLgCXA44w+730IeIiM89314gP9ACzHHXD9xdIO49476gO2MfJjLCjRgYygCIqgCGqiFFl0WoM7j78ImA8cBQ7gzuaHp/wck1anpO2BqXy7lSu9I9YJ9APXWfycxfuBa4HbzDpwc9ZC4FQZi2qWXJK0WdI0ue3SuRp5P/lRSb8nLCvsQK5JNM2zkiZKeknSkKVdlPSmlX0gUXZNUdAWq3hY7tzj83K++FuS9icU32Hl91p8S1FQn1V8VVKb3Mrw25a3MgHabGkvWrwvTZ/ve7TArqeBq3H+3f66PIBf7VrzkuaTIj7Qj3ZdDJwF9jLy5wJdiXK1t+NrZxuOFgV9bddVwBPAN8ARS5tp15PAZxa/29IOpGrz9FG3Rsscy+uS9IqkBXLD/Z1GRl1yQEjuHANy7vFaSdMlrZa0K1Gm1PcISTMlDZiSbZa2I8VSSTolz2Mo9PQeBO7CvTE1iDtRc2dKuffwPX4CfVQfrpf0sKRjks5Zs27J6pP6EH3vCBp70D8db2VXFPfIagAAAABJRU5ErkJggg==')}.leaflet-oldie .mapbox-logo-true{background-image:none}", ""])
}
, function(e, t) {
    e.exports = function() {
        var e = [];
        return e.toString = function() {
            for (var e = [], t = 0; t < this.length; t++) {
                var i = this[t];
                i[2] ? e.push("@media " + i[2] + "{" + i[1] + "}") : e.push(i[1])
            }
            return e.join("")
        }
        ,
        e.i = function(t, i) {
            "string" == typeof t && (t = [[null , t, ""]]);
            for (var s = {}, n = 0; n < this.length; n++) {
                var r = this[n][0];
                "number" == typeof r && (s[r] = !0)
            }
            for (n = 0; n < t.length; n++) {
                var o = t[n];
                "number" == typeof o[0] && s[o[0]] || (i && !o[2] ? o[2] = i : i && (o[2] = "(" + o[2] + ") and (" + i + ")"),
                e.push(o))
            }
        }
        ,
        e
    }
}
, , , , , , , function(e, t) {
    e.exports = {
        properties: {
            feeds: {
                items: {
                    required: ["accountkey", "metadata", "mtime", "service", "type"],
                    properties: {
                        accountkey: {
                            type: "string"
                        },
                        metadata: {
                            required: ["baseQuery", "searchFilterData", "term"],
                            properties: {
                                baseQuery: {
                                    type: "string"
                                },
                                searchFilterData: {
                                    required: ["action", "content", "engagement", "user"],
                                    properties: {
                                        action: {
                                            properties: {
                                                showFavorites: {
                                                    type: "boolean"
                                                },
                                                showFollowers: {
                                                    type: "boolean"
                                                },
                                                showLists: {
                                                    type: "boolean"
                                                },
                                                showMentions: {
                                                    type: "boolean"
                                                },
                                                showRetweets: {
                                                    type: "boolean"
                                                }
                                            },
                                            type: "object"
                                        },
                                        content: {
                                            properties: {
                                                excluding: {
                                                    type: "string"
                                                },
                                                includeRTs: {
                                                    type: "boolean"
                                                },
                                                lang: {
                                                    type: "string"
                                                },
                                                matching: {
                                                    type: "string"
                                                },
                                                type: {
                                                    type: "string"
                                                }
                                            },
                                            type: "object"
                                        },
                                        engagement: {
                                            properties: {
                                                minFavorites: {
                                                    type: "number"
                                                },
                                                minReplies: {
                                                    type: "number"
                                                },
                                                minRetweets: {
                                                    type: "number"
                                                }
                                            },
                                            type: "object"
                                        },
                                        user: {
                                            properties: {
                                                from_name: {
                                                    type: ["string", "null"]
                                                },
                                                from_type: {
                                                    type: ["string", "null"]
                                                },
                                                mention_name: {
                                                    type: ["string", "null"]
                                                }
                                            },
                                            type: "object"
                                        }
                                    },
                                    type: "object"
                                },
                                term: {
                                    type: "string"
                                }
                            },
                            type: "object"
                        },
                        mtime: {
                            type: "string"
                        },
                        service: {
                            type: "string"
                        },
                        type: {
                            type: "string"
                        }
                    },
                    type: "object"
                },
                type: "array"
            },
            filters: {
                properties: {
                    action: {
                        properties: {
                            showFavorites: {
                                type: "boolean"
                            },
                            showFollowers: {
                                type: "boolean"
                            },
                            showLists: {
                                type: "boolean"
                            },
                            showMentions: {
                                type: "boolean"
                            },
                            showRetweets: {
                                type: "boolean"
                            }
                        },
                        type: "object"
                    },
                    content: {
                        properties: {
                            excluding: {
                                type: "string"
                            },
                            includeRTs: {
                                type: "boolean"
                            },
                            lang: {
                                type: "string"
                            },
                            matching: {
                                type: "string"
                            },
                            type: {
                                type: "string"
                            }
                        },
                        type: "object"
                    },
                    engagement: {
                        properties: {
                            minFavorites: {
                                type: "number"
                            },
                            minReplies: {
                                type: "number"
                            },
                            minRetweets: {
                                type: "number"
                            }
                        },
                        type: "object"
                    },
                    user: {
                        properties: {
                            from_name: {
                                type: ["string", "null"]
                            },
                            from_type: {
                                type: ["string", "null"]
                            }
                        },
                        type: "object"
                    }
                },
                type: "object"
            }
        },
        required: ["feeds", "filters"],
        type: "object"
    }
}
, , , , , , , , , , function(e, t) {
    e.exports = "'use strict';\n\n/*eslint-disable */\n/* Google Analytics Asynchronous Tracking */\n/* For more information see here: */\n/* http://code.google.com/apis/analytics/docs/tracking/asyncTracking.html */\n\nvar _gaq = _gaq || [];\n// Set state before tracking page view\n_gaq.push(['_setAccount', 'UA-4790629-1']);\n_gaq.push(['_setCustomVar', 1, // Slot 1\n'Env', // Variable name\nTD.util.getAppEnv(), // Variable value\n2 // session-level scope\n]);\n_gaq.push(['_setCustomVar', 2, // Slot 2\n'Version', // Variable name\nTD.version, // Variable value\n2 // session-level scope\n]);\n\n// Tracking the page view\n_gaq.push(['_trackPageview']);\n\n(function () {\n    var ga = document.createElement('script');\n    ga.type = 'text/javascript';\n    ga.src = 'https://ssl.google-analytics.com/ga.js';\n    ga.setAttribute('async', 'true');\n    var i = document.getElementsByTagName('script')[0];i.parentNode.insertBefore(ga, i);\n})();"
}
, , function(e, t) {
    e.exports = function(e) {
        "function" == typeof execScript ? execScript(e) : eval.call(null , e)
    }
}
, function(e, t, i) {
    i(862)(i(860))
}
, , function(e, t, i) {
    function s(e, t) {
        for (var i = 0; i < e.length; i++) {
            var s = e[i]
              , n = m[s.id];
            if (n) {
                n.refs++;
                for (var r = 0; r < n.parts.length; r++)
                    n.parts[r](s.parts[r]);
                for (; r < s.parts.length; r++)
                    n.parts.push(l(s.parts[r], t))
            } else {
                for (var o = [], r = 0; r < s.parts.length; r++)
                    o.push(l(s.parts[r], t));
                m[s.id] = {
                    id: s.id,
                    refs: 1,
                    parts: o
                }
            }
        }
    }
    function n(e) {
        for (var t = [], i = {}, s = 0; s < e.length; s++) {
            var n = e[s]
              , r = n[0]
              , o = n[1]
              , a = n[2]
              , c = n[3]
              , l = {
                css: o,
                media: a,
                sourceMap: c
            };
            i[r] ? i[r].parts.push(l) : t.push(i[r] = {
                id: r,
                parts: [l]
            })
        }
        return t
    }
    function r(e, t) {
        var i = g()
          , s = w[w.length - 1];
        if ("top" === e.insertAt)
            s ? s.nextSibling ? i.insertBefore(t, s.nextSibling) : i.appendChild(t) : i.insertBefore(t, i.firstChild),
            w.push(t);
        else {
            if ("bottom" !== e.insertAt)
                throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
            i.appendChild(t)
        }
    }
    function o(e) {
        e.parentNode.removeChild(e);
        var t = w.indexOf(e);
        t >= 0 && w.splice(t, 1)
    }
    function a(e) {
        var t = document.createElement("style");
        return t.type = "text/css",
        r(e, t),
        t
    }
    function c(e) {
        var t = document.createElement("link");
        return t.rel = "stylesheet",
        r(e, t),
        t
    }
    function l(e, t) {
        var i, s, n;
        if (t.singleton) {
            var r = T++;
            i = v || (v = a(t)),
            s = u.bind(null , i, r, !1),
            n = u.bind(null , i, r, !0)
        } else
            e.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (i = c(t),
            s = h.bind(null , i),
            n = function() {
                o(i),
                i.href && URL.revokeObjectURL(i.href)
            }
            ) : (i = a(t),
            s = d.bind(null , i),
            n = function() {
                o(i)
            }
            );
        return s(e),
        function(t) {
            if (t) {
                if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                    return;
                s(e = t)
            } else
                n()
        }
    }
    function u(e, t, i, s) {
        var n = i ? "" : s.css;
        if (e.styleSheet)
            e.styleSheet.cssText = b(t, n);
        else {
            var r = document.createTextNode(n)
              , o = e.childNodes;
            o[t] && e.removeChild(o[t]),
            o.length ? e.insertBefore(r, o[t]) : e.appendChild(r)
        }
    }
    function d(e, t) {
        var i = t.css
          , s = t.media;
        if (s && e.setAttribute("media", s),
        e.styleSheet)
            e.styleSheet.cssText = i;
        else {
            for (; e.firstChild; )
                e.removeChild(e.firstChild);
            e.appendChild(document.createTextNode(i))
        }
    }
    function h(e, t) {
        var i = t.css
          , s = t.sourceMap;
        s && (i += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(s)))) + " */");
        var n = new Blob([i],{
            type: "text/css"
        })
          , r = e.href;
        e.href = URL.createObjectURL(n),
        r && URL.revokeObjectURL(r)
    }
    var m = {}
      , p = function(e) {
        var t;
        return function() {
            return "undefined" == typeof t && (t = e.apply(this, arguments)),
            t
        }
    }
      , f = p(function() {
        return /msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())
    })
      , g = p(function() {
        return document.head || document.getElementsByTagName("head")[0]
    })
      , v = null
      , T = 0
      , w = [];
    e.exports = function(e, t) {
        t = t || {},
        "undefined" == typeof t.singleton && (t.singleton = f()),
        "undefined" == typeof t.insertAt && (t.insertAt = "bottom");
        var i = n(e);
        return s(i, t),
        function(e) {
            for (var r = [], o = 0; o < i.length; o++) {
                var a = i[o]
                  , c = m[a.id];
                c.refs--,
                r.push(c)
            }
            if (e) {
                var l = n(e);
                s(l, t)
            }
            for (var o = 0; o < r.length; o++) {
                var c = r[o];
                if (0 === c.refs) {
                    for (var u = 0; u < c.parts.length; u++)
                        c.parts[u]();
                    delete m[c.id]
                }
            }
        }
    }
    ;
    var b = function() {
        var e = [];
        return function(t, i) {
            return e[t] = i,
            e.filter(Boolean).join("\n")
        }
    }()
}
, function(e, t, i) {
    var s = i(842);
    "string" == typeof s && (s = [[e.id, s, ""]]);
    i(865)(s, {});
    s.locals && (e.exports = s.locals)
}
, , function(e, t) {
    "use strict";
    function i(e, t) {
        var i, s = e.charCodeAt(t);
        return s >= 55296 && 56319 >= s && e.length > t + 1 && (i = e.charCodeAt(t + 1),
        i >= 56320 && 57343 >= i) ? e.substring(t, t + 2) : e[t]
    }
    function s(e, t, s) {
        for (var n, r = "", o = 0, a = 0, c = e.length; c > o; )
            n = i(e, o),
            a >= t && s > a && (r += n),
            o += n.length,
            a += 1;
        return r
    }
    function n(e, t) {
        return void 0 === e ? t : Number(e)
    }
    e.exports = function(e, t, i) {
        var r = n(t, 0)
          , o = n(i, e.length);
        return o == r ? "" : o > r ? s(e, r, o) : s(e, o, r)
    }
}
, , , function(e, t, i) {
    /*!
	 * URI.js - Mutating URLs
	 * URI Template Support - http://tools.ietf.org/html/rfc6570
	 *
	 * Version: 1.17.0
	 *
	 * Author: Rodney Rehm
	 * Web: http://medialize.github.io/URI.js/
	 *
	 * Licensed under
	 *   MIT License http://www.opensource.org/licenses/mit-license
	 *   GPL v3 http://opensource.org/licenses/GPL-3.0
	 *
	 */
    !function(t, s) {
        "use strict";
        e.exports = s(i(68))
    }(this, function(e, t) {
        "use strict";
        function i(e) {
            return i._cache[e] ? i._cache[e] : this instanceof i ? (this.expression = e,
            i._cache[e] = this,
            this) : new i(e)
        }
        function s(e) {
            this.data = e,
            this.cache = {}
        }
        var n = t && t.URITemplate
          , r = Object.prototype.hasOwnProperty
          , o = i.prototype
          , a = {
            "": {
                prefix: "",
                separator: ",",
                named: !1,
                empty_name_separator: !1,
                encode: "encode"
            },
            "+": {
                prefix: "",
                separator: ",",
                named: !1,
                empty_name_separator: !1,
                encode: "encodeReserved"
            },
            "#": {
                prefix: "#",
                separator: ",",
                named: !1,
                empty_name_separator: !1,
                encode: "encodeReserved"
            },
            ".": {
                prefix: ".",
                separator: ".",
                named: !1,
                empty_name_separator: !1,
                encode: "encode"
            },
            "/": {
                prefix: "/",
                separator: "/",
                named: !1,
                empty_name_separator: !1,
                encode: "encode"
            },
            ";": {
                prefix: ";",
                separator: ";",
                named: !0,
                empty_name_separator: !1,
                encode: "encode"
            },
            "?": {
                prefix: "?",
                separator: "&",
                named: !0,
                empty_name_separator: !0,
                encode: "encode"
            },
            "&": {
                prefix: "&",
                separator: "&",
                named: !0,
                empty_name_separator: !0,
                encode: "encode"
            }
        };
        return i._cache = {},
        i.EXPRESSION_PATTERN = /\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g,
        i.VARIABLE_PATTERN = /^([^*:]+)((\*)|:(\d+))?$/,
        i.VARIABLE_NAME_PATTERN = /[^a-zA-Z0-9%_]/,
        i.expand = function(e, t) {
            var s, n, r, o = a[e.operator], c = o.named ? "Named" : "Unnamed", l = e.variables, u = [];
            for (r = 0; n = l[r]; r++)
                s = t.get(n.name),
                s.val.length ? u.push(i["expand" + c](s, o, n.explode, n.explode && o.separator || ",", n.maxlength, n.name)) : s.type && u.push("");
            return u.length ? o.prefix + u.join(o.separator) : ""
        }
        ,
        i.expandNamed = function(t, i, s, n, r, o) {
            var a, c, l, u = "", d = i.encode, h = i.empty_name_separator, m = !t[d].length, p = 2 === t.type ? "" : e[d](o);
            for (c = 0,
            l = t.val.length; l > c; c++)
                r ? (a = e[d](t.val[c][1].substring(0, r)),
                2 === t.type && (p = e[d](t.val[c][0].substring(0, r)))) : m ? (a = e[d](t.val[c][1]),
                2 === t.type ? (p = e[d](t.val[c][0]),
                t[d].push([p, a])) : t[d].push([void 0, a])) : (a = t[d][c][1],
                2 === t.type && (p = t[d][c][0])),
                u && (u += n),
                s ? u += p + (h || a ? "=" : "") + a : (c || (u += e[d](o) + (h || a ? "=" : "")),
                2 === t.type && (u += p + ","),
                u += a);
            return u
        }
        ,
        i.expandUnnamed = function(t, i, s, n, r) {
            var o, a, c, l, u = "", d = i.encode, h = i.empty_name_separator, m = !t[d].length;
            for (c = 0,
            l = t.val.length; l > c; c++)
                r ? a = e[d](t.val[c][1].substring(0, r)) : m ? (a = e[d](t.val[c][1]),
                t[d].push([2 === t.type ? e[d](t.val[c][0]) : void 0, a])) : a = t[d][c][1],
                u && (u += n),
                2 === t.type && (o = r ? e[d](t.val[c][0].substring(0, r)) : t[d][c][0],
                u += o,
                u += s ? h || a ? "=" : "" : ","),
                u += a;
            return u
        }
        ,
        i.noConflict = function() {
            return t.URITemplate === i && (t.URITemplate = n),
            i
        }
        ,
        o.expand = function(e) {
            var t = "";
            this.parts && this.parts.length || this.parse(),
            e instanceof s || (e = new s(e));
            for (var n = 0, r = this.parts.length; r > n; n++)
                t += "string" == typeof this.parts[n] ? this.parts[n] : i.expand(this.parts[n], e);
            return t
        }
        ,
        o.parse = function() {
            var e, t, s, n = this.expression, r = i.EXPRESSION_PATTERN, o = i.VARIABLE_PATTERN, c = i.VARIABLE_NAME_PATTERN, l = [], u = 0;
            for (r.lastIndex = 0; ; ) {
                if (t = r.exec(n),
                null === t) {
                    l.push(n.substring(u));
                    break
                }
                if (l.push(n.substring(u, t.index)),
                u = t.index + t[0].length,
                !a[t[1]])
                    throw new Error('Unknown Operator "' + t[1] + '" in "' + t[0] + '"');
                if (!t[3])
                    throw new Error('Unclosed Expression "' + t[0] + '"');
                e = t[2].split(",");
                for (var d = 0, h = e.length; h > d; d++) {
                    if (s = e[d].match(o),
                    null === s)
                        throw new Error('Invalid Variable "' + e[d] + '" in "' + t[0] + '"');
                    if (s[1].match(c))
                        throw new Error('Invalid Variable Name "' + s[1] + '" in "' + t[0] + '"');
                    e[d] = {
                        name: s[1],
                        explode: !!s[3],
                        maxlength: s[4] && parseInt(s[4], 10)
                    }
                }
                if (!e.length)
                    throw new Error('Expression Missing Variable(s) "' + t[0] + '"');
                l.push({
                    expression: t[0],
                    operator: t[1],
                    variables: e
                })
            }
            return l.length || l.push(n),
            this.parts = l,
            this
        }
        ,
        s.prototype.get = function(e) {
            var t, i, s, n = this.data, o = {
                type: 0,
                val: [],
                encode: [],
                encodeReserved: []
            };
            if (void 0 !== this.cache[e])
                return this.cache[e];
            if (this.cache[e] = o,
            s = "[object Function]" === String(Object.prototype.toString.call(n)) ? n(e) : "[object Function]" === String(Object.prototype.toString.call(n[e])) ? n[e](e) : n[e],
            void 0 === s || null === s)
                return o;
            if ("[object Array]" === String(Object.prototype.toString.call(s))) {
                for (t = 0,
                i = s.length; i > t; t++)
                    void 0 !== s[t] && null !== s[t] && o.val.push([void 0, String(s[t])]);
                o.val.length && (o.type = 3)
            } else if ("[object Object]" === String(Object.prototype.toString.call(s))) {
                for (t in s)
                    r.call(s, t) && void 0 !== s[t] && null !== s[t] && o.val.push([t, String(s[t])]);
                o.val.length && (o.type = 2)
            } else
                o.type = 1,
                o.val.push([void 0, String(s)]);
            return o
        }
        ,
        e.expand = function(t, s) {
            var n = new i(t)
              , r = n.expand(s);
            return new e(r)
        }
        ,
        i
    })
}
, , function(e, t) {
    e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAIICAMAAAAWgT0mAAAAYFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD6T+iNAAAAIHRSTlMAt/+ANr7Y9FEgxEDr+0cCF12ufA2Z4yhyCEyMZ1Wgzz2snYUAAASxSURBVHgB7dyH0qLMFoXh5aIFRVoQAUUE7v8uj5R+dMmRZmuN9U/YT4WJL2EDPRGhlPqbrMgV3sWbfzxa0aF0hpz4ViQ/PL24gkdDKaWUUr81pb+H/d0ppZRSSgXB5OuShgwmXxdFDKZflVeukVeukVeyZlLJG1e55quRO7zvDkI+cvnFld9G37hhpY/G55RSSikTrMMoCteBgdQm5CjcQGIb80m8xaJdwolkt9hYcsouVNuELyRb+Ljz2QN7d17euXGEG458MwznohCzDPl8eI7BnICzAsxZc9Zackru8JZOKuLcIBj92iicj0LRIHAjGkQwiUQjN/OR+bW3kfyG/fzRkD+E8sf9CwuLbAmTL5ZfWJbllFJKpSnelB3yJMkPGcTMMbYc0MZHg2XFpqz4pCo3BTxO57XlC3Z9PmEOPX5ttD2vIr4Qrc5beNSX/x/EpYbjn8dkAsLJe2fthM2+xgv1vgl904tW1+1kOtdVJBh52Ozqxy52TSi/TlF+3W6veaTXSa/Tf3adfh9KKaWKmKOPKngEHAVPlaRx1XLEaYSDOHJNa2URHNfIItfYQyyNXNOiiKWRazBUwsg1QyWLXDMoRNHeNUEAxxsV8diQgSwaqnsD3kgjFHu8ETl/TTT1nSjgSwGE1aT5+ymllDLHvKryo4Fc0fGhKyBkKo4qA5FiaMpLll3KoSog0ZHVDhjsKrKDgCE5NPeKpMGyI1liVJJHLMvJC0YXMseyiswwysjqkyj55PD6TwZRfmvk04sbfnAbkcHbN6yr5I9G6CrZQ5j0pUHgKrk/pZJHrpI3rnpqlFJKBZwRyBtRRY9vR/1xs9uU70XnFDftW1EHvB3Z4oMoxM2hf28QOW5CiiN3SvyLIjioPohqfhCdPokuf8HINQrmI/ES6yJfo5RS6vdWmPaUYkFdPH2rsSSTA+pDV2PWJS7gmp53ccQr5jV0FRqOmrbFrDVZ7XFXW/6wdl379nTTZRgYOr4GFw7sapMCLZ0TPOqYd1Gfd3QyeLQm5As2hceKEV+o4HPkSzl8ioqvXOFlkheNzeC37SJOdVgQxAkn7AkLjOVUiUXttOprLDvlER1GJ4i0CUeJgUC6i+lUy/sxQddHdGxTSM6ntBxF3Qky2bXJ+ygJV+WlhlJKqd9Dapr7e6mNSSFTnxOOknMNgU3FJ9Xmo78qDrCg4wudaD+2L68mM9emF+xrwwF7gx/XaOlF6rrijT2mALJ9a2oA2zVvqhpzzhxchh3c86b4+a3ZGTPS5HHW2YoPYfF4tzpJfW+hVwWQk4zc4Drfe+jN4zhasjLYJxxkwIE3je/N+h3QkwcAJR/fPvnerQ9J2gJpRJv9XLMhT63nlfeIZAWcyHjcMfdA4fu8gOR+Dtl9s3XEwQkwvih+bLmiHSbNwfC1lp7D6x632YEsgOM48qNvEEfeJMPxhQDyn1NKK9/I9xz0pwvLIfrZ0ZW+i4ueA2uHOcP0tF16v4s9txEOfNhiYDIAxYreGxZp5f4Y0xQYbEMuPBrYWA5yoLDh2ZhzHgk+zeD8cyybd5aW5nGTlpKFxVWWPCGtJPtxTM8CB9li6aRnIBQvy05x7OLE/QKg1G/ifyZmTPT8xDL0AAAAAElFTkSuQmCC"
}
, function(e, t) {
    e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAIICAMAAAAWgT0mAAAAYFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////98JRy6AAAAIHRSTlMAt/+ANr7Y9FEgxEDr+0cCF12ufA2Z4yhyCEyMZ1Wgzz2snYUAAASxSURBVHgB7dyH0qLMFoXh5aIFRVoQAUUE7v8uj5R+dMmRZmuN9U/YT4WJL2EDPRGhlPqbrMgV3sWbfzxa0aF0hpz4ViQ/PL24gkdDKaWUUr81pb+H/d0ppZRSSgXB5OuShgwmXxdFDKZflVeukVeukVeyZlLJG1e55quRO7zvDkI+cvnFld9G37hhpY/G55RSSikTrMMoCteBgdQm5CjcQGIb80m8xaJdwolkt9hYcsouVNuELyRb+Ljz2QN7d17euXGEG458MwznohCzDPl8eI7BnICzAsxZc9Zackru8JZOKuLcIBj92iicj0LRIHAjGkQwiUQjN/OR+bW3kfyG/fzRkD+E8sf9CwuLbAmTL5ZfWJbllFJKpSnelB3yJMkPGcTMMbYc0MZHg2XFpqz4pCo3BTxO57XlC3Z9PmEOPX5ttD2vIr4Qrc5beNSX/x/EpYbjn8dkAsLJe2fthM2+xgv1vgl904tW1+1kOtdVJBh52Ozqxy52TSi/TlF+3W6veaTXSa/Tf3adfh9KKaWKmKOPKngEHAVPlaRx1XLEaYSDOHJNa2URHNfIItfYQyyNXNOiiKWRazBUwsg1QyWLXDMoRNHeNUEAxxsV8diQgSwaqnsD3kgjFHu8ETl/TTT1nSjgSwGE1aT5+ymllDLHvKryo4Fc0fGhKyBkKo4qA5FiaMpLll3KoSog0ZHVDhjsKrKDgCE5NPeKpMGyI1liVJJHLMvJC0YXMseyiswwysjqkyj55PD6TwZRfmvk04sbfnAbkcHbN6yr5I9G6CrZQ5j0pUHgKrk/pZJHrpI3rnpqlFJKBZwRyBtRRY9vR/1xs9uU70XnFDftW1EHvB3Z4oMoxM2hf28QOW5CiiN3SvyLIjioPohqfhCdPokuf8HINQrmI/ES6yJfo5RS6vdWmPaUYkFdPH2rsSSTA+pDV2PWJS7gmp53ccQr5jV0FRqOmrbFrDVZ7XFXW/6wdl379nTTZRgYOr4GFw7sapMCLZ0TPOqYd1Gfd3QyeLQm5As2hceKEV+o4HPkSzl8ioqvXOFlkheNzeC37SJOdVgQxAkn7AkLjOVUiUXttOprLDvlER1GJ4i0CUeJgUC6i+lUy/sxQddHdGxTSM6ntBxF3Qky2bXJ+ygJV+WlhlJKqd9Dapr7e6mNSSFTnxOOknMNgU3FJ9Xmo78qDrCg4wudaD+2L68mM9emF+xrwwF7gx/XaOlF6rrijT2mALJ9a2oA2zVvqhpzzhxchh3c86b4+a3ZGTPS5HHW2YoPYfF4tzpJfW+hVwWQk4zc4Drfe+jN4zhasjLYJxxkwIE3je/N+h3QkwcAJR/fPvnerQ9J2gJpRJv9XLMhT63nlfeIZAWcyHjcMfdA4fu8gOR+Dtl9s3XEwQkwvih+bLmiHSbNwfC1lp7D6x632YEsgOM48qNvEEfeJMPxhQDyn1NKK9/I9xz0pwvLIfrZ0ZW+i4ueA2uHOcP0tF16v4s9txEOfNhiYDIAxYreGxZp5f4Y0xQYbEMuPBrYWA5yoLDh2ZhzHgk+zeD8cyybd5aW5nGTlpKFxVWWPCGtJPtxTM8CB9li6aRnIBQvy05x7OLE/QKg1G/ifyZmTPT8xDL0AAAAAElFTkSuQmCC"
}
, , , function(e, t, i, s) {
    var n = i(s);
    e.exports = function(e) {
        if (!n(e))
            throw TypeError(e + " is not an object!");
        return e
    }
}
, function(e, t, i, s, n, r) {
    var o = i(s)
      , a = i(n)
      , c = i(r);
    e.exports = function(e) {
        return function(t, i, s) {
            var n, r = o(t), l = a(r.length), u = c(s, l);
            if (e && i != i) {
                for (; l > u; )
                    if (n = r[u++],
                    n != n)
                        return !0
            } else
                for (; l > u; u++)
                    if ((e || u in r) && r[u] === i)
                        return e || u || 0;
            return !e && -1
        }
    }
}
, function(e, t, i, s, n) {
    var r = i(s)
      , o = i(n)("toStringTag")
      , a = "Arguments" == r(function() {
        return arguments
    }())
      , c = function(e, t) {
        try {
            return e[t]
        } catch (i) {}
    }
    ;
    e.exports = function(e) {
        var t, i, s;
        return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (i = c(t = Object(e), o)) ? i : a ? r(t) : "Object" == (s = r(t)) && "function" == typeof t.callee ? "Arguments" : s
    }
}
, function(e, t, i, s) {
    var n = i(s);
    e.exports = function(e, t, i) {
        if (n(e),
        void 0 === t)
            return e;
        switch (i) {
        case 1:
            return function(i) {
                return e.call(t, i)
            }
            ;
        case 2:
            return function(i, s) {
                return e.call(t, i, s)
            }
            ;
        case 3:
            return function(i, s, n) {
                return e.call(t, i, s, n)
            }
        }
        return function() {
            return e.apply(t, arguments)
        }
    }
}
, function(e, t, i, s) {
    e.exports = !i(s)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(e, t, i, s, n) {
    var r = i(s)
      , o = i(n).document
      , a = r(o) && r(o.createElement);
    e.exports = function(e) {
        return a ? o.createElement(e) : {}
    }
}
, function(e, t, i, s, n, r) {
    var o = i(s)
      , a = i(n)
      , c = i(r);
    e.exports = function(e) {
        var t = o(e)
          , i = a.f;
        if (i)
            for (var s, n = i(e), r = c.f, l = 0; n.length > l; )
                r.call(e, s = n[l++]) && t.push(s);
        return t
    }
}
, function(e, t, i, s, n, r, o, a, c) {
    var l = i(s)
      , u = i(n)
      , d = i(r)
      , h = i(o)
      , m = i(a)
      , p = i(c);
    e.exports = function(e, t, i, s, n) {
        var r, o, a, c = n ? function() {
            return e
        }
        : p(e), f = l(i, s, t ? 2 : 1), g = 0;
        if ("function" != typeof c)
            throw TypeError(e + " is not iterable!");
        if (d(c))
            for (r = m(e.length); r > g; g++)
                t ? f(h(o = e[g])[0], o[1]) : f(e[g]);
        else
            for (a = c.call(e); !(o = a.next()).done; )
                u(a, f, o.value, t)
    }
}
, function(e, t, i, s, n, r) {
    var o = i(s)
      , a = i(n);
    e.exports = i(r) ? function(e, t, i) {
        return o.f(e, t, a(1, i))
    }
    : function(e, t, i) {
        return e[t] = i,
        e
    }
}
, function(e, t, i, s) {
    e.exports = i(s).document && document.documentElement
}
, function(e, t, i, s, n, r) {
    e.exports = !i(s) && !i(n)(function() {
        return 7 != Object.defineProperty(i(r)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(e, t, i, s) {
    var n = i(s);
    e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
        return "String" == n(e) ? e.split("") : Object(e)
    }
}
, function(e, t, i, s, n) {
    var r = i(s)
      , o = i(n)("iterator")
      , a = Array.prototype;
    e.exports = function(e) {
        return void 0 !== e && (r.Array === e || a[o] === e)
    }
}
, function(e, t, i, s) {
    var n = i(s);
    e.exports = Array.isArray || function(e) {
        return "Array" == n(e)
    }
}
, function(e, t, i, s) {
    var n = i(s);
    e.exports = function(e, t, i, s) {
        try {
            return s ? t(n(i)[0], i[1]) : t(i)
        } catch (r) {
            var o = e.return;
            throw void 0 !== o && n(o.call(e)),
            r
        }
    }
}
, function(e, t, i, s, n, r, o, a) {
    "use strict";
    var c = i(s)
      , l = i(n)
      , u = i(r)
      , d = {};
    i(o)(d, i(a)("iterator"), function() {
        return this
    }),
    e.exports = function(e, t, i) {
        e.prototype = c(d, {
            next: l(1, i)
        }),
        u(e, t + " Iterator")
    }
}
, function(e, t, i, s, n, r, o, a, c, l, u, d, h) {
    "use strict";
    var m = i(s)
      , p = i(n)
      , f = i(r)
      , g = i(o)
      , v = i(a)
      , T = i(c)
      , w = i(l)
      , b = i(u)
      , y = i(d)
      , D = i(h)("iterator")
      , C = !([].keys && "next"in [].keys())
      , _ = "@@iterator"
      , S = "keys"
      , A = "values"
      , E = function() {
        return this
    }
    ;
    e.exports = function(e, t, i, s, n, r, o) {
        w(i, t, s);
        var a, c, l, u = function(e) {
            if (!C && e in k)
                return k[e];
            switch (e) {
            case S:
                return function() {
                    return new i(this,e)
                }
                ;
            case A:
                return function() {
                    return new i(this,e)
                }
            }
            return function() {
                return new i(this,e)
            }
        }
        , d = t + " Iterator", h = n == A, I = !1, k = e.prototype, x = k[D] || k[_] || n && k[n], M = x || u(n), R = n ? h ? u("entries") : M : void 0, F = "Array" == t ? k.entries || x : x;
        if (F && (l = y(F.call(new e)),
        l !== Object.prototype && (b(l, d, !0),
        m || v(l, D) || g(l, D, E))),
        h && x && x.name !== A && (I = !0,
        M = function() {
            return x.call(this)
        }
        ),
        m && !o || !C && !I && k[D] || g(k, D, M),
        T[t] = M,
        T[d] = E,
        n)
            if (a = {
                values: h ? M : u(A),
                keys: r ? M : u(S),
                entries: R
            },
            o)
                for (c in a)
                    c in k || f(k, c, a[c]);
            else
                p(p.P + p.F * (C || I), t, a);
        return a
    }
}
, function(e, t, i, s) {
    var n = i(s)("iterator")
      , r = !1;
    try {
        var o = [7][n]();
        o.return = function() {
            r = !0
        }
        ,
        Array.from(o, function() {
            throw 2
        })
    } catch (a) {}
    e.exports = function(e, t) {
        if (!t && !r)
            return !1;
        var i = !1;
        try {
            var s = [7]
              , o = s[n]();
            o.next = function() {
                return {
                    done: i = !0
                }
            }
            ,
            s[n] = function() {
                return o
            }
            ,
            e(s)
        } catch (a) {}
        return i
    }
}
, function(e, t, i, s, n) {
    var r = i(s)
      , o = i(n);
    e.exports = function(e, t) {
        for (var i, s = o(e), n = r(s), a = n.length, c = 0; a > c; )
            if (s[i = n[c++]] === t)
                return i
    }
}
, function(e, t, i, s, n, r, o, a) {
    var c = i(s)("meta")
      , l = i(n)
      , u = i(r)
      , d = i(o).f
      , h = 0
      , m = Object.isExtensible || function() {
        return !0
    }
      , p = !i(a)(function() {
        return m(Object.preventExtensions({}))
    })
      , f = function(e) {
        d(e, c, {
            value: {
                i: "O" + ++h,
                w: {}
            }
        })
    }
      , g = function(e, t) {
        if (!l(e))
            return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
        if (!u(e, c)) {
            if (!m(e))
                return "F";
            if (!t)
                return "E";
            f(e)
        }
        return e[c].i
    }
      , v = function(e, t) {
        if (!u(e, c)) {
            if (!m(e))
                return !0;
            if (!t)
                return !1;
            f(e)
        }
        return e[c].w
    }
      , T = function(e) {
        return p && w.NEED && m(e) && !u(e, c) && f(e),
        e
    }
      , w = e.exports = {
        KEY: c,
        NEED: !1,
        fastKey: g,
        getWeak: v,
        onFreeze: T
    }
}
, function(e, t, i, s, n, r) {
    var o = i(s)
      , a = i(n).set
      , c = o.MutationObserver || o.WebKitMutationObserver
      , l = o.process
      , u = o.Promise
      , d = "process" == i(r)(l);
    e.exports = function() {
        var e, t, i, s = function() {
            var s, n;
            for (d && (s = l.domain) && s.exit(); e; ) {
                n = e.fn,
                e = e.next;
                try {
                    n()
                } catch (r) {
                    throw e ? i() : t = void 0,
                    r
                }
            }
            t = void 0,
            s && s.enter()
        }
        ;
        if (d)
            i = function() {
                l.nextTick(s)
            }
            ;
        else if (c) {
            var n = !0
              , r = document.createTextNode("");
            new c(s).observe(r, {
                characterData: !0
            }),
            i = function() {
                r.data = n = !n
            }
        } else if (u && u.resolve) {
            var h = u.resolve();
            i = function() {
                h.then(s)
            }
        } else
            i = function() {
                a.call(o, s)
            }
            ;
        return function(s) {
            var n = {
                fn: s,
                next: void 0
            };
            t && (t.next = n),
            e || (e = n,
            i()),
            t = n
        }
    }
}
, function(e, t, i, s, n, r, o, a, c) {
    var l = i(s)
      , u = i(n)
      , d = i(r)
      , h = i(o)("IE_PROTO")
      , m = function() {}
      , p = "prototype"
      , f = function() {
        var e, t = i(a)("iframe"), s = d.length, n = ">";
        for (t.style.display = "none",
        i(c).appendChild(t),
        t.src = "javascript:",
        e = t.contentWindow.document,
        e.open(),
        e.write("<script>document.F=Object</script" + n),
        e.close(),
        f = e.F; s--; )
            delete f[p][d[s]];
        return f()
    }
    ;
    e.exports = Object.create || function(e, t) {
        var i;
        return null !== e ? (m[p] = l(e),
        i = new m,
        m[p] = null ,
        i[h] = e) : i = f(),
        void 0 === t ? i : u(i, t)
    }
}
, function(e, t, i, s, n, r, o) {
    var a = i(s)
      , c = i(n)
      , l = i(r)
      , u = Object.defineProperty;
    t.f = i(o) ? Object.defineProperty : function(e, t, i) {
        if (a(e),
        t = l(t, !0),
        a(i),
        c)
            try {
                return u(e, t, i)
            } catch (s) {}
        if ("get"in i || "set"in i)
            throw TypeError("Accessors not supported!");
        return "value"in i && (e[t] = i.value),
        e
    }
}
, function(e, t, i, s, n, r, o) {
    var a = i(s)
      , c = i(n)
      , l = i(r);
    e.exports = i(o) ? Object.defineProperties : function(e, t) {
        c(e);
        for (var i, s = l(t), n = s.length, r = 0; n > r; )
            a.f(e, i = s[r++], t[i]);
        return e
    }
}
, function(e, t, i, s, n, r, o, a, c, l) {
    var u = i(s)
      , d = i(n)
      , h = i(r)
      , m = i(o)
      , p = i(a)
      , f = i(c)
      , g = Object.getOwnPropertyDescriptor;
    t.f = i(l) ? g : function(e, t) {
        if (e = h(e),
        t = m(t, !0),
        f)
            try {
                return g(e, t)
            } catch (i) {}
        return p(e, t) ? d(!u.f.call(e, t), e[t]) : void 0
    }
}
, function(e, t, i, s, n) {
    var r = i(s)
      , o = i(n).f
      , a = {}.toString
      , c = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []
      , l = function(e) {
        try {
            return o(e)
        } catch (t) {
            return c.slice()
        }
    }
    ;
    e.exports.f = function(e) {
        return c && "[object Window]" == a.call(e) ? l(e) : o(r(e))
    }
}
, function(e, t, i, s, n) {
    var r = i(s)
      , o = i(n).concat("length", "prototype");
    t.f = Object.getOwnPropertyNames || function(e) {
        return r(e, o)
    }
}
, function(e, t, i, s, n, r) {
    var o = i(s)
      , a = i(n)
      , c = i(r)("IE_PROTO")
      , l = Object.prototype;
    e.exports = Object.getPrototypeOf || function(e) {
        return e = a(e),
        o(e, c) ? e[c] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? l : null
    }
}
, function(e, t, i, s, n, r, o) {
    var a = i(s)
      , c = i(n)
      , l = i(r)(!1)
      , u = i(o)("IE_PROTO");
    e.exports = function(e, t) {
        var i, s = c(e), n = 0, r = [];
        for (i in s)
            i != u && a(s, i) && r.push(i);
        for (; t.length > n; )
            a(s, i = t[n++]) && (~l(r, i) || r.push(i));
        return r
    }
}
, function(e, t, i, s, n) {
    var r = i(s)
      , o = i(n);
    e.exports = Object.keys || function(e) {
        return r(e, o)
    }
}
, function(e, t, i, s, n, r) {
    var o = i(s)
      , a = i(n)
      , c = i(r);
    e.exports = function(e, t) {
        var i = (a.Object || {})[e] || Object[e]
          , s = {};
        s[e] = t(i),
        o(o.S + o.F * c(function() {
            i(1)
        }), "Object", s)
    }
}
, function(e, t, i, s, n, r, o) {
    var a = i(s)
      , c = i(n)
      , l = function(e, t) {
        if (c(e),
        !a(t) && null !== t)
            throw TypeError(t + ": can't set as prototype!")
    }
    ;
    e.exports = {
        set: Object.setPrototypeOf || ("__proto__"in {} ? function(e, t, s) {
            try {
                s = i(r)(Function.call, i(o).f(Object.prototype, "__proto__").set, 2),
                s(e, []),
                t = !(e instanceof Array)
            } catch (n) {
                t = !0
            }
            return function(e, i) {
                return l(e, i),
                t ? e.__proto__ = i : s(e, i),
                e
            }
        }({}, !1) : void 0),
        check: l
    }
}
, function(e, t, i, s, n, r) {
    var o = i(s).f
      , a = i(n)
      , c = i(r)("toStringTag");
    e.exports = function(e, t, i) {
        e && !a(e = i ? e : e.prototype, c) && o(e, c, {
            configurable: !0,
            value: t
        })
    }
}
, function(e, t, i, s, n) {
    var r = i(s)("keys")
      , o = i(n);
    e.exports = function(e) {
        return r[e] || (r[e] = o(e))
    }
}
, function(e, t, i, s) {
    var n = i(s)
      , r = "__core-js_shared__"
      , o = n[r] || (n[r] = {});
    e.exports = function(e) {
        return o[e] || (o[e] = {})
    }
}
, function(e, t, i, s, n, r) {
    var o = i(s)
      , a = i(n)
      , c = i(r)("species");
    e.exports = function(e, t) {
        var i, s = o(e).constructor;
        return void 0 === s || void 0 == (i = o(s)[c]) ? t : a(i)
    }
}
, function(e, t, i, s, n) {
    var r = i(s)
      , o = i(n);
    e.exports = function(e) {
        return function(t, i) {
            var s, n, a = String(o(t)), c = r(i), l = a.length;
            return 0 > c || c >= l ? e ? "" : void 0 : (s = a.charCodeAt(c),
            55296 > s || s > 56319 || c + 1 === l || (n = a.charCodeAt(c + 1)) < 56320 || n > 57343 ? e ? a.charAt(c) : s : e ? a.slice(c, c + 2) : (s - 55296 << 10) + (n - 56320) + 65536)
        }
    }
}
, function(e, t, i, s, n, r, o, a, c) {
    var l, u, d, h = i(s), m = i(n), p = i(r), f = i(o), g = i(a), v = g.process, T = g.setImmediate, w = g.clearImmediate, b = g.MessageChannel, y = 0, D = {}, C = "onreadystatechange", _ = function() {
        var e = +this;
        if (D.hasOwnProperty(e)) {
            var t = D[e];
            delete D[e],
            t()
        }
    }
    , S = function(e) {
        _.call(e.data)
    }
    ;
    T && w || (T = function(e) {
        for (var t = [], i = 1; arguments.length > i; )
            t.push(arguments[i++]);
        return D[++y] = function() {
            m("function" == typeof e ? e : Function(e), t)
        }
        ,
        l(y),
        y
    }
    ,
    w = function(e) {
        delete D[e]
    }
    ,
    "process" == i(c)(v) ? l = function(e) {
        v.nextTick(h(_, e, 1))
    }
    : b ? (u = new b,
    d = u.port2,
    u.port1.onmessage = S,
    l = h(d.postMessage, d, 1)) : g.addEventListener && "function" == typeof postMessage && !g.importScripts ? (l = function(e) {
        g.postMessage(e + "", "*")
    }
    ,
    g.addEventListener("message", S, !1)) : l = C in f("script") ? function(e) {
        p.appendChild(f("script"))[C] = function() {
            p.removeChild(this),
            _.call(e)
        }
    }
    : function(e) {
        setTimeout(h(_, e, 1), 0)
    }
    ),
    e.exports = {
        set: T,
        clear: w
    }
}
, function(e, t, i, s) {
    var n = i(s)
      , r = Math.max
      , o = Math.min;
    e.exports = function(e, t) {
        return e = n(e),
        0 > e ? r(e + t, 0) : o(e, t)
    }
}
, function(e, t, i, s, n) {
    var r = i(s)
      , o = i(n);
    e.exports = function(e) {
        return r(o(e))
    }
}
, function(e, t, i, s) {
    var n = i(s)
      , r = Math.min;
    e.exports = function(e) {
        return e > 0 ? r(n(e), 9007199254740991) : 0
    }
}
, function(e, t, i, s) {
    var n = i(s);
    e.exports = function(e) {
        return Object(n(e))
    }
}
, function(e, t, i, s) {
    var n = i(s);
    e.exports = function(e, t) {
        if (!n(e))
            return e;
        var i, s;
        if (t && "function" == typeof (i = e.toString) && !n(s = i.call(e)))
            return s;
        if ("function" == typeof (i = e.valueOf) && !n(s = i.call(e)))
            return s;
        if (!t && "function" == typeof (i = e.toString) && !n(s = i.call(e)))
            return s;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(e, t, i, s, n, r, o, a) {
    var c = i(s)
      , l = i(n)
      , u = i(r)
      , d = i(o)
      , h = i(a).f;
    e.exports = function(e) {
        var t = l.Symbol || (l.Symbol = u ? {} : c.Symbol || {});
        "_" == e.charAt(0) || e in t || h(t, e, {
            value: d.f(e)
        })
    }
}
, function(e, t, i, s) {
    t.f = i(s)
}
, function(e, t, i, s, n, r) {
    var o = i(s)("wks")
      , a = i(n)
      , c = i(r).Symbol
      , l = "function" == typeof c
      , u = e.exports = function(e) {
        return o[e] || (o[e] = l && c[e] || (l ? c : a)("Symbol." + e))
    }
    ;
    u.store = o
}
, function(e, t, i, s, n, r, o) {
    var a = i(s)
      , c = i(n)("iterator")
      , l = i(r);
    e.exports = i(o).getIteratorMethod = function(e) {
        return void 0 != e ? e[c] || e["@@iterator"] || l[a(e)] : void 0
    }
}
, function(e, t, i, s, n, r, o, a) {
    "use strict";
    var c = i(s)
      , l = i(n)
      , u = i(r)
      , d = i(o);
    e.exports = i(a)(Array, "Array", function(e, t) {
        this._t = d(e),
        this._i = 0,
        this._k = t
    }, function() {
        var e = this._t
          , t = this._k
          , i = this._i++;
        return !e || i >= e.length ? (this._t = void 0,
        l(1)) : "keys" == t ? l(0, i) : "values" == t ? l(0, e[i]) : l(0, [i, e[i]])
    }, "values"),
    u.Arguments = u.Array,
    c("keys"),
    c("values"),
    c("entries")
}
, function(e, t, i, s, n, r) {
    var o = i(s)
      , a = i(n);
    i(r)("keys", function() {
        return function(e) {
            return a(o(e))
        }
    })
}
, function(e, t, i, s, n, r, o, a, c, l, u, d, h, m, p, f, g, v, T, w, b, y, D) {
    "use strict";
    var C, _, S, A = i(s), E = i(n), I = i(r), k = i(o), x = i(a), M = i(c), R = (i(l),
    i(u)), F = i(d), L = i(h), O = (i(m).set,
    i(p)), N = i(f).set, U = i(g)(), j = "Promise", P = E.TypeError, $ = E.process, B = E[j], $ = E.process, H = "process" == k($), K = function() {}
    , z = !!function() {
        try {
            var e = B.resolve(1)
              , t = (e.constructor = {})[i(v)("species")] = function(e) {
                e(K, K)
            }
            ;
            return (H || "function" == typeof PromiseRejectionEvent) && e.then(K)instanceof t
        } catch (s) {}
    }(), q = function(e, t) {
        return e === t || e === B && t === S
    }
    , W = function(e) {
        var t;
        return M(e) && "function" == typeof (t = e.then) ? t : !1
    }
    , V = function(e) {
        return q(B, e) ? new G(e) : new _(e)
    }
    , G = _ = function(e) {
        var t, i;
        this.promise = new e(function(e, s) {
            if (void 0 !== t || void 0 !== i)
                throw P("Bad Promise constructor");
            t = e,
            i = s
        }
        ),
        this.resolve = R(t),
        this.reject = R(i)
    }
    , Y = function(e) {
        try {
            e()
        } catch (t) {
            return {
                error: t
            }
        }
    }
    , Q = function(e, t) {
        if (!e._n) {
            e._n = !0;
            var i = e._c;
            U(function() {
                for (var s = e._v, n = 1 == e._s, r = 0, o = function(t) {
                    var i, r, o = n ? t.ok : t.fail, a = t.resolve, c = t.reject, l = t.domain;
                    try {
                        o ? (n || (2 == e._h && Z(e),
                        e._h = 1),
                        o === !0 ? i = s : (l && l.enter(),
                        i = o(s),
                        l && l.exit()),
                        i === t.promise ? c(P("Promise-chain cycle")) : (r = W(i)) ? r.call(i, a, c) : a(i)) : c(s)
                    } catch (u) {
                        c(u)
                    }
                }
                ; i.length > r; )
                    o(i[r++]);
                e._c = [],
                e._n = !1,
                t && !e._h && J(e)
            })
        }
    }
    , J = function(e) {
        N.call(E, function() {
            var t, i, s, n = e._v;
            if (X(e) && (t = Y(function() {
                H ? $.emit("unhandledRejection", n, e) : (i = E.onunhandledrejection) ? i({
                    promise: e,
                    reason: n
                }) : (s = E.console) && s.error && s.error("Unhandled promise rejection", n)
            }),
            e._h = H || X(e) ? 2 : 1),
            e._a = void 0,
            t)
                throw t.error
        })
    }
    , X = function(e) {
        if (1 == e._h)
            return !1;
        for (var t, i = e._a || e._c, s = 0; i.length > s; )
            if (t = i[s++],
            t.fail || !X(t.promise))
                return !1;
        return !0
    }
    , Z = function(e) {
        N.call(E, function() {
            var t;
            H ? $.emit("rejectionHandled", e) : (t = E.onrejectionhandled) && t({
                promise: e,
                reason: e._v
            })
        })
    }
    , ee = function(e) {
        var t = this;
        t._d || (t._d = !0,
        t = t._w || t,
        t._v = e,
        t._s = 2,
        t._a || (t._a = t._c.slice()),
        Q(t, !0))
    }
    , te = function(e) {
        var t, i = this;
        if (!i._d) {
            i._d = !0,
            i = i._w || i;
            try {
                if (i === e)
                    throw P("Promise can't be resolved itself");
                (t = W(e)) ? U(function() {
                    var s = {
                        _w: i,
                        _d: !1
                    };
                    try {
                        t.call(e, I(te, s, 1), I(ee, s, 1))
                    } catch (n) {
                        ee.call(s, n)
                    }
                }) : (i._v = e,
                i._s = 1,
                Q(i, !1))
            } catch (s) {
                ee.call({
                    _w: i,
                    _d: !1
                }, s)
            }
        }
    }
    ;
    z || (B = function(e) {
        F(this, B, j, "_h"),
        R(e),
        C.call(this);
        try {
            e(I(te, this, 1), I(ee, this, 1))
        } catch (t) {
            ee.call(this, t)
        }
    }
    ,
    C = function(e) {
        this._c = [],
        this._a = void 0,
        this._s = 0,
        this._d = !1,
        this._v = void 0,
        this._h = 0,
        this._n = !1
    }
    ,
    C.prototype = i(T)(B.prototype, {
        then: function(e, t) {
            var i = V(O(this, B));
            return i.ok = "function" == typeof e ? e : !0,
            i.fail = "function" == typeof t && t,
            i.domain = H ? $.domain : void 0,
            this._c.push(i),
            this._a && this._a.push(i),
            this._s && Q(this, !1),
            i.promise
        },
        "catch": function(e) {
            return this.then(void 0, e)
        }
    }),
    G = function() {
        var e = new C;
        this.promise = e,
        this.resolve = I(te, e, 1),
        this.reject = I(ee, e, 1)
    }
    ),
    x(x.G + x.W + x.F * !z, {
        Promise: B
    }),
    i(w)(B, j),
    i(b)(j),
    S = i(y)[j],
    x(x.S + x.F * !z, j, {
        reject: function(e) {
            var t = V(this)
              , i = t.reject;
            return i(e),
            t.promise
        }
    }),
    x(x.S + x.F * (A || !z), j, {
        resolve: function(e) {
            if (e instanceof B && q(e.constructor, this))
                return e;
            var t = V(this)
              , i = t.resolve;
            return i(e),
            t.promise
        }
    }),
    x(x.S + x.F * !(z && i(D)(function(e) {
        B.all(e).catch(K)
    })), j, {
        all: function(e) {
            var t = this
              , i = V(t)
              , s = i.resolve
              , n = i.reject
              , r = Y(function() {
                var i = []
                  , r = 0
                  , o = 1;
                L(e, !1, function(e) {
                    var a = r++
                      , c = !1;
                    i.push(void 0),
                    o++,
                    t.resolve(e).then(function(e) {
                        c || (c = !0,
                        i[a] = e,
                        --o || s(i))
                    }, n)
                }),
                --o || s(i)
            });
            return r && n(r.error),
            i.promise
        },
        race: function(e) {
            var t = this
              , i = V(t)
              , s = i.reject
              , n = Y(function() {
                L(e, !1, function(e) {
                    t.resolve(e).then(i.resolve, s)
                })
            });
            return n && s(n.error),
            i.promise
        }
    })
}
, function(e, t, i, s, n) {
    "use strict";
    var r = i(s)(!0);
    i(n)(String, "String", function(e) {
        this._t = String(e),
        this._i = 0
    }, function() {
        var e, t = this._t, i = this._i;
        return i >= t.length ? {
            value: void 0,
            done: !0
        } : (e = r(t, i),
        this._i += e.length,
        {
            value: e,
            done: !1
        })
    })
}
, function(e, t, i, s, n, r, o, a, c, l, u, d, h, m, p, f, g, v, T, w, b, y, D, C, _, S, A, E, I, k, x, M, R) {
    "use strict";
    var F = i(s)
      , L = i(n)
      , O = i(r)
      , N = i(o)
      , U = i(a)
      , j = i(c).KEY
      , P = i(l)
      , $ = i(u)
      , B = i(d)
      , H = i(h)
      , K = i(m)
      , z = i(p)
      , q = i(f)
      , W = i(g)
      , V = i(v)
      , G = i(T)
      , Y = i(w)
      , Q = i(b)
      , J = i(y)
      , X = i(D)
      , Z = i(C)
      , ee = i(_)
      , te = i(S)
      , ie = i(A)
      , se = i(E)
      , ne = te.f
      , re = ie.f
      , oe = ee.f
      , ae = F.Symbol
      , ce = F.JSON
      , le = ce && ce.stringify
      , ue = "prototype"
      , de = K("_hidden")
      , he = K("toPrimitive")
      , me = {}.propertyIsEnumerable
      , pe = $("symbol-registry")
      , fe = $("symbols")
      , ge = Object[ue]
      , ve = "function" == typeof ae
      , Te = F.QObject
      , we = !Te || !Te[ue] || !Te[ue].findChild
      , be = O && P(function() {
        return 7 != Z(re({}, "a", {
            get: function() {
                return re(this, "a", {
                    value: 7
                }).a
            }
        })).a
    }) ? function(e, t, i) {
        var s = ne(ge, t);
        s && delete ge[t],
        re(e, t, i),
        s && e !== ge && re(ge, t, s)
    }
    : re
      , ye = function(e) {
        var t = fe[e] = Z(ae[ue]);
        return t._k = e,
        t
    }
      , De = ve && "symbol" == typeof ae.iterator ? function(e) {
        return "symbol" == typeof e
    }
    : function(e) {
        return e instanceof ae
    }
      , Ce = function(e, t, i) {
        return Y(e),
        t = J(t, !0),
        Y(i),
        L(fe, t) ? (i.enumerable ? (L(e, de) && e[de][t] && (e[de][t] = !1),
        i = Z(i, {
            enumerable: X(0, !1)
        })) : (L(e, de) || re(e, de, X(1, {})),
        e[de][t] = !0),
        be(e, t, i)) : re(e, t, i)
    }
      , _e = function(e, t) {
        Y(e);
        for (var i, s = V(t = Q(t)), n = 0, r = s.length; r > n; )
            Ce(e, i = s[n++], t[i]);
        return e
    }
      , Se = function(e, t) {
        return void 0 === t ? Z(e) : _e(Z(e), t)
    }
      , Ae = function(e) {
        var t = me.call(this, e = J(e, !0));
        return t || !L(this, e) || !L(fe, e) || L(this, de) && this[de][e] ? t : !0
    }
      , Ee = function(e, t) {
        var i = ne(e = Q(e), t = J(t, !0));
        return !i || !L(fe, t) || L(e, de) && e[de][t] || (i.enumerable = !0),
        i
    }
      , Ie = function(e) {
        for (var t, i = oe(Q(e)), s = [], n = 0; i.length > n; )
            L(fe, t = i[n++]) || t == de || t == j || s.push(t);
        return s
    }
      , ke = function(e) {
        for (var t, i = oe(Q(e)), s = [], n = 0; i.length > n; )
            L(fe, t = i[n++]) && s.push(fe[t]);
        return s
    }
    ;
    ve || (ae = function() {
        if (this instanceof ae)
            throw TypeError("Symbol is not a constructor!");
        var e = H(arguments.length > 0 ? arguments[0] : void 0);
        return O && we && be(ge, e, {
            configurable: !0,
            set: function(t) {
                L(this, de) && L(this[de], e) && (this[de][e] = !1),
                be(this, e, X(1, t))
            }
        }),
        ye(e)
    }
    ,
    U(ae[ue], "toString", function() {
        return this._k
    }),
    te.f = Ee,
    ie.f = Ce,
    i(I).f = ee.f = Ie,
    i(k).f = Ae,
    i(x).f = ke,
    O && !i(M) && U(ge, "propertyIsEnumerable", Ae, !0),
    z.f = function(e) {
        return ye(K(e))
    }
    ),
    N(N.G + N.W + N.F * !ve, {
        Symbol: ae
    });
    for (var xe = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), Me = 0; xe.length > Me; )
        K(xe[Me++]);
    for (var xe = se(K.store), Me = 0; xe.length > Me; )
        q(xe[Me++]);
    N(N.S + N.F * !ve, "Symbol", {
        "for": function(e) {
            return L(pe, e += "") ? pe[e] : pe[e] = ae(e)
        },
        keyFor: function(e) {
            if (De(e))
                return W(pe, e);
            throw TypeError(e + " is not a symbol!")
        },
        useSetter: function() {
            we = !0
        },
        useSimple: function() {
            we = !1
        }
    }),
    N(N.S + N.F * !ve, "Object", {
        create: Se,
        defineProperty: Ce,
        defineProperties: _e,
        getOwnPropertyDescriptor: Ee,
        getOwnPropertyNames: Ie,
        getOwnPropertySymbols: ke
    }),
    ce && N(N.S + N.F * (!ve || P(function() {
        var e = ae();
        return "[null]" != le([e]) || "{}" != le({
            a: e
        }) || "{}" != le(Object(e))
    })), "JSON", {
        stringify: function(e) {
            if (void 0 !== e && !De(e)) {
                for (var t, i, s = [e], n = 1; arguments.length > n; )
                    s.push(arguments[n++]);
                return t = s[1],
                "function" == typeof t && (i = t),
                (i || !G(t)) && (t = function(e, t) {
                    return i && (t = i.call(this, e, t)),
                    De(t) ? void 0 : t
                }
                ),
                s[1] = t,
                le.apply(ce, s)
            }
        }
    }),
    ae[ue][he] || i(R)(ae[ue], he, ae[ue].valueOf),
    B(ae, "Symbol"),
    B(Math, "Math", !0),
    B(F.JSON, "JSON", !0)
}
, function(e, t, i, s) {
    i(s)("asyncIterator")
}
, function(e, t, i, s) {
    i(s)("observable")
}
]);
